import{E as B,e as a,f as w,o as d,c as u,g as l,F as Y,z as j,t as g,X as q,aa as A,O as G,ab as R,h as U,p as H,q as z,I as J,d as K,ad as Q}from"./index-Bv5J4zq0.js";import{u as W,a as Z}from"./use-downloadpdf-DCmzsB8A.js";import{u as N}from"./accountsStore-4zZYQV7T.js";import{u as C}from"./permitapp-BFPhG2LU.js";import{_ as ee}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useAxios-OAQaXJYc.js";const ae={class:"terminal"},oe={class:"terminal-content"},te=8,se={__name:"Terminal",setup(L){const m=C(),{permitapp:y}=B(m),{accountUsers:b}=N();console.log(b);let p=a(),f=a();a();let v=a(),n=a();y.value.forEach((e,i)=>{p.value=e.formdt.permit,f.value=e.formdt.processNumber,v.value=e.formdt.address,n.value=e.formdt.contractor});const _=["Initializing system...","Loading modules...","Connecting to server...","Server connection established.",`${f.value}...`,`${v.value}...`,`${n.value}...`],r=a([]);function c(){let e=0;const i=setInterval(()=>{e<_.length?(r.value.length>=te&&r.value.shift(),r.value.push(_[e]),e++):clearInterval(i)},1e3)}return w(()=>{c()}),w(()=>{}),(e,i)=>(d(),u("div",ae,[l("div",oe,[(d(!0),u(Y,null,j(r.value,(t,x)=>(d(),u("div",{key:x,class:"terminal-line"},g(t),1))),128))])]))}},le=ee(se,[["__scopeId","data-v-5bd8f88a"]]),ne={class:"card"},re={class:"flex flex-col w-1/3 gap-2 shadow-lg shadow-cyan-800",style:{"margin-left":"550px","margin-top":"440px"}},ce={class:"payment-widget"},ie=l("h2",{style:{color:"black"}},"Credit Card Payment",-1),de={key:0,class:"confirmation"},ue=49.99,ge={__name:"Paymentprocessed",setup(L){var D,T,$,S,k;const m=C(),{accountUsers:y}=N(),b=a("TX123456789");a(((T=(D=m.$state.permitapp[0])==null?void 0:D.formdt)==null?void 0:T.processNumber)||"");const p=a((($=m.$state.permitapp[0].formdt)==null?void 0:$.muniProc)||"");function f(){y.value.forEach((o,s)=>{dba.value=o.dba,console.log(o)})}w(()=>{f()});const v=a(!1),n=a(!1),_=a(!1);a(!1);const r=a(!1),c=a(!1),e=a({cardholderName:"",cardNumber:"",expiryDate:"",cvv:""});a(!1),a(!1);const{getNumber:i}=W(p.value),t=Z();B(t.$state),console.log((k=(S=t.$state.downloadinput[0])==null?void 0:S.downloadData)==null?void 0:k.download_url),N(),w(()=>{});const x=q(()=>{var o,s;i(),setTimeout(()=>{r.value=!0},1e3),console.log(p.value),console.log((s=(o=t.downloadinput[0])==null?void 0:o.downloadData)==null?void 0:s.message)}),O=()=>{if(!e.value.cardholderName||!e.value.cardNumber||!e.value.expiryDate||!e.value.cvv){alert("Please fill out all fields.");return}c.value=!0,n.value=!0,setTimeout(()=>{e.value.cardholderName="",e.value.cardNumber="",e.value.expiryDate="",e.value.cvv="",c.value=!1,n.value=!1},2e3),F()};A(x,()=>{});const F=async()=>{var I,V,P,E;const o=(V=(I=t.downloadinput[0])==null?void 0:I.downloadData)==null?void 0:V.download_url;if(console.log(o),!o||o.length===0)return;console.log(o);const s=(E=(P=t.downloadinput[0])==null?void 0:P.downloadData)==null?void 0:E.download_url;if(!s)return;v.value=!0;const M=s,X="muniProcessNumber.zip",h=document.createElement("a");h.href=M,h.download=X,h.click(),h.remove(),_.value=!1};return(o,s)=>(d(),u("div",ne,[G(U(H(Q),{color:"#784EA7",size:"100px",style:{"margin-top":"500px","margin-left":"850px"}},null,512),[[R,n.value]]),l("div",re,[U(le),l("div",ce,[ie,z(" Thank you for your payment! Your transaction ID is "),l("strong",null,g(b.value),1),z(". "),l("form",{onSubmit:J(O,["prevent"])},null,32),c.value?(d(),u("div",de,[l("p",null,"Thank you, "+g(e.value.cardholderName)+"! Your payment of $"+g(ue)+" was processed.",1)])):K("",!0)])])]))}};export{ge as default};
