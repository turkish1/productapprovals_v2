import{e as a,f as S,D as L,E as H,u as $,G as j,H as O,I as P,o as M,c as k,i as t,J as q,K as B,j as n,L as K,t as Y,d as J,p as Q,q as z,M as W,T as X}from"./index-CuyF_eut.js";import{_ as Z}from"./FileSaver-vkL5jgwS.js";import{s as ee}from"./index-BVTuH6Qw.js";import{s as te}from"./index-BkpBu3wU.js";import{s as se}from"./index-C-SzWQP5.js";import{s as oe}from"./index-CturNNs6.js";import{u as ae}from"./accountsStore-ysDlAozt.js";import{u as G}from"./useAxios-plZo96io.js";import{u as le}from"./auth-DCPSflGn.js";import{_ as ne}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./permitapp-CXQHRy2G.js";import"./index-D4Mn6dlu.js";import"./index-BqFRqJAi.js";import"./index-DIZl-xhZ.js";import"./index-D_cpGHvw.js";import"./index-O9kFtZG6.js";function ie(){const r=a([]),v=a("");let h=a([]);const{accountUsers:f,getUser:e,addUser:b}=ae();let g=S({license:"",dba:"",name:"",username:"",password:"",secondary_status:"",expiration_date:"",address:"",projects:[],password:"",cphone:"",bphone:"",email:"",date:new Date});const I=a("");let y="https://us-east-1.aws.data.mongodb-api.com/app/data-aquwo/endpoint/accounts";const{execute:u,data:c}=G(y,{method:"POST"},{immediate:!1});let p=S({});function V(i){console.log(i),p=i,u({data:i}),v.value="Form submitted successfully!",b(p),console.log(p,"System added")}return{takp:V,noaNum:r,formData:g,error:I,accountUsers:f,getUser:e,addUser:b,accountUsers:f,results:h,responseMessage:v,...L(p)}}const de=H("cccinput",{state:()=>({cccinput:[],id:0}),actions:{addData(r){this.cccinput.push({cccAccounts:r,completed:!1})}},getters:{cccData:r=>r.cccAccounts}});function ce(){const r=a(""),v=a(""),h=a(""),f=a(""),e=a("");let b="https://us-east-1.aws.data.mongodb-api.com/app/data-aquwo/endpoint/contractors";const{execute:g,then:I,data:y}=G(b,{method:"GET"},{immediate:!1}),u=S({});let c=S({license:"",dba:"",name:"",city:"",license_status:"",expiration_date:"",address:""});g().then(_=>(u.value=y.value,h));function p(_){console.log(_),f.value=_,w(f.value)}const V=a(""),i=a([]);function w(_){console.log(_),V.value=_;for(let x=0;x<u.value.length-1;x++)V.value===u.value[x].alt_license&&i.value.push(u.value[x]);c.license=i.value[0].alt_license,c.dba=i.value[0].DBA,c.name=i.value[0].name,c.license_status=i.value[0].secondary_status,c.city=i.value[0].city,c.expiration_date=i.value[0].expiration_date,c.effective_date=i.value[0].effective_date,c.address=i.value[0].address1}return de(),{error:v,retrieveAccount:p,responseMessage:r,results:h,fndContract:w,contractors:u,licenseNumbers:e,cccAccounts:c}}const l=r=>(Q("data-v-8ce8506d"),r=r(),z(),r),re={class:"hero"},ue={class:"card"},me=l(()=>t("h1",{class:"title"},"Registration",-1)),pe=l(()=>t("div",{class:"h-[10rem]"},null,-1)),_e=l(()=>t("div",{class:"font-semibold text-xl"},"Contractor Information",-1)),fe={class:"field"},ve=l(()=>t("label",{for:"lic1",style:{color:"#122620"}},"State of Florida License No.",-1)),he={class:"field"},be=l(()=>t("label",{for:"trade",style:{color:"#122620"}},"Trade",-1)),ye={class:"field"},Ve=l(()=>t("label",{for:"dba",style:{color:"#122620"}},"DBA",-1)),xe={class:"field"},ge=l(()=>t("label",{for:"addr",style:{color:"#122620"}},"Business Address",-1)),we={class:"field span-2"},Se=l(()=>t("label",{for:"name",style:{color:"#122620"}},"Qualifier Name",-1)),Ie={class:"field"},Ue=l(()=>t("label",{for:"secondary_status",style:{color:"#122620"}},"License Status",-1)),De={class:"field"},Ce=l(()=>t("label",{for:"license",style:{color:"#122620"}},"License Expiration Date",-1)),Ae={class:"field"},Me=l(()=>t("label",{for:"license",style:{color:"#122620"}},"Insurance Policy Number",-1)),ke={class:"field"},Be=l(()=>t("label",{for:"license",style:{color:"#122620"}},"Insurance Carrier",-1)),Ge={class:"field"},Re=l(()=>t("label",{for:"state",style:{color:"#122620"}},"City",-1)),Ne={class:"field"},Te=l(()=>t("label",{for:"state",style:{color:"#122620"}},"State",-1)),Ee={class:"field"},Fe=l(()=>t("label",{for:"bphone",style:{color:"#122620"}},"Business Phone",-1)),Le={class:"field"},He=l(()=>t("label",{for:"cphone",style:{color:"#122620"}},"Cell Phone Number",-1)),$e={class:"field"},je=l(()=>t("label",{for:"email1",style:{color:"#122620"}},"Gmail account",-1)),Oe={class:"span-2 submit-row"},Pe={class:"full:w-3/4 flex flex-col gap-2",style:{"margin-top":"120px"}},qe=l(()=>t("label",{for:"addr",style:{color:"#122620"}},"Upload Insurance Information",-1)),Ke={key:0},Ye={__name:"RegistrationForm",setup(r){const v=$();j();const h=le();O(h),a(!0),a(!1);const f=a(!1);a(!1);const e=S({license:"",dba:"",name:"",username:"",password:"",license_status:"",expiration_date:"",address:"",city:"",projects:[],cphone:"",bphone:"",email:"",insurance:"",carrier:"",date:new Date}),{cccAccounts:b,retrieveAccount:g}=ce(),{takp:I}=ie(),y=a([]),u=a("");a(null);const c=a(null),p=a(null);a(null);const V=a([{name:"Florida",code:"Florida"},{name:"Georgia",code:"Georgia"}]);a([{name:"Miami",code:"Miami"},{name:"Homestead",code:"Homestead"},{name:"Miami Beach",code:"Miami Beach"},{name:"Miami Gardens",code:"Miami Gardens"}]);const i=a([{name:"Roofing Contractor",code:"Roofing"},{name:"General Contractor",code:"General"}]),w=P(()=>e.insurance.trim()!==""&&e.carrier.trim()!==""&&e.license_status.trim()!==""&&e.license_status.trim()!=="I"&&e.email.trim()!=="");function _(){w.value&&(I(e),Object.assign(e,{license:"",name:"",license_status:"",dba:"",address:"",cphone:"",bphone:"",email:"",insurance:"",carrier:""}),U())}function x(){g(e.license),y.value=b;const d=y.value;e.dba=d.dba,e.name=d.name,e.expiration_date=d.expiration_date,e.address=d.address,e.city=d.city,e.license_status=d.license_status,u.value=d.license_status,R()}function R(){u.value===""?e.license_status="":u.value==="A"?(e.license_status="Active",N()):u.value==="I"&&(e.license_status="Inactive",alert("Your license is Inactive!"),U())}function N(){const d=new Date(e.expiration_date),s=new Date;d.setHours(0,0,0,0),s.setHours(0,0,0,0),d<=s&&(f.value=!0,alert("Your license is Expired!"),U())}function U(){v.push("/")}return(d,s)=>{const m=oe,D=se,C=te,T=ee,E=W,F=Z,A=X;return M(),k("section",re,[t("div",ue,[me,t("form",{class:"grid-form",onSubmit:q(_,["prevent"])},[pe,_e,t("div",fe,[ve,B(n(m,{type:"text",modelValue:e.license,"onUpdate:modelValue":s[0]||(s[0]=o=>e.license=o),placeholder:"CRC000000",onChange:d.checkLicense,invalid:e.license==="",onKeydown:K(x,["tab"])},null,8,["modelValue","onChange","invalid"]),[[A,"Enter your license and hit tab"]])]),t("div",he,[be,n(D,{id:"trad",modelValue:c.value,"onUpdate:modelValue":s[1]||(s[1]=o=>c.value=o),options:i.value,optionLabel:"name",placeholder:"Select One",class:"w-full"},null,8,["modelValue","options"])]),t("div",ye,[Ve,n(m,{id:"dba",type:"text",modelValue:e.dba,"onUpdate:modelValue":s[2]||(s[2]=o=>e.dba=o),placeholder:" ",invalid:e.dba===""},null,8,["modelValue","invalid"])]),t("div",xe,[ge,n(m,{id:"addr",type:"text",modelValue:e.address,"onUpdate:modelValue":s[3]||(s[3]=o=>e.address=o),placeholder:"address"},null,8,["modelValue"])]),t("div",we,[Se,n(m,{id:"name",type:"text",modelValue:e.name,"onUpdate:modelValue":s[4]||(s[4]=o=>e.name=o),placeholder:" ",invalid:e.name===""},null,8,["modelValue","invalid"])]),t("div",Ie,[Ue,n(m,{id:"secondary_status",type:"text",modelValue:e.license_status,"onUpdate:modelValue":s[5]||(s[5]=o=>e.license_status=o),placeholder:" ",invalid:e.license_status===""},null,8,["modelValue","invalid"])]),t("div",De,[Ce,n(m,{id:"license",type:"text",modelValue:e.expiration_date,"onUpdate:modelValue":s[6]||(s[6]=o=>e.expiration_date=o),placeholder:" ",invalid:e.expiration_date===""},null,8,["modelValue","invalid"])]),t("div",Ae,[Me,n(m,{id:"license",type:"text",modelValue:e.insurance,"onUpdate:modelValue":s[7]||(s[7]=o=>e.insurance=o),placeholder:" ",invalid:e.insurance===""},null,8,["modelValue","invalid"])]),t("div",ke,[Be,n(m,{id:"license",type:"text",modelValue:e.carrier,"onUpdate:modelValue":s[8]||(s[8]=o=>e.carrier=o),placeholder:" ",invalid:e.carrier===""},null,8,["modelValue","invalid"])]),t("div",Ge,[Re,n(m,{id:"city",type:"text",modelValue:e.city,"onUpdate:modelValue":s[9]||(s[9]=o=>e.city=o),placeholder:"city"},null,8,["modelValue"])]),t("div",Ne,[Te,n(D,{id:"state",modelValue:p.value,"onUpdate:modelValue":s[10]||(s[10]=o=>p.value=o),options:V.value,optionLabel:"name",placeholder:"Select One",class:"w-full"},null,8,["modelValue","options"])]),t("div",Ee,[Fe,n(C,{modelValue:e.bphone,"onUpdate:modelValue":s[11]||(s[11]=o=>e.bphone=o),mask:"(999) 999-9999",placeholder:"(999) 999-9999",invalid:e.bphone===""},null,8,["modelValue","invalid"])]),t("div",Le,[He,n(C,{modelValue:e.cphone,"onUpdate:modelValue":s[12]||(s[12]=o=>e.cphone=o),mask:"(999) 999-9999",placeholder:"(999) 999-9999",invalid:e.cphone===""},null,8,["modelValue","invalid"])]),t("div",$e,[je,B(n(m,{id:"email1",modelValue:e.email,"onUpdate:modelValue":s[13]||(s[13]=o=>e.email=o),type:"text",placeholder:"email",invalid:e.email===""},null,8,["modelValue","invalid"]),[[A,"Enter your gmail account in order to submit"]])]),t("div",Oe,[n(T,{label:"Submit",severity:"contrast",raised:"",onClick:_,disabled:!w.value},null,8,["disabled"])]),t("div",Pe,[qe,n(E),n(F,{class:"w-3/4"})])],32),d.responseMessage?(M(),k("p",Ke,Y(d.responseMessage),1)):J("",!0)])])}}},rt=ne(Ye,[["__scopeId","data-v-8ce8506d"]]);export{rt as default};
