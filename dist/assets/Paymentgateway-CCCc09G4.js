import{e,ab as w,ao as x,v as C,o as N,a as Y,l as D,q as F,p as c,M as V,N as E,f as O,ap as R,c as T,R as $,aq as L,h as S,g as _,ar as M}from"./index-abiFwwx2.js";import{u as k,a as Q}from"./use-downloadpdf-BBsusF0x.js";import{u as P}from"./permitapp-DJxGGhwn.js";import{c as A,u as U}from"./pdfsignStore-F40DlOmr.js";import"./useAxios-BePHDBUW.js";const Z={__name:"BuyButton",setup(l){var r,u;const i=P(),t=e(((u=(r=i.$state.permitapp[0])==null?void 0:r.formdt)==null?void 0:u.muniProc)||""),p="pk_test_51PDPFeE9FsYF7D6YfBrV7kYvnDYIAR5QQfaR8ba5TGnoQAbEQgSeY7DLwhOZafrl8ZXJOPsbZN9tYl5HMLlhkxB100cmCtoWo7",{secondFetch:s}=k(),d="buy_btn_1RVdS4E9FsYF7D6YupNeXupi",a=e(!1);w(()=>{setTimeout(()=>{a.value=!0},2e3),s(t.value),a.value=!1,n()}),x("my-storage",{processNumber:t.value});const n=async o=>{console.log("Entered CaptureSession",o),new URL(window.location.href)};return(o,b)=>{const h=C("stripe-buy-button");return N(),Y(h,{"buy-button-id":c(d),"publishable-key":c(p),onUpdate:n},{default:D(()=>[F("Pay")]),_:1},8,["buy-button-id","publishable-key"])}}},q=V("sessioninput",{state:()=>({sessioninput:[],id:0}),actions:{addSession(l){this.sessioninput.push({sessionData:l,completed:!1})}}}),G={class:"card"},I={class:"flex flex-col w-1/3 gap-2 shadow-lg shadow-cyan-800",style:{"margin-left":"550px","margin-top":"440px"}},X={class:"payment-widget"},z=_("h2",{style:{color:"black"}},"Credit Card Payment",-1),ee={__name:"Paymentgateway",setup(l){var y,g;const i=P();q();const t=A(),p=e(0),s=e(((g=(y=i.$state.permitapp[0])==null?void 0:y.formdt)==null?void 0:g.muniProc)||"");e(!1);const d=e(!1),a=e(!1),n=e(!1),r=e(!1),u=Q();E(u.$state);const{resp:o}=U();O(()=>{var m,f;p.value=1,((f=(m=o.value)==null?void 0:m.status)==null?void 0:f.status)===200&&(n.value=!0,console.log(o.value.status.status))});const b=x("my-storage",{processNumber:s.value}),{getNumber:h,secondFetch:B}=k(),v=w(()=>{B(b.value.processNumber),t.addCount(s.value),console.log(t.$state),setTimeout(()=>{r.value=!0},1e3),console.log(s.value),a.value=!0});return R(v,()=>{}),(m,f)=>(N(),T("div",G,[$(S(c(M),{color:"#784EA7",size:"100px",style:{"margin-top":"500px","margin-left":"850px"}},null,512),[[L,d.value]]),_("div",I,[_("div",X,[z,S(Z,{onClick:c(v)},null,8,["onClick"])])])]))}};export{ee as default};
