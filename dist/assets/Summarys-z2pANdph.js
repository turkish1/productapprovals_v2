import{s as po}from"./index-Bm3FJHQ8.js";import{s as uo}from"./index-AQfRrc7l.js";import{s as vo}from"./index-Bxs0a04Z.js";import{e as o,_ as Al,ae as Ml,ag as Xl,o as Nl,c as Fl,C as ho,au as go,D as xo,f as lo,y as mo,h as To,ad as Wo,i as Ya,j as cl,p as Rl,H as Yl,af as Gl,k as Jl,F as fo,V as $o,n as So,q as eo,t as to}from"./index-CyJ3E9hZ.js";import{u as El}from"./accountsStore-Cel8XSF_.js";import{c as Vo}from"./countStore-B6SYNvO9.js";import{u as oo}from"./generalpageStore-ZaZ_svFP.js";import{u as wl}from"./permitapp-BVkIKkTc.js";import{u as xl}from"./roofList-DZTozVhf.js";import{E as Bl}from"./jspdf.es.min-D0nhm16a.js";import{a as ao,u as ro}from"./dripEdgeStore-DtvkX497.js";import{b as bo,a as Do,c as Ao,u as Mo}from"./systemfStore-C9eS0--c.js";import{a as Xo,b as No,u as Fo}from"./tilevalueStore-DRxZjaB0.js";import{u as so,a as io}from"./tilesysfStore-B-25fTOY.js";import{u as Eo,a as wo}from"./dripEdgeMechTileStore-BsLtoCzP.js";import{u as zo}from"./useAxios-0wOqt_iO.js";import"./index-CM_d1Pgi.js";import"./reset-store-BV0l1wMc.js";const Po={__name:"Generalpagepdf",setup(dt){var R,g,e,Le,ye,Ve,re,be,z,ke,Re,G,oe;const{getUser:W}=El();let V=o(!1);const k=wl();xl();const f=oo(),x=o(((g=(R=k.$state.permitapp[0])==null?void 0:R.formdt)==null?void 0:g.address)||""),h=o(((Le=(e=k.$state.permitapp[0])==null?void 0:e.formdt)==null?void 0:Le.permit)||"N|A"),I=o(((Ve=(ye=k.$state.permitapp[0])==null?void 0:ye.formdt)==null?void 0:Ve.processNumber)||""),F=o(((be=(re=k.$state.permitapp[0])==null?void 0:re.formdt)==null?void 0:be.muniProc)||""),L=o(((ke=(z=k.$state.permitapp[0])==null?void 0:z.formdt)==null?void 0:ke.muni)||"");o((G=(Re=f.$state.generalpdfinput[1])==null?void 0:Re.generalpdfData)==null?void 0:G.totalData);const b=o(((oe=W.value[0])==null?void 0:oe.dba)||""),Y=o(""),s=o(f.$state.generalpdfinput);function m(){s.value.length!==1&&(V.value=!0)}Al(()=>{m()}),Ml(async()=>{await Xl(V).toBe(!0),Se()});const Se=()=>{var ct,pt,ut,vt,ht,gt,xt,mt;if(f.$state.generalpdfinput.length===0)console.log("lenghth is   zero");else{const d=new Bl({orientation:"portrait",unit:"mm",format:"a4",compress:!0});d.setGState(new d.GState({opacity:.9}));const Tt="Approved";d.setFontSize(24),d.setTextColor("black"),d.setFont("helvetica"),d.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const Wt=new Image,ft=new Image,$t=new Image;Wt.src="/demo/images/officepaper.jpeg",ft.src="/demo/images/logo.jpeg",$t.src="/demo/images/DragAndDrop.jpeg";const It=725,St=d.getPageInfo(1),Ut=St.pageContext.mediaBox.topRightX,Ot=St.pageContext.mediaBox.topRightY;console.log(Ut);const T=o(0),Vt=o(0);var r=595.28-585.28,i=Ot-It;T.value=r,Vt.value=i,console.log(T.value,Vt.value),d.addImage(ft,"JPEG",10,10,50,30),d.addImage(Wt,"JPEG",0,0,210,297),d.setFontSize(12),d.setTextColor("green");var oa=new Date,sa=oa.toLocaleDateString();d.text(Tt,10,270,{align:"left"});const Ht=d.getTextWidth(Tt);d.text("on: "+sa,Ht+15,270),d.text(`${F.value}`,10,280,{align:"left"});const Yt=d.getTextWidth(`${F.value}`);d.text(`${L.value}`,Yt+15,280);const rt=o(!1),a=o(!1),ge=o(!1),Gt=o(!1),bt=o(!1);d.setFontSize(12);const ga=()=>{d.setFontSize(12),d.setTextColor(0),d.text("2023 HVHZ  mEPermit General Information Page",70,20,{maxWidth:"170"}),d.line(10,30,195,30)};d.setTextColor(0),ga(),d.setFontSize(12);const u=o((pt=(ct=f.$state.generalpdfinput[1])==null?void 0:ct.generalpdfData)==null?void 0:pt.totalData),xa=[{category:"DBA",value:`${b.value}`},{category:"Roof Area",value:`${u.value}`},{category:"Job Address",value:`${x.value}`},{category:"meProcess Number",value:`${I.value}`},{category:"Master Permit",value:`${h.value}`}];let A=10,_e=60,ma=50;d.setFontSize(12),xa.forEach((Ue,ot)=>{const me=ma+ot*10;d.text(Ue.category,A,me),d.text(Ue.value,_e,me),d.getTextWidth(Ue.category);const Ft=d.getTextWidth(Ue.value)*2;d.line(_e,me+2,_e+Ft,me+2)}),d.setTextColor("black"),d.setFontSize(12);const et=100,Dt=o(!1),Jt=o(!1);T.value=r+40,f.$state.generalpdfinput[1].generalpdfData.roofCheck[0]==="reroof"?(Dt.value=!0,console.log(Dt.value)):Jt.value=!0,T.value=r+50,i=et,console.log(i),d.text("Re-Roof: ",T.value,i);const De=i-3,tt=Dt.value===!0?d.rect(T.value+20,De,4,4,"FD"):d.rect(T.value+20,De,4,4);T.value=r+120,i=et,console.log(i),d.text("New Roof: ",T.value,i);const at=Jt.value===!0?d.rect(T.value+25,De,4,4,"FD"):d.rect(T.value+25,De,4,4);console.log(tt,at),i=i+10;const lt="Total: ",At="Low Slope: ",Mt="Steep Slope: ",jt=o(((vt=(ut=f.$state.generalpdfinput[1])==null?void 0:ut.generalpdfData)==null?void 0:vt.totalData)||""),Zt=o(((gt=(ht=f.$state.generalpdfinput[1])==null?void 0:ht.generalpdfData)==null?void 0:gt.slopeData)||""),qt=o(((mt=(xt=f.$state.generalpdfinput[1])==null?void 0:xt.generalpdfData)==null?void 0:mt.steepData)||"");console.log(f.$state.generalpdfinput[1].generalpdfData),T.value=r+25,i=et+10;const ia=d.getTextWidth(At),Be=d.getTextWidth(`${Zt.value}`),l=T.value+5;d.text(At,l,i);const c=ia+l;d.text(`${Zt.value}`,c,i),d.line(c,i,c+Be,i),T.value=c+Be;const P=d.getTextWidth(Mt),se=d.getTextWidth(`${qt.value}`),Xt=T.value+5;d.text(Mt,Xt,i);const Ae=P+Xt;d.text(`${qt.value}`,Ae,i),d.line(Ae,i,Ae+se,i),console.log(i,i),i=et+10,T.value=Ae+se,console.log(T.value);const v=d.getTextWidth(lt),t=d.getTextWidth(`${jt.value}`),Kt=T.value+5;d.text(lt,Kt,i);const xe=v+Kt;d.text(`${jt.value}`,xe,i),d.line(xe,i,xe+t,i),T.value=xe+t,console.log(f.$state.generalpdfinput[1]),f.$state.generalpdfinput[1].generalpdfData.slopeChk===!0&&(bt.value=!0,console.log("Slope Checked")),f.$state.generalpdfinput[1].generalpdfData.adtileChk===!0&&(rt.value=!0),f.$state.generalpdfinput[1].generalpdfData.metalChk===!0&&(a.value=!0),f.$state.generalpdfinput[1].generalpdfData.mtileChk===!0&&(ge.value=!0),f.$state.generalpdfinput[1].generalpdfData.shingleChk===!0&&(Gt.value=!0,console.log("Shingle Checked")),T.value=r-4,i=i+10,d.text("Low Slope: ",r,i);const M=i-3,Ta=bt.value===!0?d.rect(T.value+27,M,4,4,"FD"):d.rect(T.value+27,M,4,4);console.log(tt,at,Ta),T.value=T.value+4;const Qt=T.value+32;console.log(T.value);const Me=Qt;console.log(T.value),d.text("Adhesive Set Tile: ",Me,i);const n=rt.value===!0?d.rect(Me+36,M,4,4,"FD"):d.rect(Me+36,M,4,4);console.log(tt,at,n),console.log(T.value);const Lt=Me+43;console.log(T.value),d.text("Metal Panel: ",Lt,i),a.value===!0?d.rect(Lt+25,M,4,4,"FD"):d.rect(Lt+25,M,4,4);const Xe=Lt+35;console.log(T.value),d.text("Shingle: ",Xe,i);const Ne=Gt.value===!0?d.rect(Xe+17,M,4,4,"FD"):d.rect(Xe+17,M,4,4);T.value=Xe;const Ie=Xe+28;console.log(T.value),d.text("Mechanical Fastened Tile: ",Ie,i);const na=ge.value===!0?d.rect(Ie+51,M,4,4,"FD"):d.rect(Ie+51,M,4,4);console.log(na,Ne),i=i+10,d.addImage($t,"JPEG",r+40,i,100,100);const Wa="GeneralPage.pdf",Nt=d.output("blob");(async(Ue,ot)=>{const me=Ue,Ft=me;console.log(Ft);const Et=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${F.value}/${Ft}`;try{const Te=await fetch(Et,{method:"PUT",headers:{"Content-Type":me.type},body:ot});Te.ok?(Y.value=Et,alert("GeneralPage File uploaded successfully!")):alert(`Failed to upload file. Status: ${Te.status}`)}catch(Te){console.error("Error uploading file:",Te),alert("An error occurred while uploading the file.")}})(Wa,Nt)}};return(r,i)=>(Nl(),Fl("div"))}},Co={__name:"LowSlopepdf",setup(dt){var e,Le,ye,Ve,re,be,z,ke,Re;const{getUser:W}=El(),V=wl(),k=ao(),f=o(((Le=(e=V.$state.permitapp[0])==null?void 0:e.formdt)==null?void 0:Le.address)||""),x=o(((Ve=(ye=V.$state.permitapp[0])==null?void 0:ye.formdt)==null?void 0:Ve.muni)||""),h=o(((be=(re=V.$state.permitapp[0])==null?void 0:re.formdt)==null?void 0:be.processNumber)||""),I=ro(),{dripedgeStore:F,dripinput:L}=ho(I),b=o(((ke=(z=V.$state.permitapp[0])==null?void 0:z.formdt)==null?void 0:ke.muniProc)||""),Y=o(((Re=W.value[0])==null?void 0:Re.dba)||""),s=o(k.$state.burpdfinput);let m=o(!1);const Se=o("");function R(){s.value.length!==1&&(m.value=!0,g())}Al(()=>{R()}),Ml(async()=>{await Xl(m).toBe(!0)});const g=()=>{var ct,pt,ut,vt,ht,gt,xt,mt,d,Tt,Wt,ft,$t,It,St,Ut,Ot,T;const G=ao(),oe=xl();if(G.$state.burpdfinput.length===0)console.log("lenghth is zero");else{const Vt=o((pt=(ct=G.$state.burpdfinput[0])==null?void 0:ct.burpdfData)==null?void 0:pt.height),Ht=o((vt=(ut=G.$state.burpdfinput[0])==null?void 0:ut.burpdfData)==null?void 0:vt.slope),Yt=o((gt=(ht=G.$state.burpdfinput[0])==null?void 0:ht.burpdfData)==null?void 0:gt.per),rt=o((mt=(xt=G.$state.burpdfinput[0])==null?void 0:xt.burpdfData)==null?void 0:mt.deckType),a=new Bl({orientation:"portrait",unit:"mm",format:"a4",compress:!0});a.setGState(new a.GState({opacity:.9}));const ge="Approved";a.setFontSize(24),a.setTextColor("black"),a.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const Gt=new Image,bt=new Image;Gt.src="/demo/images/officepaper.jpeg",bt.src="/demo/images/logo.jpeg";const ga=725,u=a.getPageInfo(1);u.pageContext.mediaBox.topRightX;const xa=u.pageContext.mediaBox.topRightY,A=o(0),_e=o(0);var r=595.28-585.28,i=xa-ga;A.value=r,_e.value=i,console.log(A.value,_e.value),a.addImage(bt,"JPEG",10,2,50,30),a.addImage(Gt,"JPEG",0,0,210,297),a.setFontSize(12),a.setTextColor("green");var oa=new Date,sa=oa.toLocaleDateString();a.text(ge,10,270,{align:"left"});const ma=a.getTextWidth(ge);a.text("on: "+sa,ma+15,270),a.text(`${b.value}`,10,280,{align:"left"});const wa=a.getTextWidth(`${b.value}`);a.text(`${x.value}`,wa+15,280),a.setFontSize(12);const et=()=>{a.setFontSize(10),a.setTextColor(0),a.text('The low slope Built Up Roof (BUR) Assembly shall be installed in compliance with the HVHZ portions of Chapter 15 found in the 2023 Florida Building Code and the HVHZ Roofing Application Standards (RAS), RAS-111, RAS-117 and RAS-128. This roof assembly shall also comply with the listed requirements for a Class "A" fire rating including roof slope (incline), components and a fire barrier when required. The mePermit applicant agrees to comply with these installation requirements when obtaining this permit.',10,25,{maxWidth:"170"}),a.line(10,50,195,50)};a.setTextColor("black"),a.circle(185,45,2,"FD"),a.text("I agree",165,45),et(),a.setFontSize(12);const Dt=[{category:"DBA",value:`${Y.value}`},{category:"Municipality",value:`${x.value}`},{category:"Job Address",value:`${f.value}`},{category:"meProcess Number",value:`${h.value}`}];let Jt=10,De=60,tt=72;a.setFontSize(12),Dt.forEach((J,ca)=>{const ie=tt+ca*10;a.text(J.category,Jt,ie),a.text(J.value,De,ie),a.getTextWidth(J.category);const wt=a.getTextWidth(J.value)*2;a.line(De,ie+2,De+wt,ie+2)}),a.setFontSize(12),console.log(oe.$state.roofList);const at=o("");for(let J=0;J<oe.$state.roofList.length;J++)oe.$state.roofList[J].item==="Low Slope"&&(at.value=oe.$state.roofList[J].dim2);const lt=at.value;console.log(`${lt}`,at.value);const At="Roof Area: ",Mt="Decktype: ",jt="Mean Roof Height: ",Zt="Roof Slope: ",qt="Roof Perimeter: ",ia="Type of Low Slope BUR Material: ",Be="Type of Low Slope BUR System: ",l="Attach P(1') Prime using P(1) Field Prescriptive Basesheet: ",c="Attach P(2) Perimeter using P(3) Corner Prescriptive: ",P=o(((Tt=(d=G.$state.burpdfinput[1])==null?void 0:d.burpdfData)==null?void 0:Tt.burMaterial)||""),se=o(((ft=(Wt=G.$state.burpdfinput[1])==null?void 0:Wt.burpdfData)==null?void 0:ft.burSystem)||""),Xt=o(((It=($t=G.$state.burpdfinput[1])==null?void 0:$t.burpdfData)==null?void 0:It.p1)||""),Ae=o(((Ut=(St=G.$state.burpdfinput[1])==null?void 0:St.burpdfData)==null?void 0:Ut.p3)||"");console.log(Xt),A.value=r;const v=a.getTextWidth(At),t=a.getTextWidth(`${lt}`),Kt=A.value;a.text(At,Kt,i);const xe=v+Kt;a.text(`${lt}`,xe,i),a.line(xe,i+2,xe+t,i+2),A.value=xe+t;const M=a.getTextWidth(jt),Ta=a.getTextWidth(`${Vt.value}`),Qt=A.value+18;a.text(jt,Qt,i);const Me=M+Qt;a.text(`${Vt.value}`,Me,i),a.line(Me,i+2,Me+Ta,i+2),A.value=Me+Ta;const n=a.getTextWidth(Zt),Lt=a.getTextWidth(`${Ht.value}`),Xe=A.value+18;a.text(Zt,Xe,i);const Ne=n+Xe;a.text(`${Ht.value}`,Ne,i),a.line(Ne,i+2,Ne+Lt,i+2),A.value=Ne+Lt;const Ie=a.getTextWidth(qt),na=a.getTextWidth(`${Yt.value}`),Wa=A.value+18;a.text(qt,Wa,i);const Nt=Ie+Wa;a.text(`${Yt.value}`,Nt,i),a.line(Nt,i+2,Nt+na,i+2),console.log(i,i),i=i+10,A.value=Nt+na;const za=a.getTextWidth(Mt),Ue=a.getTextWidth(`${rt.value}`),ot=r;a.text(Mt,ot,i);const me=za+ot;a.text(`${rt.value}`,me,i),a.line(me,i+2,me+Ue,i+2),i=i+10,A.value=r;const Ft="DripEdge Material: ",Et="DripEdge Size: ";console.log(I,L);const Te=o(((Ot=I.$state.dripinput[0])==null?void 0:Ot.dripMaterial)||""),yt=o(((T=I.$state.dripinput[2])==null?void 0:T.dripMaterial)||"");console.log(Te,yt);const Pa=a.getTextWidth(Ft),_a=a.getTextWidth(`${Te.value}`),Ga=r;a.text(Ft,Ga,i);const Ca=Pa+Ga;a.text(`${Te.value}`,Ca,i),a.line(Ca,i+2,Ca+_a,i+2),i=i+10;const el=a.getTextWidth(Et),Ja=a.getTextWidth(`${yt.value}`),fa=r;a.text(Et,fa,i);const ka=el+fa;a.text(`${yt.value}`,ka,i),a.line(ka,i+2,ka+Ja,i+2),i=i+10;const p=a.getTextWidth(ia),tl=a.getTextWidth(`${P.value}`),B=A.value;a.text(ia,B,i);const da=p+12;a.text(`${P.value}`,da,i),a.line(da,i+2,da+tl,i+2),A.value=da+tl,i=i+10,A.value=r,a.setFontSize(12),a.getTextWidth(Be);const Ra=a.getTextWidth(`${se.value}`),Ba=A.value;a.text(Be,Ba,i),i=i+10,a.setFontSize(8.5),A.value=r-3,a.text(`${se.value}`,A.value,i),a.setFontSize(12),a.line(Ra,i+2,Ra,i+2),i=i+10,a.setFontSize(10),a.getTextWidth(l);const Ia=a.getTextWidth(`${Xt.value}`),al=r;a.text(l,al,i),i=i+10;const $a=r;a.setFontSize(10),a.text(Xt.value,$a,i),a.line($a,i+2,$a+Ia+70,i+2),i=i+10,A.value=r;const ja=a.getTextWidth(`${Ae.value}`),Sa=A.value;a.text(c,Sa,i),i=i+7,A.value=r;const _t=A.value;a.text(Ae.value,_t,i),a.line(_t,i+2,_t+ja+70,i+2),i=i+10;const ll="LowSlope.pdf",Va=a.output("blob");(async(J,ca)=>{const ie=J,wt=ie;console.log(wt);const st=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${b.value}/${wt}`;try{const ea=await fetch(st,{method:"PUT",headers:{"Content-Type":ie.type},body:ca});ea.ok?(Se.value=st,alert("LowSlope File uploaded successfully!")):alert(`Failed to upload file. Status: ${ea.status}`)}catch(ea){console.error("Error uploading file:",ea),alert("An error occurred while uploading the file.")}})(ll,Va)}};return(G,oe)=>(Nl(),Fl("div"))}},ko={__name:"Shingle",setup(dt){var m,Se;const{getUser:W}=El(),V=bo(),k=wl(),f=Do(),x=Ao(),h=xl(),I=Mo(),F=o(((Se=(m=k.$state.permitapp[0])==null?void 0:m.formdt)==null?void 0:Se.muniProc)||""),L=o(h.$state.roofList);let b=o(!1);const Y=Al(()=>{if(L.value.length===0)return"";for(let R=0;R<L.value.length;R++)L.value[R].item==="Asphalt Shingle"&&(console.log(L.value[R].item),b.value=!0,s())});Ml(async()=>{await Xl(Y).toBe(!0),console.log(Y)});const s=()=>{var Ve,re,be,z,ke,Re,G,oe,r,i,oa,sa,ct,pt,ut,vt,ht,gt,xt,mt,d,Tt,Wt,ft,$t,It,St,Ut,Ot,T,Vt,Ht;const R=xl();if(console.log(R.$state.roofList),f.$state.inputshingle.length===0)console.log("lenghth is zero");else{console.log(V,x);let Yt=o(!1),rt=o(!1);V.$state.systeminput.length!==0&&(rt=!0,console.log(rt)),x.$state.polyinput.length!==0&&(Yt=!0,console.log(Yt));const a=new Bl({orientation:"portrait",unit:"mm",format:"a4",compress:!0}),ge=179,Gt=725,bt=a.getPageInfo(1);bt.pageContext.mediaBox.topRightX;const ga=bt.pageContext.mediaBox.topRightY,u=o(0),xa=o(0);var g=595.28-585.28,e=ga-Gt;u.value=g,xa.value=e;const A=o((re=(Ve=k.$state.permitapp[0])==null?void 0:Ve.formdt)==null?void 0:re.address),_e=o((z=(be=k.$state.permitapp[0])==null?void 0:be.formdt)==null?void 0:z.muni),ma=o(((Re=(ke=k.$state.permitapp[0])==null?void 0:ke.formdt)==null?void 0:Re.processNumber)||""),wa=o(W.value[0].dba),et=o(((oe=(G=f.$state.inputshingle[0])==null?void 0:G.shingleData)==null?void 0:oe.height)||""),Dt=o(((i=(r=f.$state.inputshingle[0])==null?void 0:r.shingleData)==null?void 0:i.slope)||""),Jt=o(((sa=(oa=f.$state.inputshingle[0])==null?void 0:oa.shingleData)==null?void 0:sa.deckType)||"");console.log(R.$state.roofList);const De=o("");for(let S=0;S<R.$state.roofList.length;S++)console.log(R.$state.roofList[S].item),R.$state.roofList[S].item==="Asphalt Shingle"&&(De.value=R.$state.roofList[S].dim1);const tt=De.value;console.log(`${tt}`);const at=o("");a.setGState(new a.GState({opacity:.8}));const lt="Approved";a.setFontSize(18),a.setTextColor(150,150,150),a.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const At=new Image,Mt=new Image;At.src="/demo/images/officepaper.jpeg",Mt.src="/demo/images/logo.jpeg",a.addImage(Mt,"JPEG",10,0,50,30),a.addImage(At,"JPEG",0,0,210,297),a.setFontSize(15),a.setTextColor("green");var Le=new Date,ye=Le.toLocaleDateString();a.text(lt,10,270,{align:"left"});const jt=a.getTextWidth(lt);a.text("on: "+ye,jt+15,270),a.text(`${F.value}`,10,280,{align:"left"});const Zt=a.getTextWidth(`${F.value}`);a.text(`${_e.value}`,Zt+15,280);const qt=()=>{a.setFontSize(10),a.setTextColor(0),a.text("The Shingle roof system and its components shall be installed in strict compliance  with the HVHZportions of Chapter 15 FBC, the HVHZ Roof Application Standards(RAS) 111 & 115, and the submitted MDC(NOA) Notice of Acceptance(s).The mePermit applicant agrees to comply with these installation requirements when obtaining this permit.",10,25,{maxWidth:"200"}),a.line(10,43,195,43)};a.setTextColor(0),a.circle(185,39,2,"FD"),a.text("I agree",165,40),qt(),a.setFontSize(12);const ia=[{category:"DBA",value:`${wa.value}`},{category:"Municipality",value:`${_e.value}`},{category:"Job Address",value:`${A.value}`},{category:"meProcess Number",value:`${ma.value}`}];let Be=10,l=60,c=50;a.setFontSize(12),ia.forEach((S,j)=>{const C=c+j*10;a.text(S.category,Be,C),a.text(S.value,l,C),a.getTextWidth(S.category);const q=a.getTextWidth(S.value)*2;a.line(l,C+2,l+q,C+2)}),a.setFontSize(12);const P="Roof Area: ",se="Decktype: ",Xt="Mean Roof Height: ",Ae="Roof Slope: ",v=1;e=e+5;const t=a.getTextWidth(P),Kt=a.getTextWidth(`${tt}`),xe=u.value;a.text(P,xe,e);const M=t+xe;a.text(`${tt}`,M,e),a.line(M,e+2,M+Kt,e+2),u.value=M+Kt;const Ta=a.getTextWidth(Xt),Qt=a.getTextWidth(`${et.value}`),Me=u.value+10;a.text(Xt,Me,e);const n=Ta+Me;a.text(`${et.value}`,n,e),a.line(n,e+2,n+Qt,e+2),u.value=n+Qt;const Lt=a.getTextWidth(Ae),Xe=a.getTextWidth(`${Dt.value}`),Ne=u.value+10;a.text(Ae,Ne,e);const Ie=Lt+Ne;a.text(`${Dt.value}`,Ie,e),a.line(Ie,e+2,Ie+Xe,e+2),u.value=Ie+Xe,e=e+10;const na=a.getTextWidth(se),Wa=a.getTextWidth(`${Jt.value}`),Nt=g;a.text(se,Nt,e);const za=na+Nt;a.text(`${Jt.value}`,za,e),a.line(za,e+2,za+Wa,e+2),e=e+10;const Ue="Shingle NOA Number: ",ot="Shingle Applicant: ",me="Shingle Material: ",Ft="Shingle Description: ",Et="Fastened (UDL)NOA: ",Te="UDL NOA Applicant: ",yt="Fastened UDL Material: ",Pa="UDL Description: ",_a="Prescriptive Attachment: ";console.log(f.$state.inputshingle[0]);const Ga=o(((pt=(ct=f.$state.inputshingle[0])==null?void 0:ct.shingleData)==null?void 0:pt.noa)||""),Ca=o((vt=(ut=f.$state.inputshingle[0])==null?void 0:ut.shingleData)==null?void 0:vt.applicant)||"",el=o(((gt=(ht=f.$state.inputshingle[0])==null?void 0:ht.shingleData)==null?void 0:gt.material)||""),Ja=o(((mt=(xt=f.$state.inputshingle[0])==null?void 0:xt.shingleData)==null?void 0:mt.description)||""),fa=o(((Tt=(d=f.$state.inputshingle[0])==null?void 0:d.shingleData)==null?void 0:Tt.prescriptiveSelection)||""),ka=a.getTextWidth(_a),p=a.getTextWidth(`${fa.value}`),tl=g;a.text(_a,tl,e);const B=ka+10;a.text(`${fa.value}`,B,e),a.line(B,e+v,B+p,e+v),e=e+8;const da="DripEdge Material: ",Ra="DripEdge Size: ";console.log(I);const Ba=o(((Wt=I.$state.dripinputshin[1])==null?void 0:Wt.dripShinMaterial)||""),Ia=o(((ft=I.$state.dripinputshin[3])==null?void 0:ft.dripShinMaterial)||"");console.log(Ba,Ia);const al=a.getTextWidth(da),$a=a.getTextWidth(`${Ba.value}`),ja=g;a.text(da,ja,e);const Sa=al+ja;a.text(`${Ba.value}`,Sa,e),a.line(Sa,e+v,Sa+$a,e+v),e=e+10;const _t=a.getTextWidth(Ra),ll=a.getTextWidth(`${Ia.value}`),Va=g;a.text(Ra,Va,e);const Ua=_t+Va;if(a.text(`${Ia.value}`,Ua,e),a.line(Ua,e+v,Ua+ll,e+v),e=e+10,console.log(x.$state.polyinput.length),x.$state.polyinput.length===0){const S="n/a",j="n/a",C="n/a",q="n/a",We=a.getTextWidth(Et),y=a.getTextWidth(S),it=g;a.text(Et,it,e);const _=it+We;a.text(S,_,e),a.line(_,e+v,_+y,e+v),u.value=_+y,console.log(u.value);const ee=a.getTextWidth(Te),Oe=a.getTextWidth(j),He=u.value+2;a.text(Te,He,e);const K=He+ee;a.text(j,K,e),a.line(K,e+v,K+Oe,e+v),u.value=K+Oe,console.log(u.value),u.value>ge&&(e=e+10);const te=u.value+2,aa=a.getTextWidth(yt),Fe=a.getTextWidth(C);a.text(yt,te,e);const ne=te+aa;a.text(C,ne,e),a.line(ne,e+v,ne+Fe,e+v),u.value=ne+Fe,console.log(u.value),e=e+10,console.log(u.value);const Ee=a.getTextWidth(Pa),Ye=a.getTextWidth(q),de=g,we=de+Ye;console.log(we),a.text(Pa,de,e),we>ge&&print(we);const Z=de+Ee;a.text(q,Z,e),a.line(Z,e+v,Z+Ye,e+v),u.value=Z+Ye,e=e+8}else{const S=o(x.$state.polyinput[0].polyData.noa),j=o(x.$state.polyinput[0].polyData.applicant),C=o(x.$state.polyinput[0].polyData.material),q=o(x.$state.polyinput[0].polyData.description),We=a.getTextWidth(Et),y=a.getTextWidth(`${S.value}`),it=g;a.text(Et,it,e);const _=We+10;a.text(`${S.value}`,_,e),a.line(_,e+v,_+y,e+v),u.value=_+y;const ee=a.getTextWidth(Te),Oe=a.getTextWidth(`${j.value}`),He=u.value+2;a.text(Te,He,e);const K=He+ee;a.text(`${j.value}`,K,e),a.line(K,e+v,K+Oe,e+v),u.value=K+Oe,e=e+10;const te=g,aa=a.getTextWidth(yt),Fe=a.getTextWidth(`${C.value}`);a.text(yt,te,e);const ne=te+aa;a.text(`${C.value}`,ne,e),a.line(ne,e+v,ne+Fe,e+v),u.value=ne+Fe,e=e+10,console.log(u.value);const Ee=a.getTextWidth(Pa),Ye=a.getTextWidth(`${q.value}`),de=g,we=de+Ye;console.log(we),a.text("UDL Description:",de,e),we>ge&&print(we);const Z=de+Ee;a.text(`${q.value}`,Z,e),a.line(Z,e+v,Z+Ye,e+v),u.value=Z+Ye,console.log(u.value),e=e+10}const J="Self Adhered NOA: ",ca="S/A NOA Applicant: ",ie="S/A System F: ",wt="S/A Material: ",st="S/A Description: ";if(console.log(V.$state.systeminput.length),V.$state.systeminput.length===0){const S="n/a",j="n/a",C="n/a",q="n/a",We="n/a",y=a.getTextWidth(J),it=a.getTextWidth(S),_=g;a.text(J,_,e);const ee=_+y;a.text(S,ee,e),a.line(ee,e,ee+it,e),u.value=ee+it,console.log(u.value);const Oe=a.getTextWidth(ca),He=a.getTextWidth(j),K=u.value+3;a.text(ca,K,e);const te=K+Oe;a.text(j,te,e),a.line(te,e+v,te+He,e+v),u.value=te+He,console.log(u.value);const aa=a.getTextWidth(ie),Fe=u.value+3,ne=a.getTextWidth(C);a.text(ie,Fe,e);const Ee=Fe+aa;a.text(C,Ee,e),a.line(Ee,e+v,Ee+ne,e+v),u.value=Ee+ne,console.log(u.value),e=e+10;const Ye=a.getTextWidth(wt),de=a.getTextWidth(q),we=g;a.text(wt,we,e);const Z=we+Ye;a.text(q,Z,e),a.line(Z,e+v,Z+de,e+v),u.value=Z+de,console.log(u.value);const il=a.getTextWidth(st),Aa=a.getTextWidth(We),ua=u.value+3;a.text(st,ua,e);const Ge=ua+il;a.text(We,Ge,e),a.line(Ge,e+v,Ge+Aa,e+v),u.value=Ge+Aa,console.log(u.value)}else{console.log("Entered sbs line 509",V.$state);const S=o((It=($t=V.$state.systeminput[0])==null?void 0:$t.systemData)==null?void 0:It.noa),j=o((Ut=(St=V.$state.systeminput[0])==null?void 0:St.systemData)==null?void 0:Ut.manufacturer),C=o(V.$state.systeminput.pdfSystemValue),q=o((T=(Ot=V.$state.systeminput[0])==null?void 0:Ot.systemData)==null?void 0:T.material),We=o((Ht=(Vt=V.$state.systeminput[0])==null?void 0:Vt.systemData)==null?void 0:Ht.description),y=a.getTextWidth(J),it=a.getTextWidth(`${S.value}`),_=g;a.text(J,_,e);const ee=_+y;a.text(`${S.value}`,ee,e),a.line(ee,e+v,ee+it,e+v),u.value=ee+it;const Oe=a.getTextWidth(ca),He=a.getTextWidth(`${j.value}`),K=u.value+3;a.text(ca,K,e);const te=K+Oe;a.text(`${j.value}`,te,e),a.line(te,e+v,te+He,e+v),u.value=te+He,console.log(u.value);const aa=a.getTextWidth(ie),Fe=a.getTextWidth(`${C.value}`),ne=u.value+3;a.text(ie,ne,e);const Ee=ne+aa;a.text(`${C.value}`,Ee,e),a.line(Ee,e+v,Ee+Fe,e+v),u.value=Ee+Fe,e=e+10,console.log(u.value);const Ye=a.getTextWidth(wt),de=a.getTextWidth(`${q.value}`),we=g;a.text(wt,we,e);const Z=we+Ye;a.text(`${q.value}`,Z,e),a.line(Z,e+v,Z+de,e+v),u.value=Z+de,u.value>ge&&(e=e+10),console.log(u.value);const il=a.getTextWidth(st),Aa=a.getTextWidth(`${We.value}`),ua=u.value+3;a.text(st,ua,e);const Ge=ua+il;a.text(`${We.value}`,Ge,e),a.line(Ge,e+v,Ge+Aa,e+v),u.value=Ge+Aa,u.value>=ge&&(e=e+10),console.log(u.value)}const ea=a.getTextWidth(ot),ml=a.getTextWidth(`${Ca.value}`),pl=g;a.text(ot,pl,e);const ra=pl+ea;a.text(`${Ca.value}`,ra,e),a.line(ra,e+v,ra+ml,e+v),u.value=ra+ml;const ul=a.getTextWidth(Ue),Tl=a.getTextWidth(`${Ga.value}`),ol=u.value+3;a.text(Ue,ol,e);const ta=ul+ol;a.text(`${Ga.value}`,ta,e),a.line(ta,e+v,ta+Tl,e+v),u.value=ta+Tl,e=e+10;const sl=g,vl=a.getTextWidth(me),Za=a.getTextWidth(`${el.value}`);a.text(me,sl,e);const ba=sl+vl;a.text(`${el.value}`,ba,e),a.line(ba,e+v,ba+Za,e+v),u.value=ba+Za,e=e+10,console.log(u.value,ge);const zt=a.getTextWidth(`${Ja.value}`),Da=a.getTextWidth(Ft);u.value=ba+Za+zt+Da+25,console.log(zt,Da);const pa=g;if(a.text(Ft,pa,e),zt>170){e=e+4;const j=g;a.text(`${Ja.value}`,j,e),a.line(j,e+v,j+zt,e+v),e=e+8}else{const S=pa+Da;a.text(`${Ja.value}`,S,e),a.line(S,e+v,S+zt,e+v),u.value=S+zt}e=e+10;const qa="Shingle.pdf",Ka=a.output("blob");(async(S,j)=>{const C=S;console.log(C);const q=C;console.log(q);const We=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${F.value}/${q}`;try{const y=await fetch(We,{method:"PUT",headers:{"Content-Type":C.type},body:j});y.ok?(at.value=We,alert("Shingle File uploaded successfully!")):alert(`Failed to upload file. Status: ${y.status}`)}catch(y){console.error("Error uploading file:",y),alert("An error occurred while uploading the file.")}})(qa,Ka)}};return(R,g)=>(Nl(),Fl("div"))}},Ro=go(()=>{const dt=o([]),W=xo(()=>dt.value);function V(k){dt.value.push(k)}return{tilenoa:dt,getNumber:W,addNoa:V}}),Bo={__name:"TileAdhesive",setup(dt){const W=so(),V=io(),{getUser:k}=El(),{tileInputvalues:f}=Xo(),{savedTileinput:x}=No(),h=wl(),I=xl(),F=o(I.$state.roofList);Ro();const L=Fo();let b=o(!1);const Y=Al(()=>{if(F.value.length===0)return"";for(let m=0;m<F.value.length;m++)F.value[m].item==="Adhesive Set Tile"&&(console.log(F.value[m].item),b.value=!0,s())});Ml(async()=>{await Xl(Y).toBe(!0)});const s=()=>{var Ve,re,be,z,ke,Re,G,oe,r,i,oa,sa,ct,pt,ut,vt,ht,gt,xt,mt,d,Tt,Wt,ft,$t,It,St,Ut,Ot,T,Vt,Ht,Yt,rt,a,ge,Gt,bt,ga,u,xa,A,_e,ma,wa,et,Dt,Jt,De,tt,at,lt,At,Mt,jt,Zt,qt,ia,Be,l,c,P,se,Xt,Ae,v;console.log(f,(re=(Ve=x[0])==null?void 0:Ve.savedValues)==null?void 0:re.paddySelection);const m=o(((z=(be=x[0])==null?void 0:be.savedValues)==null?void 0:z.paddySelection)||""),Se=o(!1),R=o(!1);if(console.log(m.value),m.value==="single"?(Se.value=!0,console.log(Se.value),R.value=!1):(R.value=!0,console.log(R.value)),((ke=f[0])==null?void 0:ke.length)===0)console.log("lenghth is zero");else{const t=new Bl({orientation:"portrait",unit:"mm",format:"a4",compress:!0});let Kt=o(!1),xe=o(!1);V.$state.tilesysEinput.length!==0&&(Kt=!0,console.log(Kt)),W.$state.tilefinput.length!==0&&(xe=!0,console.log(xe));const M=179,Ta=725,Qt=t.getPageInfo(1);Qt.pageContext.mediaBox.topRightX;const Me=Qt.pageContext.mediaBox.topRightY,n=o(0),Lt=o(0);var g=595.28-585.28,e=Me-Ta;n.value=g,Lt.value=e;const Xe=Se.value===!0?o(((Re=f[0])==null?void 0:Re.tileValues[0].singlepaddyData)||""):o(((G=f[0])==null?void 0:G.tileValues[0].doublepaddyData)||"");console.log(Xe.value);const Ne=o(((r=(oe=x[0])==null?void 0:oe.savedValues)==null?void 0:r.height)||""),Ie=o(((oa=(i=x[0])==null?void 0:i.savedValues)==null?void 0:oa.slope)||"");console.log(h.$state.permitapp[0].muniNum);const na=o(((ct=(sa=x[0])==null?void 0:sa.savedValues)==null?void 0:ct.area)||""),Wa=o(((ut=(pt=x[0])==null?void 0:pt.savedValues)==null?void 0:ut.Decktype)||""),Nt=o(((ht=(vt=x[0])==null?void 0:vt.savedValues)==null?void 0:ht.perimeter)||""),za=o(((xt=(gt=h.$state.permitapp[0])==null?void 0:gt.formdt)==null?void 0:xt.address)||""),Ue=o(((d=(mt=h.$state.permitapp[0])==null?void 0:mt.formdt)==null?void 0:d.muni)||""),ot=o(((Wt=(Tt=h.$state.permitapp[0])==null?void 0:Tt.formdt)==null?void 0:Wt.muniProc)||""),me=o((($t=(ft=h.$state.permitapp[0])==null?void 0:ft.formdt)==null?void 0:$t.processNumber)||""),Ft=o(""),Et=o(((It=k.value[0])==null?void 0:It.dba)||"");t.setGState(new t.GState({opacity:.8}));const Te="Approved";t.setFontSize(24),t.setTextColor(150,150,150),t.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const yt=new Image,Pa=new Image;yt.src="/demo/images/officepaper.jpeg",Pa.src="/demo/images/logo.jpeg",t.addImage(Pa,"JPEG",5,0,50,30),t.addImage(yt,"JPEG",0,0,210,297),t.setFontSize(18),t.setTextColor("green");var Le=new Date,ye=Le.toLocaleDateString();t.text(Te,10,270,{align:"left"});const _a=t.getTextWidth(Te);t.text("on: "+ye,_a+15,270),t.text(`${ot.value}`,10,280,{align:"left"});const Ga=t.getTextWidth(`${ot.value}`);t.text(`${Ue.value}`,Ga+15,280),t.setFontSize(12);const Ca=()=>{t.setFontSize(12),t.setTextColor(0),t.text("The tile roof system and its components shall be installed in strict compliance with the FBC 2023 HVHZ portions of Chapter 15, the HVHZ Tile Application Standards: RAS-119, RAS-120 & RAS-127 and the submitted MDC Notice of Acceptance(s). The mePermit applicant agrees to comply with these installation requirements when obtaining this permit.",10,25,{maxWidth:"200"}),t.line(10,41,195,41)};t.setTextColor(0),t.circle(185,38,2,"FD"),t.text("I agree",165,39),Ca(),t.setFontSize(12),t.setFontSize(12);const el=[{category:"DBA",value:`${Et.value}`},{category:"Municipality",value:`${Ue.value}`},{category:"Job Address",value:`${za.value}`},{category:"meProcess Number",value:`${me.value}`}];let Ja=10,fa=60,ka=50;t.setFontSize(12),el.forEach(($,N)=>{const D=ka+N*10;t.text($.category,Ja,D),t.text($.value,fa,D),t.getTextWidth($.category);const ue=t.getTextWidth($.value)*2;t.line(fa,D+2,fa+ue,D+2)}),t.setFontSize(12);const p=2,B=90,da="Roof Area: ",Ra="DeckType: ",Ba="Mean Roof Height: ",Ia="Roof Slope: ",al="Roof Perimeter: ";n.value=g;const $a=t.getTextWidth(da),ja=t.getTextWidth(`${na.value}`),Sa=n.value;t.text(da,Sa,B);const _t=$a+Sa;t.text(`${na.value}`,_t,B),t.line(_t,B+p,_t+ja,B+p),n.value=_t+ja,console.log(e,B);const ll=t.getTextWidth(Ba),Va=t.getTextWidth(`${Ne.value}`),Ua=n.value+10;t.text(Ba,Ua,B);const J=ll+Ua;t.text(`${Ne.value}`,J,B),t.line(J,B+p,J+Va,B+p),n.value=J+Va;const ca=t.getTextWidth(Ia),ie=t.getTextWidth(`${Ie.value}`),wt=n.value+10;t.text(Ia,wt,B);const st=ca+wt;t.text(`${Ie.value}`,st,B),t.line(st,B+p,st+ie,B+p),n.value=st+ie;const ea=t.getTextWidth(al),ml=t.getTextWidth(`${Nt.value}`),pl=n.value+10;t.text(al,pl,B);const ra=ea+pl;t.text(`${Nt.value}`,ra,B),t.line(ra,B+p,ra+ml,B+p),console.log(B,e),e=B+10;const ul=t.getTextWidth(Ra),Tl=t.getTextWidth(`${Wa.value}`),ol=g;t.text(Ra,ol,e);const ta=ul+ol;t.text(`${Wa.value}`,ta,e),t.line(ta,e+p,ta+Tl,e+p),e=e+10;const sl="Tile NOA Number: ",vl="Tile Applicant: ",Za="Tile Material: ",ba="Tile Description: ",zt="Fastened Underlayment(UDL)NOA: ",Da="UDL NOA Applicant: ",pa="Fastened UDL Material: ",qa="Select System E: ",Ka="Design psf: ",Wl="Anchor Base Sheet: ",S="UDL Description: ",j="Select Underlayment: ",C="DripEdge Material: ",q="DripEdge Size: ",We=o(((St=L.$state.dripinputadt[4])==null?void 0:St.dripTileMaterial)||""),y=o(((Ut=L.$state.dripinputadt[6])==null?void 0:Ut.dripTileMaterial)||""),it=t.getTextWidth(C),_=t.getTextWidth(`${We.value}`),ee=g;t.text(C,ee,e);const Oe=it+ee;t.text(`${We.value}`,Oe,e),t.line(Oe,e+p,Oe+_,e+p),e=e+10;const He=t.getTextWidth(q),K=t.getTextWidth(`${y.value}`),te=g;t.text(q,te,e);const aa=He+te;t.text(`${y.value}`,aa,e),t.line(aa,e+p,aa+K,e+p),e=e+10,console.log(x);const Fe=o(((T=(Ot=x[0])==null?void 0:Ot.savedValues)==null?void 0:T.zoneone.mf1)||""),ne=o(((Ht=(Vt=x[0])==null?void 0:Vt.savedValues)==null?void 0:Ht.zoneone.lambda1)||""),Ee=o(((rt=(Yt=x[0])==null?void 0:Yt.savedValues)==null?void 0:rt.zoneone.mg1)||""),Ye=o(((ge=(a=x[0])==null?void 0:a.savedValues)==null?void 0:ge.zoneone.mr1)||""),de=o(((bt=(Gt=x[0])==null?void 0:Gt.savedValues)==null?void 0:bt.zoneone.zone1)||""),we=o(((u=(ga=x[0])==null?void 0:ga.savedValues)==null?void 0:u.zonetwo.mf2)||""),Z=o(((A=(xa=x[0])==null?void 0:xa.savedValues)==null?void 0:A.zonetwo.lambda2)||""),il=o(((ma=(_e=x[0])==null?void 0:_e.savedValues)==null?void 0:ma.zonetwo.mg2)||""),Aa=o(((et=(wa=x[0])==null?void 0:wa.savedValues)==null?void 0:et.zonetwo.mr2)||""),ua=o(((Jt=(Dt=x[0])==null?void 0:Dt.savedValues)==null?void 0:Jt.zonetwo.zone2)||""),Ge=o(((tt=(De=x[0])==null?void 0:De.savedValues)==null?void 0:tt.zonethree.mf3)||""),fl=o(((lt=(at=x[0])==null?void 0:at.savedValues)==null?void 0:lt.zonethree.lambda3)||""),$l=o(((Mt=(At=x[0])==null?void 0:At.savedValues)==null?void 0:Mt.zonethree.mg3)||""),Sl=o((Zt=(jt=x[0])==null?void 0:jt.savedValues)==null?void 0:Zt.zonethree.mr3),jl=o(((ia=(qt=x[0])==null?void 0:qt.savedValues)==null?void 0:ia.zonethree.zone3)||""),Vl=o((l=(Be=x[0])==null?void 0:Be.savedValues)==null?void 0:l.prescriptiveSelection.selectedBasesheet),zl=t.getTextWidth(Vl.value);console.log(Vl,zl);const rl=g;t.text(j,rl,e+p);const Pl=g;if(e=e+10,t.text(`${Vl.value}`,Pl,e),t.line(Pl,e+p,Pl+zl,e+p),e=e+10,V.$state.tilesysEinput.length===0){const $="n/a",N="n/a",D="n/a",ue="n/a",qe=t.getTextWidth(zt),ve=t.getTextWidth($),Ct=g;t.text(zt,Ct,e);const kt=Ct+qe+2;t.text($,kt,e),t.line(kt,e+p,kt+ve,e+p),n.value=kt+ve,console.log(n.value);const $e=t.getTextWidth(Da),Fa=t.getTextWidth(N),Ke=n.value+2;t.text(Da,Ke,e);const nt=Ke+$e;t.text(N,nt,e),t.line(nt,e+p,nt+Fa,e+p),n.value=nt+Fa,console.log(n.value),n.value>M&&(e=e+10);const he=n.value+2,nl=t.getTextWidth(pa),va=t.getTextWidth(D);t.text(pa,he,e);const Qe=he+nl;t.text(D,Qe,e),t.line(Qe,e+p,Qe+va,e+p),n.value=Qe+va,console.log(n.value),n.value>M&&(e=e+10),console.log(n.value);const Rt=t.getTextWidth(S),ya=t.getTextWidth(ue),ha=g,Bt=ha+ya;console.log(Bt),t.text(S,ha,e),Bt>M&&print(Bt);const Ce=ha+Rt;t.text(ue,Ce,e),t.line(Ce,e+p,Ce+ya,e+p),n.value=Ce+ya,e=e+10}else{const $=o(V.$state.tilesysEinput[0].systemDataE.noa),N=o(V.$state.tilesysEinput[0].systemDataE.manufacturer),D=o(V.$state.tilesysEinput[0].systemDataE.material),ue=o(V.$state.tilesysEinput[0].systemDataE.systemSelected),qe=o(V.$state.tilesysEinput[0].systemDataE.dP),ve=o(V.$state.tilesysEinput[0].systemDataE.Anchor_Base),Ct=o(V.$state.tilesysEinput[0].systemDataE.tileCap),kt=t.getTextWidth(Da),$e=t.getTextWidth(`${N.value}`),Fa=g;t.text(Da,Fa,e);const Ke=Fa+kt;t.text(`${N.value}`,Ke,e),t.line(Ke,e+p,Ke+$e,e+p);const nt=t.getTextWidth(`${D.value}`);n.value=Ke+nt;const he=t.getTextWidth(zt),nl=t.getTextWidth(`${$.value}`),va=n.value+40;t.text(zt,va,e),n.value=va,console.log(n.value,va);const Qe=he+n.value;console.log(Qe),t.text(`${$.value}`,Qe,e),t.line(Qe,e+p,Qe+nl,e+p),n.value=Qe+nl,e=e+10;const Rt=g,ya=t.getTextWidth(pa),ha=t.getTextWidth(`${D.value}`);t.text(pa,Rt,e);const Bt=Rt+ya;t.text(`${D.value}`,Bt,e),t.line(Bt,e+p,Bt+ha,e+p),n.value=Bt+ha,n.value>M&&(e=e+10);const Ce=n.value+5,kl=t.getTextWidth(qa),dl=t.getTextWidth(`${ue.value}`);t.text(qa,Ce,e);const Ha=Ce+kl;t.text(`${ue.value}`,Ha,e),t.line(Ha,e+p,Ha+dl,e+p),n.value=Ha+dl,n.value>M&&(e=e+10);const Ea=t.getTextWidth(Ka),Kl=t.getTextWidth(`${qe.value}`),Ql=n.value+3;t.text(Ka,Ql,e);const Ul=Ql+Ea;t.text(`${qe.value}`,Ul,e),t.line(Ul,e+p,Ul+Kl,e+p),n.value=Ul+Kl,console.log(n.value),e=e+10,t.getTextWidth(Wl);const Ll=t.getTextWidth(`${ve.value}`),no=g;t.text(Wl,no,e),e=e+10;const Ol=g;t.text(`${ve.value}`,Ol,e),t.line(Ol,e+p,Ol+Ll,e+p),n.value=Ol+Ll,e=e+10;const co=t.getTextWidth(S),yl=t.getTextWidth(`${Ct.value}`),_l=g;t.text(S,_l,e);const Hl=_l+co;t.text(`${Ct.value}`,Hl,e),t.line(Hl,e+p,Hl+yl,e+p),n.value=Hl+yl,console.log(n.value),e=e+10}const hl="Self Adhered NOA: ",gl="S/A NOA Applicant: ",Qa="S/A System F: ",la="S/A Material: ",La="S/A Description: ";if(W.$state.tilefinput.length===0){const $="n/a",N="n/a",D="n/a",ue="n/a",qe="n/a",ve=t.getTextWidth(hl),Ct=t.getTextWidth($),kt=g;t.text(hl,kt,e);const $e=kt+ve;t.text($,$e,e),t.line($e,e+p,$e+Ct,e+p),n.value=$e+Ct,console.log(n.value);const Fa=t.getTextWidth(gl),Ke=t.getTextWidth(N),nt=n.value+3;t.text(gl,nt,e);const he=nt+Fa;t.text(N,he,e),t.line(he,e+p,he+Ke,e+p),n.value=he+Ke,console.log(n.value);const nl=t.getTextWidth(Qa),va=n.value+3,Qe=t.getTextWidth(D);t.text(Qa,va,e);const Rt=va+nl;t.text(D,Rt,e),t.line(Rt,e+p,Rt+Qe,e+p),n.value=Rt+Qe,console.log(n.value),e=e+10;const ya=t.getTextWidth(la),ha=t.getTextWidth(ue),Bt=g;t.text(la,Bt,e);const Ce=Bt+ya;t.text(ue,Ce,e),t.line(Ce,e+p,Ce+ha,e+p),n.value=Ce+ha,console.log(n.value);const kl=t.getTextWidth(La),dl=t.getTextWidth(qe),Ha=n.value+3;t.text(La,Ha,e);const Ea=Ha+kl;t.text(qe,Ea,e),t.line(Ea,e+p,Ea+dl,e+p),n.value=Ea+dl,console.log(n.value)}else{console.log("Entered sbs line 455",W.$state);const $=o(W.$state.tilefinput[0].systemData.noa),N=o(W.$state.tilefinput[0].systemData.manufacturer),D=o(W.$state.tilefinput[0].systemData.pressure),ue=o(W.$state.tilefinput[0].systemData.material),qe=o(W.$state.tilefinput[0].systemData.description),ve=t.getTextWidth(hl),Ct=t.getTextWidth(`${$.value}`),kt=g;t.text(hl,kt,e);const $e=kt+ve;t.text(`${$.value}`,$e,e),t.line($e,e+p,$e+Ct,e+p),n.value=$e+Ct;const Fa=t.getTextWidth(gl),Ke=t.getTextWidth(`${N.value}`),nt=n.value+3;t.text(gl,nt,e);const he=nt+Fa;t.text(`${N.value}`,he,e),t.line(he,e+p,he+Ke,e+p),n.value=he+Ke,console.log(n.value);const nl=t.getTextWidth(Qa),va=t.getTextWidth(`${D.value}`),Qe=n.value+3;t.text(Qa,Qe,e);const Rt=Qe+nl;t.text(`${D.value}`,Rt,e),t.line(Rt,e+p,Rt+va,e+p),n.value=Rt+va,e=e+10;const ya=t.getTextWidth(la),ha=t.getTextWidth(`${ue.value}`),Bt=g;t.text(la,Bt,e);const Ce=Bt+ya;t.text(`${ue.value}`,Ce,e),t.line(Ce,e+p,Ce+ha,e+p),n.value=Ce+ha,n.value>M&&(e=e+10);const kl=t.getTextWidth(La),dl=t.getTextWidth(`${qe.value}`),Ha=n.value+3;t.text(La,Ha,e);const Ea=Ha+kl;t.text(`${qe.value}`,Ea,e),t.line(Ea,e+p,Ea+dl,e+p),n.value=Ea+dl,n.value>=M&&(e=e+10),console.log(n.value)}e=e+10;const Cl=o(Xe.value.noa),Il=o((P=(c=x[0])==null?void 0:c.savedValues)==null?void 0:P.applicant),Oa=o((Xt=(se=x[0])==null?void 0:se.savedValues)==null?void 0:Xt.material),bl=o((v=(Ae=x[0])==null?void 0:Ae.savedValues)==null?void 0:v.description),Zl=t.getTextWidth(vl),ql=t.getTextWidth(`${Il.value}`),E=g;t.text(vl,E,e);const w=E+Zl;t.text(`${Il.value}`,w,e),t.line(w,e+p,w+ql,e+p),n.value=w+ql;const X=t.getTextWidth(sl),U=t.getTextWidth(`${Cl.value}`),ae=n.value+3;t.text(sl,ae,e);const O=X+ae;t.text(`${Cl.value}`,O,e),t.line(O,e+p,O+U,e+p),e=e+10;const ce=t.getTextWidth(`${Oa.value}`);n.value>M&&(e=e+10),n.value=O+ce;const H=g,Je=t.getTextWidth(Za),Ma=t.getTextWidth(`${Oa.value}`);t.text(Za,H,e);const fe=H+Je;t.text(`${Oa.value}`,fe,e),t.line(fe,e+p,fe+Ma,e+p),e=e+5;const Pt=t.getTextWidth(`${bl.value}`);n.value=fe+Pt,n.value>M&&(e=e+5),console.log(n.value,M),e=e+5;const Q=t.getTextWidth(`${bl.value}`),Xa=t.getTextWidth(ba);console.log(Q,Xa);const je=g;if(t.text(ba,je,e),Q>220){e=e+4;const $=g;t.text(`${bl.value}`,$,e),t.line($,e+p,$+Q,e+p),n.value=$+Q,e=e+8}else{const $=je+Xa;t.text(`${bl.value}`,$,e),t.line($,e+p,$+Q,e+p),n.value=$+Q,e=e+5}e=e+5,t.setFontSize(12);const ze=new Image;ze.src="/demo/images/lambda.png",console.log(n.value,e);const Pe=[["Zone 1:",`${de.value}`,"x",`${ne.value}`,"- Mg:",`${Ee.value}`,"= Mr1:",`${Ye.value}`,"NOA Mf:",`${Fe.value}`],["Zone 2:",`${ua.value}`,"x",`${Z.value}`,"- Mg:",`${il.value}`,"= Mr2:",`${Aa.value}`,"NOA Mf:",`${we.value}`],["Zone 3:",`${jl.value}`,"x",`${fl.value}`,"- Mg:",`${$l.value}`,"= Mr3:",`${Sl.value}`,"NOA Mf:",`${Ge.value}`]];console.log(Pe);let Na=g-1,le=e;Pe.forEach($=>{let N=Na;$.forEach(D=>{console.log(N,le),t.text(String(D),N,le),N+=18}),t.addImage(ze,"png",50,le-4,5,5),t.addImage(ze,"png",50,le-4,5,5),t.addImage(ze,"png",50,le-4,5,5),le+=5,console.log(N,le)});const Ze="TileAdhesive.pdf",pe=t.output("blob");(async($,N)=>{const D=$,ue=D;console.log(ue);const qe=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${ot.value}/${ue}`;try{const ve=await fetch(qe,{method:"PUT",headers:{"Content-Type":D.type},body:N});ve.ok?(Ft.value=qe,alert("TileAdhesive File uploaded successfully!")):alert(`Failed to upload file. Status: ${ve.status}`)}catch(ve){console.error("Error uploading file:",ve),alert("An error occurred while uploading the file.")}})(Ze,pe)}};return(m,Se)=>(Nl(),Fl("div"))}};function Io(){const dt=o(),W=o([]);let V=o([]);const k=Eo(),f=o(),x=o("");let h="https://2dz45lw4aeav6valksiiquuwqq0ejsio.lambda-url.us-east-1.on.aws/";const{execute:I,then:F,data:L}=zo(h,{method:"GET"},{immediate:!1}),b=lo({noa:"",manufacturer:"",material:"",description:"",Table2:[],Table3:[],expiration_date:"",resistance:[],selection:"",select_tile:[],tile_map:[],table2_map:[],two_ten_d_RS_Nails:null,one_number_eight_screw:null,two_number_eight_screw:null,mechanicaltilefastener:[],fastenerValues:[],height:null,area:null,slope:null,perimeter:null,decktype:null,expiration_date:""});function Y(m){dt.value=m,console.log(dt.value),f.value=Number(dt.value),s()}const s=async()=>{try{const m=await I({params:{NOA:f.value}}).then(Se=>(W.value=L.value,console.log(L.value),W.value));console.log(m.length),m.length===0||(console.log(W.value),b.noa=W.value[0].NOA,b.manufacturer=W.value[0].applicant,b.material=W.value[0].material,b.selection=W.value[0].AdhesiveMaterials,b.description=W.value[0].description,b.select_tile=W.value[0].Select_Tile,b.tile_map=W.value[0].Tile_Map,b.table2_map=W.value[0].Table2_Map,b.expiration_date=W.value[0].expiration_date,b.Table2=W.value[0].Table2,b.Table3=W.value[0].Table3,b.resistance=W.value[0].Resistance,b.expiration_date=W.value[0].expiration_date,b.two_ten_d_RS_Nails=W.value[0].two_ten_d_RS_Nails,b.one_number_eight_screw=W.value[0].one_number_eight_screw,b.two_number_eight_screw=W.value[0].two_number_eight_screw,b.mechanicaltilefastener=W.value[0].mechanicaltilefastener,b.fastenerValues=W.value[0].fastenerValues,k.addNoa(b),console.log(b,"System added"))}catch(m){console.log("Error, fectching data",m)}return V};return{input:dt,fetchData:s,takeMechInput:Y,noaNum:W,error:x,results:V,...mo(b),mechStore:k}}const Uo={__name:"TileMechanical",setup(dt){const{getUser:W}=El(),V=o(!1),k=wl(),f=xl(),x=o(f.$state.roofList),{mechStore:h}=Io(),I=so(),F=io(),L=wo(),b=Al(()=>{if(x.value.length===0)return"";for(let s=0;s<x.value.length;s++)x.value[s].item==="Mechanical Fastened Tile"&&(console.log(x.value[s].item),V.value=!0,Y())});Ml(async()=>{await Xl(b).toBe(!0),console.log(b)});const Y=()=>{var g,e,Le,ye,Ve,re,be,z,ke,Re,G,oe,r,i,oa,sa,ct,pt,ut,vt,ht,gt,xt,mt,d,Tt,Wt,ft,$t,It,St,Ut,Ot,T,Vt,Ht,Yt,rt,a,ge,Gt,bt,ga,u,xa,A,_e,ma,wa,et,Dt,Jt,De,tt,at,lt,At,Mt,jt,Zt;if(h.tilemech.value.length===0)console.log("lenghth is   zero");else{let qt=o(!1),ia=o(!1),Be=o(!1);((e=(g=h.tilemech.value[0])==null?void 0:g.Table2)==null?void 0:e.content)==="multiple"&&(Be=!0),F.$state.tilesysEinput.length!==0&&(qt=!0,console.log(qt,F)),I.$state.tilefinput.length!==0&&(ia=!0,console.log(ia));const l=new Bl({orientation:"portrait",unit:"mm",format:"a4",compress:!0});console.log((Le=h.tilemech.value[0])==null?void 0:Le.Table2);const c=1,P=90,se=179,Xt=725,Ae=l.getPageInfo(1);console.log(Ae),Ae.pageContext.mediaBox.topRightX;const v=Ae.pageContext.mediaBox.topRightY,t=o(0),Kt=o(0);var s=v-Xt,m=595.28-585.28;t.value=m,Kt.value=s,console.log(k.$state.permitapp),console.log(h.tilemech.value[0]);const xe=o(((ye=h.tilemech.value[0])==null?void 0:ye.height)||"N/A"),M=o(((Ve=h.tilemech.value[0])==null?void 0:Ve.slope)||"N/A"),Ta=o(((re=h.tilemech.value[0])==null?void 0:re.decktype)||"N/A"),Qt=o(((be=h.tilemech.value[0])==null?void 0:be.perimeter)||"N/A");o((ke=(z=F.$state.tilesysEinput[0])==null?void 0:z.systemDataE)==null?void 0:ke.prescriptiveSelection),console.log(h.tilemech.value[0].prescriptiveSelection);const Me=o(((Re=h.tilemech.value[0])==null?void 0:Re.prescriptiveSelection)||"N/A"),n=o(((G=h.tilemech.value[0])==null?void 0:G.area)||""),Lt=o(((r=(oe=k.$state.permitapp[0])==null?void 0:oe.formdt)==null?void 0:r.address)||""),Xe=o(((oa=(i=k.$state.permitapp[0])==null?void 0:i.formdt)==null?void 0:oa.muni)||"");o(((ct=(sa=k.$state.permitapp[0])==null?void 0:sa.formdt)==null?void 0:ct.processNumber)||"");const Ne=o(((ut=(pt=k.$state.permitapp[0])==null?void 0:pt.formdt)==null?void 0:ut.muniProc)||""),Ie=o(((vt=L.$state.dripinputmecht[5])==null?void 0:vt.dripMTileMaterial)||""),na=o(((ht=L.$state.dripinputmecht[7])==null?void 0:ht.dripMTileMaterial)||"");console.log(h.tilemech.value),s=s+10;const Wa=o(((gt=h.tilemech.value[0])==null?void 0:gt.mf1)||""),Nt=o(((xt=h.tilemech.value[0])==null?void 0:xt.lambda1)||""),za=o(((mt=h.tilemech.value[0])==null?void 0:mt.mg1)||""),Ue=o(((d=h.tilemech.value[0])==null?void 0:d.mr1)||""),ot=o(((Tt=h.tilemech.value[0])==null?void 0:Tt.zoneone)||""),me=o(((Wt=h.tilemech.value[0])==null?void 0:Wt.mf2)||""),Ft=o(((ft=h.tilemech.value[0])==null?void 0:ft.lambda2)||""),Et=o((($t=h.tilemech.value[0])==null?void 0:$t.mg2)||""),Te=o(((It=h.tilemech.value[0])==null?void 0:It.mr2)||""),yt=o(((St=h.tilemech.value[0])==null?void 0:St.zonetwo)||""),Pa=o(((Ut=h.tilemech.value[0])==null?void 0:Ut.mf3)||""),_a=o(((Ot=h.tilemech.value[0])==null?void 0:Ot.lambda3)||""),Ga=o(((T=h.tilemech.value[0])==null?void 0:T.mg3)||""),Ca=o(h.tilemech.value[0].mr3||""),el=o(((Vt=h.tilemech.value[0])==null?void 0:Vt.zonethree)||""),Ja=o(""),fa=o(W.value[0].dba);l.setGState(new l.GState({opacity:.8}));const ka="Approved";l.setFontSize(24),l.setTextColor(150,150,150),l.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const p=new Image,tl=new Image,B=new Image;p.src="/demo/images/officepaper.jpeg",tl.src="/demo/images/logo.jpeg",B.src="/demo/images/lambda.png",l.addImage(tl,"JPEG",10,0,50,30),l.addImage(p,"JPEG",0,0,210,297),l.setFontSize(15),l.setTextColor("green");var Se=new Date,R=Se.toLocaleDateString();l.text(ka,10,270,{align:"left"});const da=l.getTextWidth(ka);l.text("on: "+R,da+15,270),l.text(`${Ne.value}`,10,280,{align:"left"});const Ra=l.getTextWidth(`${Ne.value}`);l.text(`${Xe.value}`,Ra+15,280);const Ba=()=>{l.setFontSize(12),l.setTextColor(0),l.text("The tile roof system and its components shall be installed in strict compliance with the FBC 2023 HVHZ portions of Chapter 15, the HVHZ Tile Application Standards: RAS-119, RAS-120 & RAS-127 and the submitted MDC Notice of Acceptance(s).",10,29,{maxWidth:"200"}),l.line(10,41,195,41)};l.setTextColor(0),l.circle(189,38,2,"FD"),l.text("I agree",165,39),Ba(),l.setFontSize(12);const Ia=[{category:"DBA",value:`${fa.value}`},{category:"Municipality",value:`${Xe.value}`},{category:"Job Address",value:`${Lt.value}`},{category:"Process Number",value:`${Ne.value}`}];let al=10,$a=60,ja=50;l.setFontSize(12),Ia.forEach((E,w)=>{const X=ja+w*10;l.text(E.category,al,X),l.text(E.value,$a,X),l.getTextWidth(E.category);const U=l.getTextWidth(E.value)*2;l.line($a,X+2,$a+U,X+2)}),l.setFontSize(12),console.log(s);const Sa="Roof Perimeter: ",_t=l.getTextWidth("Roof Area: "),ll=l.getTextWidth(`${n.value}`);l.text("Roof Area:",m,P);const Va=_t+10;l.text(`${n.value}`,Va,P),l.line(Va,P+c,Va+ll,P+c),t.value=_t+ll,console.log(t.value);const Ua=l.getTextWidth("Mean Roof Height:"),J=l.getTextWidth(`${xe.value}`),ca=t.value+15;l.text("Mean Roof Height:",ca,P);const ie=Ua+45;l.text(`${xe.value}`,ie,P),l.line(ie,P+c,ie+J,P+c),t.value=Ua+J,console.log(t.value),l.getTextWidth("Roof Slope: ");const wt=l.getTextWidth(`${M.value}`),st=t.value+50;l.text("Roof Slope:",st,P);const ea=st+25;l.text(`${M.value}`,ea,P),l.line(ea,P+c,ea+wt,P+c),t.value=t.value+ea;const ml=l.getTextWidth(Sa),pl=l.getTextWidth(`${Qt.value}`),ra=t.value-30;l.text(Sa,ra,P);const ul=ml+ra+2;l.text(`${Qt.value}`,ul,P),l.line(ul,P+c,ul+pl,P+c),s=P+30;const Tl=l.getTextWidth("Deck Type"),ol=l.getTextWidth(`${Ta.value}`);t.value=t.value+Tl-30,l.text("Decktype:",t.value,s);const ta=t.value+20;l.text(`${Ta.value}`,ta,s),l.line(ta,s+c,ta+ol,s+c),t.value=ta+ol;const sl="Tile NOA Number: ",vl="Tile Applicant: ",Za="Tile Material: ",ba="Tile Type: ",zt="Tile Description: ",Da="Select Mechanical Tile Fastener: ",pa="Fastened (UDL) NOA: ",qa="(UDL) NOA Applicant: ",Ka="Fastened (UDL) Material: ",Wl="Select System E: ",S="Design psf: ",j="Anchor Base Sheet: ",C="(UDL) Description: ",q="Prescriptive: ",We="DripEdge Material: ",y="DripEdge Size: ";console.log(h.tilemech.value[0]),console.log(h.tilemech.value[0]);const it=o((Ht=h.tilemech.value[0])==null?void 0:Ht.noa),_=o((Yt=h.tilemech.value[0])==null?void 0:Yt.manufacturer),ee=o((rt=h.tilemech.value[0])==null?void 0:rt.material),Oe=Be===!0?o((a=h.tilemech.value[0])==null?void 0:a.tiletype):o((ge=h.tilemech.value[0])==null?void 0:ge.material),He=Be!==!0?o((Gt=h.tilemech.value[0])==null?void 0:Gt.savedfastener):o((bt=h.tilemech.value[0])==null?void 0:bt.description),K=Be===!0?o((ga=h.tilemech.value[0])==null?void 0:ga.savedfastener):o((u=h.tilemech.value[0])==null?void 0:u.description);console.log((xa=h.tilemech.value[0])==null?void 0:xa.description,(A=h.tilemech.value[0])==null?void 0:A.savedfastener),l.getTextWidth(q);const te=l.getTextWidth(`${Me.value}`),aa=m;l.text(q,aa,s-15);const Fe=m;s=s-9,l.text(`${Me.value}`,Fe,s),l.line(Fe,s+c,Fe+te,s+c),s=s+10;const ne=l.getTextWidth(We),Ee=l.getTextWidth(`${Ie.value}`),Ye=m;l.text(We,Ye,s);const de=ne+Ye;l.text(`${Ie.value}`,de,s),l.line(de,s+c,de+Ee,s+c),s=s+8;const we=l.getTextWidth(y),Z=l.getTextWidth(`${na.value}`),il=m;l.text(y,il,s);const Aa=we+il;if(l.text(`${na.value}`,Aa,s),l.line(Aa,s+c,Aa+Z,s+c),s=s+10,l.setFontSize(12),F.$state.tilesysEinput.length===0){const E="n/a",w="n/a",X="n/a",U="n/a",ae=l.getTextWidth(pa),O=l.getTextWidth(E),ce=m;l.text(pa,ce,s);const H=ce+ae;l.text(E,H,s),l.line(H,s+c,H+O,s+c),t.value=H+O,console.log(t.value);const Je=l.getTextWidth(qa),Ma=l.getTextWidth(w),fe=t.value+2;l.text(qa,fe,s);const Pt=fe+Je;l.text(w,Pt,s),l.line(Pt,s+c,Pt+Ma,s+c),t.value=Pt+Ma,console.log(t.value),t.value>se&&(s=s+10);const Q=t.value+2,Xa=l.getTextWidth(Ka),je=l.getTextWidth(X);l.text(Ka,Q,s);const ze=Q+Xa;l.text(X,ze,s),l.line(ze,s+c,ze+je,s+c),t.value=ze+je,console.log(t.value),t.value>se&&(s=s+10),s=s+10;const Pe=l.getTextWidth(C),Na=l.getTextWidth(U),le=m,Ze=le+Na;console.log(Ze),l.text(C,le,s),Ze>se&&print(Ze);const pe=le+Pe;l.text(U,pe,s),l.line(pe,s+c,pe+Na,s+c),t.value=pe+Na,s=s+10}else{console.log(F.$state.tilesysEinput);const E=o(((ma=(_e=F.$state.tilesysEinput[0])==null?void 0:_e.systemDataE)==null?void 0:ma.noa)||"N/A"),w=o(((et=(wa=F.$state.tilesysEinput[0])==null?void 0:wa.systemDataE)==null?void 0:et.manufacturer)||"N/A"),X=o(((Jt=(Dt=F.$state.tilesysEinput[0])==null?void 0:Dt.systemDataE)==null?void 0:Jt.material)||"N/A"),U=o(((tt=(De=F.$state.tilesysEinput[0])==null?void 0:De.systemDataE)==null?void 0:tt.systemSelected)||"N/A"),ae=o(((lt=(at=F.$state.tilesysEinput[0])==null?void 0:at.systemDataE)==null?void 0:lt.dP)||"N/A"),O=o(((Mt=(At=F.$state.tilesysEinput[0])==null?void 0:At.systemDataE)==null?void 0:Mt.Anchor_Base)||"N/A"),ce=o(((Zt=(jt=F.$state.tilesysEinput[0])==null?void 0:jt.systemDataE)==null?void 0:Zt.tileCap)||"N/A"),H=l.getTextWidth(pa),Je=l.getTextWidth(`${E.value}`),Ma=m;l.text(pa,Ma,s);const fe=Ma+H;l.text(`${E.value}`,fe,s),l.line(fe,s+c,fe+Je,s+c),t.value=fe+Je;const Pt=l.getTextWidth(qa),Q=l.getTextWidth(`${w.value}`),Xa=t.value+2;l.text(qa,Xa,s);const je=Xa+Pt;l.text(`${w.value}`,je,s),l.line(je,s+c,je+Q,s+c);const ze=l.getTextWidth(`${X.value}`);t.value=je+ze,s=s+10;const Pe=m,Na=l.getTextWidth(Ka),le=l.getTextWidth(`${X.value}`);l.text(Ka,Pe,s);const Ze=Pe+Na;l.text(`${X.value}`,Ze,s),l.line(Ze,s+c,Ze+le,s+c),t.value=Ze+le,t.value>se&&(s=s+10);const pe=t.value+5,Dl=l.getTextWidth(Wl),$=l.getTextWidth(`${U.value}`);l.text(Wl,pe,s);const N=pe+Dl;l.text(`${U.value}`,N,s),l.line(N,s+c,N+$,s+c),t.value=N+$,t.value>se&&(s=s+10);const D=l.getTextWidth(S),ue=l.getTextWidth(`${ae.value}`),qe=t.value+3;l.text(S,qe,s);const ve=qe+D;l.text(`${ae.value}`,ve,s),l.line(ve,s+c,ve+ue,s+c),t.value=ve+ue,console.log(t.value),s=s+10,l.getTextWidth(j);const Ct=l.getTextWidth(`${O.value}`),kt=m;l.text(j,kt,s),s=s+10;const $e=m;l.text(`${O.value}`,$e,s),l.line($e,s+c,$e+Ct,s+c),t.value=$e+Ct,s=s+10;const Fa=l.getTextWidth(C),Ke=l.getTextWidth(`${ce.value}`),nt=m;l.text(C,nt,s);const he=nt+Fa;l.text(`${ce.value}`,he,s),l.line(he,s+c,he+Ke,s+c),t.value=he+Ke,console.log(t.value),s=s+10}const ua="Self Adhered NOA: ",Ge="S/A NOA Applicant: ",fl="S/A System F: ",$l="S/A Material: ",Sl="S/A Description: ";if(I.$state.tilefinput.length===0){const E="n/a",w="n/a",X="n/a",U="n/a",ae="n/a",O=l.getTextWidth(ua),ce=l.getTextWidth(E),H=m;l.text(ua,H,s);const Je=H+O;l.text(E,Je,s),l.line(Je,s+c,Je+ce,s+c),t.value=Je+ce,console.log(t.value);const Ma=l.getTextWidth(Ge);l.getTextWidth(w);const fe=t.value+3,Pt=l.getTextWidth(X);l.text(Ge,fe,s);const Q=fe+Ma;l.text(w,Q,s),l.line(Q,s+c,Q+Pt,s+c),t.value=Q+Pt,console.log(t.value);const Xa=l.getTextWidth(fl),je=l.getTextWidth(X),ze=t.value+3;l.text(fl,ze,s);const Pe=ze+Xa;l.text(X,Pe,s),l.line(Pe,s+c,Pe+je,s+c),t.value=Pe+je,console.log(t.value),s=s+10;const Na=l.getTextWidth($l),le=l.getTextWidth(U),Ze=m;l.text($l,Ze,s);const pe=Ze+Na;l.text(U,pe,s),l.line(pe,s+c,pe+le,s+c),t.value=pe+le,console.log(t.value);const Dl=l.getTextWidth(Sl),$=l.getTextWidth(ae),N=t.value+3;l.text(Sl,N,s);const D=N+Dl;l.text(ae,D,s),l.line(D,s+c,D+$,s+c),t.value=D+$,console.log(t.value)}else{console.log("Entered sbs line 455",I.$state);const E=o(I.$state.tilefinput[0].systemData.noa),w=o(I.$state.tilefinput[0].systemData.manufacturer),X=o(I.$state.tilefinput[0].systemData.pressure),U=o(I.$state.tilefinput[0].systemData.material),ae=o(I.$state.tilefinput[0].systemData.description),O=l.getTextWidth(ua),ce=l.getTextWidth(`${E.value}`),H=m;l.text(ua,H,s);const Je=H+O;l.text(`${E.value}`,Je,s),l.line(Je,s+c,Je+ce,s+c),t.value=Je+ce;const Ma=l.getTextWidth(Ge),fe=l.getTextWidth(`${w.value}`),Pt=t.value+3;l.text(Ge,Pt,s);const Q=Pt+Ma;l.text(`${w.value}`,Q,s),l.line(Q,s+c,Q+fe,s+c),t.value=Q+fe,console.log(t.value);const Xa=l.getTextWidth(fl),je=l.getTextWidth(`${X.value}`),ze=t.value+3;l.text(fl,ze,s);const Pe=ze+Xa;l.text(`${X.value}`,Pe,s),l.line(Pe,s+c,Pe+je,s+c),t.value=Pe+je,s=s+10;const Na=l.getTextWidth($l),le=l.getTextWidth(`${U.value}`),Ze=m;l.text($l,Ze,s);const pe=Ze+Na;l.text(`${U.value}`,pe,s),l.line(pe,s+c,pe+le,s+c),t.value=pe+le,t.value>se&&(s=s+10);const Dl=l.getTextWidth(Sl),$=l.getTextWidth(`${ae.value}`),N=t.value+3;l.text(Sl,N,s);const D=N+Dl;l.text(`${ae.value}`,D,s),l.line(D,s+c,D+$,s+c),t.value=D+$,t.value>=se&&(s=s+10),console.log(t.value)}s=s+10;const jl=l.getTextWidth(`${_.value}`),Vl=l.getTextWidth(vl),zl=m;l.text(vl,zl,s);const rl=zl+Vl;l.text(`${_.value}`,rl,s),l.line(rl,s+c,rl+jl,s+c),t.value=rl+Vl+10;const Pl=l.getTextWidth(sl),hl=l.getTextWidth(`${it.value}`),gl=t.value+Pl;l.text(sl,gl,s);const Qa=gl+38;l.text(`${it.value}`,Qa,s),l.line(Qa,s+c,Qa+hl,s+c),t.value=Qa+hl,s=s+10;const la=s;if(Be===!0){const E=l.getTextWidth(ba),w=l.getTextWidth(`${Oe.value}`),X=m;l.text(ba,X,la);const U=X+E;t.value=E+w,l.text(`${Oe.value}`,U,la),l.line(U,la+c,U+w,la+c),s=s+10;const ae=l.getTextWidth(Da),O=l.getTextWidth(`${K.value}`);console.log(K.value),t.value=m;const ce=t.value;l.text(Da,ce,s),console.log(t.value);const H=ce+ae;l.text(`${K.value}`,H,s),l.line(H,s+c,H+O,s+c),t.value=H+O,s=s+10}else{const E=l.getTextWidth(Za),w=l.getTextWidth(`${ee.value}`);t.value=m,console.log(ee.value);const X=t.value;l.text(Za,X,la);const U=X+E;l.text(`${ee.value}`,U,la),l.line(U,la+c,U+w,la+c),t.value=E+w+20,console.log(t.value);const ae=l.getTextWidth(zt),O=l.getTextWidth(`${He.value}`),ce=t.value+10;l.text(zt,ce,s);const H=ce+ae;l.text(`${He.value}`,H,s),l.line(H,s+c,H+O,s+c),t.value=H+O}s=s+10;const La=new Image;La.src="/demo/images/lambda.png";const Cl=[["Zone 1:",`${ot.value}`,"x",`${Nt.value}`,"- Mg:",`${za.value}`,"= Mr1:",`${Ue.value}`,"NOA Mf:",`${Wa.value}`],["Zone 2:",`${yt.value}`,"x",`${Ft.value}`,"- Mg:",`${Et.value}`,"= Mr2:",`${Te.value}`,"NOA Mf:",`${me.value}`],["Zone 3:",`${el.value}`,"x",`${_a.value}`,"- Mg:",`${Ga.value}`,"= Mr3:",`${Ca.value}`,"NOA Mf:",`${Pa.value}`]];console.log(Cl);let Il=m-1,Oa=s;Cl.forEach(E=>{let w=Il;E.forEach(X=>{l.text(String(X),w,Oa),w+=18}),l.addImage(La,"png",50,Oa-4,5,5),l.addImage(La,"png",50,Oa-4,5,5),l.addImage(La,"png",50,Oa-4,5,5),Oa+=5,Oa+=5}),s=s+20;const bl="MechanicalTile.pdf",Zl=l.output("blob");(async(E,w)=>{const X=E,U=X;console.log(U);const ae=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${Ne.value}/${U}`;try{const O=await fetch(ae,{method:"PUT",headers:{"Content-Type":X.type},body:w});O.ok?(Ja.value=ae,alert("Mechanical File uploaded successfully!")):alert(`Failed to upload file. Status: ${O.status}`)}catch(O){console.error("Error uploading file:",O),alert("An error occurred while uploading the file.")}})(bl,Zl)}};return(s,m)=>(Nl(),Fl("div"))}},Oo={id:"summary",class:"card-system"},Ho=Ya("p",null,"The roof systems you selected",-1),Yo={class:"rounded border border-surface-200 dark:border-surface-700 p-6 bg-surface-0 dark:bg-surface-900"},ds={__name:"Summarys",setup(dt){var Le,ye,Ve,re,be;const{accountUsers:W}=El(),V=Vo();o(!1),o(!1);let k=o(!1),f=o(!1),x=o(!1),h=o(!1),I=o(!1);const F=o("");o(""),o("");const L=wl(),b=xl(),Y=o(b.$state.roofList);o(((ye=(Le=L.$state.permitapp[0])==null?void 0:Le.formdt)==null?void 0:ye.processNumber)||"");const s=oo(),m=o(s.$state.generalpdfinput);o(((re=(Ve=L.$state.permitapp[0])==null?void 0:Ve.formdt)==null?void 0:re.muniProc)||""),o(!1),o(((be=V.$state.countinput[0])==null?void 0:be.countData)||""),o(!1),o(!1),o(!1),o(!1);function Se(){W.value.forEach((z,ke)=>{F.value=z.dba})}const R=lo({dim:"",item:""}),g=Al(()=>{if(Y.value.length===0)return"";for(let z=0;z<Y.value.length;z++)Y.value[z].item==="Asphalt Shingle"?(h.value=!0,R.dim=Y.value[z].dim1,R.item=Y.value[z].item):Y.value[z].item==="Low Slope"?I.value=!0:Y.value[z].item==="Adhesive Set Tile"?(console.log(Y.value[z].item),f.value=!0):Y.value[z].item==="Mechanical Fastened Tile"?(console.log(Y.value[z].item),x.value=!0):m.value.length!==1&&(k.value=!0),console.log(Y.value)});To(()=>{Se()});const e=o([{status:"RoofSystems",date:"15/10/2020 10:30",icon:"pi pi-cog",color:"#9C27B0",image:"/src/assets/img/roofing_tile.jpg"},{status:"Processing",date:"15/10/2020 14:00",icon:"pi pi-cog",color:"#673AB7"},{status:R.item,date:"15/10/2020 14:00",icon:"pi pi-cog",color:"#673AB7"}]);return Wo(Se,g,()=>{}),Ml(async()=>{await Xl(g).toBe(!0)}),(z,ke)=>{const Re=vo,G=uo,oe=po;return Nl(),Fl(fo,null,[Ya("div",Oo,[cl(oe,{value:e.value,align:"alternate",class:"customized-timeline",style:{"margin-top":"50px"}},{marker:Rl(r=>[Ya("span",{class:"flex w-8 h-8 items-center justify-center text-white rounded-full z-10 shadow-sm",style:$o({backgroundColor:r.item.color})},[Ya("i",{class:So(r.item.icon)},null,2)],4)]),content:Rl(r=>[cl(G,{class:"mt-4"},{title:Rl(()=>[eo(to(r.item.status),1)]),subtitle:Rl(()=>[eo(to(r.item.date),1)]),content:Rl(()=>[Ho,cl(Re,{label:"Read more",text:""})]),_:2},1024)]),_:1},8,["value"])]),Ya("div",Yo,[Ya("div",null,[cl(Po)]),Yl(Ya("div",null,[cl(ko)],512),[[Gl,Jl(h)]]),Yl(Ya("div",null,[cl(Bo)],512),[[Gl,Jl(f)]]),Yl(Ya("div",null,[cl(Uo)],512),[[Gl,Jl(x)]]),Yl(Ya("div",null,[cl(Co)],512),[[Gl,Jl(I)]])])],64)}}};export{ds as default};
