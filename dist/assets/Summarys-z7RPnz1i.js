import{s as po}from"./index-CKe9_85L.js";import{s as uo}from"./index-DxAfv8gF.js";import{s as vo}from"./index-0fErcGy8.js";import{e as l,_ as Al,ae as Ml,ag as Xl,o as Nl,c as Fl,C as ho,au as xo,D as go,f as lo,y as mo,h as To,ad as Wo,i as Ha,j as pl,p as Rl,H as Yl,af as Gl,k as Jl,F as fo,V as $o,n as So,q as eo,t as to}from"./index-B5uoyZLQ.js";import{u as El}from"./accountsStore-D23ifC2_.js";import{c as Vo}from"./countStore-CuB_SIHh.js";import{u as oo}from"./generalpageStore-7_I0D1so.js";import{u as wl}from"./permitapp-Bmd3uEVu.js";import{u as gl}from"./roofList-D-AJnivi.js";import{E as Bl}from"./jspdf.es.min-CNJFt8Kd.js";import{a as ao,u as ro}from"./dripEdgeStore-CCgICdLN.js";import{b as bo,a as Do,c as Ao,u as Mo}from"./systemfStore-tD625bbq.js";import{a as Xo,b as No,u as Fo}from"./tilevalueStore-DHOyagEX.js";import{u as so,a as io}from"./tilesysfStore-CqLxbCMq.js";import{u as Eo,a as wo}from"./dripEdgeMechTileStore-B6bVkqsC.js";import{u as zo}from"./useAxios--8gzsFGl.js";import"./index-D5fw28DA.js";import"./reset-store-Cq_nW3JT.js";const Po={__name:"Generalpagepdf",setup(it){var me,g,e,nt,_e,Xe,Ne,Fe,z,Re,Be,Ie,Ue;const{getUser:$}=El();let V=l(!1);const k=wl();gl();const D=oo(),T=l(((g=(me=k.$state.permitapp[0])==null?void 0:me.formdt)==null?void 0:g.address)||""),x=l(((nt=(e=k.$state.permitapp[0])==null?void 0:e.formdt)==null?void 0:nt.permit)||"N|A"),q=l(((Xe=(_e=k.$state.permitapp[0])==null?void 0:_e.formdt)==null?void 0:Xe.processNumber)||""),N=l(((Fe=(Ne=k.$state.permitapp[0])==null?void 0:Ne.formdt)==null?void 0:Fe.muniProc)||""),K=l(((Re=(z=k.$state.permitapp[0])==null?void 0:z.formdt)==null?void 0:Re.muni)||"");l((Ie=(Be=D.$state.generalpdfinput[1])==null?void 0:Be.generalpdfData)==null?void 0:Ie.totalData);const r=l(((Ue=$.value[0])==null?void 0:Ue.dba)||""),j=l(""),o=l(D.$state.generalpdfinput);function W(){o.value.length!==1&&(V.value=!0)}Al(()=>{W()}),Ml(async()=>{await Xl(V).toBe(!0),Me()});const Me=()=>{var Ct,kt,dt,ct,pt,ut,vt,ht;if(D.$state.generalpdfinput.length===0)console.log("lenghth is   zero");else{const d=new Bl({orientation:"portrait",unit:"mm",format:"a4",compress:!0});d.setGState(new d.GState({opacity:.9}));const xt="Approved";d.setFontSize(24),d.setTextColor("black"),d.setFont("helvetica"),d.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const gt=new Image,mt=new Image,Tt=new Image;gt.src="/demo/images/officepaper.jpeg",mt.src="/demo/images/logo.jpeg",Tt.src="/demo/images/DragAndDrop.jpeg";const Rt=725,Wt=d.getPageInfo(1),Bt=Wt.pageContext.mediaBox.topRightX,It=Wt.pageContext.mediaBox.topRightY;console.log(Bt);const f=l(0),ft=l(0);var R=595.28-585.28,m=It-Rt;f.value=R,ft.value=m,console.log(f.value,ft.value),d.addImage(mt,"JPEG",10,10,50,30),d.addImage(gt,"JPEG",0,0,210,297),d.setFontSize(12),d.setTextColor("green");var G=new Date,p=G.toLocaleDateString();d.text(xt,10,270,{align:"left"});const Ut=d.getTextWidth(xt);d.text("on: "+p,Ut+15,270),d.text(`${N.value}`,10,280,{align:"left"});const Ot=d.getTextWidth(`${N.value}`);d.text(`${K.value}`,Ot+15,280);const $t=l(!1),s=l(!1),Te=l(!1),i=l(!1),St=l(!1);d.setFontSize(12);const ea=()=>{d.setFontSize(12),d.setTextColor(0),d.text("2023 HVHZ  mEPermit General Information Page",70,20,{maxWidth:"170"}),d.line(10,30,195,30)};d.setTextColor(0),ea(),d.setFontSize(12);const v=l((kt=(Ct=D.$state.generalpdfinput[1])==null?void 0:Ct.generalpdfData)==null?void 0:kt.totalData),ma=[{category:"DBA",value:`${r.value}`},{category:"Roof Area",value:`${v.value}`},{category:"Job Address",value:`${T.value}`},{category:"meProcess Number",value:`${q.value}`},{category:"Master Permit",value:`${x.value}`}];let ta=10,Vt=60,A=50;d.setFontSize(12),ma.forEach((He,lt)=>{const fe=A+lt*10;d.text(He.category,ta,fe),d.text(He.value,Vt,fe),d.getTextWidth(He.category);const Ye=d.getTextWidth(He.value)*2;d.line(Vt,fe+2,Vt+Ye,fe+2)}),d.setTextColor("black"),d.setFontSize(12);const et=100,rt=l(!1),Ht=l(!1);f.value=R+40,D.$state.generalpdfinput[1].generalpdfData.roofCheck[0]==="reroof"?(rt.value=!0,console.log(rt.value)):Ht.value=!0,f.value=R+50,m=et,console.log(m),d.text("Re-Roof: ",f.value,m);const tt=m-3,Yt=rt.value===!0?d.rect(f.value+20,tt,4,4,"FD"):d.rect(f.value+20,tt,4,4);f.value=R+120,m=et,console.log(m),d.text("New Roof: ",f.value,m);const Oe=Ht.value===!0?d.rect(f.value+25,tt,4,4,"FD"):d.rect(f.value+25,tt,4,4);console.log(Yt,Oe),m=m+10;const Gt="Total: ",bt="Low Slope: ",Jt="Steep Slope: ",jt=l(((ct=(dt=D.$state.generalpdfinput[1])==null?void 0:dt.generalpdfData)==null?void 0:ct.totalData)||""),Zt=l(((ut=(pt=D.$state.generalpdfinput[1])==null?void 0:pt.generalpdfData)==null?void 0:ut.slopeData)||""),qt=l(((ht=(vt=D.$state.generalpdfinput[1])==null?void 0:vt.generalpdfData)==null?void 0:ht.steepData)||"");console.log(D.$state.generalpdfinput[1].generalpdfData),f.value=R+25,m=et+10;const aa=d.getTextWidth(bt),We=d.getTextWidth(`${Zt.value}`),a=f.value+5;d.text(bt,a,m);const n=aa+a;d.text(`${Zt.value}`,n,m),d.line(n,m,n+We,m),f.value=n+We;const P=d.getTextWidth(Jt),se=d.getTextWidth(`${qt.value}`),Dt=f.value+5;d.text(Jt,Dt,m);const h=P+Dt;d.text(`${qt.value}`,h,m),d.line(h,m,h+se,m),console.log(m,m),m=et+10,f.value=h+se,console.log(f.value);const Fa=d.getTextWidth(Gt),t=d.getTextWidth(`${jt.value}`),Kt=f.value+5;d.text(Gt,Kt,m);const _=Fa+Kt;d.text(`${jt.value}`,_,m),d.line(_,m,_+t,m),f.value=_+t,console.log(D.$state.generalpdfinput[1]),D.$state.generalpdfinput[1].generalpdfData.slopeChk===!0&&(St.value=!0,console.log("Slope Checked")),D.$state.generalpdfinput[1].generalpdfData.adtileChk===!0&&($t.value=!0),D.$state.generalpdfinput[1].generalpdfData.metalChk===!0&&(s.value=!0),D.$state.generalpdfinput[1].generalpdfData.mtileChk===!0&&(Te.value=!0),D.$state.generalpdfinput[1].generalpdfData.shingleChk===!0&&(i.value=!0,console.log("Shingle Checked")),f.value=R-4,m=m+10,d.text("Low Slope: ",R,m);const C=m-3,la=St.value===!0?d.rect(f.value+27,C,4,4,"FD"):d.rect(f.value+27,C,4,4);console.log(Yt,Oe,la),f.value=f.value+4;const Qt=f.value+32;console.log(f.value);const ie=Qt;console.log(f.value),d.text("Adhesive Set Tile: ",ie,m);const c=$t.value===!0?d.rect(ie+36,C,4,4,"FD"):d.rect(ie+36,C,4,4);console.log(Yt,Oe,c),console.log(f.value);const At=ie+43;console.log(f.value),d.text("Metal Panel: ",At,m),s.value===!0?d.rect(At+25,C,4,4,"FD"):d.rect(At+25,C,4,4);const Ee=At+35;console.log(f.value),d.text("Shingle: ",Ee,m);const ne=i.value===!0?d.rect(Ee+17,C,4,4,"FD"):d.rect(Ee+17,C,4,4);f.value=Ee;const Lt=Ee+28;console.log(f.value),d.text("Mechanical Fastened Tile: ",Lt,m);const oa=Te.value===!0?d.rect(Lt+51,C,4,4,"FD"):d.rect(Lt+51,C,4,4);console.log(oa,ne),m=m+10,d.addImage(Tt,"JPEG",R+40,m,100,100);const sa="GeneralPage.pdf",at=d.output("blob");(async(He,lt)=>{const fe=He,Ye=fe;console.log(Ye);const Mt=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${N.value}/${Ye}`;try{const $e=await fetch(Mt,{method:"PUT",headers:{"Content-Type":fe.type},body:lt});$e.ok?(j.value=Mt,alert("GeneralPage File uploaded successfully!")):alert(`Failed to upload file. Status: ${$e.status}`)}catch($e){console.error("Error uploading file:",$e),alert("An error occurred while uploading the file.")}})(sa,at)}};return(R,m)=>(Nl(),Fl("div"))}},Co={__name:"LowSlopepdf",setup(it){var _e,Xe,Ne,Fe,z,Re,Be,Ie,Ue,R;const{getUser:$}=El(),V=wl(),k=gl(),D=ao(),T=l(((_e=k.$state.roofList[0])==null?void 0:_e.dim2)||""),x=l(((Ne=(Xe=V.$state.permitapp[0])==null?void 0:Xe.formdt)==null?void 0:Ne.address)||""),q=l(((z=(Fe=V.$state.permitapp[0])==null?void 0:Fe.formdt)==null?void 0:z.muni)||""),N=l(((Be=(Re=V.$state.permitapp[0])==null?void 0:Re.formdt)==null?void 0:Be.processNumber)||""),K=ro(),{dripedgeStore:r,dripinput:j}=ho(K),o=l(((Ue=(Ie=V.$state.permitapp[0])==null?void 0:Ie.formdt)==null?void 0:Ue.muniProc)||""),W=l(((R=$.value[0])==null?void 0:R.dba)||""),Me=l(D.$state.burpdfinput);let me=l(!1);const g=l("");function e(){Me.value.length!==1&&(me.value=!0,nt())}Al(()=>{e()}),Ml(async()=>{await Xl(me).toBe(!0)});const nt=()=>{var dt,ct,pt,ut,vt,ht,d,xt,gt,mt,Tt,Rt,Wt,Bt,It,f,ft,Ut;const m=ao();if(m.$state.burpdfinput.length===0)console.log("lenghth is zero");else{const Ot=l((ct=(dt=m.$state.burpdfinput[0])==null?void 0:dt.burpdfData)==null?void 0:ct.height),$t=l((ut=(pt=m.$state.burpdfinput[0])==null?void 0:pt.burpdfData)==null?void 0:ut.slope),s=l((ht=(vt=m.$state.burpdfinput[0])==null?void 0:vt.burpdfData)==null?void 0:ht.per),Te=l((xt=(d=m.$state.burpdfinput[0])==null?void 0:d.burpdfData)==null?void 0:xt.deckType),i=new Bl({orientation:"portrait",unit:"mm",format:"a4",compress:!0});i.setGState(new i.GState({opacity:.9}));const St="Approved";i.setFontSize(24),i.setTextColor("black"),i.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const ea=new Image,v=new Image;ea.src="/demo/images/officepaper.jpeg",v.src="/demo/images/logo.jpeg";const ma=725,ta=i.getPageInfo(1);ta.pageContext.mediaBox.topRightX;const Vt=ta.pageContext.mediaBox.topRightY,A=l(0),Ta=l(0);var G=595.28-585.28,p=Vt-ma;A.value=G,Ta.value=p,console.log(A.value,Ta.value),i.addImage(v,"JPEG",10,2,50,30),i.addImage(ea,"JPEG",0,0,210,297),i.setFontSize(12),i.setTextColor("green");var Ct=new Date,kt=Ct.toLocaleDateString();i.text(St,10,270,{align:"left"});const et=i.getTextWidth(St);i.text("on: "+kt,et+15,270),i.text(`${o.value}`,10,280,{align:"left"});const rt=i.getTextWidth(`${o.value}`);i.text(`${q.value}`,rt+15,280),i.setFontSize(12);const Ht=()=>{i.setFontSize(10),i.setTextColor(0),i.text('The low slope Built Up Roof (BUR) Assembly shall be installed in compliance with the HVHZ portions of Chapter 15 found in the 2023 Florida Building Code and the HVHZ Roofing Application Standards (RAS), RAS-111, RAS-117 and RAS-128. This roof assembly shall also comply with the listed requirements for a Class "A" fire rating including roof slope (incline), components and a fire barrier when required. The mePermit applicant agrees to comply with these installation requirements when obtaining this permit.',10,25,{maxWidth:"170"}),i.line(10,50,195,50)};i.setTextColor("black"),i.circle(185,45,2,"FD"),i.text("I agree",165,45),Ht(),i.setFontSize(12);const tt=[{category:"DBA",value:`${W.value}`},{category:"Municipality",value:`${q.value}`},{category:"Job Address",value:`${x.value}`},{category:"meProcess Number",value:`${N.value}`}];let Yt=10,Oe=60,Gt=72;i.setFontSize(12),tt.forEach((de,pa)=>{const ce=Gt+pa*10;i.text(de.category,Yt,ce),i.text(de.value,Oe,ce),i.getTextWidth(de.category);const Xt=i.getTextWidth(de.value)*2;i.line(Oe,ce+2,Oe+Xt,ce+2)}),i.setFontSize(12);const bt="Roof Area: ",Jt="Decktype: ",jt="Mean Roof Height: ",Zt="Roof Slope: ",qt="Roof Perimeter: ",aa="Type of Low Slope BUR Material: ",We="Type of Low Slope BUR System: ",a="Attach P(1') Prime using P(1) Field Prescriptive Basesheet: ",n="Attach P(2) Perimeter using P(3) Corner Prescriptive: ",P=l(((mt=(gt=m.$state.burpdfinput[1])==null?void 0:gt.burpdfData)==null?void 0:mt.burMaterial)||""),se=l(((Rt=(Tt=m.$state.burpdfinput[1])==null?void 0:Tt.burpdfData)==null?void 0:Rt.burSystem)||""),Dt=l(((Bt=(Wt=m.$state.burpdfinput[1])==null?void 0:Wt.burpdfData)==null?void 0:Bt.p1)||""),h=l(((f=(It=m.$state.burpdfinput[1])==null?void 0:It.burpdfData)==null?void 0:f.p3)||"");console.log(Dt),A.value=G;const Fa=i.getTextWidth(bt),t=i.getTextWidth(`${T.value}`),Kt=A.value;i.text(bt,Kt,p);const _=Fa+Kt;i.text(`${T.value}`,_,p),i.line(_,p+2,_+t,p+2),A.value=_+t;const C=i.getTextWidth(jt),la=i.getTextWidth(`${Ot.value}`),Qt=A.value+18;i.text(jt,Qt,p);const ie=C+Qt;i.text(`${Ot.value}`,ie,p),i.line(ie,p+2,ie+la,p+2),A.value=ie+la;const c=i.getTextWidth(Zt),At=i.getTextWidth(`${$t.value}`),Ee=A.value+18;i.text(Zt,Ee,p);const ne=c+Ee;i.text(`${$t.value}`,ne,p),i.line(ne,p+2,ne+At,p+2),A.value=ne+At;const Lt=i.getTextWidth(qt),oa=i.getTextWidth(`${s.value}`),sa=A.value+18;i.text(qt,sa,p);const at=Lt+sa;i.text(`${s.value}`,at,p),i.line(at,p+2,at+oa,p+2),console.log(p,p),p=p+10,A.value=at+oa;const Ya=i.getTextWidth(Jt),He=i.getTextWidth(`${Te.value}`),lt=G;i.text(Jt,lt,p);const fe=Ya+lt;i.text(`${Te.value}`,fe,p),i.line(fe,p+2,fe+He,p+2),p=p+10,A.value=G;const Ye="DripEdge Material: ",Mt="DripEdge Size: ";console.log(K,j);const $e=l(((ft=K.$state.dripinput[0])==null?void 0:ft.dripMaterial)||""),ia=l(((Ut=K.$state.dripinput[2])==null?void 0:Ut.dripMaterial)||"");console.log($e,ia);const Ga=i.getTextWidth(Ye),tl=i.getTextWidth(`${$e.value}`),Ja=G;i.text(Ye,Ja,p);const Ea=Ga+Ja;i.text(`${$e.value}`,Ea,p),i.line(Ea,p+2,Ea+tl,p+2),p=p+10;const ja=i.getTextWidth(Mt),al=i.getTextWidth(`${ia.value}`),wa=G;i.text(Mt,wa,p);const za=ja+wa;i.text(`${ia.value}`,za,p),i.line(za,p+2,za+al,p+2),p=p+10;const u=i.getTextWidth(aa),Pa=i.getTextWidth(`${P.value}`),I=A.value;i.text(aa,I,p);const na=u+12;i.text(`${P.value}`,na,p),i.line(na,p+2,na+Pa,p+2),A.value=na+Pa,p=p+10,A.value=G,i.setFontSize(12),i.getTextWidth(We);const Wa=i.getTextWidth(`${se.value}`),Ca=A.value;i.text(We,Ca,p),p=p+10,i.setFontSize(8.5),A.value=G-3,i.text(`${se.value}`,A.value,p),i.setFontSize(12),i.line(Wa,p+2,Wa,p+2),p=p+10,i.setFontSize(10),i.getTextWidth(a);const ll=i.getTextWidth(`${Dt.value}`),ol=G;i.text(a,ol,p),p=p+10;const da=G;i.setFontSize(10),i.text(Dt.value,da,p),i.line(da,p+2,da+ll+70,p+2),p=p+10,A.value=G;const ka=i.getTextWidth(`${h.value}`),Za=A.value;i.text(n,Za,p),p=p+7,A.value=G;const yt=A.value;i.text(h.value,yt,p),i.line(yt,p+2,yt+ka+70,p+2),p=p+10;const qa="LowSlope.pdf",ca=i.output("blob");(async(de,pa)=>{const ce=de,Xt=ce;console.log(Xt);const ua=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${o.value}/${Xt}`;try{const Nt=await fetch(ua,{method:"PUT",headers:{"Content-Type":ce.type},body:pa});Nt.ok?(g.value=ua,alert("LowSlope File uploaded successfully!")):alert(`Failed to upload file. Status: ${Nt.status}`)}catch(Nt){console.error("Error uploading file:",Nt),alert("An error occurred while uploading the file.")}})(qa,ca)}};return(m,G)=>(Nl(),Fl("div"))}},ko={__name:"Shingle",setup(it){var Me,me;const{getUser:$}=El(),V=bo(),k=wl(),D=gl(),T=Do(),x=Ao(),q=gl(),N=Mo(),K=l(((me=(Me=k.$state.permitapp[0])==null?void 0:Me.formdt)==null?void 0:me.muniProc)||""),r=l(q.$state.roofList);let j=l(!1);const o=Al(()=>{if(r.value.length===0)return"";for(let g=0;g<r.value.length;g++)r.value[g].item==="Asphalt Shingle"&&(console.log(r.value[g].item),j.value=!0,W())});Ml(async()=>{await Xl(o).toBe(!0),console.log(o)});const W=()=>{var Xe,Ne,Fe,z,Re,Be,Ie,Ue,R,m,G,p,Ct,kt,dt,ct,pt,ut,vt,ht,d,xt,gt,mt,Tt,Rt,Wt,Bt,It,f,ft,Ut;if(T.$state.inputshingle.length===0)console.log("lenghth is zero");else{console.log(V,x);let Ot=l(!1),$t=l(!1);V.$state.systeminput.length!==0&&($t=!0,console.log($t)),x.$state.polyinput.length!==0&&(Ot=!0,console.log(Ot));const s=new Bl({orientation:"portrait",unit:"mm",format:"a4",compress:!0}),Te=179,i=725,St=s.getPageInfo(1);St.pageContext.mediaBox.topRightX;const ea=St.pageContext.mediaBox.topRightY,v=l(0),ma=l(0);var g=595.28-585.28,e=ea-i;v.value=g,ma.value=e;const ta=l((Ne=(Xe=k.$state.permitapp[0])==null?void 0:Xe.formdt)==null?void 0:Ne.address),Vt=l((z=(Fe=k.$state.permitapp[0])==null?void 0:Fe.formdt)==null?void 0:z.muni),A=l(((Be=(Re=k.$state.permitapp[0])==null?void 0:Re.formdt)==null?void 0:Be.processNumber)||""),Ta=l($.value[0].dba),et=l(((Ue=(Ie=T.$state.inputshingle[0])==null?void 0:Ie.shingleData)==null?void 0:Ue.height)||""),rt=l(((m=(R=T.$state.inputshingle[0])==null?void 0:R.shingleData)==null?void 0:m.slope)||""),Ht=l(((p=(G=T.$state.inputshingle[0])==null?void 0:G.shingleData)==null?void 0:p.deckType)||""),tt=l(D.$state.roofList[0].dim1),Yt=l("");s.setGState(new s.GState({opacity:.8}));const Oe="Approved";s.setFontSize(18),s.setTextColor(150,150,150),s.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const Gt=new Image,bt=new Image;Gt.src="/demo/images/officepaper.jpeg",bt.src="/demo/images/logo.jpeg",s.addImage(bt,"JPEG",10,0,50,30),s.addImage(Gt,"JPEG",0,0,210,297),s.setFontSize(15),s.setTextColor("green");var nt=new Date,_e=nt.toLocaleDateString();s.text(Oe,10,270,{align:"left"});const Jt=s.getTextWidth(Oe);s.text("on: "+_e,Jt+15,270),s.text(`${K.value}`,10,280,{align:"left"});const jt=s.getTextWidth(`${K.value}`);s.text(`${Vt.value}`,jt+15,280);const Zt=()=>{s.setFontSize(10),s.setTextColor(0),s.text("The Shingle roof system and its components shall be installed in strict compliance  with the HVHZportions of Chapter 15 FBC, the HVHZ Roof Application Standards(RAS) 111 & 115, and the submitted MDC(NOA) Notice of Acceptance(s).The mePermit applicant agrees to comply with these installation requirements when obtaining this permit.",10,25,{maxWidth:"200"}),s.line(10,43,195,43)};s.setTextColor(0),s.circle(185,39,2,"FD"),s.text("I agree",165,40),Zt(),s.setFontSize(12);const qt=[{category:"DBA",value:`${Ta.value}`},{category:"Municipality",value:`${Vt.value}`},{category:"Job Address",value:`${ta.value}`},{category:"meProcess Number",value:`${A.value}`}];let aa=10,We=60,a=50;s.setFontSize(12),qt.forEach((F,B)=>{const O=a+B*10;s.text(F.category,aa,O),s.text(F.value,We,O),s.getTextWidth(F.category);const J=s.getTextWidth(F.value)*2;s.line(We,O+2,We+J,O+2)}),s.setFontSize(12);const n="Roof Area: ",P="Decktype: ",se="Mean Roof Height: ",Dt="Roof Slope: ",h=1;e=e+5;const Fa=s.getTextWidth(n),t=s.getTextWidth(`${tt.value}`),Kt=v.value;s.text(n,Kt,e);const _=Fa+Kt;s.text(`${tt.value}`,_,e),s.line(_,e+2,_+t,e+2),v.value=_+t;const C=s.getTextWidth(se),la=s.getTextWidth(`${et.value}`),Qt=v.value+10;s.text(se,Qt,e);const ie=C+Qt;s.text(`${et.value}`,ie,e),s.line(ie,e+2,ie+la,e+2),v.value=ie+la;const c=s.getTextWidth(Dt),At=s.getTextWidth(`${rt.value}`),Ee=v.value+10;s.text(Dt,Ee,e);const ne=c+Ee;s.text(`${rt.value}`,ne,e),s.line(ne,e+2,ne+At,e+2),v.value=ne+At,e=e+10;const Lt=s.getTextWidth(P),oa=s.getTextWidth(`${Ht.value}`),sa=g;s.text(P,sa,e);const at=Lt+sa;s.text(`${Ht.value}`,at,e),s.line(at,e+2,at+oa,e+2),e=e+10;const Ya="Shingle NOA Number: ",He="Shingle Applicant: ",lt="Shingle Material: ",fe="Shingle Description: ",Ye="Fastened (UDL)NOA: ",Mt="UDL NOA Applicant: ",$e="Fastened UDL Material: ",ia="UDL Description: ",Ga="Prescriptive Attachment: ";console.log(T.$state.inputshingle[0]);const tl=l(((kt=(Ct=T.$state.inputshingle[0])==null?void 0:Ct.shingleData)==null?void 0:kt.noa)||""),Ja=l((ct=(dt=T.$state.inputshingle[0])==null?void 0:dt.shingleData)==null?void 0:ct.applicant)||"",Ea=l(((ut=(pt=T.$state.inputshingle[0])==null?void 0:pt.shingleData)==null?void 0:ut.material)||""),ja=l(((ht=(vt=T.$state.inputshingle[0])==null?void 0:vt.shingleData)==null?void 0:ht.description)||""),al=l(((xt=(d=T.$state.inputshingle[0])==null?void 0:d.shingleData)==null?void 0:xt.prescriptiveSelection)||""),wa=s.getTextWidth(Ga),za=s.getTextWidth(`${al.value}`),u=g;s.text(Ga,u,e);const Pa=wa+10;s.text(`${al.value}`,Pa,e),s.line(Pa,e+h,Pa+za,e+h),e=e+8;const I="DripEdge Material: ",na="DripEdge Size: ";console.log(N);const Wa=l(((gt=N.$state.dripinputshin[1])==null?void 0:gt.dripShinMaterial)||""),Ca=l(((mt=N.$state.dripinputshin[3])==null?void 0:mt.dripShinMaterial)||"");console.log(Wa,Ca);const ll=s.getTextWidth(I),ol=s.getTextWidth(`${Wa.value}`),da=g;s.text(I,da,e);const ka=ll+da;s.text(`${Wa.value}`,ka,e),s.line(ka,e+h,ka+ol,e+h),e=e+10;const Za=s.getTextWidth(na),yt=s.getTextWidth(`${Ca.value}`),qa=g;s.text(na,qa,e);const ca=Za+qa;if(s.text(`${Ca.value}`,ca,e),s.line(ca,e+h,ca+yt,e+h),e=e+10,console.log(x.$state.polyinput.length),x.$state.polyinput.length===0){const F="n/a",B="n/a",O="n/a",J="n/a",Se=s.getTextWidth(Ye),ee=s.getTextWidth(F),Ge=g;s.text(Ye,Ge,e);const te=Ge+Se;s.text(F,te,e),s.line(te,e+h,te+ee,e+h),v.value=te+ee,console.log(v.value);const Ve=s.getTextWidth(Mt),Je=s.getTextWidth(B),re=v.value+2;s.text(Mt,re,e);const ae=re+Ve;s.text(B,ae,e),s.line(ae,e+h,ae+Je,e+h),v.value=ae+Je,console.log(v.value),v.value>Te&&(e=e+10);const Q=v.value+2,ha=s.getTextWidth($e),we=s.getTextWidth(O);s.text($e,Q,e);const L=Q+ha;s.text(O,L,e),s.line(L,e+h,L+we,e+h),v.value=L+we,console.log(v.value),e=e+10,console.log(v.value);const ze=s.getTextWidth(ia),ot=s.getTextWidth(J),be=g,pe=be+ot;console.log(pe),s.text(ia,be,e),pe>Te&&print(pe);const Z=be+ze;s.text(J,Z,e),s.line(Z,e+h,Z+ot,e+h),v.value=Z+ot,e=e+8}else{const F=l(x.$state.polyinput[0].polyData.noa),B=l(x.$state.polyinput[0].polyData.applicant),O=l(x.$state.polyinput[0].polyData.material),J=l(x.$state.polyinput[0].polyData.description),Se=s.getTextWidth(Ye),ee=s.getTextWidth(`${F.value}`),Ge=g;s.text(Ye,Ge,e);const te=Se+10;s.text(`${F.value}`,te,e),s.line(te,e+h,te+ee,e+h),v.value=te+ee;const Ve=s.getTextWidth(Mt),Je=s.getTextWidth(`${B.value}`),re=v.value+2;s.text(Mt,re,e);const ae=re+Ve;s.text(`${B.value}`,ae,e),s.line(ae,e+h,ae+Je,e+h),v.value=ae+Je,e=e+10;const Q=g,ha=s.getTextWidth($e),we=s.getTextWidth(`${O.value}`);s.text($e,Q,e);const L=Q+ha;s.text(`${O.value}`,L,e),s.line(L,e+h,L+we,e+h),v.value=L+we,e=e+10,console.log(v.value);const ze=s.getTextWidth(ia),ot=s.getTextWidth(`${J.value}`),be=g,pe=be+ot;console.log(pe),s.text("UDL Description:",be,e),pe>Te&&print(pe);const Z=be+ze;s.text(`${J.value}`,Z,e),s.line(Z,e+h,Z+ot,e+h),v.value=Z+ot,console.log(v.value),e=e+10}const fa="Self Adhered NOA: ",de="S/A NOA Applicant: ",pa="S/A System F: ",ce="S/A Material: ",Xt="S/A Description: ";if(console.log(V.$state.systeminput.length),V.$state.systeminput.length===0){const F="n/a",B="n/a",O="n/a",J="n/a",Se="n/a",ee=s.getTextWidth(fa),Ge=s.getTextWidth(F),te=g;s.text(fa,te,e);const Ve=te+ee;s.text(F,Ve,e),s.line(Ve,e,Ve+Ge,e),v.value=Ve+Ge,console.log(v.value);const Je=s.getTextWidth(de),re=s.getTextWidth(B),ae=v.value+3;s.text(de,ae,e);const Q=ae+Je;s.text(B,Q,e),s.line(Q,e+h,Q+re,e+h),v.value=Q+re,console.log(v.value);const ha=s.getTextWidth(pa),we=v.value+3,L=s.getTextWidth(O);s.text(pa,we,e);const ze=we+ha;s.text(O,ze,e),s.line(ze,e+h,ze+L,e+h),v.value=ze+L,console.log(v.value),e=e+10;const ot=s.getTextWidth(ce),be=s.getTextWidth(J),pe=g;s.text(ce,pe,e);const Z=pe+ot;s.text(J,Z,e),s.line(Z,e+h,Z+be,e+h),v.value=Z+be,console.log(v.value);const vl=s.getTextWidth(Xt),Ia=s.getTextWidth(Se),ba=v.value+3;s.text(Xt,ba,e);const je=ba+vl;s.text(Se,je,e),s.line(je,e+h,je+Ia,e+h),v.value=je+Ia,console.log(v.value)}else{console.log("Entered sbs line 509",V.$state);const F=l((Rt=(Tt=V.$state.systeminput[0])==null?void 0:Tt.systemData)==null?void 0:Rt.noa),B=l((Bt=(Wt=V.$state.systeminput[0])==null?void 0:Wt.systemData)==null?void 0:Bt.manufacturer),O=l(V.$state.systeminput.pdfSystemValue),J=l((f=(It=V.$state.systeminput[0])==null?void 0:It.systemData)==null?void 0:f.material),Se=l((Ut=(ft=V.$state.systeminput[0])==null?void 0:ft.systemData)==null?void 0:Ut.description),ee=s.getTextWidth(fa),Ge=s.getTextWidth(`${F.value}`),te=g;s.text(fa,te,e);const Ve=te+ee;s.text(`${F.value}`,Ve,e),s.line(Ve,e+h,Ve+Ge,e+h),v.value=Ve+Ge;const Je=s.getTextWidth(de),re=s.getTextWidth(`${B.value}`),ae=v.value+3;s.text(de,ae,e);const Q=ae+Je;s.text(`${B.value}`,Q,e),s.line(Q,e+h,Q+re,e+h),v.value=Q+re,console.log(v.value);const ha=s.getTextWidth(pa),we=s.getTextWidth(`${O.value}`),L=v.value+3;s.text(pa,L,e);const ze=L+ha;s.text(`${O.value}`,ze,e),s.line(ze,e+h,ze+we,e+h),v.value=ze+we,e=e+10,console.log(v.value);const ot=s.getTextWidth(ce),be=s.getTextWidth(`${J.value}`),pe=g;s.text(ce,pe,e);const Z=pe+ot;s.text(`${J.value}`,Z,e),s.line(Z,e+h,Z+be,e+h),v.value=Z+be,v.value>Te&&(e=e+10),console.log(v.value);const vl=s.getTextWidth(Xt),Ia=s.getTextWidth(`${Se.value}`),ba=v.value+3;s.text(Xt,ba,e);const je=ba+vl;s.text(`${Se.value}`,je,e),s.line(je,e+h,je+Ia,e+h),v.value=je+Ia,v.value>=Te&&(e=e+10),console.log(v.value)}const ua=s.getTextWidth(He),Nt=s.getTextWidth(`${Ja.value}`),ml=g;s.text(He,ml,e);const Ka=ml+ua;s.text(`${Ja.value}`,Ka,e),s.line(Ka,e+h,Ka+Nt,e+h),v.value=Ka+Nt;const sl=s.getTextWidth(Ya),il=s.getTextWidth(`${tl.value}`),Tl=v.value+3;s.text(Ya,Tl,e);const Ra=sl+Tl;s.text(`${tl.value}`,Ra,e),s.line(Ra,e+h,Ra+il,e+h),v.value=Ra+il,e=e+10;const $a=g,ul=s.getTextWidth(lt),Qa=s.getTextWidth(`${Ea.value}`);s.text(lt,$a,e);const Sa=$a+ul;s.text(`${Ea.value}`,Sa,e),s.line(Sa,e+h,Sa+Qa,e+h),v.value=Sa+Qa,e=e+10,console.log(v.value,Te);const va=s.getTextWidth(`${ja.value}`),Va=s.getTextWidth(fe);v.value=Sa+Qa+va+Va+25,console.log(va,Va);const Ba=g;if(s.text(fe,Ba,e),va>170){e=e+4;const B=g;s.text(`${ja.value}`,B,e),s.line(B,e+h,B+va,e+h),e=e+8}else{const F=Ba+Va;s.text(`${ja.value}`,F,e),s.line(F,e+h,F+va,e+h),v.value=F+va}e=e+10;const ra="Shingle.pdf",La=s.output("blob");(async(F,B)=>{const O=F;console.log(O);const J=O;console.log(J);const Se=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${K.value}/${J}`;try{const ee=await fetch(Se,{method:"PUT",headers:{"Content-Type":O.type},body:B});ee.ok?(Yt.value=Se,alert("Shingle File uploaded successfully!")):alert(`Failed to upload file. Status: ${ee.status}`)}catch(ee){console.error("Error uploading file:",ee),alert("An error occurred while uploading the file.")}})(ra,La)}};return(g,e)=>(Nl(),Fl("div"))}},Ro=xo(()=>{const it=l([]),$=go(()=>it.value);function V(k){it.value.push(k)}return{tilenoa:it,getNumber:$,addNoa:V}}),Bo={__name:"TileAdhesive",setup(it){const $=so(),V=io(),{getUser:k}=El(),{tileInputvalues:D}=Xo(),{savedTileinput:T}=No(),x=wl(),q=gl(),N=l(q.$state.roofList);Ro();const K=Fo();let r=l(!1);const j=Al(()=>{if(N.value.length===0)return"";for(let W=0;W<N.value.length;W++)N.value[W].item==="Adhesive Set Tile"&&(console.log(N.value[W].item),r.value=!0,o())});Ml(async()=>{await Xl(j).toBe(!0)});const o=()=>{var Xe,Ne,Fe,z,Re,Be,Ie,Ue,R,m,G,p,Ct,kt,dt,ct,pt,ut,vt,ht,d,xt,gt,mt,Tt,Rt,Wt,Bt,It,f,ft,Ut,Ot,$t,s,Te,i,St,ea,v,ma,ta,Vt,A,Ta,et,rt,Ht,tt,Yt,Oe,Gt,bt,Jt,jt,Zt,qt,aa,We,a,n,P,se,Dt,h,Fa;console.log(D,(Ne=(Xe=T[0])==null?void 0:Xe.savedValues)==null?void 0:Ne.paddySelection);const W=l(((z=(Fe=T[0])==null?void 0:Fe.savedValues)==null?void 0:z.paddySelection)||""),Me=l(!1),me=l(!1);if(console.log(W.value),W.value==="single"?(Me.value=!0,console.log(Me.value),me.value=!1):(me.value=!0,console.log(me.value)),((Re=D[0])==null?void 0:Re.length)===0)console.log("lenghth is zero");else{const t=new Bl({orientation:"portrait",unit:"mm",format:"a4",compress:!0});let Kt=l(!1),_=l(!1);V.$state.tilesysEinput.length!==0&&(Kt=!0,console.log(Kt)),$.$state.tilefinput.length!==0&&(_=!0,console.log(_));const C=179,la=725,Qt=t.getPageInfo(1);Qt.pageContext.mediaBox.topRightX;const ie=Qt.pageContext.mediaBox.topRightY,c=l(0),At=l(0);var g=595.28-585.28,e=ie-la;c.value=g,At.value=e;const Ee=Me.value===!0?l(((Be=D[0])==null?void 0:Be.tileValues[0].singlepaddyData)||""):l(((Ie=D[0])==null?void 0:Ie.tileValues[0].doublepaddyData)||"");console.log(Ee.value);const ne=l(((R=(Ue=T[0])==null?void 0:Ue.savedValues)==null?void 0:R.height)||""),Lt=l(((G=(m=T[0])==null?void 0:m.savedValues)==null?void 0:G.slope)||"");console.log(x.$state.permitapp[0].muniNum);const oa=l(((Ct=(p=T[0])==null?void 0:p.savedValues)==null?void 0:Ct.area)||""),sa=l(((dt=(kt=T[0])==null?void 0:kt.savedValues)==null?void 0:dt.Decktype)||""),at=l(((pt=(ct=T[0])==null?void 0:ct.savedValues)==null?void 0:pt.perimeter)||""),Ya=l(((vt=(ut=x.$state.permitapp[0])==null?void 0:ut.formdt)==null?void 0:vt.address)||""),He=l(((d=(ht=x.$state.permitapp[0])==null?void 0:ht.formdt)==null?void 0:d.muni)||""),lt=l(((gt=(xt=x.$state.permitapp[0])==null?void 0:xt.formdt)==null?void 0:gt.muniProc)||""),fe=l(((Tt=(mt=x.$state.permitapp[0])==null?void 0:mt.formdt)==null?void 0:Tt.processNumber)||""),Ye=l(""),Mt=l(((Rt=k.value[0])==null?void 0:Rt.dba)||"");t.setGState(new t.GState({opacity:.8}));const $e="Approved";t.setFontSize(24),t.setTextColor(150,150,150),t.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const ia=new Image,Ga=new Image;ia.src="/demo/images/officepaper.jpeg",Ga.src="/demo/images/logo.jpeg",t.addImage(Ga,"JPEG",5,0,50,30),t.addImage(ia,"JPEG",0,0,210,297),t.setFontSize(18),t.setTextColor("green");var nt=new Date,_e=nt.toLocaleDateString();t.text($e,10,270,{align:"left"});const tl=t.getTextWidth($e);t.text("on: "+_e,tl+15,270),t.text(`${lt.value}`,10,280,{align:"left"});const Ja=t.getTextWidth(`${lt.value}`);t.text(`${He.value}`,Ja+15,280),t.setFontSize(12);const Ea=()=>{t.setFontSize(12),t.setTextColor(0),t.text("The tile roof system and its components shall be installed in strict compliance with the FBC 2023 HVHZ portions of Chapter 15, the HVHZ Tile Application Standards: RAS-119, RAS-120 & RAS-127 and the submitted MDC Notice of Acceptance(s). The mePermit applicant agrees to comply with these installation requirements when obtaining this permit.",10,25,{maxWidth:"200"}),t.line(10,41,195,41)};t.setTextColor(0),t.circle(185,38,2,"FD"),t.text("I agree",165,39),Ea(),t.setFontSize(12),t.setFontSize(12);const ja=[{category:"DBA",value:`${Mt.value}`},{category:"Municipality",value:`${He.value}`},{category:"Job Address",value:`${Ya.value}`},{category:"meProcess Number",value:`${fe.value}`}];let al=10,wa=60,za=50;t.setFontSize(12),ja.forEach((S,X)=>{const b=za+X*10;t.text(S.category,al,b),t.text(S.value,wa,b),t.getTextWidth(S.category);const he=t.getTextWidth(S.value)*2;t.line(wa,b+2,wa+he,b+2)}),t.setFontSize(12);const u=2,I=90,na="Roof Area: ",Wa="DeckType: ",Ca="Mean Roof Height: ",ll="Roof Slope: ",ol="Roof Perimeter: ";c.value=g;const da=t.getTextWidth(na),ka=t.getTextWidth(`${oa.value}`),Za=c.value;t.text(na,Za,I);const yt=da+Za;t.text(`${oa.value}`,yt,I),t.line(yt,I+u,yt+ka,I+u),c.value=yt+ka,console.log(e,I);const qa=t.getTextWidth(Ca),ca=t.getTextWidth(`${ne.value}`),fa=c.value+10;t.text(Ca,fa,I);const de=qa+fa;t.text(`${ne.value}`,de,I),t.line(de,I+u,de+ca,I+u),c.value=de+ca;const pa=t.getTextWidth(ll),ce=t.getTextWidth(`${Lt.value}`),Xt=c.value+10;t.text(ll,Xt,I);const ua=pa+Xt;t.text(`${Lt.value}`,ua,I),t.line(ua,I+u,ua+ce,I+u),c.value=ua+ce;const Nt=t.getTextWidth(ol),ml=t.getTextWidth(`${at.value}`),Ka=c.value+10;t.text(ol,Ka,I);const sl=Nt+Ka;t.text(`${at.value}`,sl,I),t.line(sl,I+u,sl+ml,I+u),console.log(I,e),e=I+10;const il=t.getTextWidth(Wa),Tl=t.getTextWidth(`${sa.value}`),Ra=g;t.text(Wa,Ra,e);const $a=il+Ra;t.text(`${sa.value}`,$a,e),t.line($a,e+u,$a+Tl,e+u),e=e+10;const ul="Tile NOA Number: ",Qa="Tile Applicant: ",Sa="Tile Material: ",va="Tile Description: ",Va="Fastened Underlayment(UDL)NOA: ",Ba="UDL NOA Applicant: ",ra="Fastened UDL Material: ",La="Select System E: ",nl="Design psf: ",F="Anchor Base Sheet: ",B="UDL Description: ",O="Select Underlayment: ",J="DripEdge Material: ",Se="DripEdge Size: ",ee=l(((Wt=K.$state.dripinputadt[4])==null?void 0:Wt.dripTileMaterial)||""),Ge=l(((Bt=K.$state.dripinputadt[6])==null?void 0:Bt.dripTileMaterial)||""),te=t.getTextWidth(J),Ve=t.getTextWidth(`${ee.value}`),Je=g;t.text(J,Je,e);const re=te+Je;t.text(`${ee.value}`,re,e),t.line(re,e+u,re+Ve,e+u),e=e+10;const ae=t.getTextWidth(Se),Q=t.getTextWidth(`${Ge.value}`),ha=g;t.text(Se,ha,e);const we=ae+ha;t.text(`${Ge.value}`,we,e),t.line(we,e+u,we+Q,e+u),e=e+10,console.log(T);const L=l(((f=(It=T[0])==null?void 0:It.savedValues)==null?void 0:f.zoneone.mf1)||""),ze=l(((Ut=(ft=T[0])==null?void 0:ft.savedValues)==null?void 0:Ut.zoneone.lambda1)||""),ot=l((($t=(Ot=T[0])==null?void 0:Ot.savedValues)==null?void 0:$t.zoneone.mg1)||""),be=l(((Te=(s=T[0])==null?void 0:s.savedValues)==null?void 0:Te.zoneone.mr1)||""),pe=l(((St=(i=T[0])==null?void 0:i.savedValues)==null?void 0:St.zoneone.zone1)||""),Z=l(((v=(ea=T[0])==null?void 0:ea.savedValues)==null?void 0:v.zonetwo.mf2)||""),vl=l(((ta=(ma=T[0])==null?void 0:ma.savedValues)==null?void 0:ta.zonetwo.lambda2)||""),Ia=l(((A=(Vt=T[0])==null?void 0:Vt.savedValues)==null?void 0:A.zonetwo.mg2)||""),ba=l(((et=(Ta=T[0])==null?void 0:Ta.savedValues)==null?void 0:et.zonetwo.mr2)||""),je=l(((Ht=(rt=T[0])==null?void 0:rt.savedValues)==null?void 0:Ht.zonetwo.zone2)||""),Wl=l(((Yt=(tt=T[0])==null?void 0:tt.savedValues)==null?void 0:Yt.zonethree.mf3)||""),fl=l(((Gt=(Oe=T[0])==null?void 0:Oe.savedValues)==null?void 0:Gt.zonethree.lambda3)||""),$l=l(((Jt=(bt=T[0])==null?void 0:bt.savedValues)==null?void 0:Jt.zonethree.mg3)||""),Sl=l((Zt=(jt=T[0])==null?void 0:jt.savedValues)==null?void 0:Zt.zonethree.mr3),jl=l(((aa=(qt=T[0])==null?void 0:qt.savedValues)==null?void 0:aa.zonethree.zone3)||""),Vl=l((a=(We=T[0])==null?void 0:We.savedValues)==null?void 0:a.prescriptiveSelection.selectedBasesheet),zl=t.getTextWidth(Vl.value);console.log(Vl,zl);const rl=g;t.text(O,rl,e+u);const Pl=g;if(e=e+10,t.text(`${Vl.value}`,Pl,e),t.line(Pl,e+u,Pl+zl,e+u),e=e+10,V.$state.tilesysEinput.length===0){const S="n/a",X="n/a",b="n/a",he="n/a",Qe=t.getTextWidth(Va),xe=t.getTextWidth(S),Et=g;t.text(Va,Et,e);const wt=Et+Qe+2;t.text(S,wt,e),t.line(wt,e+u,wt+xe,e+u),c.value=wt+xe,console.log(c.value);const Ae=t.getTextWidth(Ba),Xa=t.getTextWidth(X),Le=c.value+2;t.text(Ba,Le,e);const st=Le+Ae;t.text(X,st,e),t.line(st,e+u,st+Xa,e+u),c.value=st+Xa,console.log(c.value),c.value>C&&(e=e+10);const ge=c.value+2,dl=t.getTextWidth(ra),xa=t.getTextWidth(b);t.text(ra,ge,e);const ye=ge+dl;t.text(b,ye,e),t.line(ye,e+u,ye+xa,e+u),c.value=ye+xa,console.log(c.value),c.value>C&&(e=e+10),console.log(c.value);const zt=t.getTextWidth(B),el=t.getTextWidth(he),ga=g,Pt=ga+el;console.log(Pt),t.text(B,ga,e),Pt>C&&print(Pt);const ke=ga+zt;t.text(he,ke,e),t.line(ke,e+u,ke+el,e+u),c.value=ke+el,e=e+10}else{const S=l(V.$state.tilesysEinput[0].systemDataE.noa),X=l(V.$state.tilesysEinput[0].systemDataE.manufacturer),b=l(V.$state.tilesysEinput[0].systemDataE.material),he=l(V.$state.tilesysEinput[0].systemDataE.systemSelected),Qe=l(V.$state.tilesysEinput[0].systemDataE.dP),xe=l(V.$state.tilesysEinput[0].systemDataE.Anchor_Base),Et=l(V.$state.tilesysEinput[0].systemDataE.tileCap),wt=t.getTextWidth(Ba),Ae=t.getTextWidth(`${X.value}`),Xa=g;t.text(Ba,Xa,e);const Le=Xa+wt;t.text(`${X.value}`,Le,e),t.line(Le,e+u,Le+Ae,e+u);const st=t.getTextWidth(`${b.value}`);c.value=Le+st;const ge=t.getTextWidth(Va),dl=t.getTextWidth(`${S.value}`),xa=c.value+40;t.text(Va,xa,e),c.value=xa,console.log(c.value,xa);const ye=ge+c.value;console.log(ye),t.text(`${S.value}`,ye,e),t.line(ye,e+u,ye+dl,e+u),c.value=ye+dl,e=e+10;const zt=g,el=t.getTextWidth(ra),ga=t.getTextWidth(`${b.value}`);t.text(ra,zt,e);const Pt=zt+el;t.text(`${b.value}`,Pt,e),t.line(Pt,e+u,Pt+ga,e+u),c.value=Pt+ga,c.value>C&&(e=e+10);const ke=c.value+5,kl=t.getTextWidth(La),cl=t.getTextWidth(`${he.value}`);t.text(La,ke,e);const Oa=ke+kl;t.text(`${he.value}`,Oa,e),t.line(Oa,e+u,Oa+cl,e+u),c.value=Oa+cl,c.value>C&&(e=e+10);const Na=t.getTextWidth(nl),Kl=t.getTextWidth(`${Qe.value}`),Ql=c.value+3;t.text(nl,Ql,e);const Ul=Ql+Na;t.text(`${Qe.value}`,Ul,e),t.line(Ul,e+u,Ul+Kl,e+u),c.value=Ul+Kl,console.log(c.value),e=e+10,t.getTextWidth(F);const Ll=t.getTextWidth(`${xe.value}`),no=g;t.text(F,no,e),e=e+10;const Ol=g;t.text(`${xe.value}`,Ol,e),t.line(Ol,e+u,Ol+Ll,e+u),c.value=Ol+Ll,e=e+10;const co=t.getTextWidth(B),yl=t.getTextWidth(`${Et.value}`),_l=g;t.text(B,_l,e);const Hl=_l+co;t.text(`${Et.value}`,Hl,e),t.line(Hl,e+u,Hl+yl,e+u),c.value=Hl+yl,console.log(c.value),e=e+10}const hl="Self Adhered NOA: ",xl="S/A NOA Applicant: ",ya="S/A System F: ",_t="S/A Material: ",_a="S/A Description: ";if($.$state.tilefinput.length===0){const S="n/a",X="n/a",b="n/a",he="n/a",Qe="n/a",xe=t.getTextWidth(hl),Et=t.getTextWidth(S),wt=g;t.text(hl,wt,e);const Ae=wt+xe;t.text(S,Ae,e),t.line(Ae,e+u,Ae+Et,e+u),c.value=Ae+Et,console.log(c.value);const Xa=t.getTextWidth(xl),Le=t.getTextWidth(X),st=c.value+3;t.text(xl,st,e);const ge=st+Xa;t.text(X,ge,e),t.line(ge,e+u,ge+Le,e+u),c.value=ge+Le,console.log(c.value);const dl=t.getTextWidth(ya),xa=c.value+3,ye=t.getTextWidth(b);t.text(ya,xa,e);const zt=xa+dl;t.text(b,zt,e),t.line(zt,e+u,zt+ye,e+u),c.value=zt+ye,console.log(c.value),e=e+10;const el=t.getTextWidth(_t),ga=t.getTextWidth(he),Pt=g;t.text(_t,Pt,e);const ke=Pt+el;t.text(he,ke,e),t.line(ke,e+u,ke+ga,e+u),c.value=ke+ga,console.log(c.value);const kl=t.getTextWidth(_a),cl=t.getTextWidth(Qe),Oa=c.value+3;t.text(_a,Oa,e);const Na=Oa+kl;t.text(Qe,Na,e),t.line(Na,e+u,Na+cl,e+u),c.value=Na+cl,console.log(c.value)}else{console.log("Entered sbs line 455",$.$state);const S=l($.$state.tilefinput[0].systemData.noa),X=l($.$state.tilefinput[0].systemData.manufacturer),b=l($.$state.tilefinput[0].systemData.pressure),he=l($.$state.tilefinput[0].systemData.material),Qe=l($.$state.tilefinput[0].systemData.description),xe=t.getTextWidth(hl),Et=t.getTextWidth(`${S.value}`),wt=g;t.text(hl,wt,e);const Ae=wt+xe;t.text(`${S.value}`,Ae,e),t.line(Ae,e+u,Ae+Et,e+u),c.value=Ae+Et;const Xa=t.getTextWidth(xl),Le=t.getTextWidth(`${X.value}`),st=c.value+3;t.text(xl,st,e);const ge=st+Xa;t.text(`${X.value}`,ge,e),t.line(ge,e+u,ge+Le,e+u),c.value=ge+Le,console.log(c.value);const dl=t.getTextWidth(ya),xa=t.getTextWidth(`${b.value}`),ye=c.value+3;t.text(ya,ye,e);const zt=ye+dl;t.text(`${b.value}`,zt,e),t.line(zt,e+u,zt+xa,e+u),c.value=zt+xa,e=e+10;const el=t.getTextWidth(_t),ga=t.getTextWidth(`${he.value}`),Pt=g;t.text(_t,Pt,e);const ke=Pt+el;t.text(`${he.value}`,ke,e),t.line(ke,e+u,ke+ga,e+u),c.value=ke+ga,c.value>C&&(e=e+10);const kl=t.getTextWidth(_a),cl=t.getTextWidth(`${Qe.value}`),Oa=c.value+3;t.text(_a,Oa,e);const Na=Oa+kl;t.text(`${Qe.value}`,Na,e),t.line(Na,e+u,Na+cl,e+u),c.value=Na+cl,c.value>=C&&(e=e+10),console.log(c.value)}e=e+10;const Cl=l(Ee.value.noa),Il=l((P=(n=T[0])==null?void 0:n.savedValues)==null?void 0:P.applicant),Ua=l((Dt=(se=T[0])==null?void 0:se.savedValues)==null?void 0:Dt.material),bl=l((Fa=(h=T[0])==null?void 0:h.savedValues)==null?void 0:Fa.description),Zl=t.getTextWidth(Qa),ql=t.getTextWidth(`${Il.value}`),E=g;t.text(Qa,E,e);const w=E+Zl;t.text(`${Il.value}`,w,e),t.line(w,e+u,w+ql,e+u),c.value=w+ql;const M=t.getTextWidth(ul),U=t.getTextWidth(`${Cl.value}`),le=c.value+3;t.text(ul,le,e);const H=M+le;t.text(`${Cl.value}`,H,e),t.line(H,e+u,H+U,e+u),e=e+10;const ue=t.getTextWidth(`${Ua.value}`);c.value>C&&(e=e+10),c.value=H+ue;const Y=g,Ze=t.getTextWidth(Sa),Da=t.getTextWidth(`${Ua.value}`);t.text(Sa,Y,e);const De=Y+Ze;t.text(`${Ua.value}`,De,e),t.line(De,e+u,De+Da,e+u),e=e+5;const Ft=t.getTextWidth(`${bl.value}`);c.value=De+Ft,c.value>C&&(e=e+5),console.log(c.value,C),e=e+5;const y=t.getTextWidth(`${bl.value}`),Aa=t.getTextWidth(va);console.log(y,Aa);const qe=g;if(t.text(va,qe,e),y>220){e=e+4;const S=g;t.text(`${bl.value}`,S,e),t.line(S,e+u,S+y,e+u),c.value=S+y,e=e+8}else{const S=qe+Aa;t.text(`${bl.value}`,S,e),t.line(S,e+u,S+y,e+u),c.value=S+y,e=e+5}e=e+5,t.setFontSize(12);const Pe=new Image;Pe.src="/demo/images/lambda.png",console.log(c.value,e);const Ce=[["Zone 1:",`${pe.value}`,"x",`${ze.value}`,"- Mg:",`${ot.value}`,"= Mr1:",`${be.value}`,"NOA Mf:",`${L.value}`],["Zone 2:",`${je.value}`,"x",`${vl.value}`,"- Mg:",`${Ia.value}`,"= Mr2:",`${ba.value}`,"NOA Mf:",`${Z.value}`],["Zone 3:",`${jl.value}`,"x",`${fl.value}`,"- Mg:",`${$l.value}`,"= Mr3:",`${Sl.value}`,"NOA Mf:",`${Wl.value}`]];console.log(Ce);let Ma=g-1,oe=e;Ce.forEach(S=>{let X=Ma;S.forEach(b=>{console.log(X,oe),t.text(String(b),X,oe),X+=18}),t.addImage(Pe,"png",50,oe-4,5,5),t.addImage(Pe,"png",50,oe-4,5,5),t.addImage(Pe,"png",50,oe-4,5,5),oe+=5,console.log(X,oe)});const Ke="TileAdhesive.pdf",ve=t.output("blob");(async(S,X)=>{const b=S,he=b;console.log(he);const Qe=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${lt.value}/${he}`;try{const xe=await fetch(Qe,{method:"PUT",headers:{"Content-Type":b.type},body:X});xe.ok?(Ye.value=Qe,alert("TileAdhesive File uploaded successfully!")):alert(`Failed to upload file. Status: ${xe.status}`)}catch(xe){console.error("Error uploading file:",xe),alert("An error occurred while uploading the file.")}})(Ke,ve)}};return(W,Me)=>(Nl(),Fl("div"))}};function Io(){const it=l(),$=l([]);let V=l([]);const k=Eo(),D=l(),T=l("");let x="https://2dz45lw4aeav6valksiiquuwqq0ejsio.lambda-url.us-east-1.on.aws/";const{execute:q,then:N,data:K}=zo(x,{method:"GET"},{immediate:!1}),r=lo({noa:"",manufacturer:"",material:"",description:"",Table2:[],Table3:[],expiration_date:"",resistance:[],selection:"",select_tile:[],tile_map:[],table2_map:[],two_ten_d_RS_Nails:null,one_number_eight_screw:null,two_number_eight_screw:null,mechanicaltilefastener:[],fastenerValues:[],height:null,area:null,slope:null,perimeter:null,decktype:null,expiration_date:""});function j(W){it.value=W,console.log(it.value),D.value=Number(it.value),o()}const o=async()=>{try{const W=await q({params:{NOA:D.value}}).then(Me=>($.value=K.value,console.log(K.value),$.value));console.log(W.length),W.length===0||(console.log($.value),r.noa=$.value[0].NOA,r.manufacturer=$.value[0].applicant,r.material=$.value[0].material,r.selection=$.value[0].AdhesiveMaterials,r.description=$.value[0].description,r.select_tile=$.value[0].Select_Tile,r.tile_map=$.value[0].Tile_Map,r.table2_map=$.value[0].Table2_Map,r.expiration_date=$.value[0].expiration_date,r.Table2=$.value[0].Table2,r.Table3=$.value[0].Table3,r.resistance=$.value[0].Resistance,r.expiration_date=$.value[0].expiration_date,r.two_ten_d_RS_Nails=$.value[0].two_ten_d_RS_Nails,r.one_number_eight_screw=$.value[0].one_number_eight_screw,r.two_number_eight_screw=$.value[0].two_number_eight_screw,r.mechanicaltilefastener=$.value[0].mechanicaltilefastener,r.fastenerValues=$.value[0].fastenerValues,k.addNoa(r),console.log(r,"System added"))}catch(W){console.log("Error, fectching data",W)}return V};return{input:it,fetchData:o,takeMechInput:j,noaNum:$,error:T,results:V,...mo(r),mechStore:k}}const Uo={__name:"TileMechanical",setup(it){const{getUser:$}=El(),V=l(!1),k=wl(),D=gl(),T=l(D.$state.roofList),{mechStore:x}=Io(),q=so(),N=io(),K=wo(),r=Al(()=>{if(T.value.length===0)return"";for(let o=0;o<T.value.length;o++)T.value[o].item==="Mechanical Fastened Tile"&&(console.log(T.value[o].item),V.value=!0,j())});Ml(async()=>{await Xl(r).toBe(!0),console.log(r)});const j=()=>{var g,e,nt,_e,Xe,Ne,Fe,z,Re,Be,Ie,Ue,R,m,G,p,Ct,kt,dt,ct,pt,ut,vt,ht,d,xt,gt,mt,Tt,Rt,Wt,Bt,It,f,ft,Ut,Ot,$t,s,Te,i,St,ea,v,ma,ta,Vt,A,Ta,et,rt,Ht,tt,Yt,Oe,Gt,bt,Jt,jt,Zt;if(x.tilemech.value.length===0)console.log("lenghth is   zero");else{let qt=l(!1),aa=l(!1),We=l(!1);((e=(g=x.tilemech.value[0])==null?void 0:g.Table2)==null?void 0:e.content)==="multiple"&&(We=!0),N.$state.tilesysEinput.length!==0&&(qt=!0,console.log(qt,N)),q.$state.tilefinput.length!==0&&(aa=!0,console.log(aa));const a=new Bl({orientation:"portrait",unit:"mm",format:"a4",compress:!0});console.log((nt=x.tilemech.value[0])==null?void 0:nt.Table2);const n=1,P=90,se=179,Dt=725,h=a.getPageInfo(1);console.log(h),h.pageContext.mediaBox.topRightX;const Fa=h.pageContext.mediaBox.topRightY,t=l(0),Kt=l(0);var o=Fa-Dt,W=595.28-585.28;t.value=W,Kt.value=o,console.log(k.$state.permitapp),console.log(x.tilemech.value[0]);const _=l(((_e=x.tilemech.value[0])==null?void 0:_e.height)||"N/A"),C=l(((Xe=x.tilemech.value[0])==null?void 0:Xe.slope)||"N/A"),la=l(((Ne=x.tilemech.value[0])==null?void 0:Ne.decktype)||"N/A"),Qt=l(((Fe=x.tilemech.value[0])==null?void 0:Fe.perimeter)||"N/A");l((Re=(z=N.$state.tilesysEinput[0])==null?void 0:z.systemDataE)==null?void 0:Re.prescriptiveSelection),console.log(x.tilemech.value[0].prescriptiveSelection);const ie=l(((Be=x.tilemech.value[0])==null?void 0:Be.prescriptiveSelection)||"N/A"),c=l(((Ie=x.tilemech.value[0])==null?void 0:Ie.area)||""),At=l(((R=(Ue=k.$state.permitapp[0])==null?void 0:Ue.formdt)==null?void 0:R.address)||""),Ee=l(((G=(m=k.$state.permitapp[0])==null?void 0:m.formdt)==null?void 0:G.muni)||"");l(((Ct=(p=k.$state.permitapp[0])==null?void 0:p.formdt)==null?void 0:Ct.processNumber)||"");const ne=l(((dt=(kt=k.$state.permitapp[0])==null?void 0:kt.formdt)==null?void 0:dt.muniProc)||""),Lt=l(((ct=K.$state.dripinputmecht[5])==null?void 0:ct.dripMTileMaterial)||""),oa=l(((pt=K.$state.dripinputmecht[7])==null?void 0:pt.dripMTileMaterial)||"");console.log(x.tilemech.value[0]),o=o+10;const sa=l(((ut=x.tilemech.value[0])==null?void 0:ut.mf1)||""),at=l(((vt=x.tilemech.value[0])==null?void 0:vt.lambda1)||""),Ya=l(((ht=x.tilemech.value[0])==null?void 0:ht.mg1)||""),He=l(((d=x.tilemech.value[0])==null?void 0:d.mr1)||""),lt=l(((xt=x.tilemech.value[0])==null?void 0:xt.zoneone)||""),fe=l(((gt=x.tilemech.value[0])==null?void 0:gt.mf2)||""),Ye=l(((mt=x.tilemech.value[0])==null?void 0:mt.lambda2)||""),Mt=l(((Tt=x.tilemech.value[0])==null?void 0:Tt.mg2)||""),$e=l(((Rt=x.tilemech.value[0])==null?void 0:Rt.mr2)||""),ia=l(((Wt=x.tilemech.value[0])==null?void 0:Wt.zonetwo)||""),Ga=l(((Bt=x.tilemech.value[0])==null?void 0:Bt.mf3)||""),tl=l(((It=x.tilemech.value[0])==null?void 0:It.lambda3)||""),Ja=l(((f=x.tilemech.value[0])==null?void 0:f.mg3)||""),Ea=l(x.tilemech.value[0].mr3||""),ja=l(((ft=x.tilemech.value[0])==null?void 0:ft.zonethree)||""),al=l(""),wa=l($.value[0].dba);a.setGState(new a.GState({opacity:.8}));const za="Approved";a.setFontSize(24),a.setTextColor(150,150,150),a.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const u=new Image,Pa=new Image,I=new Image;u.src="/demo/images/officepaper.jpeg",Pa.src="/demo/images/logo.jpeg",I.src="/demo/images/lambda.png",a.addImage(Pa,"JPEG",10,0,50,30),a.addImage(u,"JPEG",0,0,210,297),a.setFontSize(15),a.setTextColor("green");var Me=new Date,me=Me.toLocaleDateString();a.text(za,10,270,{align:"left"});const na=a.getTextWidth(za);a.text("on: "+me,na+15,270),a.text(`${ne.value}`,10,280,{align:"left"});const Wa=a.getTextWidth(`${ne.value}`);a.text(`${Ee.value}`,Wa+15,280);const Ca=()=>{a.setFontSize(12),a.setTextColor(0),a.text("The tile roof system and its components shall be installed in strict compliance with the FBC 2023 HVHZ portions of Chapter 15, the HVHZ Tile Application Standards: RAS-119, RAS-120 & RAS-127 and the submitted MDC Notice of Acceptance(s).",10,29,{maxWidth:"200"}),a.line(10,41,195,41)};a.setTextColor(0),a.circle(189,38,2,"FD"),a.text("I agree",165,39),Ca(),a.setFontSize(12);const ll=[{category:"DBA",value:`${wa.value}`},{category:"Municipality",value:`${Ee.value}`},{category:"Job Address",value:`${At.value}`},{category:"Process Number",value:`${ne.value}`}];let ol=10,da=60,ka=50;a.setFontSize(12),ll.forEach((E,w)=>{const M=ka+w*10;a.text(E.category,ol,M),a.text(E.value,da,M),a.getTextWidth(E.category);const U=a.getTextWidth(E.value)*2;a.line(da,M+2,da+U,M+2)}),a.setFontSize(12),console.log(o);const Za="Roof Perimeter: ",yt=a.getTextWidth("Roof Area: "),qa=a.getTextWidth(`${c.value}`);a.text("Roof Area:",W,P);const ca=yt+10;a.text(`${c.value}`,ca,P),a.line(ca,P+n,ca+qa,P+n),t.value=yt+qa,console.log(t.value);const fa=a.getTextWidth("Mean Roof Height:"),de=a.getTextWidth(`${_.value}`),pa=t.value+15;a.text("Mean Roof Height:",pa,P);const ce=fa+45;a.text(`${_.value}`,ce,P),a.line(ce,P+n,ce+de,P+n),t.value=fa+de,console.log(t.value),a.getTextWidth("Roof Slope: ");const Xt=a.getTextWidth(`${C.value}`),ua=t.value+50;a.text("Roof Slope:",ua,P);const Nt=ua+25;a.text(`${C.value}`,Nt,P),a.line(Nt,P+n,Nt+Xt,P+n),t.value=t.value+Nt;const ml=a.getTextWidth(Za),Ka=a.getTextWidth(`${Qt.value}`),sl=t.value-30;a.text(Za,sl,P);const il=ml+sl+2;a.text(`${Qt.value}`,il,P),a.line(il,P+n,il+Ka,P+n),o=P+30;const Tl=a.getTextWidth("Deck Type"),Ra=a.getTextWidth(`${la.value}`);t.value=t.value+Tl-30,a.text("Decktype:",t.value,o);const $a=t.value+20;a.text(`${la.value}`,$a,o),a.line($a,o+n,$a+Ra,o+n),t.value=$a+Ra;const ul="Tile NOA Number: ",Qa="Tile Applicant: ",Sa="Tile Material: ",va="Tile Type: ",Va="Tile Description: ",Ba="Select Mechanical Tile Fastener: ",ra="Fastened (UDL) NOA: ",La="(UDL) NOA Applicant: ",nl="Fastened (UDL) Material: ",F="Select System E: ",B="Design psf: ",O="Anchor Base Sheet: ",J="(UDL) Description: ",Se="Prescriptive: ",ee="DripEdge Material: ",Ge="DripEdge Size: ";console.log(x.tilemech.value[0]),console.log(x.tilemech.value[0]);const te=l((Ut=x.tilemech.value[0])==null?void 0:Ut.noa),Ve=l((Ot=x.tilemech.value[0])==null?void 0:Ot.manufacturer),Je=l(($t=x.tilemech.value[0])==null?void 0:$t.material),re=We===!0?l((s=x.tilemech.value[0])==null?void 0:s.tiletype):l((Te=x.tilemech.value[0])==null?void 0:Te.material),ae=We!==!0?l((i=x.tilemech.value[0])==null?void 0:i.savedfastener):l((St=x.tilemech.value[0])==null?void 0:St.description),Q=We===!0?l((ea=x.tilemech.value[0])==null?void 0:ea.savedfastener):l((v=x.tilemech.value[0])==null?void 0:v.description);console.log((ma=x.tilemech.value[0])==null?void 0:ma.description,(ta=x.tilemech.value[0])==null?void 0:ta.savedfastener),a.getTextWidth(Se);const ha=a.getTextWidth(`${ie.value}`),we=W;a.text(Se,we,o-15);const L=W;o=o-9,a.text(`${ie.value}`,L,o),a.line(L,o+n,L+ha,o+n),o=o+10;const ze=a.getTextWidth(ee),ot=a.getTextWidth(`${Lt.value}`),be=W;a.text(ee,be,o);const pe=ze+be;a.text(`${Lt.value}`,pe,o),a.line(pe,o+n,pe+ot,o+n),o=o+8;const Z=a.getTextWidth(Ge),vl=a.getTextWidth(`${oa.value}`),Ia=W;a.text(Ge,Ia,o);const ba=Z+Ia;if(a.text(`${oa.value}`,ba,o),a.line(ba,o+n,ba+vl,o+n),o=o+10,a.setFontSize(12),N.$state.tilesysEinput.length===0){const E="n/a",w="n/a",M="n/a",U="n/a",le=a.getTextWidth(ra),H=a.getTextWidth(E),ue=W;a.text(ra,ue,o);const Y=ue+le;a.text(E,Y,o),a.line(Y,o+n,Y+H,o+n),t.value=Y+H,console.log(t.value);const Ze=a.getTextWidth(La),Da=a.getTextWidth(w),De=t.value+2;a.text(La,De,o);const Ft=De+Ze;a.text(w,Ft,o),a.line(Ft,o+n,Ft+Da,o+n),t.value=Ft+Da,console.log(t.value),t.value>se&&(o=o+10);const y=t.value+2,Aa=a.getTextWidth(nl),qe=a.getTextWidth(M);a.text(nl,y,o);const Pe=y+Aa;a.text(M,Pe,o),a.line(Pe,o+n,Pe+qe,o+n),t.value=Pe+qe,console.log(t.value),t.value>se&&(o=o+10),o=o+10;const Ce=a.getTextWidth(J),Ma=a.getTextWidth(U),oe=W,Ke=oe+Ma;console.log(Ke),a.text(J,oe,o),Ke>se&&print(Ke);const ve=oe+Ce;a.text(U,ve,o),a.line(ve,o+n,ve+Ma,o+n),t.value=ve+Ma,o=o+10}else{console.log(N.$state.tilesysEinput);const E=l(((A=(Vt=N.$state.tilesysEinput[0])==null?void 0:Vt.systemDataE)==null?void 0:A.noa)||"N/A"),w=l(((et=(Ta=N.$state.tilesysEinput[0])==null?void 0:Ta.systemDataE)==null?void 0:et.manufacturer)||"N/A"),M=l(((Ht=(rt=N.$state.tilesysEinput[0])==null?void 0:rt.systemDataE)==null?void 0:Ht.material)||"N/A"),U=l(((Yt=(tt=N.$state.tilesysEinput[0])==null?void 0:tt.systemDataE)==null?void 0:Yt.systemSelected)||"N/A"),le=l(((Gt=(Oe=N.$state.tilesysEinput[0])==null?void 0:Oe.systemDataE)==null?void 0:Gt.dP)||"N/A"),H=l(((Jt=(bt=N.$state.tilesysEinput[0])==null?void 0:bt.systemDataE)==null?void 0:Jt.Anchor_Base)||"N/A"),ue=l(((Zt=(jt=N.$state.tilesysEinput[0])==null?void 0:jt.systemDataE)==null?void 0:Zt.tileCap)||"N/A"),Y=a.getTextWidth(ra),Ze=a.getTextWidth(`${E.value}`),Da=W;a.text(ra,Da,o);const De=Da+Y;a.text(`${E.value}`,De,o),a.line(De,o+n,De+Ze,o+n),t.value=De+Ze;const Ft=a.getTextWidth(La),y=a.getTextWidth(`${w.value}`),Aa=t.value+2;a.text(La,Aa,o);const qe=Aa+Ft;a.text(`${w.value}`,qe,o),a.line(qe,o+n,qe+y,o+n);const Pe=a.getTextWidth(`${M.value}`);t.value=qe+Pe,o=o+10;const Ce=W,Ma=a.getTextWidth(nl),oe=a.getTextWidth(`${M.value}`);a.text(nl,Ce,o);const Ke=Ce+Ma;a.text(`${M.value}`,Ke,o),a.line(Ke,o+n,Ke+oe,o+n),t.value=Ke+oe,t.value>se&&(o=o+10);const ve=t.value+5,Dl=a.getTextWidth(F),S=a.getTextWidth(`${U.value}`);a.text(F,ve,o);const X=ve+Dl;a.text(`${U.value}`,X,o),a.line(X,o+n,X+S,o+n),t.value=X+S,t.value>se&&(o=o+10);const b=a.getTextWidth(B),he=a.getTextWidth(`${le.value}`),Qe=t.value+3;a.text(B,Qe,o);const xe=Qe+b;a.text(`${le.value}`,xe,o),a.line(xe,o+n,xe+he,o+n),t.value=xe+he,console.log(t.value),o=o+10,a.getTextWidth(O);const Et=a.getTextWidth(`${H.value}`),wt=W;a.text(O,wt,o),o=o+10;const Ae=W;a.text(`${H.value}`,Ae,o),a.line(Ae,o+n,Ae+Et,o+n),t.value=Ae+Et,o=o+10;const Xa=a.getTextWidth(J),Le=a.getTextWidth(`${ue.value}`),st=W;a.text(J,st,o);const ge=st+Xa;a.text(`${ue.value}`,ge,o),a.line(ge,o+n,ge+Le,o+n),t.value=ge+Le,console.log(t.value),o=o+10}const je="Self Adhered NOA: ",Wl="S/A NOA Applicant: ",fl="S/A System F: ",$l="S/A Material: ",Sl="S/A Description: ";if(q.$state.tilefinput.length===0){const E="n/a",w="n/a",M="n/a",U="n/a",le="n/a",H=a.getTextWidth(je),ue=a.getTextWidth(E),Y=W;a.text(je,Y,o);const Ze=Y+H;a.text(E,Ze,o),a.line(Ze,o+n,Ze+ue,o+n),t.value=Ze+ue,console.log(t.value);const Da=a.getTextWidth(Wl);a.getTextWidth(w);const De=t.value+3,Ft=a.getTextWidth(M);a.text(Wl,De,o);const y=De+Da;a.text(w,y,o),a.line(y,o+n,y+Ft,o+n),t.value=y+Ft,console.log(t.value);const Aa=a.getTextWidth(fl),qe=a.getTextWidth(M),Pe=t.value+3;a.text(fl,Pe,o);const Ce=Pe+Aa;a.text(M,Ce,o),a.line(Ce,o+n,Ce+qe,o+n),t.value=Ce+qe,console.log(t.value),o=o+10;const Ma=a.getTextWidth($l),oe=a.getTextWidth(U),Ke=W;a.text($l,Ke,o);const ve=Ke+Ma;a.text(U,ve,o),a.line(ve,o+n,ve+oe,o+n),t.value=ve+oe,console.log(t.value);const Dl=a.getTextWidth(Sl),S=a.getTextWidth(le),X=t.value+3;a.text(Sl,X,o);const b=X+Dl;a.text(le,b,o),a.line(b,o+n,b+S,o+n),t.value=b+S,console.log(t.value)}else{console.log("Entered sbs line 455",q.$state);const E=l(q.$state.tilefinput[0].systemData.noa),w=l(q.$state.tilefinput[0].systemData.manufacturer),M=l(q.$state.tilefinput[0].systemData.pressure),U=l(q.$state.tilefinput[0].systemData.material),le=l(q.$state.tilefinput[0].systemData.description),H=a.getTextWidth(je),ue=a.getTextWidth(`${E.value}`),Y=W;a.text(je,Y,o);const Ze=Y+H;a.text(`${E.value}`,Ze,o),a.line(Ze,o+n,Ze+ue,o+n),t.value=Ze+ue;const Da=a.getTextWidth(Wl),De=a.getTextWidth(`${w.value}`),Ft=t.value+3;a.text(Wl,Ft,o);const y=Ft+Da;a.text(`${w.value}`,y,o),a.line(y,o+n,y+De,o+n),t.value=y+De,console.log(t.value);const Aa=a.getTextWidth(fl),qe=a.getTextWidth(`${M.value}`),Pe=t.value+3;a.text(fl,Pe,o);const Ce=Pe+Aa;a.text(`${M.value}`,Ce,o),a.line(Ce,o+n,Ce+qe,o+n),t.value=Ce+qe,o=o+10;const Ma=a.getTextWidth($l),oe=a.getTextWidth(`${U.value}`),Ke=W;a.text($l,Ke,o);const ve=Ke+Ma;a.text(`${U.value}`,ve,o),a.line(ve,o+n,ve+oe,o+n),t.value=ve+oe,t.value>se&&(o=o+10);const Dl=a.getTextWidth(Sl),S=a.getTextWidth(`${le.value}`),X=t.value+3;a.text(Sl,X,o);const b=X+Dl;a.text(`${le.value}`,b,o),a.line(b,o+n,b+S,o+n),t.value=b+S,t.value>=se&&(o=o+10),console.log(t.value)}o=o+10;const jl=a.getTextWidth(`${Ve.value}`),Vl=a.getTextWidth(Qa),zl=W;a.text(Qa,zl,o);const rl=zl+Vl;a.text(`${Ve.value}`,rl,o),a.line(rl,o+n,rl+jl,o+n),t.value=rl+Vl+10;const Pl=a.getTextWidth(ul),hl=a.getTextWidth(`${te.value}`),xl=t.value+Pl;a.text(ul,xl,o);const ya=xl+38;a.text(`${te.value}`,ya,o),a.line(ya,o+n,ya+hl,o+n),t.value=ya+hl,o=o+10;const _t=o;if(We===!0){const E=a.getTextWidth(va),w=a.getTextWidth(`${re.value}`),M=W;a.text(va,M,_t);const U=M+E;t.value=E+w,a.text(`${re.value}`,U,_t),a.line(U,_t+n,U+w,_t+n),o=o+10;const le=a.getTextWidth(Ba),H=a.getTextWidth(`${Q.value}`);console.log(Q.value),t.value=W;const ue=t.value;a.text(Ba,ue,o),console.log(t.value);const Y=ue+le;a.text(`${Q.value}`,Y,o),a.line(Y,o+n,Y+H,o+n),t.value=Y+H,o=o+10}else{const E=a.getTextWidth(Sa),w=a.getTextWidth(`${Je.value}`);t.value=W,console.log(Je.value);const M=t.value;a.text(Sa,M,_t);const U=M+E;a.text(`${Je.value}`,U,_t),a.line(U,_t+n,U+w,_t+n),t.value=E+w+20,console.log(t.value);const le=a.getTextWidth(Va),H=a.getTextWidth(`${ae.value}`),ue=t.value+10;a.text(Va,ue,o);const Y=ue+le;a.text(`${ae.value}`,Y,o),a.line(Y,o+n,Y+H,o+n),t.value=Y+H}o=o+10;const _a=new Image;_a.src="/demo/images/lambda.png";const Cl=[["Zone 1:",`${lt.value}`,"x",`${at.value}`,"- Mg:",`${Ya.value}`,"= Mr1:",`${He.value}`,"NOA Mf:",`${sa.value}`],["Zone 2:",`${ia.value}`,"x",`${Ye.value}`,"- Mg:",`${Mt.value}`,"= Mr2:",`${$e.value}`,"NOA Mf:",`${fe.value}`],["Zone 3:",`${ja.value}`,"x",`${tl.value}`,"- Mg:",`${Ja.value}`,"= Mr3:",`${Ea.value}`,"NOA Mf:",`${Ga.value}`]];console.log(Cl);let Il=W-1,Ua=o;Cl.forEach(E=>{let w=Il;E.forEach(M=>{a.text(String(M),w,Ua),w+=18}),a.addImage(_a,"png",50,Ua-4,5,5),a.addImage(_a,"png",50,Ua-4,5,5),a.addImage(_a,"png",50,Ua-4,5,5),Ua+=5,Ua+=5}),o=o+20;const bl="MechanicalTile.pdf",Zl=a.output("blob");(async(E,w)=>{const M=E,U=M;console.log(U);const le=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${ne.value}/${U}`;try{const H=await fetch(le,{method:"PUT",headers:{"Content-Type":M.type},body:w});H.ok?(al.value=le,alert("Mechanical File uploaded successfully!")):alert(`Failed to upload file. Status: ${H.status}`)}catch(H){console.error("Error uploading file:",H),alert("An error occurred while uploading the file.")}})(bl,Zl)}};return(o,W)=>(Nl(),Fl("div"))}},Oo={id:"summary",class:"card-system"},Ho=Ha("p",null,"The roof systems you selected",-1),Yo={class:"rounded border border-surface-200 dark:border-surface-700 p-6 bg-surface-0 dark:bg-surface-900"},ds={__name:"Summarys",setup(it){var nt,_e,Xe,Ne,Fe;const{accountUsers:$}=El(),V=Vo();l(!1),l(!1);let k=l(!1),D=l(!1),T=l(!1),x=l(!1),q=l(!1);const N=l("");l(""),l("");const K=wl(),r=gl(),j=l(r.$state.roofList);l(((_e=(nt=K.$state.permitapp[0])==null?void 0:nt.formdt)==null?void 0:_e.processNumber)||"");const o=oo(),W=l(o.$state.generalpdfinput);l(((Ne=(Xe=K.$state.permitapp[0])==null?void 0:Xe.formdt)==null?void 0:Ne.muniProc)||""),l(!1),l(((Fe=V.$state.countinput[0])==null?void 0:Fe.countData)||""),l(!1),l(!1),l(!1),l(!1);function Me(){$.value.forEach((z,Re)=>{N.value=z.dba})}const me=lo({dim:"",item:""}),g=Al(()=>{if(j.value.length===0)return"";for(let z=0;z<j.value.length;z++)j.value[z].item==="Asphalt Shingle"?(x.value=!0,me.dim=j.value[z].dim1,me.item=j.value[z].item):j.value[z].item==="Low Slope"?q.value=!0:j.value[z].item==="Adhesive Set Tile"?(console.log(j.value[z].item),D.value=!0):j.value[z].item==="Mechanical Fastened Tile"?(console.log(j.value[z].item),T.value=!0):W.value.length!==1&&(k.value=!0),console.log(j.value)});To(()=>{Me()});const e=l([{status:"RoofSystems",date:"15/10/2020 10:30",icon:"pi pi-cog",color:"#9C27B0",image:"/src/assets/img/roofing_tile.jpg"},{status:"Processing",date:"15/10/2020 14:00",icon:"pi pi-cog",color:"#673AB7"},{status:me.item,date:"15/10/2020 14:00",icon:"pi pi-cog",color:"#673AB7"}]);return Wo(Me,g,()=>{}),Ml(async()=>{await Xl(g).toBe(!0)}),(z,Re)=>{const Be=vo,Ie=uo,Ue=po;return Nl(),Fl(fo,null,[Ha("div",Oo,[pl(Ue,{value:e.value,align:"alternate",class:"customized-timeline",style:{"margin-top":"50px"}},{marker:Rl(R=>[Ha("span",{class:"flex w-8 h-8 items-center justify-center text-white rounded-full z-10 shadow-sm",style:$o({backgroundColor:R.item.color})},[Ha("i",{class:So(R.item.icon)},null,2)],4)]),content:Rl(R=>[pl(Ie,{class:"mt-4"},{title:Rl(()=>[eo(to(R.item.status),1)]),subtitle:Rl(()=>[eo(to(R.item.date),1)]),content:Rl(()=>[Ho,pl(Be,{label:"Read more",text:""})]),_:2},1024)]),_:1},8,["value"])]),Ha("div",Yo,[Ha("div",null,[pl(Po)]),Yl(Ha("div",null,[pl(ko)],512),[[Gl,Jl(x)]]),Yl(Ha("div",null,[pl(Bo)],512),[[Gl,Jl(D)]]),Yl(Ha("div",null,[pl(Uo)],512),[[Gl,Jl(T)]]),Yl(Ha("div",null,[pl(Co)],512),[[Gl,Jl(q)]])])],64)}}};export{ds as default};
