import{E as ja,P as Ja,c as la,d as oa,D as Za,r as s,a8 as ta,as as ca,at as pa,f as Ct,o as qa,ao as Ka,e as Nt,i as xa,a2 as Qa,a1 as La,am as Ma,t as wa,g as ga,ap as ma,k as Ta,V as ya,F as _a,p as el,j as tl}from"./index-DTa2BfTK.js";import{s as al}from"./index-CZTQucMt.js";import{s as ll}from"./index-DXFcvqqx.js";import{s as ol}from"./index-BjIuM62b.js";import{a as Ea,u as sl}from"./generalpageStore-BWUlaWyS.js";import{u as ua}from"./accountsStore-DvGz0K3i.js";import{u as va}from"./permitapp-B5SBivMU.js";import{u as aa}from"./roofList-iwIexwuQ.js";import{E as Mt}from"./jspdf.es.min-CTGuw5Mt.js";import{u as Pa}from"./burpdfStore-BNfeLKEp.js";import{a as il,u as nl,b as dl}from"./systemfStore-TpY_lML4.js";import{u as za}from"./dripEdgeStore-_8bzXr9c.js";import{u as cl}from"./tilenoaStore-BFJTV3OL.js";import{u as Ba,a as Ra}from"./tilesysfStore-Cekjty1O.js";import{u as pl}from"./use-tileMechanical-BojYyBPk.js";import{_ as ul}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-CwpCctqJ.js";import"./pdfsignStore-COdxTYZt.js";import"./useAxios-BXWNRr8l.js";var vl=function(U){var g=U.dt;return`
.p-skeleton {
    overflow: hidden;
    background: `.concat(g("skeleton.background"),`;
    border-radius: `).concat(g("skeleton.border.radius"),`;
}

.p-skeleton::after {
    content: "";
    animation: p-skeleton-animation 1.2s infinite;
    height: 100%;
    left: 0;
    position: absolute;
    right: 0;
    top: 0;
    transform: translateX(-100%);
    z-index: 1;
    background: linear-gradient( 90deg, rgba(255, 255, 255, 0), `).concat(g("skeleton.animation.background"),`, rgba(255, 255, 255, 0) );
}

.p-skeleton-circle {
    border-radius: 50%;
}

.p-skeleton-animation-none::after {
    animation: none;
}

@keyframes p-skeleton-animation {
    from {
        transform: translateX(-100%);
    }
    to {
        transform: translateX(100%);
    }
}
`)},hl={root:{position:"relative"}},xl={root:function(U){var g=U.props;return["p-skeleton p-component",{"p-skeleton-circle":g.shape==="circle","p-skeleton-animation-none":g.animation==="none"}]}},gl=ja.extend({name:"skeleton",theme:vl,classes:xl,inlineStyles:hl}),ml={name:"BaseSkeleton",extends:Ja,props:{shape:{type:String,default:"rectangle"},size:{type:String,default:null},width:{type:String,default:"100%"},height:{type:String,default:"1rem"},borderRadius:{type:String,default:null},animation:{type:String,default:"wave"}},style:gl,provide:function(){return{$pcSkeleton:this,$parentInstance:this}}},Oa={name:"Skeleton",extends:ml,inheritAttrs:!1,computed:{containerStyle:function(){return this.size?{width:this.size,height:this.size,borderRadius:this.borderRadius}:{width:this.width,height:this.height,borderRadius:this.borderRadius}}}};function Tl(ce,U,g,ee,C,R){return la(),oa("div",Za({class:ce.cx("root"),style:[ce.sx("root"),R.containerStyle],"aria-hidden":"true"},ce.ptmi("root")),null,16)}Oa.render=Tl;const Wl={__name:"Generalpagepdf",setup(ce){const{getUser:U}=ua();let g=s(!1);const ee=va();aa();const C=Ea(),R=s(ee.$state.permitapp[0].formdt.address),F=s(ee.$state.permitapp[0].formdt.permit),u=s(ee.$state.permitapp[0].formdt.processNumber),M=u.value.length!==0?u.value:"files",ot=s(U.value[0].dba),st=s(""),Wt=s(C.$state.generalpdfinput);function m(){Wt.value.length!==1&&(g.value=!0)}ta(()=>{m(),l()}),ca(async()=>{await pa(g).toBe(!0),l()});const l=()=>{if(C.$state.generalpdfinput.length===0)console.log("lenghth is   zero");else{const i=new Mt({orientation:"portrait",unit:"mm",format:"a4",compress:!0});i.setGState(new i.GState({opacity:.9}));const I="Approved";i.setFontSize(24),i.setTextColor("black"),i.setFont("helvetica"),i.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const pe=new Image,we=new Image,Ge=new Image;pe.src="/demo/images/officepaper.jpeg",we.src="/demo/images/logo.jpeg",Ge.src="/demo/images/DragAndDrop.jpeg";const d=725,le=i.getPageInfo(1),n=le.pageContext.mediaBox.topRightX,je=le.pageContext.mediaBox.topRightY;console.log(n);const x=s(0),o=s(0);var v=595.28-585.28,e=je-d;x.value=v,o.value=e,console.log(x.value,o.value),i.addImage(we,"JPEG",10,10,50,30),i.addImage(pe,"JPEG",0,0,210,297),i.setFontSize(12),i.setTextColor("green");var t=new Date,O=t.toLocaleDateString();i.text(I,10,270,{align:"left"});const ue=i.getTextWidth(I);i.text("on: "+O,ue+15,270),i.text(`${u.value}`,10,258,{align:"left"}),i.getTextWidth(`${u.value}`),console.log(R,F,u,ot);const a=s(!1),Je=s(!1),W=s(!1),it=s(!1),nt=s(!1);i.setFontSize(12);const Jt=()=>{i.setFontSize(10),i.setTextColor(0),i.text("2023 HVHZ  mEPermit General Information Page",70,20,{maxWidth:"170"}),i.line(10,41,195,41)};i.setTextColor(0),i.circle(185,38,2,"FD"),i.text("I agree",165,39),Jt(),i.setFontSize(12),i.setFontSize(10);const Ut=[{category:"DBA",value:`${ot.value}`},{category:"Job Address",value:`${R.value}`},{category:"meProcess Number",value:`${u.value}`},{category:"Master Permit",value:`${F.value}`}];let ft=10,rt=60,oe=50;i.setFontSize(10),Ut.forEach((j,Oe)=>{const ke=oe+Oe*10;i.text(j.category,ft,ke),i.text(j.value,rt,ke),i.getTextWidth(j.category);const y=i.getTextWidth(j.value)*2;i.line(rt,ke+2,rt+y,ke+2)}),i.setTextColor("black"),i.setFontSize(10);const A=100,h=s(!1);C.$state.generalpdfinput[0].generalpdfData.roofCheck[0]==="reroof"&&(h.value=!0,console.log(h.value)),x.value=v+70,e=A-15,console.log(e);const ve=new Mt.API.AcroFormCheckBox;i.text("Re-Roof: ",x.value,e);const he=e-3;ve.fieldName="CheckBox6",console.log(h.value),ve.Rect=[x.value+20,he,4,4],x.value=x.value+20,ve.value=h.value===!0?"On":"Off",ve.appearanceState=h.value===!0?"On":"Off",i.addField(ve),x.value=v+120,e=A-15,console.log(e);const xe=new Mt.API.AcroFormCheckBox;i.text("New Roof: ",x.value,e);const $t=e-3;xe.fieldName="CheckBox7",xe.Rect=[x.value+20,$t,4,4],xe.value=h.value===!0?"Off":"On",xe.appearanceState=h.value===!0?"Off":"On",x.value=x.value+20,i.addField(xe);const $="Total: ",dt="Low Slope: ",ct="Steep Slope: ",Pe=s(C.$state.generalpdfinput[0].generalpdfData.totalData),Ee=s(C.$state.generalpdfinput[0].generalpdfData.slopeData),Ve=s(C.$state.generalpdfinput[0].generalpdfData.steepData);console.log(C.$state.generalpdfinput[0].generalpdfData),x.value=v;const be=i.getTextWidth(dt),ge=i.getTextWidth(`${Ee.value}`),Ae=x.value+2;i.text(dt,Ae,A);const w=be+Ae;i.text(`${Ee.value}`,w,A),i.line(w,A,w+ge,A),x.value=w+ge;const wt=i.getTextWidth(ct),ze=i.getTextWidth(`${Ve.value}`),me=x.value+2;i.text(ct,me,A);const c=wt+me;i.text(`${Ve.value}`,c,A),i.line(c,A,c+ze,A),console.log(A,e),e=A+10,x.value=c+ze,console.log(x.value);const St=i.getTextWidth($),Ze=i.getTextWidth(`${Pe.value}`),G=x.value+2;i.text($,G,A);const De=St+G;i.text(`${Pe.value}`,De,A),i.line(De,A,De+Ze,A),x.value=De+Ze,console.log(C.$state.generalpdfinput[0]),C.$state.generalpdfinput[0].generalpdfData.slopeChk===!0&&(nt.value=!0,console.log("Slope Checked")),C.$state.generalpdfinput[0].generalpdfData.adtileChk===!0&&(a.value=!0),C.$state.generalpdfinput[0].generalpdfData.metalChk===!0&&(Je.value=!0),C.$state.generalpdfinput[0].generalpdfData.mtileChk===!0&&(W.value=!0),C.$state.generalpdfinput[0].generalpdfData.shingleChk===!0&&(it.value=!0,console.log("Shingle Checked")),x.value=v,e=e+10,console.log(e);const Te=new Mt.API.AcroFormCheckBox;i.text("Low Slope: ",v,e);const Pt=e-3;Te.fieldName="CheckBox1",Te.Rect=[v+20,Pt,4,4],Te.value=nt.value===!0?"On":"Off",Te.appearanceState=nt.value===!0?"On":"Off",x.value=v+20,i.addField(Te);const p=x.value+10,Fe=new Mt.API.AcroFormCheckBox;i.text("Mechanical Fastened Tile: ",p,e);const Et=e-3;Fe.fieldName="CheckBox2",Fe.Rect=[p+45,Et,4,4],Fe.value=nt.value===!0?"On":"Off",Fe.appearanceState=nt.value===!0?"On":"Off",x.value=p+20,i.addField(Fe);const Be=x.value+30,se=new Mt.API.AcroFormCheckBox;i.text("Adhesive Set Tile: ",Be,e);const pt=e-3;se.fieldName="CheckBox3",se.Rect=[Be+35,pt,4,4],se.value=a.value===!0?"On":"Off",se.appearanceState=a.value===!0?"On":"Off",x.value=Be+10,i.addField(se);const ut=x.value+35,ie=new Mt.API.AcroFormCheckBox;i.text("Shingle: ",ut,e);const Vt=e-3;ie.fieldName="CheckBox4",ie.Rect=[ut+20,Vt,4,4],ie.value=it.value===!0?"On":"Off",ie.appearanceState=it.value===!0?"On":"Off",x.value=ut+20,i.addField(ie);const qe=x.value+25,L=new Mt.API.AcroFormCheckBox;i.text("Metal Panel: ",qe,e);const Re=e-3;L.fieldName="CheckBox5",L.Rect=[qe+20,Re,4,4],L.value=Je.value===!0?"on":"Off",L.appearanceState=Je.value===!0?"On":"Off",x.value=qe+20,i.addField(L),e=e+10,i.addImage(Ge,"JPEG",v+40,e,120,120);const Xe="GeneralPage.pdf",zt=i.output("blob");(async(j,Oe)=>{const ke=j,y=ke;console.log(y);const Ke=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${M}/${y}`;try{const We=await fetch(Ke,{method:"PUT",headers:{"Content-Type":ke.type},body:Oe});We.ok?(st.value=Ke,alert("File uploaded successfully!")):alert(`Failed to upload file. Status: ${We.status}`)}catch(We){console.error("Error uploading file:",We),alert("An error occurred while uploading the file.")}})(Xe,zt)}};return(v,e)=>(la(),oa("div"))}},fl={__name:"LowSlopepdf",setup(ce){const{getUser:U}=ua(),g=va(),ee=aa(),C=Pa(),R=s(ee.$state.roofList[0].dim2),F=s(g.$state.permitapp[0].formdt.address),u=s(g.$state.permitapp[0].formdt.muni),M=s(g.$state.permitapp[0].formdt.processNumber),ot=s(U.value[0].dba),st=s(C.$state.burpdfinput);let Wt=s(!1);const m=M.value.length!==0?M.value:"files",l=s("");function v(){st.value.length!==1&&(Wt.value=!0,e())}ta(()=>{v()}),ca(async()=>{await pa(Wt).toBe(!0)});const e=()=>{const t=Pa();if(t.$state.burpdfinput.length===0)console.log("lenghth is zero");else{const we=s(t.$state.burpdfinput[0].burpdfData.height),Ge=s(t.$state.burpdfinput[0].burpdfData.slope),d=s(t.$state.burpdfinput[0].burpdfData.per),le=s(t.$state.burpdfinput[0].burpdfData.deckType),n=new Mt({orientation:"portrait",unit:"mm",format:"a4",compress:!0});n.setGState(new n.GState({opacity:.9}));const je="Approved";n.setFontSize(24),n.setTextColor("black"),n.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const x=new Image,o=new Image;x.src="/demo/images/officepaper.jpeg",o.src="/demo/images/logo.jpeg";const ue=725,a=n.getPageInfo(1);a.pageContext.mediaBox.topRightX;const Je=a.pageContext.mediaBox.topRightY,W=s(0),it=s(0);var O=595.28-585.28,i=Je-ue;W.value=O,it.value=i,console.log(W.value,it.value),n.addImage(o,"JPEG",10,2,50,30),n.addImage(x,"JPEG",0,0,210,297),n.setFontSize(14),n.setTextColor("green");var I=new Date,pe=I.toLocaleDateString();n.text(je,10,270,{align:"left"});const nt=n.getTextWidth(je);n.text("on: "+pe,nt+15,270),n.text(`${M.value}`,10,280,{align:"left"});const Jt=n.getTextWidth(`${M.value}`);n.text(`${u.value}`,Jt+15,280),n.setFontSize(12);const Ut=()=>{n.setFontSize(10),n.setTextColor(0),n.text('The low slope Built Up Roof (BUR) Assembly shall be installed in compliance with the HVHZ portions of Chapter 15 found in the 2023 Florida Building Code and the HVHZ Roofing Application Standards (RAS), RAS-111, RAS-117 and RAS-128. This roof assembly shall also comply with the listed requirements for a Class "A" fire rating including roof slope (incline), components and a fire barrier when required. The mePermit applicant agrees to comply with these installation requirements when obtaining this permit.',10,25,{maxWidth:"170"}),n.line(10,45,195,45)};n.setTextColor("black"),n.circle(185,40,2,"FD"),n.text("I agree",165,41),Ut(),n.setFontSize(12),n.setFontSize(10);const ft=[{category:"DBA",value:`${ot.value}`},{category:"Municipality",value:`${u.value}`},{category:"Job Address",value:`${F.value}`},{category:"meProcess Number",value:`${M.value}`}];let rt=10,oe=60,Q=50;n.setFontSize(10),ft.forEach((Ie,At)=>{const ht=Q+At*10;n.text(Ie.category,rt,ht),n.text(Ie.value,oe,ht),n.getTextWidth(Ie.category);const k=n.getTextWidth(Ie.value)*2;n.line(oe,ht+2,oe+k,ht+2)}),n.setFontSize(10);const h=100,ve="Roof Area: ",he="Decktype: ",xe="Mean Roof Height: ",$t="Roof Slope: ",$="Roof Perimeter: ",dt="Type of Low Slope BUR Material: ",ct="Type of Low Slope BUR System: ",Pe="Attach P(1') Prime using P(1) Field Prescriptive Basesheet: ",Ee="Attach P(2) Perimeter using P(3) Corner Prescriptive: ",Ve=s(t.$state.burpdfinput[1].burpdfData.burMaterial),be=s(t.$state.burpdfinput[1].burpdfData.burSystem),ge=s(t.$state.burpdfinput[1].burpdfData.p1),Ae=s(t.$state.burpdfinput[1].burpdfData.p3);W.value=O;const w=n.getTextWidth(ve),wt=n.getTextWidth(`${R.value}`),ze=W.value;n.text(ve,ze,h);const me=w+ze;n.text(`${R.value}`,me,h),n.line(me,h,me+wt,h),W.value=me+wt;const c=n.getTextWidth(xe),St=n.getTextWidth(`${we.value}`),Ze=W.value+2;n.text(xe,Ze,h);const G=c+Ze;n.text(`${we.value}`,G,h),n.line(G,h,G+St,h),W.value=G+St;const De=n.getTextWidth($t),Te=n.getTextWidth(`${Ge.value}`),Pt=W.value+2;n.text($t,Pt,h);const p=De+Pt;n.text(`${Ge.value}`,p,h),n.line(p,h,p+Te,h),W.value=p+Te;const Fe=n.getTextWidth($),Et=n.getTextWidth(`${d.value}`),Be=W.value+2;n.text($,Be,h);const se=Fe+Be;n.text(`${d.value}`,se,h),n.line(se,h,se+Et,h),console.log(h,i),i=h+10,W.value=se+Et;const pt=n.getTextWidth(he),ut=n.getTextWidth(`${le.value}`),ie=O;n.text(he,ie,i);const Vt=pt+ie;n.text(`${le.value}`,Vt,i),n.line(Vt,i,Vt+ut,i),i=i+10,W.value=O;const qe=n.getTextWidth(dt),L=n.getTextWidth(`${Ve.value}`),Re=W.value;n.text(dt,Re,i);const Xe=qe+12;n.text(`${Ve.value}`,Xe,i),n.line(Xe,i,Xe+L,i),W.value=Xe+L,i=i+10,W.value=O,n.setFontSize(9),n.getTextWidth(Pe);const zt=n.getTextWidth(`${be.value}`),bt=W.value;n.text(ct,bt,i),i=i+10,W.value=O;const j=W.value;n.text(`${be.value}`,j,i),n.line(j,i,j+zt,i),i=i+10,n.setFontSize(10),n.getTextWidth(Pe);const Oe=n.getTextWidth(`${ge.value}`),ke=O;n.text(Pe,ke,i),i=i+7;const y=O;n.text(`${ge.value}`,y,i),n.line(y,i,y+Oe+70,i),i=i+10,W.value=O;const Ke=n.getTextWidth(`${Ae.value}`),We=W.value;n.text(Ee,We,i),i=i+7,W.value=O;const Ne=W.value;n.text(`${Ae.value}`,Ne,i),n.line(Ne,i,Ne+Ke+70,i),i=i+10;const vt="LowSlope.pdf",Yt=n.output("blob");(async(Ie,At)=>{const ht=Ie,k=ht;console.log(k);const z=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${m}/${k}`;try{const V=await fetch(z,{method:"PUT",headers:{"Content-Type":ht.type},body:At});V.ok?(l.value=z,alert("File uploaded successfully!")):alert(`Failed to upload file. Status: ${V.status}`)}catch(V){console.error("Error uploading file:",V),alert("An error occurred while uploading the file.")}})(vt,Yt)}};return(t,O)=>(la(),oa("div"))}},rl={__name:"Shingle",setup(ce){const{getUser:U}=ua(),g=il(),ee=va(),C=aa(),R=nl(),F=dl(),u=aa(),M=s(u.$state.roofList);let ot=s(!1);const st=ta(()=>{if(console.log(M),M.value.length===0)return"";M.value[0].item==="Asphalt Shingle"&&(ot.value=!0,Wt())});ca(async()=>{await pa(st).toBe(!0),console.log(st)});const Wt=()=>{if(R.$state.inputshingle.length===0)console.log("lenghth is zero");else{console.log(g,F);let t=s(!1),O=s(!1);g.$state.systeminput.length!==0&&(O=!0,console.log(O)),F.$state.polyinput.length!==0&&(t=!0,console.log(t));const i=s(ee.$state.permitapp[0].formdt.address),I=s(ee.$state.permitapp[0].formdt.muni),pe=s(ee.$state.permitapp[0].formdt.processNumber),we=s(U.value[0].dba),Ge=s(R.$state.inputshingle[0].shingleData.height),d=s(R.$state.inputshingle[0].shingleData.slope),le=s(R.$state.inputshingle[0].shingleData.deckType),n=s(C.$state.roofList[0].dim1),je=pe.value.length!==0?pe.value:"files",x=s(""),o=new Mt({orientation:"portrait",unit:"mm",format:"a4",compress:!0});o.setGState(new o.GState({opacity:.8}));const ue="Approved";o.setFontSize(24),o.setTextColor(150,150,150),o.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const a=new Image,Je=new Image;a.src="/demo/images/officepaper.jpeg",Je.src="/demo/images/logo.jpeg",o.addImage(Je,"JPEG",10,10,50,30),o.addImage(a,"JPEG",0,0,210,297),o.setFontSize(20),o.setTextColor(190,190,190);var m=new Date,l=m.toLocaleDateString();o.text(ue,10,270,{align:"left"});const W=o.getTextWidth(ue);o.text("on: "+l,W+15,270),o.text(`${pe.value}`,10,280,{align:"left"});const it=o.getTextWidth(`${pe.value}`);o.text(`${I.value}`,it+15,280),o.setFontSize(12);const nt=()=>{o.setFontSize(12),o.setTextColor(0),o.text("The Shingle roof system and its components shall be installed in strict compliance  with the HVHZportions of Chapter 15 FBC, the HVHZ Roof Application Standards(RAS) 111 & 115, and the submitted MDC(NOA) Notice of Acceptance(s).The mePermit applicant agrees to comply with these installation requirements when obtaining this permit.",10,20,{maxWidth:"200"}),o.line(10,41,195,41)};o.setTextColor(0),o.circle(185,38,2,"FD"),o.text("I agree",165,39),nt(),o.setFontSize(12),o.setFontSize(14);const Jt=[{category:"DBA",value:`${we.value}`},{category:"Municipality",value:`${I.value}`},{category:"Job Address",value:`${i.value}`},{category:"meProcess Number",value:`${pe.value}`}];let Ut=10,ft=60,rt=50;o.setFontSize(12),Jt.forEach((k,z)=>{const V=rt+z*10;o.text(k.category,Ut,V),o.text(k.value,ft,V),o.getTextWidth(k.category);const Y=o.getTextWidth(k.value)*2;o.line(ft,V+2,ft+Y,V+2)}),o.setFontSize(12);const oe=2,Q=100;o.text("Roof Area:",10,Q),o.text(`${n.value}`,35,Q),o.line(35,Q+oe,45,Q+oe),o.text("Mean Roof Height:",50,Q);const A=o.getTextWidth("Mean Roof Height:");o.text(`${Ge.value}`,Q,Q),o.line(90,Q+oe,70+A,Q+oe),o.text("Roof Slope:",80+A,Q);const h=105+A;o.text(`${d.value}`,h,Q);const ve=o.getTextWidth(`${d.value}`)*2;o.line(h,Q+oe,h+ve,Q+oe);const he=108;o.text("Decktype:",10,he);const xe=30+ve;o.text(`${le.value}`,xe,he);const $t=o.getTextWidth(`${le.value}`)*2;o.line(xe,he,xe+$t,he);const $="Shingle NOA Number: ",dt="Shingle Applicant: ",ct="Shingle Material: ",Pe="Shingle Description: ",Ee="Fastened Underlayment(UDL)NOA: ",Ve="UDL NOA Applicant: ",be="Fastened UDL Material: ",ge="UDL Description: ",Ae="Perscriptive: ",w=179,wt=725,ze=o.getPageInfo(1);console.log(ze),ze.pageContext.mediaBox.topRightX;const me=ze.pageContext.mediaBox.topRightY,c=s(0),St=s(0);var v=595.28-585.28,e=me-wt;c.value=v,St.value=e,console.log(c.value,St.value);const Ze=s(R.$state.inputshingle[0].shingleData.noa),G=s(R.$state.inputshingle[0].shingleData.applicant),De=s(R.$state.inputshingle[0].shingleData.material),Te=s(R.$state.inputshingle[0].shingleData.description),Pt=s(R.$state.inputshingle[0].shingleData.prescriptiveSelection),p=o.getTextWidth(Ae),Fe=o.getTextWidth(`${Pt.value}`),Et=v;o.text(Ae,Et,e);const Be=p+10;o.text(`${Pt.value}`,Be,e),o.line(Be,e,Be+Fe,e),e=e+10;const se=o.getTextWidth(dt),pt=o.getTextWidth(`${G.value}`),ut=v;o.text(dt,ut,e);const ie=ut+se;o.text(`${G.value}`,ie,e),o.line(ie,e,ie+pt,e),c.value=ie+pt;const Vt=o.getTextWidth($),qe=o.getTextWidth(`${Ze.value}`),L=c.value+3;o.text($,L,e);const Re=Vt+L;o.text(`${Ze.value}`,Re,e),o.line(Re,e,Re+qe,e),c.value=Re+qe,c.value>w&&(e=e+10),console.log(c.value,w);const Xe=c.value+2,zt=o.getTextWidth(ct),bt=o.getTextWidth(`${De.value}`);o.text(ct,Xe,e);const j=Xe+zt;o.text(`${De.value}`,j,e),o.line(j,e,j+bt,e),c.value=j+bt,c.value>w&&(e=e+10),console.log(c.value,w);const Oe=o.getTextWidth(`${Te.value}`),ke=o.getTextWidth(Pe),y=v;o.text(Pe,y,e);const Ke=y+ke;if(o.text(`${Te.value}`,Ke,e),o.line(Ke,e,Ke+Oe,e),c.value=Ke+Oe,e=e+10,console.log(F.$state.polyinput.length),F.$state.polyinput.length===0){const k="n/a",z="n/a",V="n/a",Y="n/a",te=o.getTextWidth(Ee),J=o.getTextWidth(k),fe=v;o.text(Ee,fe,e);const H=fe+te;o.text(k,H,e),o.line(H,e,H+J,e),c.value=H+J,console.log(c.value);const re=o.getTextWidth(Ve),xt=o.getTextWidth(z),Qe=c.value+2;o.text(Ve,Qe,e);const T=Qe+re;o.text(z,T,e),o.line(T,e,T+xt,e),c.value=T+xt,console.log(c.value),c.value>w&&(e=e+10);const f=c.value+2,b=o.getTextWidth(be),D=o.getTextWidth(V);o.text(be,f,e);const r=f+b;o.text(V,r,e),o.line(r,e,r+D,e),c.value=r+D,console.log(c.value),c.value>w&&(e=e+10),console.log(c.value);const P=o.getTextWidth(ge),E=o.getTextWidth(Y),N=v,S=N+E;console.log(S),o.text(ge,N,e),S>w&&print(S);const X=N+P;o.text(Y,X,e),o.line(X,e,X+E,e),c.value=X+E,e=e+10}else{const k=s(F.$state.polyinput[0].polyData.noa),z=s(F.$state.polyinput[0].polyData.applicant),V=s(F.$state.polyinput[0].polyData.material),Y=s(F.$state.polyinput[0].polyData.description),te=o.getTextWidth(Ee),J=o.getTextWidth(`${k.value}`),fe=v;o.text(Ee,fe,e);const H=y+te;o.text(`${k.value}`,H,e),o.line(H,e,H+J,e),c.value=H+J;const re=o.getTextWidth(Ve),xt=o.getTextWidth(`${z.value}`),Qe=c.value+2;o.text(Ve,Qe,e);const T=Qe+re;o.text(`${z.value}`,T,e),o.line(T,e,T+xt,e),c.value=T+xt,c.value>w&&(e=e+10);const f=v,b=o.getTextWidth(be),D=o.getTextWidth(`${V.value}`);o.text(be,f,e);const r=f+b;o.text(`${V.value}`,r,e),o.line(r,e,r+D,e),c.value=r+D,c.value>w&&(e=e+10),console.log(c.value);const P=o.getTextWidth(ge),E=o.getTextWidth(`${Y.value}`),N=c.value+2,S=N+E;console.log(S),o.text("UDL Description:",N,e),S>w&&print(S);const X=N+P;o.text(`${Y.value}`,X,e),o.line(X,e,X+E,e),c.value=X+E,console.log(c.value),e=e+10}const We="Self Adhered NOA: ",Ne="S/A NOA Applicant: ",vt="S/A System F: ",Yt="S/A Material: ",Bt="S/A Description: ";if(console.log(g.$state.systeminput.length),g.$state.systeminput.length===0){const k="n/a",z="n/a",V="n/a",Y="n/a",te="n/a",J=o.getTextWidth(We),fe=o.getTextWidth(k),H=v;o.text(We,H,e);const re=H+J;o.text(k,re,e),o.line(re,e,re+fe,e),c.value=re+fe,console.log(c.value);const xt=o.getTextWidth(Ne),Qe=o.getTextWidth(z),T=c.value+3;o.text(Ne,T,e);const f=T+xt;o.text(z,f,e),o.line(f,e,f+Qe,e),c.value=f+Qe,console.log(c.value);const b=o.getTextWidth(vt),D=c.value+3;o.text(vt,D,e);const r=D+b;o.text(V,r,e),o.line(r,e,r+b,e),c.value=r+b,console.log(c.value),e=e+10;const P=o.getTextWidth(Yt),E=o.getTextWidth(Y),N=v;o.text(Yt,N,e);const S=N+P;o.text(Y,S,e),o.line(S,e,S+E,e),c.value=S+E,console.log(c.value);const X=o.getTextWidth(Bt),Z=o.getTextWidth(te),q=c.value+3;o.text(Bt,q,e);const B=q+X;o.text(te,B,e),o.line(B,e,B+Z,e),c.value=B+Z,console.log(c.value)}else{console.log("Entered sbs line 455",g.$state);const k=s(g.$state.systeminput[0].systemData.noa),z=s(g.$state.systeminput[0].systemData.manufacturer),V=s(g.$state.systeminput.pdfSystemValue),Y=s(g.$state.systeminput[0].systemData.material),te=s(g.$state.systeminput[0].systemData.description),J=o.getTextWidth(We),fe=o.getTextWidth(`${k.value}`),H=v;o.text(We,H,e);const re=H+J;o.text(`${k.value}`,re,e),o.line(re,e,re+fe,e),c.value=re+fe;const xt=o.getTextWidth(Ne),Qe=o.getTextWidth(`${z.value}`),T=c.value+3;o.text(Ne,T,e);const f=T+xt;o.text(`${z.value}`,f,e),o.line(f,e,f+Qe,e),c.value=f+Qe,console.log(c.value);const b=o.getTextWidth(vt),D=o.getTextWidth(`${V.value}`),r=c.value+3;o.text(vt,r,e);const P=r+b;o.text(`${V.value}`,P,e),o.line(P,e,P+D,e),c.value=P+D,e=e+10,console.log(c.value);const E=o.getTextWidth(Yt),N=o.getTextWidth(`${Y.value}`),S=v;o.text(Yt,S,e);const X=S+E;o.text(`${Y.value}`,X,e),o.line(X,e,X+N,e),c.value=X+N,c.value>w&&(e=e+10),console.log(c.value);const Z=o.getTextWidth(Bt),q=o.getTextWidth(`${te.value}`),B=c.value+3;o.text(Bt,B,e);const ae=B+Z;o.text(`${te.value}`,ae,e),o.line(ae,e,ae+q,e),c.value=ae+q,c.value>=w&&(e=e+10),console.log(c.value)}const Ie="Shingle.pdf",At=o.output("blob");(async(k,z)=>{const V=k;console.log(V);const Y=V;console.log(Y);const te=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${je}/${Y}`;try{const J=await fetch(te,{method:"PUT",headers:{"Content-Type":V.type},body:z});J.ok?(x.value=te,alert("File uploaded successfully!")):alert(`Failed to upload file. Status: ${J.status}`)}catch(J){console.error("Error uploading file:",J),alert("An error occurred while uploading the file.")}})(Ie,At)}};return(m,l)=>(la(),oa("div"))}},$l=Ct("h1",null,"Generate PDF with Columns and Underlined Text",-1),Sl=[$l],Vl={__name:"TileAdhesive",setup(ce){const U=Ba(),g=Ra(),{getUser:ee}=ua(),C=va(),R=aa(),F=s(R.$state.roofList),u=cl(),M=za();let ot=s(!1);const st=ta(()=>{if(F.value.length===0)return"";F.value[0].item==="Adhesive Set Tile"&&(ot.value=!0,Wt())});ca(async()=>{await pa(st).toBe(!0)});const Wt=()=>{if(console.log(u.tilenoa),u.tilenoa.value[0].length===0)console.log("lenghth is zero");else{const t=new Mt({orientation:"portrait",unit:"mm",format:"a4",compress:!0});let O=s(!1),i=s(!1);g.$state.tilesysEinput.length!==0&&(O=!0,console.log(O)),U.$state.tilefinput.length!==0&&(i=!0,console.log(i));const I=179,pe=725,we=t.getPageInfo(1);we.pageContext.mediaBox.topRightX;const Ge=we.pageContext.mediaBox.topRightY,d=s(0),le=s(0);var m=595.28-585.28,l=Ge-pe;d.value=m,le.value=l;const n=s(u.tilenoa.value[0].height),je=s(u.tilenoa.value[0].slope),x=s(u.tilenoa.value[0].area),o=s(u.tilenoa.value[0].deckType),ue=s(u.tilenoa.value[0].perimeter),a=s(C.$state.permitapp[0].formdt.address),Je=s(C.$state.permitapp[0].formdt.muni),W=s(C.$state.permitapp[0].formdt.processNumber),it=W.value.length!==0?W.value:"files",nt=s(""),Jt=s(ee.value[0].dba);t.setGState(new t.GState({opacity:.8}));const Ut="Approved";t.setFontSize(24),t.setTextColor(150,150,150),t.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const ft=new Image,rt=new Image;ft.src="/demo/images/officepaper.jpeg",rt.src="/demo/images/logo.jpeg",t.addImage(rt,"JPEG",10,1,50,30),t.addImage(ft,"JPEG",0,0,210,297),t.setFontSize(20),t.setTextColor(190,190,190);var v=new Date,e=v.toLocaleDateString();t.text(Ut,10,270,{align:"left"});const oe=t.getTextWidth(Ut);t.text("on: "+e,oe+15,270),t.text(`${W.value}`,10,280,{align:"left"});const Q=t.getTextWidth(`${W.value}`);t.text(`${Je.value}`,Q+15,280),t.setFontSize(12);const A=()=>{t.setFontSize(12),t.setTextColor(0),t.text("The tile roof system and its components shall be installed in strict compliance with the FBC 2023 HVHZ portions of Chapter 15, the HVHZ Tile Application Standards: RAS-119, RAS-120 & RAS-127 and the submitted MDC Notice of Acceptance(s). The mePermit applicant agrees to comply with these installation requirements when obtaining this permit.",10,20,{maxWidth:"200"}),t.line(10,41,195,41)};t.setTextColor(0),t.circle(185,38,2,"FD"),t.text("I agree",165,39),A(),t.setFontSize(12),t.setFontSize(14);const h=[{category:"DBA",value:`${Jt.value}`},{category:"Municipality",value:`${Je.value}`},{category:"Job Address",value:`${a.value}`},{category:"meProcess Number",value:`${W.value}`}];let ve=10,he=60,xe=50;t.setFontSize(12),h.forEach((_,de)=>{const K=xe+de*10;t.text(_.category,ve,K),t.text(_.value,he,K),t.getTextWidth(_.category);const Ce=t.getTextWidth(_.value)*2;t.line(he,K+2,he+Ce,K+2)}),t.setFontSize(12);const $=90,dt="Roof Area: ",ct="Decktype: ",Pe="Mean Roof Height: ",Ee="Roof Slope: ",Ve="Roof Perimeter: ";d.value=m;const be=t.getTextWidth(dt),ge=t.getTextWidth(`${x.value}`),Ae=d.value;t.text(dt,Ae,$);const w=be+Ae;t.text(`${x.value}`,w,$),t.line(w,$,w+ge,$),d.value=w+ge,console.log(l,$);const wt=t.getTextWidth(Pe),ze=t.getTextWidth(`${n.value}`),me=d.value+2;t.text(Pe,me,$);const c=wt+me;t.text(`${n.value}`,c,$),t.line(c,$,c+ze,$),d.value=c+ze;const St=t.getTextWidth(Ee),Ze=t.getTextWidth(`${je.value}`),G=d.value+2;t.text(Ee,G,$);const De=St+G;t.text(`${je.value}`,De,$),t.line(De,$,De+Ze,$),d.value=De+Ze;const Te=t.getTextWidth(Ve),Pt=t.getTextWidth(`${ue.value}`),p=d.value+2;t.text(Ve,p,$);const Fe=Te+p;t.text(`${ue.value}`,Fe,$),t.line(Fe,$,Fe+Pt,$),console.log($,l),l=$+10;const Et=t.getTextWidth(ct),Be=t.getTextWidth(`${o.value}`),se=m;t.text(ct,se,l);const pt=Et+se;t.text(`${o.value}`,pt,l),t.line(pt,l,pt+Be,l),l=l+10;const ut="Tile NOA Number: ",ie="Tile Applicant: ",Vt="Tile Material: ",qe="Tile Description: ",L="Fastened Underlayment(UDL)NOA: ",Re="UDL NOA Applicant: ",Xe="Fastened UDL Material: ",zt="Select System E: ",bt="Design psf: ",j="Anchor Base Sheet: ",Oe="UDL Description: ",ke="Prescriptive: ",y="DripEdge Materiall: ",Ke="DripEdge Size: ";console.log(u.tilenoa);const We=s(M.$state.dripinput[0].dripData),Ne=s(M.$state.dripinput[3].dripData),vt=t.getTextWidth(y),Yt=t.getTextWidth(`${We.value}`),Bt=m;t.text(y,Bt,l);const Ie=vt+Bt;t.text(`${We.value}`,Ie,l),t.line(Ie,l,Ie+Yt,l),l=l+10;const At=t.getTextWidth(Ke),ht=t.getTextWidth(`${Ne.value}`),k=m;t.text(Ke,k,l);const z=At+k;t.text(`${Ne.value}`,z,l),t.line(z,l,z+ht,l),l=l+10;const V=s(u.tilenoa.value[0].mf1),Y=s(u.tilenoa.value[0].lambda1),te=s(u.tilenoa.value[0].mg1),J=s(u.tilenoa.value[0].mr1),fe=s(u.tilenoa.value[0].zoneone),H=s(u.tilenoa.value[0].mf2),re=s(u.tilenoa.value[0].lambda2),xt=s(u.tilenoa.value[0].mg2),Qe=s(u.tilenoa.value[0].mr2),T=s(u.tilenoa.value[0].zonetwo),f=s(u.tilenoa.value[0].mf3),b=s(u.tilenoa.value[0].lambda3),D=s(u.tilenoa.value[0].mg3),r=s(u.tilenoa.value[0].mr3),P=s(u.tilenoa.value[0].zonethree),E=s(u.tilenoa.value[0].prescriptiveSelection.selectedBasesheet),N=t.getTextWidth(`${E.value.selectedBasesheet}`),S=m;t.text(ke,S,l);const X=m;l=l+10,t.text(`${E.value}`,X,l),t.line(X,l,X+N,l),l=l+10;const Z=s(u.tilenoa.value[0].noa),q=s(u.tilenoa.value[0].applicant),B=s(u.tilenoa.value[0].material),ae=s(u.tilenoa.value[0].description),Ue=t.getTextWidth(ie),$e=t.getTextWidth(`${q.value}`),Le=m;t.text(ie,Le,l);const Ye=Le+Ue;t.text(`${q.value}`,Ye,l),t.line(Ye,l,Ye+$e,l),d.value=Ye+$e;const ye=t.getTextWidth(ut),ne=t.getTextWidth(`${Z.value}`),Se=d.value+3;t.text(ut,Se,l);const Rt=ye+Se;t.text(`${Z.value}`,Rt,l),t.line(Rt,l,Rt+ne,l);const Ht=t.getTextWidth(`${B.value}`);d.value=Rt+Ht,d.value>I&&(l=l+10);const He=m,qt=t.getTextWidth(Vt),Wa=t.getTextWidth(`${B.value}`);t.text(Vt,He,l);const yt=He+qt;t.text(`${B.value}`,yt,l),t.line(yt,l,yt+Wa,l);const sa=t.getTextWidth(`${ae.value}`);d.value=yt+sa,d.value>I&&(l=l+10),console.log(d.value,I),l=l+10;const ha=t.getTextWidth(`${ae.value}`),ba=t.getTextWidth(qe),Kt=m;t.text(qe,Kt,l);const ia=Kt+ba;if(t.text(`${ae.value}`,ia,l),t.line(ia,l,ia+ha,l),d.value=ia+ha,console.log(g),l=l+10,g.$state.tilesysEinput.length===0){const _="n/a",de="n/a",K="n/a",Ce="n/a",gt=t.getTextWidth(L),_e=t.getTextWidth(_),Ot=m;t.text(L,Ot,l);const Dt=Ot+gt;t.text(_,Dt,l),t.line(Dt,l,Dt+_e,l),d.value=Dt+_e,console.log(d.value);const et=t.getTextWidth(Re),Qt=t.getTextWidth(de),mt=d.value+2;t.text(Re,mt,l);const Ft=mt+et;t.text(de,Ft,l),t.line(Ft,l,Ft+Qt,l),d.value=Ft+Qt,console.log(d.value),d.value>I&&(l=l+10);const tt=d.value+2,Gt=t.getTextWidth(Xe),Tt=t.getTextWidth(K);t.text(Xe,tt,l);const at=tt+Gt;t.text(K,at,l),t.line(at,l,at+Tt,l),d.value=at+Tt,console.log(d.value),d.value>I&&(l=l+10),console.log(d.value);const It=t.getTextWidth(Oe),jt=t.getTextWidth(Ce),Xt=m,Me=Xt+jt;console.log(Me),t.text(Oe,Xt,l),Me>I&&print(Me);const lt=Xt+It;t.text(Ce,lt,l),t.line(lt,l,lt+jt,l),d.value=lt+jt,l=l+10}else{const _=s(g.$state.tilesysEinput[0].systemDataE.noa),de=s(g.$state.tilesysEinput[0].systemDataE.manufacturer),K=s(g.$state.tilesysEinput[0].systemDataE.material),Ce=s(g.$state.tilesysEinput[0].systemDataE.systemSelected),gt=s(g.$state.tilesysEinput[0].systemDataE.dP),_e=s(g.$state.tilesysEinput[0].systemDataE.Anchor_Base),Ot=s(g.$state.tilesysEinput[0].systemDataE.tileCap),Dt=t.getTextWidth(L),et=t.getTextWidth(`${_.value}`),Qt=m;t.text(L,Qt,l);const mt=Kt+Dt;t.text(`${_.value}`,mt,l),t.line(mt,l,mt+et,l),d.value=mt+et;const Ft=t.getTextWidth(Re),tt=t.getTextWidth(`${de.value}`),Gt=d.value+2;t.text(Re,Gt,l);const Tt=Gt+Ft;t.text(`${de.value}`,Tt,l),t.line(Tt,l,Tt+tt,l);const at=t.getTextWidth(`${K.value}`);d.value=Tt+at,l=l+10;const It=m,jt=t.getTextWidth(Xe),Xt=t.getTextWidth(`${K.value}`);t.text(Xe,It,l);const Me=It+jt;t.text(`${K.value}`,Me,l),t.line(Me,l,Me+Xt,l),d.value=Me+Xt,d.value>I&&(l=l+10);const lt=d.value+5,na=t.getTextWidth(zt),Lt=t.getTextWidth(`${Ce.value}`);t.text(zt,lt,l);const kt=lt+na;t.text(`${Ce.value}`,kt,l),t.line(kt,l,kt+Lt,l),d.value=kt+Lt,d.value>I&&(l=l+10);const da=t.getTextWidth(bt),Fa=t.getTextWidth(`${gt.value}`),Xa=d.value+3;t.text(bt,Xa,l);const $a=Xa+da;t.text(`${gt.value}`,$a,l),t.line($a,l,$a+Fa,l),d.value=$a+Fa,console.log(d.value),l=l+10,t.getTextWidth(j);const ka=t.getTextWidth(`${_e.value}`),Ha=m;t.text(j,Ha,l),l=l+10;const Sa=m;t.text(`${_e.value}`,Sa,l),t.line(Sa,l,Sa+ka,l),d.value=Sa+ka,l=l+10;const Ga=t.getTextWidth(Oe),Na=t.getTextWidth(`${Ot.value}`),Ca=m;t.text(Oe,Ca,l);const Va=Ca+Ga;t.text(`${Ot.value}`,Va,l),t.line(Va,l,Va+Na,l),d.value=Va+Na,console.log(d.value),l=l+10}const _t="Self Adhered NOA: ",ea="S/A NOA Applicant: ",Zt="S/A System F: ",fa="S/A Material: ",ra="S/A Description: ";if(U.$state.tilefinput.length===0){const _="n/a",de="n/a",K="n/a",Ce="n/a",gt="n/a",_e=t.getTextWidth(_t),Ot=t.getTextWidth(_),Dt=m;t.text(_t,Dt,l);const et=Dt+_e;t.text(_,et,l),t.line(et,l,et+Ot,l),d.value=et+Ot,console.log(d.value);const Qt=t.getTextWidth(ea),mt=t.getTextWidth(de),Ft=d.value+3;t.text(ea,Ft,l);const tt=Ft+Qt;t.text(de,tt,l),t.line(tt,l,tt+mt,l),d.value=tt+mt,console.log(d.value);const Gt=t.getTextWidth(Zt),Tt=d.value+3;t.text(Zt,Tt,l);const at=Tt+Gt;t.text(K,at,l),t.line(at,l,at+Gt,l),d.value=at+Gt,console.log(d.value),l=l+10;const It=t.getTextWidth(fa),jt=t.getTextWidth(Ce),Xt=m;t.text(fa,Xt,l);const Me=Xt+It;t.text(Ce,Me,l),t.line(Me,l,Me+jt,l),d.value=Me+jt,console.log(d.value);const lt=t.getTextWidth(ra),na=t.getTextWidth(gt),Lt=d.value+3;t.text(ra,Lt,l);const kt=Lt+lt;t.text(gt,kt,l),t.line(kt,l,kt+na,l),d.value=kt+na,console.log(d.value)}else{console.log("Entered sbs line 455",U.$state);const _=s(U.$state.tilefinput[0].systemData.noa),de=s(U.$state.tilefinput[0].systemData.manufacturer),K=s(U.$state.tilefinput[0].systemData.pressure),Ce=s(U.$state.tilefinput[0].systemData.material),gt=s(U.$state.tilefinput[0].systemData.description),_e=t.getTextWidth(_t),Ot=t.getTextWidth(`${_.value}`),Dt=m;t.text(_t,Dt,l);const et=Dt+_e;t.text(`${_.value}`,et,l),t.line(et,l,et+Ot,l),d.value=et+Ot;const Qt=t.getTextWidth(ea),mt=t.getTextWidth(`${de.value}`),Ft=d.value+3;t.text(ea,Ft,l);const tt=Ft+Qt;t.text(`${de.value}`,tt,l),t.line(tt,l,tt+mt,l),d.value=tt+mt,console.log(d.value);const Gt=t.getTextWidth(Zt),Tt=t.getTextWidth(`${K.value}`),at=d.value+3;t.text(Zt,at,l);const It=at+Gt;t.text(`${K.value}`,It,l),t.line(It,l,It+Tt,l),d.value=It+Tt,l=l+10;const jt=t.getTextWidth(fa),Xt=t.getTextWidth(`${Ce.value}`),Me=m;t.text(fa,Me,l);const lt=Me+jt;t.text(`${Ce.value}`,lt,l),t.line(lt,l,lt+Xt,l),d.value=lt+Xt,d.value>I&&(l=l+10);const na=t.getTextWidth(ra),Lt=t.getTextWidth(`${gt.value}`),kt=d.value+3;t.text(ra,kt,l);const da=kt+na;t.text(`${gt.value}`,da,l),t.line(da,l,da+Lt,l),d.value=da+Lt,d.value>=I&&(l=l+10),console.log(d.value),l=l+10}l=l+10,t.setFont("times","normal"),console.log(u.tilenoa.value[0]);const Aa=[["Zone 1:",`${fe.value}`,"x λ",`${Y.value}`,"- Mg:",`${te.value}`,"= Mr1:",`${J.value}`,"NOA Mf:",`${V.value}`],["Zone 2:",`${T.value}`,"x λ",`${re.value}`,"- Mg:",`${xt.value}`,"= Mr2:",`${Qe.value}`,"NOA Mf:",`${H.value}`],["Zone 3:",`${P.value}`,"x λ",`${b.value}`,"- Mg:",`${D.value}`,"= Mr2:",`${r.value}`,"NOA Mf:",`${f.value}`]];console.log(Aa);let Ia=m-5,Da=l;Aa.forEach(_=>{let de=Ia;_.forEach(K=>{t.text(String(K),de,Da),de+=18}),Da+=5});const Ua="TileAdhesive.pdf",Ya=t.output("blob");(async(_,de)=>{const K=_,Ce=K;console.log(Ce);const gt=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${it}/${Ce}`;try{const _e=await fetch(gt,{method:"PUT",headers:{"Content-Type":K.type},body:de});_e.ok?(nt.value=gt,alert("File uploaded successfully!")):alert(`Failed to upload file. Status: ${_e.status}`)}catch(_e){console.error("Error uploading file:",_e),alert("An error occurred while uploading the file.")}})(Ua,Ya)}};return(m,l)=>(la(),oa("div",null,Sl))}},bl={__name:"TileMechanical",setup(ce){const{getUser:U}=ua();let g=s(!1);const ee=va(),C=aa(),R=s(C.$state.roofList),{mechStore:F}=pl(),u=Ba(),M=Ra(),ot=za(),st=ta(()=>{if(R.value.length===0)return"";R.value[0].item==="Mechanical Fastened Tile"&&(g.value=!0,Wt())});ca(async()=>{await pa(st).toBe(!0),console.log(st)});const Wt=()=>{if(F.tilemech.value.length===0)console.log("lenghth is   zero");else{let t=s(!1),O=s(!1);M.$state.tilesysEinput.length!==0&&(t=!0,console.log(t)),u.$state.tilefinput.length!==0&&(O=!0,console.log(O)),console.log(F.tilemech.value[0]);const i=s(F.tilemech.value[0].height),I=s(F.tilemech.value[0].slope),pe=s(F.tilemech.value[0].deckType),we=s(C.$state.roofList[0].dim3),Ge=s(ee.$state.permitapp[0].formdt.address),d=s(ee.$state.permitapp[0].formdt.muni),le=s(ee.$state.permitapp[0].formdt.processNumber),n=s(ot.$state.dripinput[0].dripData),je=s(ot.$state.dripinput[3].dripData),x=le.value.length!==0?le.value:"files",o=s(""),ue=s(U.value[0].dba),a=new Mt({orientation:"portrait",unit:"mm",format:"a4",compress:!0});a.setGState(new a.GState({opacity:.8}));const Je="Approved";a.setFontSize(24),a.setTextColor(150,150,150),a.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const W=new Image,it=new Image;W.src="/demo/images/officepaper.jpeg",it.src="/demo/images/logo.jpeg",a.addImage(it,"JPEG",10,10,50,30),a.addImage(W,"JPEG",0,0,210,297),a.setFontSize(20),a.setTextColor(190,190,190);var m=new Date,l=m.toLocaleDateString();a.text(Je,10,270,{align:"left"});const nt=a.getTextWidth(Je);a.text("on: "+l,nt+15,270),a.text(`${le.value}`,10,280,{align:"left"});const Jt=a.getTextWidth(`${le.value}`);a.text(`${d.value}`,Jt+15,280),a.setFontSize(12);const Ut=()=>{a.setFontSize(12),a.setTextColor(0),a.text("The tile roof system and its components shall be installed in strict compliance with the FBC 2023 HVHZ portions of Chapter 15, the HVHZ Tile Application Standards: RAS-119, RAS-120 & RAS-127 and the submitted MDC Notice of Acceptance(s).",10,20,{maxWidth:"200"}),a.line(10,41,195,41)};a.setTextColor(0),a.circle(185,38,2,"FD"),a.text("I agree",165,39),Ut(),a.setFontSize(12),a.setFontSize(14);const ft=[{category:"DBA",value:`${ue.value}`},{category:"Municipality",value:`${d.value}`},{category:"Job Address",value:`${Ge.value}`},{category:"meProcess Number",value:`${le.value}`}];let rt=10,oe=60,Q=50;a.setFontSize(12),ft.forEach((T,f)=>{const b=Q+f*10;a.text(T.category,rt,b),a.text(T.value,oe,b),a.getTextWidth(T.category);const D=a.getTextWidth(T.value)*2;a.line(oe,b+2,oe+D,b+2)}),a.setFontSize(12);const A=2,h=100;a.text("Roof Area:",10,h),a.text(`${we.value}`,35,h),a.line(35,h+A,45,h+A),a.text("Mean Roof Height:",50,h);const ve=a.getTextWidth("Mean Roof Height:");a.text(`${i.value}`,h,h),a.line(90,h+A,70+ve,h+A),a.text("Roof Slope:",80+ve,h);const he=105+ve;a.text(`${I.value}`,he,h);const xe=a.getTextWidth(`${I.value}`)*2;a.line(he,h+A,he+xe,h+A);const $t=108;a.text("Decktype:",10,$t);const $=30+xe;a.text(`${pe.value}`,$,$t);const dt=a.getTextWidth(`${pe.value}`)*2;a.line($,$t,$+dt,$t);const ct="Tile NOA Number: ",Pe="Tile Applicant: ",Ee="Tile Material: ",Ve="Tile Description: ",be="Fastened (UDL) NOA: ",ge="(UDL) NOA Applicant: ",Ae="Fastened (UDL) Material: ",w="Select System E: ",wt="Design psf: ",ze="Anchor Base Sheet: ",me="(UDL) Description: ",c="Prescriptive: ",St="DripEdge Matetiral: ",Ze="DripEdge Size: ",G=179,De=725,Te=a.getPageInfo(1);console.log(Te),Te.pageContext.mediaBox.topRightX;const Pt=Te.pageContext.mediaBox.topRightY,p=s(0),Fe=s(0);var v=595.28-585.28,e=Pt-De;p.value=v,Fe.value=e,console.log(p.value,Fe.value);const Et=s(F.tilemech.value[0].noa),Be=s(F.tilemech.value[0].manufacturer),se=s(F.tilemech.value[0].material),pt=s(F.tilemech.value[0].description);a.getTextWidth(c);const ut=v;a.text(c,ut,e),e=e+10,e=e+10;const ie=a.getTextWidth(St),Vt=a.getTextWidth(`${n.value}`),qe=v;a.text(St,qe,e);const L=ie+qe;a.text(`${n.value}`,L,e),a.line(L,e,L+Vt,e),e=e+10;const Re=a.getTextWidth(Ze),Xe=a.getTextWidth(`${je.value}`),zt=v;a.text(Ze,zt,e);const bt=Re+zt;a.text(`${je.value}`,bt,e),a.line(bt,e,bt+Xe,e),e=e+10;const j=a.getTextWidth(`${Be.value}`),Oe=a.getTextWidth(Pe),ke=v;a.text(Pe,ke,e);const y=ke+Oe;a.text(`${Be.value}`,y,e),a.line(y,e,y+j,e),p.value=y+j;const Ke=a.getTextWidth(ct),We=a.getTextWidth(`${Et.value}`),Ne=p.value+Ke;a.text(ct,p.value+2,e),a.text(`${Et.value}`,Ne+2,e),a.line(Ne,e,Ne+We,e),p.value=Ne+We;const vt=e,Yt=a.getTextWidth(Ee),Bt=a.getTextWidth(`${se.value}`),Ie=p.value+5;a.text(Ee,Ie,vt);const At=Ie+Yt;a.text(`${se.value}`,At,vt),a.line(At,vt,At+Bt,vt),p.value=At+Bt,e=e+10;const ht=a.getTextWidth(`${pt.value}`),k=a.getTextWidth(Ve),z=v;a.text(Ve,z,e);const V=z+k;if(a.text(`${pt.value}`,V,e),a.line(V,e,V+ht,e),p.value=V+ht,e=e+10,M.$state.tilesysEinput.length===0){const T="n/a",f="n/a",b="n/a",D="n/a",r=a.getTextWidth(be),P=a.getTextWidth(T),E=v;a.text(be,E,e);const N=E+r;a.text(T,N,e),a.line(N,e,N+P,e),p.value=N+P,console.log(p.value);const S=a.getTextWidth(ge),X=a.getTextWidth(f),Z=p.value+2;a.text(ge,Z,e);const q=Z+S;a.text(f,q,e),a.line(q,e,q+X,e),p.value=q+X,console.log(p.value),p.value>G&&(e=e+10);const B=p.value+2,ae=a.getTextWidth(Ae),Ue=a.getTextWidth(b);a.text(Ae,B,e);const $e=B+ae;a.text(b,$e,e),a.line($e,e,$e+Ue,e),p.value=$e+Ue,console.log(p.value),p.value>G&&(e=e+10),console.log(p.value);const Le=a.getTextWidth(me),Ye=a.getTextWidth(D),ye=v,ne=ye+Ye;console.log(ne),a.text(me,ye,e),ne>G&&print(ne);const Se=ye+Le;a.text(D,Se,e),a.line(Se,e,Se+Ye,e),p.value=Se+Ye,e=e+10}else{const T=s(M.$state.tilesysEinput[0].systemDataE.noa),f=s(M.$state.tilesysEinput[0].systemDataE.manufacturer),b=s(M.$state.tilesysEinput[0].systemDataE.material),D=s(M.$state.tilesysEinput[0].systemDataE.systemSelected),r=s(M.$state.tilesysEinput[0].systemDataE.dP),P=s(M.$state.tilesysEinput[0].systemDataE.Anchor_Base),E=s(M.$state.tilesysEinput[0].systemDataE.tileCap),N=a.getTextWidth(be),S=a.getTextWidth(`${T.value}`),X=v;a.text(be,X,e);const Z=z+N;a.text(`${T.value}`,Z,e),a.line(Z,e,Z+S,e),p.value=Z+S;const q=a.getTextWidth(ge),B=a.getTextWidth(`${f.value}`),ae=p.value+2;a.text(ge,ae,e);const Ue=ae+q;a.text(`${f.value}`,Ue,e),a.line(Ue,e,Ue+B,e);const $e=a.getTextWidth(`${b.value}`);p.value=Ue+$e,e=e+10;const Le=v,Ye=a.getTextWidth(Ae),ye=a.getTextWidth(`${b.value}`);a.text(Ae,Le,e);const ne=Le+Ye;a.text(`${b.value}`,ne,e),a.line(ne,e,ne+ye,e),p.value=ne+ye,p.value>G&&(e=e+10);const Se=p.value+5,Rt=a.getTextWidth(w),Ht=a.getTextWidth(`${D.value}`);a.text(w,Se,e);const He=Se+Rt;a.text(`${D.value}`,He,e),a.line(He,e,He+Ht,e),p.value=He+Ht,p.value>G&&(e=e+10);const qt=a.getTextWidth(wt),Wa=a.getTextWidth(`${r.value}`),yt=p.value+3;a.text(wt,yt,e);const sa=yt+qt;a.text(`${r.value}`,sa,e),a.line(sa,e,sa+Wa,e),p.value=sa+Wa,console.log(p.value),e=e+10,a.getTextWidth(ze);const ha=a.getTextWidth(`${P.value}`),ba=v;a.text(ze,ba,e),e=e+10;const Kt=v;a.text(`${P.value}`,Kt,e),a.line(Kt,e,Kt+ha,e),p.value=Kt+ha,e=e+10;const ia=a.getTextWidth(me),_t=a.getTextWidth(`${E.value}`),ea=v;a.text(me,ea,e);const Zt=ea+ia;a.text(`${E.value}`,Zt,e),a.line(Zt,e,Zt+_t,e),p.value=Zt+_t,console.log(p.value),e=e+10}const Y="Self Adhered NOA: ",te="S/A NOA Applicant: ",J="S/A System F: ",fe="S/A Material: ",H="S/A Description: ";if(u.$state.tilefinput.length===0){const T="n/a",f="n/a",b="n/a",D="n/a",r="n/a",P=a.getTextWidth(Y),E=a.getTextWidth(T),N=v;a.text(Y,N,e);const S=N+P;a.text(T,S,e),a.line(S,e,S+E,e),p.value=S+E,console.log(p.value);const X=a.getTextWidth(te),Z=a.getTextWidth(f),q=p.value+3;a.text(te,q,e);const B=q+X;a.text(f,B,e),a.line(B,e,B+Z,e),p.value=B+Z,console.log(p.value);const ae=a.getTextWidth(J),Ue=p.value+3;a.text(J,Ue,e);const $e=Ue+ae;a.text(b,$e,e),a.line($e,e,$e+ae,e),p.value=$e+ae,console.log(p.value),e=e+10;const Le=a.getTextWidth(fe),Ye=a.getTextWidth(D),ye=v;a.text(fe,ye,e);const ne=ye+Le;a.text(D,ne,e),a.line(ne,e,ne+Ye,e),p.value=ne+Ye,console.log(p.value);const Se=a.getTextWidth(H),Rt=a.getTextWidth(r),Ht=p.value+3;a.text(H,Ht,e);const He=Ht+Se;a.text(r,He,e),a.line(He,e,He+Rt,e),p.value=He+Rt,console.log(p.value)}else{console.log("Entered sbs line 455",u.$state);const T=s(u.$state.tilefinput[0].systemData.noa),f=s(u.$state.tilefinput[0].systemData.manufacturer),b=s(u.$state.tilefinput[0].systemData.pressure),D=s(u.$state.tilefinput[0].systemData.material),r=s(u.$state.tilefinput[0].systemData.description),P=a.getTextWidth(Y),E=a.getTextWidth(`${T.value}`),N=v;a.text(Y,N,e);const S=N+P;a.text(`${T.value}`,S,e),a.line(S,e,S+E,e),p.value=S+E;const X=a.getTextWidth(te),Z=a.getTextWidth(`${f.value}`),q=p.value+3;a.text(te,q,e);const B=q+X;a.text(`${f.value}`,B,e),a.line(B,e,B+Z,e),p.value=B+Z,console.log(p.value);const ae=a.getTextWidth(J),Ue=a.getTextWidth(`${b.value}`),$e=p.value+3;a.text(J,$e,e);const Le=$e+ae;a.text(`${b.value}`,Le,e),a.line(Le,e,Le+Ue,e),p.value=Le+Ue,e=e+10;const Ye=a.getTextWidth(fe),ye=a.getTextWidth(`${D.value}`),ne=v;a.text(fe,ne,e);const Se=ne+Ye;a.text(`${D.value}`,Se,e),a.line(Se,e,Se+ye,e),p.value=Se+ye,p.value>G&&(e=e+10);const Rt=a.getTextWidth(H),Ht=a.getTextWidth(`${r.value}`),He=p.value+3;a.text(H,He,e);const qt=He+Rt;a.text(`${r.value}`,qt,e),a.line(qt,e,qt+Ht,e),p.value=qt+Ht,p.value>=G&&(e=e+10),console.log(p.value)}const re="MechanicalTile.pdf",xt=a.output("blob");(async(T,f)=>{const b=T,D=b;console.log(D);const r=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${x}/${D}`;try{const P=await fetch(r,{method:"PUT",headers:{"Content-Type":b.type},body:f});P.ok?(o.value=r,alert("File uploaded successfully!")):alert(`Failed to upload file. Status: ${P.status}`)}catch(P){console.error("Error uploading file:",P),alert("An error occurred while uploading the file.")}})(re,xt)}};return(m,l)=>(la(),oa("div"))}},Al=ce=>(el("data-v-a547b671"),ce=ce(),tl(),ce),Dl={class:"card"},Fl=Al(()=>Ct("p",null,"The roof systems you selected",-1)),Xl={class:"rounded border border-surface-200 dark:border-surface-700 p-6 bg-surface-0 dark:bg-surface-900"},kl={class:"flex justify-between mt-4"},Nl={__name:"Checkout",setup(ce){var we,Ge;const{accountUsers:U}=ua(),g=s(!1),ee=s(!1);s("");let C=s(!1),R=s(!1),F=s(!1),u=s(!1),M=s(!1);const ot=s("");s(""),s(""),s("");const st=va(),Wt=aa(),m=s(Wt.$state.roofList),l=s(((Ge=(we=st.$state.permitapp[0])==null?void 0:we.formdt)==null?void 0:Ge.processNumber)||""),v=Ea(),e=s(v.$state.generalpdfinput),{getNumbers:t}=sl(l.value);function O(){U.value.forEach((d,le)=>{ot.value=d.dba})}const i=ta(()=>{t(l.value),ee.value=!0,setTimeout(()=>{ee.value=!0},2e3),console.log(l.value)}),I=ta(()=>{if(m.value.length===0)return"";m.value[0].item==="Asphalt Shingle"?u.value=!0:m.value[0].item==="Low Slope"?M.value=!0:m.value[0].item==="Adhesive Set Tile"?R.value=!0:m.value[0].item==="Mechanical Fastened Tile"?F.value=!0:e.value.length!==1&&(C.value=!0)});qa(()=>{O()}),Ka(O,I,i);const pe=s([{status:"RoofSystems",date:"15/10/2020 10:30",icon:"pi pi-cog",color:"#9C27B0",image:"/src/assets/img/roofing_tile.jpg"},{status:"Processing",date:"15/10/2020 14:00",icon:"pi pi-cog",color:"#673AB7"}]);return ca(async()=>{await pa(I).toBe(!0)}),(d,le)=>{const n=ol,je=ll,x=al,o=Oa;return la(),oa(_a,null,[Ct("div",Dl,[Nt(x,{value:pe.value,align:"alternate",class:"customized-timeline"},{marker:xa(ue=>[Ct("span",{class:"flex w-8 h-8 items-center justify-center text-white rounded-full z-10 shadow-sm",style:Qa({backgroundColor:ue.item.color})},[Ct("i",{class:La(ue.item.icon)},null,2)],4)]),content:xa(ue=>[Nt(je,{class:"mt-4"},{title:xa(()=>[Ma(wa(ue.item.status),1)]),subtitle:xa(()=>[Ma(wa(ue.item.date),1)]),content:xa(()=>[Fl,Nt(n,{label:"Read more",text:""})]),_:2},1024)]),_:1},8,["value"])]),ga(Nt(Ta(ya),{color:"#784EA7",size:"100px",style:{"margin-top":"400px","margin-left":"850px"}},null,512),[[ma,g.value]]),Ct("div",Xl,[Nt(o,{width:"100%",height:"150px"}),Ct("div",kl,[Nt(o,{width:"4rem",height:"2rem"}),Nt(o,{width:"4rem",height:"2rem"})]),ga(Ct("div",null,[Nt(rl)],512),[[ma,Ta(u)]]),ga(Ct("div",null,[Nt(Vl)],512),[[ma,Ta(R)]]),ga(Ct("div",null,[Nt(bl)],512),[[ma,Ta(F)]]),ga(Ct("div",null,[Nt(fl)],512),[[ma,Ta(M)]]),Ct("div",null,[Nt(Wl)])])],64)}}},Ll=ul(Nl,[["__scopeId","data-v-a547b671"]]);export{Ll as default};
