import{e,ab as P,ao as B,v as w,o as x,a as z,l as U,q as k,p as v,N as j,f as V,ap as H,c as K,R as Y,aq as F,h as N,g,ar as X}from"./index-RcNKE_b0.js";import{u as A,a as q}from"./use-downloadpdf-CsIqZJe6.js";import{u as G}from"./permitapp-DuqFbsNI.js";import{c as W,u as J}from"./pdfsignStore-5PXHgb4k.js";import{s as Z}from"./sessionStore-DN8vXj2r.js";import"./useAxios-Df7bHI4y.js";var R={NVM_INC:"/home/dev-user/.nvm/versions/node/v16.20.2/include/node",XDG_SESSION_ID:"c2",SSH_AGENT_PID:"3244",HOSTNAME:"linux-server01",TERM_PROGRAM:"vscode",NODE:"/home/dev-user/.nvm/versions/node/v16.20.2/bin/node",IMSETTINGS_INTEGRATE_DESKTOP:"yes",XRDP_SOCKET_PATH:"/run/xrdp",INIT_CWD:"/home/dev-user/code/data/BorisProject/pa_projectv2",NVM_CD_FLAGS:"",XDG_MENU_PREFIX:"gnome-",SHELL:"/bin/bash",TERM:"xterm-256color",VTE_VERSION:"5204",HISTSIZE:"2000",npm_config_metrics_registry:"https://registry.npmjs.org/",npm_config_global_prefix:"/home/dev-user/.nvm/versions/node/v16.20.2",GNOME_TERMINAL_SCREEN:"/org/gnome/Terminal/screen/2d522059_0157_485f_b404_2d83255188f0",GJS_DEBUG_OUTPUT:"stderr",TERM_PROGRAM_VERSION:"1.85.2",ORIGINAL_XDG_CURRENT_DESKTOP:"GNOME",COLOR:"1",GJS_DEBUG_TOPICS:"JS ERROR;JS LOG",npm_config_noproxy:"",npm_config_local_prefix:"/home/dev-user/code/data/BorisProject/pa_projectv2",IMSETTINGS_MODULE:"none",NVM_DIR:"/home/dev-user/.nvm",USER:"dev-user",LS_COLORS:"rs=0:di=38;5;27:ln=38;5;51:mh=44;38;5;15:pi=40;38;5;11:so=38;5;13:do=38;5;5:bd=48;5;232;38;5;11:cd=48;5;232;38;5;3:or=48;5;232;38;5;9:mi=05;48;5;232;38;5;15:su=48;5;196;38;5;15:sg=48;5;11;38;5;16:ca=48;5;196;38;5;226:tw=48;5;10;38;5;16:ow=48;5;10;38;5;21:st=48;5;21;38;5;15:ex=38;5;34:*.tar=38;5;9:*.tgz=38;5;9:*.arc=38;5;9:*.arj=38;5;9:*.taz=38;5;9:*.lha=38;5;9:*.lz4=38;5;9:*.lzh=38;5;9:*.lzma=38;5;9:*.tlz=38;5;9:*.txz=38;5;9:*.tzo=38;5;9:*.t7z=38;5;9:*.zip=38;5;9:*.z=38;5;9:*.Z=38;5;9:*.dz=38;5;9:*.gz=38;5;9:*.lrz=38;5;9:*.lz=38;5;9:*.lzo=38;5;9:*.xz=38;5;9:*.bz2=38;5;9:*.bz=38;5;9:*.tbz=38;5;9:*.tbz2=38;5;9:*.tz=38;5;9:*.deb=38;5;9:*.rpm=38;5;9:*.jar=38;5;9:*.war=38;5;9:*.ear=38;5;9:*.sar=38;5;9:*.rar=38;5;9:*.alz=38;5;9:*.ace=38;5;9:*.zoo=38;5;9:*.cpio=38;5;9:*.7z=38;5;9:*.rz=38;5;9:*.cab=38;5;9:*.jpg=38;5;13:*.jpeg=38;5;13:*.gif=38;5;13:*.bmp=38;5;13:*.pbm=38;5;13:*.pgm=38;5;13:*.ppm=38;5;13:*.tga=38;5;13:*.xbm=38;5;13:*.xpm=38;5;13:*.tif=38;5;13:*.tiff=38;5;13:*.png=38;5;13:*.svg=38;5;13:*.svgz=38;5;13:*.mng=38;5;13:*.pcx=38;5;13:*.mov=38;5;13:*.mpg=38;5;13:*.mpeg=38;5;13:*.m2v=38;5;13:*.mkv=38;5;13:*.webm=38;5;13:*.ogm=38;5;13:*.mp4=38;5;13:*.m4v=38;5;13:*.mp4v=38;5;13:*.vob=38;5;13:*.qt=38;5;13:*.nuv=38;5;13:*.wmv=38;5;13:*.asf=38;5;13:*.rm=38;5;13:*.rmvb=38;5;13:*.flc=38;5;13:*.avi=38;5;13:*.fli=38;5;13:*.flv=38;5;13:*.gl=38;5;13:*.dl=38;5;13:*.xcf=38;5;13:*.xwd=38;5;13:*.yuv=38;5;13:*.cgm=38;5;13:*.emf=38;5;13:*.axv=38;5;13:*.anx=38;5;13:*.ogv=38;5;13:*.ogx=38;5;13:*.aac=38;5;45:*.au=38;5;45:*.flac=38;5;45:*.mid=38;5;45:*.midi=38;5;45:*.mka=38;5;45:*.mp3=38;5;45:*.mpc=38;5;45:*.ogg=38;5;45:*.ra=38;5;45:*.wav=38;5;45:*.axa=38;5;45:*.oga=38;5;45:*.spx=38;5;45:*.xspf=38;5;45:",LD_LIBRARY_PATH:"/usr/local/openssl/lib:/opt/glibc:/usr/local/openssl/lib",GNOME_TERMINAL_SERVICE:":1.101",npm_config_globalconfig:"/home/dev-user/.nvm/versions/node/v16.20.2/etc/npmrc",SSH_AUTH_SOCK:"/run/user/1000/keyring/ssh",npm_execpath:"/home/dev-user/.nvm/versions/node/v16.20.2/lib/node_modules/npm/bin/npm-cli.js",SESSION_MANAGER:"local/unix:@/tmp/.ICE-unix/2116,unix/unix:/tmp/.ICE-unix/2116",XRDP_PULSE_SINK_SOCKET:"xrdp_chansrv_audio_out_socket_11",PULSE_SCRIPT:"/etc/xrdp/pulse/default.pa",GNOME_SHELL_SESSION_MODE:"classic",MAIL:"/var/spool/mail/dev-user",PATH:"/home/dev-user/code/data/BorisProject/pa_projectv2/node_modules/.bin:/home/dev-user/code/data/BorisProject/node_modules/.bin:/home/dev-user/code/data/node_modules/.bin:/home/dev-user/code/node_modules/.bin:/home/dev-user/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/home/dev-user/.nvm/versions/node/v16.20.2/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/opt/gcc-7.3/bin:/usr/local/openssl/bin:/opt/gcc-7.3/bin:/usr/local/openssl/bin:/opt/gcc-7.3/bin:/usr/local/openssl/bin:/opt/gcc-7.3/bin:/usr/local/openssl/bin:/home/dev-user/.cargo/bin:/home/dev-user/.nvm/versions/node/v16.20.2/bin:/opt/gcc-7.3/bin:/usr/local/openssl/bin:/sbin:/bin:/usr/bin:/usr/local/bin:/usr/local/sbin:/usr/sbin:/var/lib/snapd/snap/bin:/usr/local/bin/npm:/home/dev-user/.local/bin:/home/dev-user/bin:/usr/local/bin/npm:/home/dev-user/.local/bin:/home/dev-user/bin:/usr/local/bin/npm:/home/dev-user/.local/bin:/home/dev-user/bin:/usr/local/bin/npm:/usr/local/bin/npm",npm_package_json:"/home/dev-user/code/data/BorisProject/pa_projectv2/package.json",_:"/home/dev-user/code/data/BorisProject/pa_projectv2/node_modules/.bin/vite",QT_IM_MODULE:"ibus",npm_config_userconfig:"/home/dev-user/.npmrc",npm_config_init_module:"/home/dev-user/.npm-init.js",npm_command:"run-script",PWD:"/home/dev-user/code/data/BorisProject/pa_projectv2",XMODIFIERS:"@im=ibus",npm_lifecycle_event:"build",EDITOR:"vi",XRDP_SESSION:"1",npm_package_name:"vue",LANG:"en_US.UTF-8",XRDP_PULSE_SOURCE_SOCKET:"xrdp_chansrv_audio_in_socket_11",GDK_BACKEND:"x11",CHROME_DESKTOP:"code-url-handler.desktop",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"--ms-enable-electron-run-as-node",npm_config_node_gyp:"/home/dev-user/.nvm/versions/node/v16.20.2/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",npm_package_version:"4.1.0",HISTCONTROL:"ignoredups",SHLVL:"5",HOME:"/home/dev-user",VSCODE_GIT_ASKPASS_MAIN:"/usr/share/code/resources/app/extensions/git/dist/askpass-main.js",GNOME_DESKTOP_SESSION_ID:"this-is-deprecated",npm_config_cache:"/home/dev-user/.npm",LOGNAME:"dev-user",npm_lifecycle_script:"vite build",DBUS_SESSION_BUS_ADDRESS:"unix:abstract=/tmp/dbus-eH8RA3yjMo,guid=886bf98700c3489a645ce0f96813a670",XDG_DATA_DIRS:"/home/dev-user/.local/share/flatpak/exports/share:/var/lib/flatpak/exports/share:/usr/local/share:/usr/share:/var/lib/snapd/desktop",VSCODE_GIT_IPC_HANDLE:"/run/user/1000/vscode-git-0182d466da.sock",UID:"1000",NVM_BIN:"/home/dev-user/.nvm/versions/node/v16.20.2/bin",LESSOPEN:"||/usr/bin/lesspipe.sh %s",npm_config_user_agent:"npm/8.19.4 node/v16.20.2 linux x64 workspaces/false",GIT_ASKPASS:"/usr/share/code/resources/app/extensions/git/dist/askpass.sh",VSCODE_GIT_ASKPASS_NODE:"/usr/share/code/code",DISPLAY:":11.0",XDG_RUNTIME_DIR:"/run/user/1000",XDG_CURRENT_DESKTOP:"GNOME",NO_AT_BRIDGE:"1",npm_node_execpath:"/home/dev-user/.nvm/versions/node/v16.20.2/bin/node",npm_config_prefix:"/home/dev-user/.nvm/versions/node/v16.20.2",COLORTERM:"truecolor",NODE_ENV:"production",VITE_GOOGLE_CLIENT_ID:"978320609817-r83rgg9qsb4ntam9dek995cqcn779qut.apps.googleusercontent.com",VITE_STRIPE_PUBLISHABLE_KEY:"pk_live_51PDPFeE9FsYF7D6YdhOvGMnNjz75LcgmLPoyJGa4o5tDx0FDy7DlGf0wlgy3x4BsYf1lH0hY7NAsBWR6j1OguTtM00YO5rHeXc",STRIPE_SECRET_KEY:"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",VITE_API_BASE_URL:"https://lnu3pj9h41.execute-api.us-east-1.amazonaws.com/lastNumber",VITE_BUY_BTN_ID:"buy_btn_1RRsiHE9FsYF7D6YqSeF3bxE",LAUNCH_EDITOR:"code"};const $={__name:"BuyButton",setup(L){var d,E;const S=G(),s=e(((E=(d=S.$state.permitapp[0])==null?void 0:d.formdt)==null?void 0:E.muniProc)||""),i=R.VITE_STRIPE_PUBLISHABLE_KEY,{getNumber:n,secondFetch:b}=A(s.value),u=R.VITE_BUY_BTN_ID,t=e(!1);P(()=>{n(),setTimeout(()=>{t.value=!0},3e3),console.log(s.value),t.value=!1,console.log(i,u),_()});const l=B("my-storage",{processNumber:s.value}),_=async a=>{console.log("Entered CaptureSession",a),console.log(n);const c=new URL(window.location.href);console.log(c,l),b(l.value),console.log(l.value)};return(a,c)=>{const m=w("stripe-buy-button");return x(),z(m,{"buy-button-id":v(u),"publishable-key":v(i),onUpdate:_},{default:U(()=>[k("Pay")]),_:1},8,["buy-button-id","publishable-key"])}}},Q={class:"card"},ee={class:"flex flex-col w-1/3 gap-2 shadow-lg shadow-cyan-800",style:{"margin-left":"550px","margin-top":"440px"}},oe={class:"payment-widget"},se=g("h2",{style:{color:"black"}},"Credit Card Payment",-1),ie={__name:"Paymentgateway",setup(L){var h,f;const S=G();Z();const s=W(),i=e(0),n=e(((f=(h=S.$state.permitapp[0])==null?void 0:h.formdt)==null?void 0:f.muniProc)||""),b=e(!1),u=e(!1),t=e(!1),l=e(!1),_=e(!1),{getNumber:d,result:E}=A(n.value),a=q();j(a.$state);const{resp:c}=J();V(()=>{var o,r;i.value=1,((r=(o=c.value)==null?void 0:o.status)==null?void 0:r.status)===200&&(l.value=!0,console.log(c.value.status.status))});const m=P(()=>{d(),s.addCount(n.value),console.log(s),setTimeout(()=>{_.value=!0},1e3),console.log(n.value),t.value=!0,y()});H(m,()=>{});const y=async()=>{var I,T,O,D;const o=(T=(I=a.downloadinput[0])==null?void 0:I.downloadData)==null?void 0:T.download_url;if(console.log(o),!o||o.length===0)return;console.log(o);const r=(D=(O=a.downloadinput[0])==null?void 0:O.downloadData)==null?void 0:D.download_url;if(!r)return;b.value=!0;const M=r,C="processnumber.zip",p=document.createElement("a");p.href=M,p.download=C,p.click(),p.remove(),t.value=!0};return(o,r)=>(x(),K("div",Q,[Y(N(v(X),{color:"#784EA7",size:"100px",style:{"margin-top":"500px","margin-left":"850px"}},null,512),[[F,u.value]]),g("div",ee,[g("div",oe,[se,N($,{onClick:v(m)},null,8,["onClick"])])])]))}};export{ie as default};
