import{D as j,e as r,f as $,I as N,al as H,C as M,V as J,g as V,o as I,c as k,i as P,j as O,S as G,K as ne,F as L,x as K,t as U,d as Z,T as ae,p as R,q as Q,aL as W}from"./index-3483CEoG.js";import{s as X}from"./index-xKe2GsTZ.js";import{s as Y}from"./index-CBEy_12q.js";import{u as q}from"./useAxios-CEJ8fBnf.js";import{_ as ee}from"./_plugin-vue_export-helper-DlAUqK2U.js";const re=j("sysEInput",{state:()=>({sysEInput:[],id:0}),actions:{addSystem(n){this.sysEInput.push({sysENumber:n,completed:!1})},reset(){this.$reset()}},getters:{sysENumber:n=>n.sysENumber}});function oe(){let n=r([]);const f=re(),d=r(""),c=$({noa:[]});function m(){b()}const _=N(()=>"https://5ximwjuddpk4tgm2swqvqakvnq0nhbub.lambda-url.us-east-1.on.aws/"),{data:y}=H(_).get().json(),b=async()=>{c.noa=y,console.log(y),f.addSystem(c)};return{sysENumber:c,fetchData:b,callFunction:m,errors:d,results:n,...M(c),systemEStore:f}}const te=j("tilesysEinput",{state:()=>({tilesysEinput:[],id:0}),actions:{addData(n){this.tilesysEinput.push({systemDataE:n,completed:!1})},reset(){this.$reset()}},getters:{sysEData:n=>n.systemDataE}});function ie(){const n=r(),f=r(),d=r([]);r([]);const c=te(),m=r("");let _="https://wt43wiuu3mqdnixsgetrcjriqi0bzqdk.lambda-url.us-east-1.on.aws/";const{execute:y,then:b,data:S}=q(_,{method:"GET"},{immediate:!1}),i=$({noa:"",manufacturer:"",material:"",system:[],designPressure:[],Anchor_Base_Sheet:"",Anchor_Base_Sheet_E1:"",Anchor_Base_Sheet_E2:"",Anchor_Base_Sheet_E3:"",Anchor_Base_Sheet_E4:"",Anchor_Base_Sheet_E5:"",Anchor_Base_Sheet_E6:"",Anchor_Base_Sheet_E7:"",Anchor_Base_Sheet_E8:"",Anchor_Base_Sheet_E9:"",Anchor_Base_Sheet_E10:"",Anchor_Base_Sheet_E11:"",Anchor_Base_Sheet_E12:"",Anchor_Base_Sheet_E13:"",Anchor_Base_Sheet_E14:"",Anchor_Base_Sheet_E15:"",TileCap_Sheet_Description:"",TileCap_Sheet_Description_E1:"",TileCap_Sheet_Description_E2:"",TileCap_Sheet_Description_E3:"",TileCap_Sheet_Description_E4:"",TileCap_Sheet_Description_E5:"",TileCap_Sheet_Description_E6:"",TileCap_Sheet_Description_E7:"",TileCap_Sheet_Description_E8:"",TileCap_Sheet_Description_E9:"",TileCap_Sheet_Description_E10:"",TileCap_Sheet_Description_E11:"",TileCap_Sheet_Description_E12:"",TileCap_Sheet_Description_E13:"",TileCap_Sheet_Description_E14:"",TileCap_Sheet_Description_E15:"",arraySystem:[],Maps:[],systemCheck:[],expiration_date:""}),F=(l,o=null)=>{try{return JSON.parse(l)}catch{return o}},C=l=>{let o=(l==null?void 0:l.data)??l;if(typeof o=="string"&&(o=F(o,[])),Array.isArray(o))return o;if(o&&typeof o=="object"){if("body"in o){const u=typeof o.body=="string"?F(o.body,[]):o.body;return Array.isArray(u)?u:u?[u]:[]}return[o]}return[]};function w(l){n.value=l,f.value=Number(n.value),E()}const E=async()=>{var l,o,u,B,A;try{const T=await y({params:{NOA:f.value}}),h=C(T);if(!h.length)return[];const s=((o=(l=h[0])==null?void 0:l.value)==null?void 0:o.body)??((u=h[0])==null?void 0:u.body)??h[0],e=typeof s=="string"?F(s,[]):Array.isArray(s)?s:s?[s]:[];if(!e.length)return[];const t=e[0];console.log(t);const a={noa:t.NOA??t.noa,manufacturer:(A=(B=t.Manufacturer??t.applicant)==null?void 0:B.trim)==null?void 0:A.call(B),material:t.Material??t.material,designPressure:t.DesignPressure,system:t.System,maps:t.Maps};for(let v=1;v<=15;v++){const p=`TileCap_Sheet_Description_E${v}`,g=`Anchor_Base_Sheet_E${v}`;t[g]!=null&&t[g]!==""&&(a[g]=t[g]),t[p]!=null&&t[p]!==""&&(a[p]=t[p])}return console.log(a),c.addData(a),a}catch(T){return console.error("Error fetching data:",T),null}};return{inputsystem:n,fetchData:E,getV:w,noaNum:d,error:m,...M(i),store:c}}const le=n=>(R("data-v-ca496300"),n=n(),Q(),n),ue={class:"autocomplete"},ce={class:"w-64 gap-2 space-y-1 mb-3",style:{"margin-left":"25px","margin-bottom":"10px"}},_e=le(()=>P("label",{for:"ac"},"Fastened UDL NOA: 00000000",-1)),ye={key:0,class:"suggestions"},pe=["onMousedownPassive"],fe={__name:"systemENumber",emits:["update","cleared"],setup(n,{emit:f}){const d=f,{callFunction:c,systemEStore:m}=oe(),_=te(),y=r(""),{getV:b}=ie();J(y,t=>{(t==null||String(t).trim()==="")&&d("cleared")});let S=r(_.$state.tilesysEinput);const i=$({noa:"",manufacturer:"",material:"",system:[],designPressure:[],Anchor_Base_Sheet:[],TileCap_Sheet_Description:[],Anchor_Base_Sheet_E1:"",Anchor_Base_Sheet_E2:"",Anchor_Base_Sheet_E3:"",Anchor_Base_Sheet_E4:"",Anchor_Base_Sheet_E5:"",Anchor_Base_Sheet_E6:"",Anchor_Base_Sheet_E7:"",Anchor_Base_Sheet_E8:"",Anchor_Base_Sheet_E9:"",Anchor_Base_Sheet_E10:"",Anchor_Base_Sheet_E11:"",Anchor_Base_Sheet_E12:"",Anchor_Base_Sheet_E13:"",TileCap_Sheet_Description:[],TileCap_Sheet_Description_E1:"",TileCap_Sheet_Description_E2:"",TileCap_Sheet_Description_E3:"",TileCap_Sheet_Description_E4:"",TileCap_Sheet_Description_E5:"",TileCap_Sheet_Description_E6:"",TileCap_Sheet_Description_E7:"",TileCap_Sheet_Description_E8:"",TileCap_Sheet_Description_E9:"",TileCap_Sheet_Description_E10:"",TileCap_Sheet_Description_E11:"",TileCap_Sheet_Description_E12:"",TileCap_Sheet_Description_E13:"",arrDesignPressure:[],Maps:[]});let F=r(_.$state.tilesysEinput);const C=r(),w=r([]),E=r(!1);V(()=>{c(),w.value=m.$state});const l=r([]),o=N(()=>{var p,g;if(console.log((p=w.value.sysEInput)==null?void 0:p[0].sysENumber.noa.body),!y.value)return[];l.value=(g=w.value.sysEInput)==null?void 0:g[0].sysENumber.noa.body;const t=JSON.stringify(l.value).split("[").join(),a=JSON.stringify(t).split("]").join();console.log(a);const v=N(()=>a.split(",").map(D=>D.trim()));return console.log(v.value),v.value.filter(D=>D.toString().includes(y.value))});function u(){C.value=y.value,y.value!==null&&(console.log(udlInput.value),b(C.value)),B()}function B(){console.log(S.value),S.value.length!==null&&S.value.forEach((t,a)=>{i.manufacturer=t.systemDataE.manufacturer,i.material=t.systemDataE.material,i.system=t.systemDataE.system}),T()}const A=$({Anchor_Base_Sheet_E1:"",Anchor_Base_Sheet_E2:"",Anchor_Base_Sheet_E3:"",Anchor_Base_Sheet_E4:"",Anchor_Base_Sheet_E5:"",Anchor_Base_Sheet_E6:"",Anchor_Base_Sheet_E7:"",Anchor_Base_Sheet_E8:"",Anchor_Base_Sheet_E9:"",Anchor_Base_Sheet_E10:"",Anchor_Base_Sheet_E11:"",Anchor_Base_Sheet_E12:"",Anchor_Base_Sheet_E13:""});function T(){var v;const t=F==null?void 0:F.value;if(!Array.isArray(t)||t.length===0)return;const a=(v=t.find(p=>p&&p.systemDataE))==null?void 0:v.systemDataE;if(a){i.Maps=a.Maps??{},i.arrDesignPressure=Array.isArray(a.designPressure)?a.designPressure.slice():[],i.noa=a.noa??i.noa,i.manufacturer=a.manufacturer??i.manufacturer,i.material=a.material??i.material,i.system=Array.isArray(a.system)?a.system.slice():a.system?[a.system]:[];for(let p=1;p<=13;p++){const g=`Anchor_Base_Sheet_E${p}`,D=`TileCap_Sheet_Description_E${p}`;A[g]=a[g]??"",i[D]=a[D]??""}}}const h=t=>{y.value=t,E.value=!1},s=()=>{E.value=!0},e=()=>{setTimeout(()=>{E.value=!1},100)};return(t,a)=>{const v=Y,p=X,g=ae;return I(),k("div",ue,[P("div",ce,[O(p,null,{default:G(()=>[ne(O(v,{id:"udlInput",inputClass:"w-56",modelValue:y.value,"onUpdate:modelValue":a[0]||(a[0]=D=>y.value=D),inputId:"ac",onFocus:a[1]||(a[1]=D=>E.value=!0),onBlur:e,onInput:s,onChange:u},null,8,["modelValue"]),[[g,"Press Tab after value",void 0,{bottom:!0}]]),_e]),_:1})]),E.value&&o.value.length?(I(),k("ul",ye,[(I(!0),k(L,null,K(o.value,(D,x)=>(I(),k("li",{key:x,onMousedownPassive:z=>h(D)},U(D),41,pe))),128))])):Z("",!0)])}}},Ie=ee(fe,[["__scopeId","data-v-ca496300"]]),he=j("sysFInput",{state:()=>({sysFInput:[],id:0}),actions:{addSystem(n){this.sysFInput.push({sysFNumber:n,completed:!1})},reset(){this.$reset()}},getters:{sysFNumber:n=>n.sysFNumber}});function de(){let n=r([]);const f=he(),d=r(""),c=$({noa:[]});function m(){b()}const _=N(()=>"https://26lhch4lepyjqultfyzq6dqoju0jectd.lambda-url.us-east-1.on.aws/"),{data:y}=H(_).get().json(),b=async()=>{console.log(y),c.noa=y,f.addSystem(c)};return{sysFNumber:c,fetchData:b,callFunction:m,errors:d,results:n,...M(c),systemFStore:f}}const se=j("tilefinput",{state:()=>({tilefinput:[],id:0}),actions:{addData(n){this.tilefinput.push({systemData:n,completed:!1}),console.log(n,this.tilefinput)},reset(){this.$reset()}},getters:{sysData:n=>n.systemData}});function me(){const n=r(""),f=r([]),d=r(""),c=r([]),m=se(),_="https://43vqeorx5nvviet4vwvdewfcwe0tqdtt.lambda-url.us-east-1.on.aws/",{execute:y,data:b}=q(_,{method:"GET"},{immediate:!1}),S=$({noa:"",manufacturer:"",material:"",system:"",designPressure:"",description:"",Description_F1:"",Description_F2:"",Description_F3:"",Description_F4:"",Description_F5:"",Description_F6:"",Description_F7:"",Description_F8:"",Description_F9:"",Description_F10:"",Description_F11:"",Description_F12:"",Description_F13:"",arraySystem:[],systemCheck:[],maps:[],expiration_date:"",prescriptiveSelection:""});r([]);const i=(l,o=null)=>{try{return JSON.parse(l)}catch{return o}},F=r(0);async function C(l){n.value=l,F.value=Number(n.value),await E()}const w=l=>{let o=(l==null?void 0:l.data)??l;if(typeof o=="string"&&(o=i(o,[])),Array.isArray(o))return o;if(o&&typeof o=="object"){if("body"in o){const u=typeof o.body=="string"?i(o.body,[]):o.body;return Array.isArray(u)?u:u?[u]:[]}return[o]}return[]},E=async()=>{var l,o,u,B,A;try{const T=await y({params:{NOA:F.value}}),h=w(T);if(console.log(T,h),!h.length)return[];const s=((o=(l=h[0])==null?void 0:l.value)==null?void 0:o.body)??((u=h[0])==null?void 0:u.body)??h[0],e=typeof s=="string"?i(s,[]):Array.isArray(s)?s:s?[s]:[];if(console.log(s,e),!e.length)return[];console.log(e);const t=e[0];console.log(t);const a={noa:t.NOA??t.noa,manufacturer:(A=(B=t.Manufacturer??t.applicant)==null?void 0:B.trim)==null?void 0:A.call(B),material:t.Material??t.material,designPressure:t.DesignPressure,system:t.System,maps:t.Maps};for(let v=1;v<=15;v++){const p=`Description_F${v}`,g=`TileCap_Sheet_${p}`;t[g]!=null&&t[g]!==""?a[p]=t[g]:t[p]!=null&&t[p]!==""&&(a[p]=t[p])}return console.log(a),m.addData(a),a}catch(T){return console.error("Error fetching data:",T),null}};return{inputSystem:n,noaNum:f,toArray:w,error:d,results:c,takef:C,store:m,fetchData:E,...M(S)}}const ve=n=>(R("data-v-bb5a054b"),n=n(),Q(),n),ge={class:"autocomplete"},Se={class:"w-64 gap-2 space-y-2 mb-2",style:{"margin-left":"20px"}},Ee=ve(()=>P("label",{for:"ac"},"S/A Membrane NOA: 00000000",-1)),Ae={key:0,class:"suggestions"},be=["onMousedownPassive"],De={__name:"systemFNumber",emits:["update","cleared"],setup(n,{emit:f}){const d=f,{callFunction:c,systemFStore:m}=de(),_=se(),{takef:y}=me();let b=r(_.$state.tilefinput);const S=r(""),i=$({manufacturer:"",material:"",system:[],designpressure:[],description:[],Description_F1:"",Description_F2:"",Description_F3:"",Description_F4:"",Description_F5:"",Description_F6:"",Description_F7:"",Description_F8:"",Description_F9:"",Description_F10:"",Description_F11:"",Description_F12:"",Description_F13:"",Description_F14:"",Description_F15:"",arrDesignPressure:[],Maps:[]});J(S,h=>{(h==null||String(h).trim()==="")&&d("cleared")});const F=r(),C=r([]),w=r(!1);V(()=>{c(),C.value=m.$state});const E=r([]),l=N(()=>{if(!S.value)return[];E.value=C.value.sysFInput[0].sysFNumber.noa;const h=JSON.stringify(E.value).split("[").join(),s=JSON.stringify(h).split("]").join();return N(()=>s.split(",").map(t=>t.trim())).value.filter(t=>t.toString().includes(S.value))});function o(){F.value=S.value,S.value!==null&&y(F.value),u()}function u(){b.value.length!==null&&b.value.forEach((h,s)=>{console.log(h.systemData),i.manufacturer=h.systemData.manufacturer,i.material=h.systemData.material,i.system=h.systemData.system,i.designpressure=h.systemData.system})}const B=h=>{S.value=h,w.value=!1},A=()=>{w.value=!0},T=()=>{setTimeout(()=>{w.value=!1},100)};return(h,s)=>{const e=Y,t=X;return I(),k("div",ge,[P("div",Se,[O(t,null,{default:G(()=>[O(e,{id:"sanoa",modelValue:S.value,"onUpdate:modelValue":s[0]||(s[0]=a=>S.value=a),inputId:"ac",onFocus:s[1]||(s[1]=a=>w.value=!0),onBlur:T,onInput:A,onChange:o},null,8,["modelValue"]),Ee]),_:1})]),w.value&&l.value.length?(I(),k("ul",Ae,[(I(!0),k(L,null,K(l.value,(a,v)=>(I(),k("li",{key:v,onMousedownPassive:p=>B(a)},U(a),41,be))),128))])):Z("",!0)])}}},ke=ee(De,[["__scopeId","data-v-bb5a054b"]]),we=W(()=>{const n=r([]),f=r([]),d=r([]),c=N(()=>n.value),m=N(()=>f.value),_=N(()=>d.value);N(()=>tilenoa.value);function y(i){n.value.push(i)}function b(i){f.value.push(i)}function S(i){d.value.push(i)}return{slopes:n,heights:f,getSlopes:c,getZones:_,getHeight:m,zones:d,addDimzones:S,addDimslope:y,addDimheight:b}});function $e(){const n=r(!1),f=r(null),d=r(0),c=r(0),m=r(""),_=r(null),y=r([]),{addDimzones:b,addDimslope:S,addDimheight:i}=we(),F="https://omdu2tnzbwrm6v4ybp6nfr3gyi0tnoqk.lambda-url.us-east-1.on.aws/",{execute:C,data:w}=q(F,{method:"GET"},{immediate:!1,resetOnExecute:!1}),E=(s,e=null)=>{try{return JSON.parse(s)}catch{return e}},l=s=>{let e=s==null?void 0:s.data;if(Array.isArray(e))return e;if(e!=null&&e.value){if(Array.isArray(e.value))return e.value;if(typeof e.value.body=="string"){const t=E(e.value.body,[]);if(Array.isArray(t))return t}if(Array.isArray(e.value.body))return e.value.body}if(typeof e=="string"){const t=E(e,[]);return Array.isArray(t)?t:[]}if(e!=null&&e.body){if(typeof e.body=="string"){const t=E(e.body,[]);return Array.isArray(t)?t:[]}if(Array.isArray(e.body))return e.body}return e?[e]:[]},o=s=>s<4.5?1:s<6?2:3,u=Object.freeze({fifteen:15,twenty:20,twentyfive:25,thirty:30,thirtyfive:35,forty:40}),B=s=>s<u.fifteen?"lessfifteen":s<u.twenty?"fifteen":s<u.twentyfive?"twenty":s<u.thirty?"twentyfive":s<u.thirtyfive?"thirty":s<u.forty?"thirtyfive":null;let A=null;const T=async()=>{var s;if(A){try{await A}catch{}return w.value}try{n.value=!0,f.value=null,A=C();const e=await A,t=l(e),a=(Array.isArray(t)&&t.length?t[0]:null)||(Array.isArray((s=e==null?void 0:e.data)==null?void 0:s.value)?e.data.value[0]:null)||(Array.isArray(e==null?void 0:e.data)?e.data[0]:null);if(!a)throw new Error("No data payload from endpoint");const v=o(d.value);if(v===3?(m.value="table3",_.value=a.slp_six_twelve??null):v===2?(m.value="table2",_.value=a.slp_four_six??null):(m.value="table1",_.value=a.slp_two_four??null,console.log(_.value)),!_.value)throw new Error("Zone table missing for selected slope");const p=B(c.value),g=p?_.value[p]:null,D=Array.isArray(g)?g[0]:g;if(!D||typeof D!="object")throw new Error("Height bucket not supported or missing in zone table");const x=["zone1","zone2","zone3"].map(z=>Number(D[z]??0));return console.log(x),y.value=x,b(x),e}catch(e){throw f.value=e instanceof Error?e:new Error(String(e)),e}finally{n.value=!1,A=null}};async function h(s,e){d.value=Number(s??0),c.value=Number(e??0),S(d.value),i(c.value),await T()}return{loading:n,error:f,slope:d,height:c,tableType:m,zoneData:_,zonesRow:y,getData:h}}const Fe=W(()=>{const n=r([]),f=r([]),d=r([]),c=N(()=>n.value),m=N(()=>f.value),_=N(()=>d.value);N(()=>tilenoa.value);function y(i){n.value.push(i)}function b(i){f.value.push(i)}function S(i){d.value.push(i)}return{slopes:n,heights:f,getSlopes:c,getZoned:_,getHeight:m,zoned:d,addDimzoned:S,addDimsloped:y,addDimheightd:b}});function ze(){const n=r(!1),f=r(null),d=r(0),c=r(0),m=r(""),_=r(null),y=r([]),{addDimzoned:b,addDimsloped:S,addDimheightd:i}=Fe(),F="https://56loihllfj5w27ywslgbxlhp3a0uppfh.lambda-url.us-east-1.on.aws/",{execute:C,data:w}=q(F,{method:"GET"},{immediate:!1,resetOnExecute:!1}),E=(s,e=null)=>{try{return JSON.parse(s)}catch{return e}},l=s=>{let e=s==null?void 0:s.data;if(Array.isArray(e))return e;if(e!=null&&e.value){if(Array.isArray(e.value))return e.value;if(typeof e.value.body=="string"){const t=E(e.value.body,[]);if(Array.isArray(t))return t}if(Array.isArray(e.value.body))return e.value.body}if(typeof e=="string"){const t=E(e,[]);return Array.isArray(t)?t:[]}if(e!=null&&e.body){if(typeof e.body=="string"){const t=E(e.body,[]);return Array.isArray(t)?t:[]}if(Array.isArray(e.body))return e.body}return e?[e]:[]},o=s=>s<4.5?1:s<6?2:3,u=Object.freeze({fifteen:15,twenty:20,twentyfive:25,thirty:30,thirtyfive:35,forty:40}),B=s=>s<u.fifteen?"lessfifteen":s<u.twenty?"fifteen":s<u.twentyfive?"twenty":s<u.thirty?"twentyfive":s<u.thirtyfive?"thirty":s<u.forty?"thirtyfive":null;let A=null;const T=async()=>{var s;if(A){try{await A}catch{}return w.value}try{n.value=!0,f.value=null,A=C();const e=await A,t=l(e),a=(Array.isArray(t)&&t.length?t[0]:null)||(Array.isArray((s=e==null?void 0:e.data)==null?void 0:s.value)?e.data.value[0]:null)||(Array.isArray(e==null?void 0:e.data)?e.data[0]:null);if(!a)throw new Error("No data payload from endpoint");const v=o(d.value);if(v===3?(m.value="table3",_.value=a.slp_six_twelve??null):v===2?(m.value="table2",_.value=a.slp_four_six??null):(m.value="table1",_.value=a.slp_two_four??null),!_.value)throw new Error("Zone table missing for selected slope");const p=B(c.value),g=p?_.value[p]:null,D=Array.isArray(g)?g[0]:g;if(!D||typeof D!="object")throw new Error("Height bucket not supported or missing in zone table");const x=["zone1","zone2","zone3"].map(z=>Number(D[z]??0));return y.value=x,b(x),e}catch(e){throw f.value=e instanceof Error?e:new Error(String(e)),e}finally{n.value=!1,A=null}};async function h(s,e){return d.value=Number(s??0),c.value=Number(e??0),S(d.value),i(c.value),m.value="",_.value=null,y.value=[],await T(),y.value}return{loading:n,error:f,slope:d,height:c,tableType:m,zoneData:_,zonesRowdouble:y,getDatas:h}}export{Ie as _,$e as a,ze as b,ke as c,Fe as d,we as e,te as f,ie as g,se as u};
