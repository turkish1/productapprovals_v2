import{E as qa,P as Ka,c as Jt,d as Zt,D as Qa,s as La,r as s,o as Fa,f as qe,F as za,m as ya,t as Va,a8 as pa,ao as va,ar as ha,bi as _a,e as Be,i as ua,a2 as el,a1 as tl,am as Da,g as ga,ap as ma,k as Ta,V as al,p as ll,j as ol}from"./index-B34yCi00.js";import{s as sl}from"./index-Dbwv1k3E.js";import{s as il}from"./index-5VVtOvW5.js";import{s as nl}from"./index-DBc3U2pO.js";import{u as dl}from"./use-signpdf-DQSmQGjE.js";import{u as oa}from"./accountsStore-CsUSvXW1.js";import{u as Ba}from"./generalpageStore-QWxH0dko.js";import{u as sa}from"./permitapp-D5kmnZV3.js";import{u as la}from"./roofList-gog-yzrt.js";import{_ as Ra}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{E as Mt}from"./jspdf.es.min-BF9SIygt.js";import{u as Ea}from"./burpdfStore-CKceIYeo.js";import{a as cl,u as ul,b as pl}from"./systemfStore-XEl9mRsl.js";import{u as Oa}from"./dripEdgeStore-C4jPpTfO.js";import{u as vl}from"./tilenoaStore-C-C_TTAf.js";import{u as Ia,a as Ua}from"./tilesysfStore-5rWiMSbW.js";import{u as hl}from"./use-tileMechanical-D3FR8GKj.js";import"./index-YkhKf99Y.js";import"./useAxios-CGnFRm85.js";var xl=function(I){var g=I.dt;return`
.p-skeleton {
    overflow: hidden;
    background: `.concat(g("skeleton.background"),`;
    border-radius: `).concat(g("skeleton.border.radius"),`;
}

.p-skeleton::after {
    content: "";
    animation: p-skeleton-animation 1.2s infinite;
    height: 100%;
    left: 0;
    position: absolute;
    right: 0;
    top: 0;
    transform: translateX(-100%);
    z-index: 1;
    background: linear-gradient( 90deg, rgba(255, 255, 255, 0), `).concat(g("skeleton.animation.background"),`, rgba(255, 255, 255, 0) );
}

.p-skeleton-circle {
    border-radius: 50%;
}

.p-skeleton-animation-none::after {
    animation: none;
}

@keyframes p-skeleton-animation {
    from {
        transform: translateX(-100%);
    }
    to {
        transform: translateX(100%);
    }
}
`)},gl={root:{position:"relative"}},ml={root:function(I){var g=I.props;return["p-skeleton p-component",{"p-skeleton-circle":g.shape==="circle","p-skeleton-animation-none":g.animation==="none"}]}},Tl=qa.extend({name:"skeleton",theme:xl,classes:ml,inlineStyles:gl}),Wl={name:"BaseSkeleton",extends:Ka,props:{shape:{type:String,default:"rectangle"},size:{type:String,default:null},width:{type:String,default:"100%"},height:{type:String,default:"1rem"},borderRadius:{type:String,default:null},animation:{type:String,default:"wave"}},style:Tl,provide:function(){return{$pcSkeleton:this,$parentInstance:this}}},Ya={name:"Skeleton",extends:Wl,inheritAttrs:!1,computed:{containerStyle:function(){return this.size?{width:this.size,height:this.size,borderRadius:this.borderRadius}:{width:this.width,height:this.height,borderRadius:this.borderRadius}}}};function fl(se,I,g,P,k,M){return Jt(),Zt("div",Qa({class:se.cx("root"),style:[se.sx("root"),M.containerStyle],"aria-hidden":"true"},se.ptmi("root")),null,16)}Ya.render=fl;const rl={class:"terminal"},$l={class:"terminal-content"},Sl=8,bl={__name:"Terminal",setup(se){const I=sa(),{permitapp:g}=La(I),{accountUsers:P}=oa();let k=s(),M=s(),b=s(),p=s(),V=s();g.value.forEach((x,l)=>{k.value=x.formdt.permit,M.value=x.formdt.processNumber,p.value=x.formdt.address,V.value=x.formdt.contractor});const Ae=["Initializing system...","Loading modules...","Connecting to server...","Server connection established.",`${P._value[0].dba}...`,`${P._value[0].license}...`,`${P._value[0].expiration_date}...`,`${P._value[0].secondary_status}...`,`${M.value}...`,`${p.value}...`,`${V.value}...`],ie=s([]);function ne(){let x=0;const l=setInterval(()=>{x<Ae.length?(ie.value.length>=Sl&&ie.value.shift(),ie.value.push(Ae[x]),x++):clearInterval(l)},1e3)}return Fa(()=>{ne()}),Fa(()=>{if(P._value[0].DBA==="")return console.log(P._value[0]),null;b.value=P._value[0].dba,console.log(P._value[0])}),(x,l)=>(Jt(),Zt("div",rl,[qe("div",$l,[(Jt(!0),Zt(za,null,ya(ie.value,(v,e)=>(Jt(),Zt("div",{key:e,class:"terminal-line"},Va(v),1))),128))])]))}},Vl=Ra(bl,[["__scopeId","data-v-f32bdab3"]]),Al={__name:"Generalpagepdf",setup(se){const{getUser:I}=oa();let g=s(!1);const P=sa();la();const k=Ba(),M=s(P.$state.permitapp[0].formdt.address),b=s(P.$state.permitapp[0].formdt.permit),p=s(P.$state.permitapp[0].formdt.processNumber),V=p.value.length!==0?p.value:"files",Ae=s(I.value[0].dba),ie=s(""),ne=s(k.$state.generalpdfinput);function x(){ne.value.length!==1&&(g.value=!0)}pa(()=>{x(),l()}),va(async()=>{await ha(g).toBe(!0),l()});const l=()=>{if(k.$state.generalpdfinput.length===0)console.log("lenghth is   zero");else{const i=new Mt;i.setGState(new i.GState({opacity:.9}));const Y="Approved";i.setFontSize(24),i.setTextColor("black"),i.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const ae=new Image,De=new Image,nt=new Image;ae.src="/demo/images/officepaper.jpeg",De.src="/demo/images/logo.jpeg",nt.src="/demo/images/DragAndDrop.jpeg";const d=725,de=i.getPageInfo(1),n=de.pageContext.mediaBox.topRightX,L=de.pageContext.mediaBox.topRightY;console.log(n);const m=s(0),o=s(0);var v=595.28-585.28,e=L-d;m.value=v,o.value=e,console.log(m.value,o.value),i.addImage(De,"JPEG",10,10,50,30),i.addImage(ae,"JPEG",0,0,210,297),i.setFontSize(14),i.setTextColor("green");var t=new Date,U=t.toLocaleDateString();i.text(Y,10,270,{align:"left"});const Ct=i.getTextWidth(Y);i.text("on: "+U,Ct+15,270),i.text(`${p.value}`,10,258,{align:"left"}),i.getTextWidth(`${p.value}`),console.log(M,b,p,Ae);const a=s(!1),Ke=s(!1),W=s(!1),dt=s(!1),ct=s(!1);i.setFontSize(12);const qt=()=>{i.setFontSize(10),i.setTextColor(0),i.text("2023 HVHZ  mEPermit General Information Page",70,20,{maxWidth:"170"}),i.line(10,41,195,41)};i.setTextColor(0),i.circle(185,38,2,"FD"),i.text("I agree",165,39),qt(),i.setFontSize(12),i.setFontSize(10);const Ut=[{category:"DBA",value:`${Ae.value}`},{category:"Job Address",value:`${M.value}`},{category:"meProcess Number",value:`${p.value}`},{category:"Master Permit",value:`${b.value}`}];let rt=10,$t=60,ce=50;i.setFontSize(10),Ut.forEach((J,He)=>{const we=ce+He*10;i.text(J.category,rt,we),i.text(J.value,$t,we),i.getTextWidth(J.category);const ee=i.getTextWidth(J.value)*2;i.line($t,we+2,$t+ee,we+2)}),i.setFontSize(10);const D=100,h=s(!1);k.$state.generalpdfinput[0].generalpdfData.roofCheck[0]==="reroof"&&(h.value=!0,console.log(h.value)),m.value=v+70,e=D-15,console.log(e);const xe=new Mt.API.AcroFormCheckBox;i.text("Re-Roof: ",m.value,e);const ge=e-3;xe.fieldName="CheckBox6",console.log(h.value),xe.Rect=[m.value+20,ge,4,4],m.value=m.value+20,xe.value=h.value===!0?"On":"Off",xe.appearanceState=h.value===!0?"On":"Off",i.addField(xe),m.value=v+120,e=D-15,console.log(e);const me=new Mt.API.AcroFormCheckBox;i.text("New Roof: ",m.value,e);const St=e-3;me.fieldName="CheckBox7",me.Rect=[m.value+20,St,4,4],me.value=h.value===!0?"Off":"On",me.appearanceState=h.value===!0?"Off":"On",m.value=m.value+20,i.addField(me);const $="Total: ",ut="Low Slope: ",pt="Steep Slope: ",Re=s(k.$state.generalpdfinput[0].generalpdfData.totalData),Oe=s(k.$state.generalpdfinput[0].generalpdfData.slopeData),Fe=s(k.$state.generalpdfinput[0].generalpdfData.steepData);console.log(k.$state.generalpdfinput[0].generalpdfData),m.value=v;const Xe=i.getTextWidth(ut),Te=i.getTextWidth(`${Oe.value}`),ke=m.value+2;i.text(ut,ke,D);const E=Xe+ke;i.text(`${Oe.value}`,E,D),i.line(E,D,E+Te,D),m.value=E+Te;const wt=i.getTextWidth(pt),Ie=i.getTextWidth(`${Fe.value}`),We=m.value+2;i.text(pt,We,D);const c=wt+We;i.text(`${Fe.value}`,c,D),i.line(c,D,c+Ie,D),console.log(D,e),e=D+10,m.value=c+Ie,console.log(m.value);const bt=i.getTextWidth($),Qe=i.getTextWidth(`${Re.value}`),j=m.value+2;i.text($,j,D);const Ne=bt+j;i.text(`${Re.value}`,Ne,D),i.line(Ne,D,Ne+Qe,D),m.value=Ne+Qe,k.$state.generalpdfinput[0].generalpdfData.slopeChk===!0&&(ct.value=!0),k.$state.generalpdfinput[0].generalpdfData.adtileChk===!0&&(a.value=!0),k.$state.generalpdfinput[0].generalpdfData.metalChk===!0&&(Ke.value=!0),k.$state.generalpdfinput[0].generalpdfData.mtileChk===!0&&(W.value=!0),k.$state.generalpdfinput[0].generalpdfData.shingleChk===!0&&(dt.value=!0),m.value=v,e=e+10,console.log(e);const fe=new Mt.API.AcroFormCheckBox;i.text("Low Slope: ",v,e);const Pt=e-3;fe.fieldName="CheckBox1",fe.Rect=[v+20,Pt,4,4],fe.value=ct.value===!0?"On":"Off",fe.appearanceState=ct.value===!0?"On":"Off",m.value=v+20,i.addField(fe);const u=m.value+10,Me=new Mt.API.AcroFormCheckBox;i.text("Mechanical Fastened Tile: ",u,e);const Et=e-3;Me.fieldName="CheckBox2",Me.Rect=[u+45,Et,4,4],Me.value=ct.value===!0?"On":"Off",Me.appearanceState=ct.value===!0?"On":"Off",m.value=u+20,i.addField(Me);const Ue=m.value+30,ue=new Mt.API.AcroFormCheckBox;i.text("Adhesive Set Tile: ",Ue,e);const vt=e-3;ue.fieldName="CheckBox3",ue.Rect=[Ue+35,vt,4,4],ue.value=a.value===!0?"On":"Off",ue.appearanceState=a.value===!0?"On":"Off",m.value=Ue+10,i.addField(ue);const ht=m.value+35,pe=new Mt.API.AcroFormCheckBox;i.text("Shingle: ",ht,e);const Vt=e-3;pe.fieldName="CheckBox4",pe.Rect=[ht+20,Vt,4,4],pe.value=dt.value===!0?"On":"Off",pe.appearanceState=dt.value===!0?"On":"Off",m.value=ht+20,i.addField(pe);const Le=m.value+25,_=new Mt.API.AcroFormCheckBox;i.text("Metal Panel: ",Le,e);const Ye=e-3;_.fieldName="CheckBox5",_.Rect=[Le+20,Ye,4,4],_.value=Ke.value===!0?"on":"Off",_.appearanceState=Ke.value===!0?"On":"Off",m.value=Le+20,i.addField(_),e=e+10,i.addImage(nt,"JPEG",v+40,e,120,120);const Ce="GeneralPage.pdf",zt=i.output("blob");(async(J,He)=>{const we=J,ee=we;console.log(ee);const ye=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${V}/${ee}`;try{const re=await fetch(ye,{method:"PUT",headers:{"Content-Type":we.type},body:He});re.ok?(ie.value=ye,alert("File uploaded successfully!")):alert(`Failed to upload file. Status: ${re.status}`)}catch(re){console.error("Error uploading file:",re),alert("An error occurred while uploading the file.")}})(Ce,zt)}};return(v,e)=>(Jt(),Zt("div"))}},Dl={__name:"LowSlopepdf",setup(se){const{getUser:I}=oa(),g=sa(),P=la(),k=Ea(),M=s(P.$state.roofList[0].dim2),b=s(g.$state.permitapp[0].formdt.address),p=s(g.$state.permitapp[0].formdt.muni),V=s(g.$state.permitapp[0].formdt.processNumber),Ae=s(I.value[0].dba),ie=s(k.$state.burpdfinput);let ne=s(!1);const x=V.value.length!==0?V.value:"files",l=s("");function v(){ie.value.length!==1&&(ne.value=!0,e())}pa(()=>{v()}),va(async()=>{await ha(ne).toBe(!0)});const e=()=>{const t=Ea();if(t.$state.burpdfinput.length===0)console.log("lenghth is zero");else{const De=s(t.$state.burpdfinput[0].burpdfData.height),nt=s(t.$state.burpdfinput[0].burpdfData.slope),d=s(t.$state.burpdfinput[0].burpdfData.per),de=s(t.$state.burpdfinput[0].burpdfData.deckType),n=new Mt;n.setGState(new n.GState({opacity:.9}));const L="Approved";n.setFontSize(24),n.setTextColor("black"),n.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const m=new Image,o=new Image;m.src="/demo/images/officepaper.jpeg",o.src="/demo/images/logo.jpeg";const Ct=725,a=n.getPageInfo(1);a.pageContext.mediaBox.topRightX;const Ke=a.pageContext.mediaBox.topRightY,W=s(0),dt=s(0);var U=595.28-585.28,i=Ke-Ct;W.value=U,dt.value=i,console.log(W.value,dt.value),n.addImage(o,"JPEG",10,2,50,30),n.addImage(m,"JPEG",0,0,210,297),n.setFontSize(14),n.setTextColor("red");var Y=new Date,ae=Y.toLocaleDateString();n.text(L,10,270,{align:"left"});const ct=n.getTextWidth(L);n.text("on: "+ae,ct+15,270),n.text(`${V.value}`,10,280,{align:"left"});const qt=n.getTextWidth(`${V.value}`);n.text(`${p.value}`,qt+15,280),n.setFontSize(12);const Ut=()=>{n.setFontSize(10),n.setTextColor(0),n.text('The low slope Built Up Roof (BUR) Assembly shall be installed in compliance with the HVHZ portions of Chapter 15 found in the 2023 Florida Building Code and the HVHZ Roofing Application Standards (RAS), RAS-111, RAS-117 and RAS-128. This roof assembly shall also comply with the listed requirements for a Class "A" fire rating including roof slope (incline), components and a fire barrier when required. The mePermit applicant agrees to comply with these installation requirements when obtaining this permit.',10,25,{maxWidth:"170"}),n.line(10,45,195,45)};n.setTextColor("black"),n.circle(185,40,2,"FD"),n.text("I agree",165,41),Ut(),n.setFontSize(12),n.setFontSize(10);const rt=[{category:"DBA",value:`${Ae.value}`},{category:"Municipality",value:`${p.value}`},{category:"Job Address",value:`${b.value}`},{category:"meProcess Number",value:`${V.value}`}];let $t=10,ce=60,y=50;n.setFontSize(10),rt.forEach((Ge,Dt)=>{const gt=y+Dt*10;n.text(Ge.category,$t,gt),n.text(Ge.value,ce,gt),n.getTextWidth(Ge.category);const C=n.getTextWidth(Ge.value)*2;n.line(ce,gt+2,ce+C,gt+2)}),n.setFontSize(10);const h=100,xe="Roof Area: ",ge="Decktype: ",me="Mean Roof Height: ",St="Roof Slope: ",$="Roof Perimeter: ",ut="Type of Low Slope BUR Material: ",pt="Type of Low Slope BUR System: ",Re="Attach P(1') Prime using P(1) Field Prescriptive Basesheet: ",Oe="Attach P(2) Perimeter using P(3) Corner Prescriptive: ",Fe=s(t.$state.burpdfinput[1].burpdfData.burMaterial),Xe=s(t.$state.burpdfinput[1].burpdfData.burSystem),Te=s(t.$state.burpdfinput[1].burpdfData.p1),ke=s(t.$state.burpdfinput[1].burpdfData.p3);W.value=U;const E=n.getTextWidth(xe),wt=n.getTextWidth(`${M.value}`),Ie=W.value;n.text(xe,Ie,h);const We=E+Ie;n.text(`${M.value}`,We,h),n.line(We,h,We+wt,h),W.value=We+wt;const c=n.getTextWidth(me),bt=n.getTextWidth(`${De.value}`),Qe=W.value+2;n.text(me,Qe,h);const j=c+Qe;n.text(`${De.value}`,j,h),n.line(j,h,j+bt,h),W.value=j+bt;const Ne=n.getTextWidth(St),fe=n.getTextWidth(`${nt.value}`),Pt=W.value+2;n.text(St,Pt,h);const u=Ne+Pt;n.text(`${nt.value}`,u,h),n.line(u,h,u+fe,h),W.value=u+fe;const Me=n.getTextWidth($),Et=n.getTextWidth(`${d.value}`),Ue=W.value+2;n.text($,Ue,h);const ue=Me+Ue;n.text(`${d.value}`,ue,h),n.line(ue,h,ue+Et,h),console.log(h,i),i=h+10,W.value=ue+Et;const vt=n.getTextWidth(ge),ht=n.getTextWidth(`${de.value}`),pe=U;n.text(ge,pe,i);const Vt=vt+pe;n.text(`${de.value}`,Vt,i),n.line(Vt,i,Vt+ht,i),i=i+10,W.value=U;const Le=n.getTextWidth(ut),_=n.getTextWidth(`${Fe.value}`),Ye=W.value;n.text(ut,Ye,i);const Ce=Le+12;n.text(`${Fe.value}`,Ce,i),n.line(Ce,i,Ce+_,i),W.value=Ce+_,i=i+10,W.value=U,n.setFontSize(9),n.getTextWidth(Re);const zt=n.getTextWidth(`${Xe.value}`),At=W.value;n.text(pt,At,i),i=i+10,W.value=U;const J=W.value;n.text(`${Xe.value}`,J,i),n.line(J,i,J+zt,i),i=i+10,n.setFontSize(10),n.getTextWidth(Re);const He=n.getTextWidth(`${Te.value}`),we=U;n.text(Re,we,i),i=i+7;const ee=U;n.text(`${Te.value}`,ee,i),n.line(ee,i,ee+He+70,i),i=i+10,W.value=U;const ye=n.getTextWidth(`${ke.value}`),re=W.value;n.text(Oe,re,i),i=i+7,W.value=U;const Pe=W.value;n.text(`${ke.value}`,Pe,i),n.line(Pe,i,Pe+ye+70,i),i=i+10;const xt="LowSlope.pdf",Yt=n.output("blob");(async(Ge,Dt)=>{const gt=Ge,C=gt;console.log(C);const R=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${x}/${C}`;try{const F=await fetch(R,{method:"PUT",headers:{"Content-Type":gt.type},body:Dt});F.ok?(l.value=R,alert("File uploaded successfully!")):alert(`Failed to upload file. Status: ${F.status}`)}catch(F){console.error("Error uploading file:",F),alert("An error occurred while uploading the file.")}})(xt,Yt)}};return(t,U)=>(Jt(),Zt("div"))}},Fl={__name:"Shingle",setup(se){const{getUser:I}=oa(),g=cl(),P=sa(),k=la(),M=ul(),b=pl(),p=la(),V=s(p.$state.roofList);let Ae=s(!1);const ie=pa(()=>{if(console.log(V),V.value.length===0)return"";V.value[0].item==="Asphalt Shingle"&&(Ae.value=!0,ne())});va(async()=>{await ha(ie).toBe(!0),console.log(ie)});const ne=()=>{if(M.$state.inputshingle.length===0)console.log("lenghth is zero");else{console.log(g,b);let t=s(!1),U=s(!1);g.$state.systeminput.length!==0&&(U=!0,console.log(U)),b.$state.polyinput.length!==0&&(t=!0,console.log(t));const i=s(P.$state.permitapp[0].formdt.address),Y=s(P.$state.permitapp[0].formdt.muni),ae=s(P.$state.permitapp[0].formdt.processNumber),De=s(I.value[0].dba),nt=s(M.$state.inputshingle[0].shingleData.height),d=s(M.$state.inputshingle[0].shingleData.slope),de=s(M.$state.inputshingle[0].shingleData.deckType),n=s(k.$state.roofList[0].dim1),L=ae.value.length!==0?ae.value:"files",m=s(""),o=new Mt;o.setGState(new o.GState({opacity:.8}));const Ct="Approved";o.setFontSize(24),o.setTextColor(150,150,150),o.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const a=new Image,Ke=new Image;a.src="/demo/images/officepaper.jpeg",Ke.src="/demo/images/logo.jpeg",o.addImage(Ke,"JPEG",10,10,50,30),o.addImage(a,"JPEG",0,0,210,297),o.setFontSize(20),o.setTextColor(190,190,190);var x=new Date,l=x.toLocaleDateString();o.text(Ct,10,270,{align:"left"});const W=o.getTextWidth(Ct);o.text("on: "+l,W+15,270),o.text(`${ae.value}`,10,280,{align:"left"});const dt=o.getTextWidth(`${ae.value}`);o.text(`${Y.value}`,dt+15,280),o.setFontSize(12);const ct=()=>{o.setFontSize(12),o.setTextColor(0),o.text("The Shingle roof system and its components shall be installed in strict compliance  with the HVHZportions of Chapter 15 FBC, the HVHZ Roof Application Standards(RAS) 111 & 115, and the submitted MDC(NOA) Notice of Acceptance(s).The mePermit applicant agrees to comply with these installation requirements when obtaining this permit.",10,20,{maxWidth:"200"}),o.line(10,41,195,41)};o.setTextColor(0),o.circle(185,38,2,"FD"),o.text("I agree",165,39),ct(),o.setFontSize(12),o.setFontSize(14);const qt=[{category:"DBA",value:`${De.value}`},{category:"Municipality",value:`${Y.value}`},{category:"Job Address",value:`${i.value}`},{category:"meProcess Number",value:`${ae.value}`}];let Ut=10,rt=60,$t=50;o.setFontSize(12),qt.forEach((C,R)=>{const F=$t+R*10;o.text(C.category,Ut,F),o.text(C.value,rt,F),o.getTextWidth(C.category);const H=o.getTextWidth(C.value)*2;o.line(rt,F+2,rt+H,F+2)}),o.setFontSize(12);const ce=2,y=100;o.text("Roof Area:",10,y),o.text(`${n.value}`,35,y),o.line(35,y+ce,45,y+ce),o.text("Mean Roof Height:",50,y);const D=o.getTextWidth("Mean Roof Height:");o.text(`${nt.value}`,y,y),o.line(90,y+ce,70+D,y+ce),o.text("Roof Slope:",80+D,y);const h=105+D;o.text(`${d.value}`,h,y);const xe=o.getTextWidth(`${d.value}`)*2;o.line(h,y+ce,h+xe,y+ce);const ge=108;o.text("Decktype:",10,ge);const me=30+xe;o.text(`${de.value}`,me,ge);const St=o.getTextWidth(`${de.value}`)*2;o.line(me,ge,me+St,ge);const $="Shingle NOA Number: ",ut="Shingle Applicant: ",pt="Shingle Material: ",Re="Shingle Description: ",Oe="Fastened Underlayment(UDL)NOA: ",Fe="UDL NOA Applicant: ",Xe="Fastened UDL Material: ",Te="UDL Description: ",ke="Perscriptive: ",E=179,wt=725,Ie=o.getPageInfo(1);console.log(Ie),Ie.pageContext.mediaBox.topRightX;const We=Ie.pageContext.mediaBox.topRightY,c=s(0),bt=s(0);var v=595.28-585.28,e=We-wt;c.value=v,bt.value=e,console.log(c.value,bt.value);const Qe=s(M.$state.inputshingle[0].shingleData.noa),j=s(M.$state.inputshingle[0].shingleData.applicant),Ne=s(M.$state.inputshingle[0].shingleData.material),fe=s(M.$state.inputshingle[0].shingleData.description),Pt=s(M.$state.inputshingle[0].shingleData.prescriptiveSelection),u=o.getTextWidth(ke),Me=o.getTextWidth(`${Pt.value}`),Et=v;o.text(ke,Et,e);const Ue=u+10;o.text(`${Pt.value}`,Ue,e),o.line(Ue,e,Ue+Me,e),e=e+10;const ue=o.getTextWidth(ut),vt=o.getTextWidth(`${j.value}`),ht=v;o.text(ut,ht,e);const pe=ht+ue;o.text(`${j.value}`,pe,e),o.line(pe,e,pe+vt,e),c.value=pe+vt;const Vt=o.getTextWidth($),Le=o.getTextWidth(`${Qe.value}`),_=c.value+3;o.text($,_,e);const Ye=Vt+_;o.text(`${Qe.value}`,Ye,e),o.line(Ye,e,Ye+Le,e),c.value=Ye+Le,c.value>E&&(e=e+10),console.log(c.value,E);const Ce=c.value+2,zt=o.getTextWidth(pt),At=o.getTextWidth(`${Ne.value}`);o.text(pt,Ce,e);const J=Ce+zt;o.text(`${Ne.value}`,J,e),o.line(J,e,J+At,e),c.value=J+At,c.value>E&&(e=e+10),console.log(c.value,E);const He=o.getTextWidth(`${fe.value}`),we=o.getTextWidth(Re),ee=v;o.text(Re,ee,e);const ye=ee+we;if(o.text(`${fe.value}`,ye,e),o.line(ye,e,ye+He,e),c.value=ye+He,e=e+10,console.log(b.$state.polyinput.length),b.$state.polyinput.length===0){const C="n/a",R="n/a",F="n/a",H="n/a",le=o.getTextWidth(Oe),Z=o.getTextWidth(C),$e=v;o.text(Oe,$e,e);const G=$e+le;o.text(C,G,e),o.line(G,e,G+Z,e),c.value=G+Z,console.log(c.value);const Se=o.getTextWidth(Fe),mt=o.getTextWidth(R),_e=c.value+2;o.text(Fe,_e,e);const T=_e+Se;o.text(R,T,e),o.line(T,e,T+mt,e),c.value=T+mt,console.log(c.value),c.value>E&&(e=e+10);const f=c.value+2,A=o.getTextWidth(Xe),X=o.getTextWidth(F);o.text(Xe,f,e);const r=f+A;o.text(F,r,e),o.line(r,e,r+X,e),c.value=r+X,console.log(c.value),c.value>E&&(e=e+10),console.log(c.value);const z=o.getTextWidth(Te),B=o.getTextWidth(H),w=v,S=w+B;console.log(S),o.text(Te,w,e),S>E&&print(S);const N=w+z;o.text(H,N,e),o.line(N,e,N+B,e),c.value=N+B,e=e+10}else{const C=s(b.$state.polyinput[0].polyData.noa),R=s(b.$state.polyinput[0].polyData.applicant),F=s(b.$state.polyinput[0].polyData.material),H=s(b.$state.polyinput[0].polyData.description),le=o.getTextWidth(Oe),Z=o.getTextWidth(`${C.value}`),$e=v;o.text(Oe,$e,e);const G=ee+le;o.text(`${C.value}`,G,e),o.line(G,e,G+Z,e),c.value=G+Z;const Se=o.getTextWidth(Fe),mt=o.getTextWidth(`${R.value}`),_e=c.value+2;o.text(Fe,_e,e);const T=_e+Se;o.text(`${R.value}`,T,e),o.line(T,e,T+mt,e),c.value=T+mt,c.value>E&&(e=e+10);const f=v,A=o.getTextWidth(Xe),X=o.getTextWidth(`${F.value}`);o.text(Xe,f,e);const r=f+A;o.text(`${F.value}`,r,e),o.line(r,e,r+X,e),c.value=r+X,c.value>E&&(e=e+10),console.log(c.value);const z=o.getTextWidth(Te),B=o.getTextWidth(`${H.value}`),w=c.value+2,S=w+B;console.log(S),o.text("UDL Description:",w,e),S>E&&print(S);const N=w+z;o.text(`${H.value}`,N,e),o.line(N,e,N+B,e),c.value=N+B,console.log(c.value),e=e+10}const re="Self Adhered NOA: ",Pe="S/A NOA Applicant: ",xt="S/A System F: ",Yt="S/A Material: ",Bt="S/A Description: ";if(console.log(g.$state.systeminput.length),g.$state.systeminput.length===0){const C="n/a",R="n/a",F="n/a",H="n/a",le="n/a",Z=o.getTextWidth(re),$e=o.getTextWidth(C),G=v;o.text(re,G,e);const Se=G+Z;o.text(C,Se,e),o.line(Se,e,Se+$e,e),c.value=Se+$e,console.log(c.value);const mt=o.getTextWidth(Pe),_e=o.getTextWidth(R),T=c.value+3;o.text(Pe,T,e);const f=T+mt;o.text(R,f,e),o.line(f,e,f+_e,e),c.value=f+_e,console.log(c.value);const A=o.getTextWidth(xt),X=c.value+3;o.text(xt,X,e);const r=X+A;o.text(F,r,e),o.line(r,e,r+A,e),c.value=r+A,console.log(c.value),e=e+10;const z=o.getTextWidth(Yt),B=o.getTextWidth(H),w=v;o.text(Yt,w,e);const S=w+z;o.text(H,S,e),o.line(S,e,S+B,e),c.value=S+B,console.log(c.value);const N=o.getTextWidth(Bt),q=o.getTextWidth(le),K=c.value+3;o.text(Bt,K,e);const O=K+N;o.text(le,O,e),o.line(O,e,O+q,e),c.value=O+q,console.log(c.value)}else{console.log("Entered sbs line 455",g.$state);const C=s(g.$state.systeminput[0].systemData.noa),R=s(g.$state.systeminput[0].systemData.manufacturer),F=s(g.$state.systeminput.pdfSystemValue),H=s(g.$state.systeminput[0].systemData.material),le=s(g.$state.systeminput[0].systemData.description),Z=o.getTextWidth(re),$e=o.getTextWidth(`${C.value}`),G=v;o.text(re,G,e);const Se=G+Z;o.text(`${C.value}`,Se,e),o.line(Se,e,Se+$e,e),c.value=Se+$e;const mt=o.getTextWidth(Pe),_e=o.getTextWidth(`${R.value}`),T=c.value+3;o.text(Pe,T,e);const f=T+mt;o.text(`${R.value}`,f,e),o.line(f,e,f+_e,e),c.value=f+_e,console.log(c.value);const A=o.getTextWidth(xt),X=o.getTextWidth(`${F.value}`),r=c.value+3;o.text(xt,r,e);const z=r+A;o.text(`${F.value}`,z,e),o.line(z,e,z+X,e),c.value=z+X,e=e+10,console.log(c.value);const B=o.getTextWidth(Yt),w=o.getTextWidth(`${H.value}`),S=v;o.text(Yt,S,e);const N=S+B;o.text(`${H.value}`,N,e),o.line(N,e,N+w,e),c.value=N+w,c.value>E&&(e=e+10),console.log(c.value);const q=o.getTextWidth(Bt),K=o.getTextWidth(`${le.value}`),O=c.value+3;o.text(Bt,O,e);const oe=O+q;o.text(`${le.value}`,oe,e),o.line(oe,e,oe+K,e),c.value=oe+K,c.value>=E&&(e=e+10),console.log(c.value)}const Ge="Shingle.pdf",Dt=o.output("blob");(async(C,R)=>{const F=C,H=F;console.log(H);const le=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${L}/${H}`;try{const Z=await fetch(le,{method:"PUT",headers:{"Content-Type":F.type},body:R});Z.ok?(m.value=le,alert("File uploaded successfully!")):alert(`Failed to upload file. Status: ${Z.status}`)}catch(Z){console.error("Error uploading file:",Z),alert("An error occurred while uploading the file.")}})(Ge,Dt)}};return(x,l)=>(Jt(),Zt("div"))}},Xl=qe("h1",null,"Generate PDF with Columns and Underlined Text",-1),kl=[Xl],Nl={__name:"TileAdhesive",setup(se){const I=Ia(),g=Ua(),{getUser:P}=oa(),k=sa(),M=la(),b=s(M.$state.roofList),p=vl(),V=Oa();let Ae=s(!1);const ie=pa(()=>{if(b.value.length===0)return"";b.value[0].item==="Adhesive Set Tile"&&(Ae.value=!0,ne())});va(async()=>{await ha(ie).toBe(!0)});const ne=()=>{if(console.log(p.tilenoa),p.tilenoa.value[0].length===0)console.log("lenghth is zero");else{const t=new Mt;let U=s(!1),i=s(!1);g.$state.tilesysEinput.length!==0&&(U=!0,console.log(U)),I.$state.tilefinput.length!==0&&(i=!0,console.log(i));const Y=179,ae=725,De=t.getPageInfo(1);De.pageContext.mediaBox.topRightX;const nt=De.pageContext.mediaBox.topRightY,d=s(0),de=s(0);var x=595.28-585.28,l=nt-ae;d.value=x,de.value=l;const n=s(p.tilenoa.value[0].height),L=s(p.tilenoa.value[0].slope),m=s(p.tilenoa.value[0].area),o=s(p.tilenoa.value[0].deckType),Ct=s(p.tilenoa.value[0].perimeter),a=s(k.$state.permitapp[0].formdt.address),Ke=s(k.$state.permitapp[0].formdt.muni),W=s(k.$state.permitapp[0].formdt.processNumber),dt=W.value.length!==0?W.value:"files",ct=s(""),qt=s(P.value[0].dba);t.setGState(new t.GState({opacity:.8}));const Ut="Approved";t.setFontSize(24),t.setTextColor(150,150,150),t.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const rt=new Image,$t=new Image;rt.src="/demo/images/officepaper.jpeg",$t.src="/demo/images/logo.jpeg",t.addImage($t,"JPEG",10,1,50,30),t.addImage(rt,"JPEG",0,0,210,297),t.setFontSize(20),t.setTextColor(190,190,190);var v=new Date,e=v.toLocaleDateString();t.text(Ut,10,270,{align:"left"});const ce=t.getTextWidth(Ut);t.text("on: "+e,ce+15,270),t.text(`${W.value}`,10,280,{align:"left"});const y=t.getTextWidth(`${W.value}`);t.text(`${Ke.value}`,y+15,280),t.setFontSize(12);const D=()=>{t.setFontSize(12),t.setTextColor(0),t.text("The tile roof system and its components shall be installed in strict compliance with the FBC 2023 HVHZ portions of Chapter 15, the HVHZ Tile Application Standards: RAS-119, RAS-120 & RAS-127 and the submitted MDC Notice of Acceptance(s). The mePermit applicant agrees to comply with these installation requirements when obtaining this permit.",10,20,{maxWidth:"200"}),t.line(10,41,195,41)};t.setTextColor(0),t.circle(185,38,2,"FD"),t.text("I agree",165,39),D(),t.setFontSize(12),t.setFontSize(14);const h=[{category:"DBA",value:`${qt.value}`},{category:"Municipality",value:`${Ke.value}`},{category:"Job Address",value:`${a.value}`},{category:"meProcess Number",value:`${W.value}`}];let xe=10,ge=60,me=50;t.setFontSize(12),h.forEach((te,he)=>{const Q=me+he*10;t.text(te.category,xe,Q),t.text(te.value,ge,Q),t.getTextWidth(te.category);const Ee=t.getTextWidth(te.value)*2;t.line(ge,Q+2,ge+Ee,Q+2)}),t.setFontSize(12);const $=90,ut="Roof Area: ",pt="Decktype: ",Re="Mean Roof Height: ",Oe="Roof Slope: ",Fe="Roof Perimeter: ";d.value=x;const Xe=t.getTextWidth(ut),Te=t.getTextWidth(`${m.value}`),ke=d.value;t.text(ut,ke,$);const E=Xe+ke;t.text(`${m.value}`,E,$),t.line(E,$,E+Te,$),d.value=E+Te,console.log(l,$);const wt=t.getTextWidth(Re),Ie=t.getTextWidth(`${n.value}`),We=d.value+2;t.text(Re,We,$);const c=wt+We;t.text(`${n.value}`,c,$),t.line(c,$,c+Ie,$),d.value=c+Ie;const bt=t.getTextWidth(Oe),Qe=t.getTextWidth(`${L.value}`),j=d.value+2;t.text(Oe,j,$);const Ne=bt+j;t.text(`${L.value}`,Ne,$),t.line(Ne,$,Ne+Qe,$),d.value=Ne+Qe;const fe=t.getTextWidth(Fe),Pt=t.getTextWidth(`${Ct.value}`),u=d.value+2;t.text(Fe,u,$);const Me=fe+u;t.text(`${Ct.value}`,Me,$),t.line(Me,$,Me+Pt,$),console.log($,l),l=$+10;const Et=t.getTextWidth(pt),Ue=t.getTextWidth(`${o.value}`),ue=x;t.text(pt,ue,l);const vt=Et+ue;t.text(`${o.value}`,vt,l),t.line(vt,l,vt+Ue,l),l=l+10;const ht="Tile NOA Number: ",pe="Tile Applicant: ",Vt="Tile Material: ",Le="Tile Description: ",_="Fastened Underlayment(UDL)NOA: ",Ye="UDL NOA Applicant: ",Ce="Fastened UDL Material: ",zt="Select System E: ",At="Design psf: ",J="Anchor Base Sheet: ",He="UDL Description: ",we="Prescriptive: ",ee="DripEdge Materiall: ",ye="DripEdge Size: ";console.log(p.tilenoa);const re=s(V.$state.dripinput[0].dripData),Pe=s(V.$state.dripinput[3].dripData),xt=t.getTextWidth(ee),Yt=t.getTextWidth(`${re.value}`),Bt=x;t.text(ee,Bt,l);const Ge=xt+Bt;t.text(`${re.value}`,Ge,l),t.line(Ge,l,Ge+Yt,l),l=l+10;const Dt=t.getTextWidth(ye),gt=t.getTextWidth(`${Pe.value}`),C=x;t.text(ye,C,l);const R=Dt+C;t.text(`${Pe.value}`,R,l),t.line(R,l,R+gt,l),l=l+10;const F=s(p.tilenoa.value[0].mf1),H=s(p.tilenoa.value[0].lambda1),le=s(p.tilenoa.value[0].mg1),Z=s(p.tilenoa.value[0].mr1),$e=s(p.tilenoa.value[0].zoneone),G=s(p.tilenoa.value[0].mf2),Se=s(p.tilenoa.value[0].lambda2),mt=s(p.tilenoa.value[0].mg2),_e=s(p.tilenoa.value[0].mr2),T=s(p.tilenoa.value[0].zonetwo),f=s(p.tilenoa.value[0].mf3),A=s(p.tilenoa.value[0].lambda3),X=s(p.tilenoa.value[0].mg3),r=s(p.tilenoa.value[0].mr3),z=s(p.tilenoa.value[0].zonethree),B=s(p.tilenoa.value[0].prescriptiveSelection.selectedBasesheet),w=t.getTextWidth(`${B.value.selectedBasesheet}`),S=x;t.text(we,S,l);const N=x;l=l+10,t.text(`${B.value}`,N,l),t.line(N,l,N+w,l),l=l+10;const q=s(p.tilenoa.value[0].noa),K=s(p.tilenoa.value[0].applicant),O=s(p.tilenoa.value[0].material),oe=s(p.tilenoa.value[0].description),je=t.getTextWidth(pe),be=t.getTextWidth(`${K.value}`),et=x;t.text(pe,et,l);const Je=et+je;t.text(`${K.value}`,Je,l),t.line(Je,l,Je+be,l),d.value=Je+be;const tt=t.getTextWidth(ht),ve=t.getTextWidth(`${q.value}`),Ve=d.value+3;t.text(ht,Ve,l);const Rt=tt+Ve;t.text(`${q.value}`,Rt,l),t.line(Rt,l,Rt+ve,l);const Ht=t.getTextWidth(`${O.value}`);d.value=Rt+Ht,d.value>Y&&(l=l+10);const Ze=x,Qt=t.getTextWidth(Vt),Wa=t.getTextWidth(`${O.value}`);t.text(Vt,Ze,l);const ea=Ze+Qt;t.text(`${O.value}`,ea,l),t.line(ea,l,ea+Wa,l);const ia=t.getTextWidth(`${oe.value}`);d.value=ea+ia,d.value>Y&&(l=l+10),console.log(d.value,Y),l=l+10;const xa=t.getTextWidth(`${oe.value}`),Aa=t.getTextWidth(Le),Lt=x;t.text(Le,Lt,l);const na=Lt+Aa;if(t.text(`${oe.value}`,na,l),t.line(na,l,na+xa,l),d.value=na+xa,console.log(g),l=l+10,g.$state.tilesysEinput.length===0){const te="n/a",he="n/a",Q="n/a",Ee="n/a",Tt=t.getTextWidth(_),at=t.getTextWidth(te),Ot=x;t.text(_,Ot,l);const Ft=Ot+Tt;t.text(te,Ft,l),t.line(Ft,l,Ft+at,l),d.value=Ft+at,console.log(d.value);const lt=t.getTextWidth(Ye),yt=t.getTextWidth(he),Wt=d.value+2;t.text(Ye,Wt,l);const Xt=Wt+lt;t.text(he,Xt,l),t.line(Xt,l,Xt+yt,l),d.value=Xt+yt,console.log(d.value),d.value>Y&&(l=l+10);const ot=d.value+2,Gt=t.getTextWidth(Ce),ft=t.getTextWidth(Q);t.text(Ce,ot,l);const st=ot+Gt;t.text(Q,st,l),t.line(st,l,st+ft,l),d.value=st+ft,console.log(d.value),d.value>Y&&(l=l+10),console.log(d.value);const It=t.getTextWidth(He),jt=t.getTextWidth(Ee),kt=x,ze=kt+jt;console.log(ze),t.text(He,kt,l),ze>Y&&print(ze);const it=kt+It;t.text(Ee,it,l),t.line(it,l,it+jt,l),d.value=it+jt,l=l+10}else{const te=s(g.$state.tilesysEinput[0].systemDataE.noa),he=s(g.$state.tilesysEinput[0].systemDataE.manufacturer),Q=s(g.$state.tilesysEinput[0].systemDataE.material),Ee=s(g.$state.tilesysEinput[0].systemDataE.systemSelected),Tt=s(g.$state.tilesysEinput[0].systemDataE.dP),at=s(g.$state.tilesysEinput[0].systemDataE.Anchor_Base),Ot=s(g.$state.tilesysEinput[0].systemDataE.tileCap),Ft=t.getTextWidth(_),lt=t.getTextWidth(`${te.value}`),yt=x;t.text(_,yt,l);const Wt=Lt+Ft;t.text(`${te.value}`,Wt,l),t.line(Wt,l,Wt+lt,l),d.value=Wt+lt;const Xt=t.getTextWidth(Ye),ot=t.getTextWidth(`${he.value}`),Gt=d.value+2;t.text(Ye,Gt,l);const ft=Gt+Xt;t.text(`${he.value}`,ft,l),t.line(ft,l,ft+ot,l);const st=t.getTextWidth(`${Q.value}`);d.value=ft+st,l=l+10;const It=x,jt=t.getTextWidth(Ce),kt=t.getTextWidth(`${Q.value}`);t.text(Ce,It,l);const ze=It+jt;t.text(`${Q.value}`,ze,l),t.line(ze,l,ze+kt,l),d.value=ze+kt,d.value>Y&&(l=l+10);const it=d.value+5,da=t.getTextWidth(zt),_t=t.getTextWidth(`${Ee.value}`);t.text(zt,it,l);const Nt=it+da;t.text(`${Ee.value}`,Nt,l),t.line(Nt,l,Nt+_t,l),d.value=Nt+_t,d.value>Y&&(l=l+10);const ca=t.getTextWidth(At),Na=t.getTextWidth(`${Tt.value}`),Ma=d.value+3;t.text(At,Ma,l);const $a=Ma+ca;t.text(`${Tt.value}`,$a,l),t.line($a,l,$a+Na,l),d.value=$a+Na,console.log(d.value),l=l+10,t.getTextWidth(J);const Ca=t.getTextWidth(`${at.value}`),Ja=x;t.text(J,Ja,l),l=l+10;const Sa=x;t.text(`${at.value}`,Sa,l),t.line(Sa,l,Sa+Ca,l),d.value=Sa+Ca,l=l+10;const Za=t.getTextWidth(He),wa=t.getTextWidth(`${Ot.value}`),Pa=x;t.text(He,Pa,l);const ba=Pa+Za;t.text(`${Ot.value}`,ba,l),t.line(ba,l,ba+wa,l),d.value=ba+wa,console.log(d.value),l=l+10}const ta="Self Adhered NOA: ",aa="S/A NOA Applicant: ",Kt="S/A System F: ",fa="S/A Material: ",ra="S/A Description: ";if(I.$state.tilefinput.length===0){const te="n/a",he="n/a",Q="n/a",Ee="n/a",Tt="n/a",at=t.getTextWidth(ta),Ot=t.getTextWidth(te),Ft=x;t.text(ta,Ft,l);const lt=Ft+at;t.text(te,lt,l),t.line(lt,l,lt+Ot,l),d.value=lt+Ot,console.log(d.value);const yt=t.getTextWidth(aa),Wt=t.getTextWidth(he),Xt=d.value+3;t.text(aa,Xt,l);const ot=Xt+yt;t.text(he,ot,l),t.line(ot,l,ot+Wt,l),d.value=ot+Wt,console.log(d.value);const Gt=t.getTextWidth(Kt),ft=d.value+3;t.text(Kt,ft,l);const st=ft+Gt;t.text(Q,st,l),t.line(st,l,st+Gt,l),d.value=st+Gt,console.log(d.value),l=l+10;const It=t.getTextWidth(fa),jt=t.getTextWidth(Ee),kt=x;t.text(fa,kt,l);const ze=kt+It;t.text(Ee,ze,l),t.line(ze,l,ze+jt,l),d.value=ze+jt,console.log(d.value);const it=t.getTextWidth(ra),da=t.getTextWidth(Tt),_t=d.value+3;t.text(ra,_t,l);const Nt=_t+it;t.text(Tt,Nt,l),t.line(Nt,l,Nt+da,l),d.value=Nt+da,console.log(d.value)}else{console.log("Entered sbs line 455",I.$state);const te=s(I.$state.tilefinput[0].systemData.noa),he=s(I.$state.tilefinput[0].systemData.manufacturer),Q=s(I.$state.tilefinput[0].systemData.pressure),Ee=s(I.$state.tilefinput[0].systemData.material),Tt=s(I.$state.tilefinput[0].systemData.description),at=t.getTextWidth(ta),Ot=t.getTextWidth(`${te.value}`),Ft=x;t.text(ta,Ft,l);const lt=Ft+at;t.text(`${te.value}`,lt,l),t.line(lt,l,lt+Ot,l),d.value=lt+Ot;const yt=t.getTextWidth(aa),Wt=t.getTextWidth(`${he.value}`),Xt=d.value+3;t.text(aa,Xt,l);const ot=Xt+yt;t.text(`${he.value}`,ot,l),t.line(ot,l,ot+Wt,l),d.value=ot+Wt,console.log(d.value);const Gt=t.getTextWidth(Kt),ft=t.getTextWidth(`${Q.value}`),st=d.value+3;t.text(Kt,st,l);const It=st+Gt;t.text(`${Q.value}`,It,l),t.line(It,l,It+ft,l),d.value=It+ft,l=l+10;const jt=t.getTextWidth(fa),kt=t.getTextWidth(`${Ee.value}`),ze=x;t.text(fa,ze,l);const it=ze+jt;t.text(`${Ee.value}`,it,l),t.line(it,l,it+kt,l),d.value=it+kt,d.value>Y&&(l=l+10);const da=t.getTextWidth(ra),_t=t.getTextWidth(`${Tt.value}`),Nt=d.value+3;t.text(ra,Nt,l);const ca=Nt+da;t.text(`${Tt.value}`,ca,l),t.line(ca,l,ca+_t,l),d.value=ca+_t,d.value>=Y&&(l=l+10),console.log(d.value),l=l+10}l=l+10,t.setFont("times","normal"),console.log(p.tilenoa.value[0]);const Xa=[["Zone 1:",`${$e.value}`,"x λ",`${H.value}`,"- Mg:",`${le.value}`,"= Mr1:",`${Z.value}`,"NOA Mf:",`${F.value}`],["Zone 2:",`${T.value}`,"x λ",`${Se.value}`,"- Mg:",`${mt.value}`,"= Mr2:",`${_e.value}`,"NOA Mf:",`${G.value}`],["Zone 3:",`${z.value}`,"x λ",`${A.value}`,"- Mg:",`${X.value}`,"= Mr2:",`${r.value}`,"NOA Mf:",`${f.value}`]];console.log(Xa);let Ha=x-5,ka=l;Xa.forEach(te=>{let he=Ha;te.forEach(Q=>{t.text(String(Q),he,ka),he+=18}),ka+=5});const Ga="TileAdhesive.pdf",ja=t.output("blob");(async(te,he)=>{const Q=te,Ee=Q;console.log(Ee);const Tt=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${dt}/${Ee}`;try{const at=await fetch(Tt,{method:"PUT",headers:{"Content-Type":Q.type},body:he});at.ok?(ct.value=Tt,alert("File uploaded successfully!")):alert(`Failed to upload file. Status: ${at.status}`)}catch(at){console.error("Error uploading file:",at),alert("An error occurred while uploading the file.")}})(Ga,ja)}};return(x,l)=>(Jt(),Zt("div",null,kl))}},Ml={__name:"TileMechanical",setup(se){const{getUser:I}=oa();let g=s(!1);const P=sa(),k=la(),M=s(k.$state.roofList),{mechStore:b}=hl(),p=Ia(),V=Ua(),Ae=Oa(),ie=pa(()=>{if(M.value.length===0)return"";M.value[0].item==="Mechanical Fastened Tile"&&(g.value=!0,ne())});va(async()=>{await ha(ie).toBe(!0),console.log(ie)});const ne=()=>{if(b.tilemech.value.length===0)console.log("lenghth is   zero");else{let t=s(!1),U=s(!1);V.$state.tilesysEinput.length!==0&&(t=!0,console.log(t)),p.$state.tilefinput.length!==0&&(U=!0,console.log(U)),console.log(b.tilemech.value[0]);const i=s(b.tilemech.value[0].height),Y=s(b.tilemech.value[0].slope),ae=s(b.tilemech.value[0].deckType),De=s(k.$state.roofList[0].dim3),nt=s(P.$state.permitapp[0].formdt.address),d=s(P.$state.permitapp[0].formdt.muni),de=s(P.$state.permitapp[0].formdt.processNumber),n=s(Ae.$state.dripinput[0].dripData),L=s(Ae.$state.dripinput[3].dripData),m=de.value.length!==0?de.value:"files",o=s(""),Ct=s(I.value[0].dba),a=new Mt;a.setGState(new a.GState({opacity:.8}));const Ke="Approved";a.setFontSize(24),a.setTextColor(150,150,150),a.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const W=new Image,dt=new Image;W.src="/demo/images/officepaper.jpeg",dt.src="/demo/images/logo.jpeg",a.addImage(dt,"JPEG",10,10,50,30),a.addImage(W,"JPEG",0,0,210,297),a.setFontSize(20),a.setTextColor(190,190,190);var x=new Date,l=x.toLocaleDateString();a.text(Ke,10,270,{align:"left"});const ct=a.getTextWidth(Ke);a.text("on: "+l,ct+15,270),a.text(`${de.value}`,10,280,{align:"left"});const qt=a.getTextWidth(`${de.value}`);a.text(`${d.value}`,qt+15,280),a.setFontSize(12);const Ut=()=>{a.setFontSize(12),a.setTextColor(0),a.text("The tile roof system and its components shall be installed in strict compliance with the FBC 2023 HVHZ portions of Chapter 15, the HVHZ Tile Application Standards: RAS-119, RAS-120 & RAS-127 and the submitted MDC Notice of Acceptance(s).",10,20,{maxWidth:"200"}),a.line(10,41,195,41)};a.setTextColor(0),a.circle(185,38,2,"FD"),a.text("I agree",165,39),Ut(),a.setFontSize(12),a.setFontSize(14);const rt=[{category:"DBA",value:`${Ct.value}`},{category:"Municipality",value:`${d.value}`},{category:"Job Address",value:`${nt.value}`},{category:"meProcess Number",value:`${de.value}`}];let $t=10,ce=60,y=50;a.setFontSize(12),rt.forEach((T,f)=>{const A=y+f*10;a.text(T.category,$t,A),a.text(T.value,ce,A),a.getTextWidth(T.category);const X=a.getTextWidth(T.value)*2;a.line(ce,A+2,ce+X,A+2)}),a.setFontSize(12);const D=2,h=100;a.text("Roof Area:",10,h),a.text(`${De.value}`,35,h),a.line(35,h+D,45,h+D),a.text("Mean Roof Height:",50,h);const xe=a.getTextWidth("Mean Roof Height:");a.text(`${i.value}`,h,h),a.line(90,h+D,70+xe,h+D),a.text("Roof Slope:",80+xe,h);const ge=105+xe;a.text(`${Y.value}`,ge,h);const me=a.getTextWidth(`${Y.value}`)*2;a.line(ge,h+D,ge+me,h+D);const St=108;a.text("Decktype:",10,St);const $=30+me;a.text(`${ae.value}`,$,St);const ut=a.getTextWidth(`${ae.value}`)*2;a.line($,St,$+ut,St);const pt="Tile NOA Number: ",Re="Tile Applicant: ",Oe="Tile Material: ",Fe="Tile Description: ",Xe="Fastened (UDL) NOA: ",Te="(UDL) NOA Applicant: ",ke="Fastened (UDL) Material: ",E="Select System E: ",wt="Design psf: ",Ie="Anchor Base Sheet: ",We="(UDL) Description: ",c="Prescriptive: ",bt="DripEdge Matetiral: ",Qe="DripEdge Size: ",j=179,Ne=725,fe=a.getPageInfo(1);console.log(fe),fe.pageContext.mediaBox.topRightX;const Pt=fe.pageContext.mediaBox.topRightY,u=s(0),Me=s(0);var v=595.28-585.28,e=Pt-Ne;u.value=v,Me.value=e,console.log(u.value,Me.value);const Et=s(b.tilemech.value[0].noa),Ue=s(b.tilemech.value[0].manufacturer),ue=s(b.tilemech.value[0].material),vt=s(b.tilemech.value[0].description);a.getTextWidth(c);const ht=v;a.text(c,ht,e),e=e+10,e=e+10;const pe=a.getTextWidth(bt),Vt=a.getTextWidth(`${n.value}`),Le=v;a.text(bt,Le,e);const _=pe+Le;a.text(`${n.value}`,_,e),a.line(_,e,_+Vt,e),e=e+10;const Ye=a.getTextWidth(Qe),Ce=a.getTextWidth(`${L.value}`),zt=v;a.text(Qe,zt,e);const At=Ye+zt;a.text(`${L.value}`,At,e),a.line(At,e,At+Ce,e),e=e+10;const J=a.getTextWidth(`${Ue.value}`),He=a.getTextWidth(Re),we=v;a.text(Re,we,e);const ee=we+He;a.text(`${Ue.value}`,ee,e),a.line(ee,e,ee+J,e),u.value=ee+J;const ye=a.getTextWidth(pt),re=a.getTextWidth(`${Et.value}`),Pe=u.value+ye;a.text(pt,u.value+2,e),a.text(`${Et.value}`,Pe+2,e),a.line(Pe,e,Pe+re,e),u.value=Pe+re;const xt=e,Yt=a.getTextWidth(Oe),Bt=a.getTextWidth(`${ue.value}`),Ge=u.value+5;a.text(Oe,Ge,xt);const Dt=Ge+Yt;a.text(`${ue.value}`,Dt,xt),a.line(Dt,xt,Dt+Bt,xt),u.value=Dt+Bt,e=e+10;const gt=a.getTextWidth(`${vt.value}`),C=a.getTextWidth(Fe),R=v;a.text(Fe,R,e);const F=R+C;if(a.text(`${vt.value}`,F,e),a.line(F,e,F+gt,e),u.value=F+gt,e=e+10,V.$state.tilesysEinput.length===0){const T="n/a",f="n/a",A="n/a",X="n/a",r=a.getTextWidth(Xe),z=a.getTextWidth(T),B=v;a.text(Xe,B,e);const w=B+r;a.text(T,w,e),a.line(w,e,w+z,e),u.value=w+z,console.log(u.value);const S=a.getTextWidth(Te),N=a.getTextWidth(f),q=u.value+2;a.text(Te,q,e);const K=q+S;a.text(f,K,e),a.line(K,e,K+N,e),u.value=K+N,console.log(u.value),u.value>j&&(e=e+10);const O=u.value+2,oe=a.getTextWidth(ke),je=a.getTextWidth(A);a.text(ke,O,e);const be=O+oe;a.text(A,be,e),a.line(be,e,be+je,e),u.value=be+je,console.log(u.value),u.value>j&&(e=e+10),console.log(u.value);const et=a.getTextWidth(We),Je=a.getTextWidth(X),tt=v,ve=tt+Je;console.log(ve),a.text(We,tt,e),ve>j&&print(ve);const Ve=tt+et;a.text(X,Ve,e),a.line(Ve,e,Ve+Je,e),u.value=Ve+Je,e=e+10}else{const T=s(V.$state.tilesysEinput[0].systemDataE.noa),f=s(V.$state.tilesysEinput[0].systemDataE.manufacturer),A=s(V.$state.tilesysEinput[0].systemDataE.material),X=s(V.$state.tilesysEinput[0].systemDataE.systemSelected),r=s(V.$state.tilesysEinput[0].systemDataE.dP),z=s(V.$state.tilesysEinput[0].systemDataE.Anchor_Base),B=s(V.$state.tilesysEinput[0].systemDataE.tileCap),w=a.getTextWidth(Xe),S=a.getTextWidth(`${T.value}`),N=v;a.text(Xe,N,e);const q=R+w;a.text(`${T.value}`,q,e),a.line(q,e,q+S,e),u.value=q+S;const K=a.getTextWidth(Te),O=a.getTextWidth(`${f.value}`),oe=u.value+2;a.text(Te,oe,e);const je=oe+K;a.text(`${f.value}`,je,e),a.line(je,e,je+O,e);const be=a.getTextWidth(`${A.value}`);u.value=je+be,e=e+10;const et=v,Je=a.getTextWidth(ke),tt=a.getTextWidth(`${A.value}`);a.text(ke,et,e);const ve=et+Je;a.text(`${A.value}`,ve,e),a.line(ve,e,ve+tt,e),u.value=ve+tt,u.value>j&&(e=e+10);const Ve=u.value+5,Rt=a.getTextWidth(E),Ht=a.getTextWidth(`${X.value}`);a.text(E,Ve,e);const Ze=Ve+Rt;a.text(`${X.value}`,Ze,e),a.line(Ze,e,Ze+Ht,e),u.value=Ze+Ht,u.value>j&&(e=e+10);const Qt=a.getTextWidth(wt),Wa=a.getTextWidth(`${r.value}`),ea=u.value+3;a.text(wt,ea,e);const ia=ea+Qt;a.text(`${r.value}`,ia,e),a.line(ia,e,ia+Wa,e),u.value=ia+Wa,console.log(u.value),e=e+10,a.getTextWidth(Ie);const xa=a.getTextWidth(`${z.value}`),Aa=v;a.text(Ie,Aa,e),e=e+10;const Lt=v;a.text(`${z.value}`,Lt,e),a.line(Lt,e,Lt+xa,e),u.value=Lt+xa,e=e+10;const na=a.getTextWidth(We),ta=a.getTextWidth(`${B.value}`),aa=v;a.text(We,aa,e);const Kt=aa+na;a.text(`${B.value}`,Kt,e),a.line(Kt,e,Kt+ta,e),u.value=Kt+ta,console.log(u.value),e=e+10}const H="Self Adhered NOA: ",le="S/A NOA Applicant: ",Z="S/A System F: ",$e="S/A Material: ",G="S/A Description: ";if(p.$state.tilefinput.length===0){const T="n/a",f="n/a",A="n/a",X="n/a",r="n/a",z=a.getTextWidth(H),B=a.getTextWidth(T),w=v;a.text(H,w,e);const S=w+z;a.text(T,S,e),a.line(S,e,S+B,e),u.value=S+B,console.log(u.value);const N=a.getTextWidth(le),q=a.getTextWidth(f),K=u.value+3;a.text(le,K,e);const O=K+N;a.text(f,O,e),a.line(O,e,O+q,e),u.value=O+q,console.log(u.value);const oe=a.getTextWidth(Z),je=u.value+3;a.text(Z,je,e);const be=je+oe;a.text(A,be,e),a.line(be,e,be+oe,e),u.value=be+oe,console.log(u.value),e=e+10;const et=a.getTextWidth($e),Je=a.getTextWidth(X),tt=v;a.text($e,tt,e);const ve=tt+et;a.text(X,ve,e),a.line(ve,e,ve+Je,e),u.value=ve+Je,console.log(u.value);const Ve=a.getTextWidth(G),Rt=a.getTextWidth(r),Ht=u.value+3;a.text(G,Ht,e);const Ze=Ht+Ve;a.text(r,Ze,e),a.line(Ze,e,Ze+Rt,e),u.value=Ze+Rt,console.log(u.value)}else{console.log("Entered sbs line 455",p.$state);const T=s(p.$state.tilefinput[0].systemData.noa),f=s(p.$state.tilefinput[0].systemData.manufacturer),A=s(p.$state.tilefinput[0].systemData.pressure),X=s(p.$state.tilefinput[0].systemData.material),r=s(p.$state.tilefinput[0].systemData.description),z=a.getTextWidth(H),B=a.getTextWidth(`${T.value}`),w=v;a.text(H,w,e);const S=w+z;a.text(`${T.value}`,S,e),a.line(S,e,S+B,e),u.value=S+B;const N=a.getTextWidth(le),q=a.getTextWidth(`${f.value}`),K=u.value+3;a.text(le,K,e);const O=K+N;a.text(`${f.value}`,O,e),a.line(O,e,O+q,e),u.value=O+q,console.log(u.value);const oe=a.getTextWidth(Z),je=a.getTextWidth(`${A.value}`),be=u.value+3;a.text(Z,be,e);const et=be+oe;a.text(`${A.value}`,et,e),a.line(et,e,et+je,e),u.value=et+je,e=e+10;const Je=a.getTextWidth($e),tt=a.getTextWidth(`${X.value}`),ve=v;a.text($e,ve,e);const Ve=ve+Je;a.text(`${X.value}`,Ve,e),a.line(Ve,e,Ve+tt,e),u.value=Ve+tt,u.value>j&&(e=e+10);const Rt=a.getTextWidth(G),Ht=a.getTextWidth(`${r.value}`),Ze=u.value+3;a.text(G,Ze,e);const Qt=Ze+Rt;a.text(`${r.value}`,Qt,e),a.line(Qt,e,Qt+Ht,e),u.value=Qt+Ht,u.value>=j&&(e=e+10),console.log(u.value)}const Se="MechanicalTile.pdf",mt=a.output("blob");(async(T,f)=>{const A=T,X=A;console.log(X);const r=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${m}/${X}`;try{const z=await fetch(r,{method:"PUT",headers:{"Content-Type":A.type},body:f});z.ok?(o.value=r,alert("File uploaded successfully!")):alert(`Failed to upload file. Status: ${z.status}`)}catch(z){console.error("Error uploading file:",z),alert("An error occurred while uploading the file.")}})(Se,mt)}};return(x,l)=>(Jt(),Zt("div"))}},Cl=se=>(ll("data-v-bab6318d"),se=se(),ol(),se),wl={class:"card"},Pl=Cl(()=>qe("p",null,"The roof systems you selected",-1)),El={class:"rounded border border-surface-200 dark:border-surface-700 p-6 bg-surface-0 dark:bg-surface-900"},zl={class:"flex mb-4"},Bl={class:"flex justify-between mt-4"},Rl={__name:"Checkout",setup(se){const{accountUsers:I}=oa(),g=s(!1);let P=s(!1),k=s(!1),M=s(!1),b=s(!1),p=s(!1);const V=s("");s(""),s(""),s("");const Ae=sa(),ie=la(),ne=s(ie.$state.roofList),x=Ba(),l=s(x.$state.generalpdfinput),v=s(Ae.$state.permitapp[0].formdt.processNumber),{getNumbers:e}=dl();function t(){I.value.forEach((ae,De)=>{V.value=ae.dba}),console.log(v.value)}function U(){g.value=!0,e(v.value),setTimeout(()=>{g.value=!1},3e3),console.log("called times")}const i=pa(()=>{if(ne.value.length===0)return"";ne.value[0].item==="Asphalt Shingle"?b.value=!0:ne.value[0].item==="Low Slope"?p.value=!0:ne.value[0].item==="Adhesive Set Tile"?k.value=!0:ne.value[0].item==="Mechanical Fastened Tile"?M.value=!0:l.value.length!==1&&(P.value=!0)});Fa(()=>{t(),U()}),_a(t,i,()=>{});const Y=s([{status:"RoofSystems",date:"15/10/2020 10:30",icon:"pi pi-cog",color:"#9C27B0",image:"/src/assets/img/roofing_tile.jpg"},{status:"Processing",date:"15/10/2020 14:00",icon:"pi pi-cog",color:"#673AB7"}]);return va(async()=>{await ha(i).toBe(!0)}),(ae,De)=>{const nt=nl,d=il,de=sl,n=Ya;return Jt(),Zt(za,null,[qe("div",wl,[Be(de,{value:Y.value,align:"alternate",class:"customized-timeline"},{marker:ua(L=>[qe("span",{class:"flex w-8 h-8 items-center justify-center text-white rounded-full z-10 shadow-sm",style:el({backgroundColor:L.item.color})},[qe("i",{class:tl(L.item.icon)},null,2)],4)]),content:ua(L=>[Be(d,{class:"mt-4"},{title:ua(()=>[Da(Va(L.item.status),1)]),subtitle:ua(()=>[Da(Va(L.item.date),1)]),content:ua(()=>[Pl,Be(nt,{label:"Read more",text:""})]),_:2},1024)]),_:1},8,["value"])]),ga(Be(Ta(al),{color:"#784EA7",size:"100px",style:{"margin-top":"500px","margin-left":"850px"}},null,512),[[ma,g.value]]),qe("div",El,[qe("div",zl,[Be(Vl),qe("div",null,[Be(n,{width:"10rem",class:"mb-2"}),Be(n,{width:"5rem",class:"mb-2"}),Be(n,{height:"2rem",width:"30rem",modelValue:V.value,"onUpdate:modelValue":De[0]||(De[0]=L=>V.value=L)},{default:ua(()=>[Da(Va(ae.db),1)]),_:1},8,["modelValue"])])]),Be(n,{width:"100%",height:"150px"}),qe("div",Bl,[Be(n,{width:"4rem",height:"2rem"}),Be(n,{width:"4rem",height:"2rem"})]),ga(qe("div",null,[Be(Fl)],512),[[ma,Ta(b)]]),ga(qe("div",null,[Be(Nl)],512),[[ma,Ta(k)]]),ga(qe("div",null,[Be(Ml)],512),[[ma,Ta(M)]]),ga(qe("div",null,[Be(Dl)],512),[[ma,Ta(p)]]),qe("div",null,[Be(Al)])])],64)}}},so=Ra(Rl,[["__scopeId","data-v-bab6318d"]]);export{so as default};
