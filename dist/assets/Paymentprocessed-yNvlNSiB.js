import{r as a,o as _,s as O,a8 as Y,ao as j,b as g,c as b,f as A,ap as F,d as N,j as G,e as s,am as x,t as c,y as R,z as X,V as q}from"./index-CAQJexAo.js";import{u as H,a as J}from"./use-downloadpdf-DpfOSBQI.js";import{u as D}from"./accountsStore-_oSZDxBr.js";import{u as K}from"./permitapp-DJQmQbnd.js";import{T as L}from"./Terminal-DlB4w_w3.js";import"./useAxios-COfx_Ge8.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const Q={class:"card"},W={class:"flex flex-col w-1/3 gap-2 shadow-lg shadow-cyan-800",style:{"margin-left":"550px","margin-top":"440px"}},Z={class:"payment-widget"},ee=s("h2",{style:{color:"black"}},"Credit Card Payment",-1),ae={key:0,class:"confirmation"},oe=49.99,ie={__name:"Paymentprocessed",setup(te){var i,m,p,f;const T=K(),{accountUsers:S}=D(),k=a("TX123456789"),u=a(((m=(i=T.$state.permitapp[0])==null?void 0:i.formdt)==null?void 0:m.processNumber)||"");function V(){S.value.forEach((e,t)=>{dba.value=e.dba,console.log(e)})}_(()=>{V()});const B=a(!1),r=a(!1),E=a(!1);a(!1);const P=a(!1),d=a(!1),o=a({cardholderName:"",cardNumber:"",expiryDate:"",cvv:""});a(!1),a(!1);const{getNumber:U}=H(u.value),l=J();O(l.$state),console.log((f=(p=l.$state.downloadinput[0])==null?void 0:p.downloadData)==null?void 0:f.download_url),D(),_(()=>{});const $=Y(()=>{var e,t;U(),setTimeout(()=>{P.value=!0},1e3),console.log(u.value),console.log((t=(e=l.downloadinput[0])==null?void 0:e.downloadData)==null?void 0:t.message)}),z=()=>{if(!o.value.cardholderName||!o.value.cardNumber||!o.value.expiryDate||!o.value.cvv){alert("Please fill out all fields.");return}d.value=!0,r.value=!0,setTimeout(()=>{o.value.cardholderName="",o.value.cardNumber="",o.value.expiryDate="",o.value.cvv="",d.value=!1,r.value=!1},2e3),C()};j($,()=>{});const C=async()=>{var v,w,h,y;const e=(w=(v=l.downloadinput[0])==null?void 0:v.downloadData)==null?void 0:w.download_url;if(console.log(e),!e||e.length===0)return;console.log(e);const t=(y=(h=l.downloadinput[0])==null?void 0:h.downloadData)==null?void 0:y.download_url;if(!t)return;B.value=!0;const I=t,M="processnumber.zip",n=document.createElement("a");n.href=I,n.download=M,n.click(),n.remove(),E.value=!1};return(e,t)=>(g(),b("div",Q,[A(N(G(q),{color:"#784EA7",size:"100px",style:{"margin-top":"500px","margin-left":"850px"}},null,512),[[F,r.value]]),s("div",W,[N(L),s("div",Z,[ee,x(" Thank you for your payment! Your transaction ID is "),s("strong",null,c(k.value),1),x(". "),s("form",{onSubmit:R(z,["prevent"])},null,32),d.value?(g(),b("div",ae,[s("p",null,"Thank you, "+c(o.value.cardholderName)+"! Your payment of $"+c(oe)+" was processed.",1)])):X("",!0)])])]))}};export{ie as default};
