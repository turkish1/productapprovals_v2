import{n as h,d as w,e as p,f as m,g as A}from"./index-tFDR-CSh.js";import{r as d,w as E}from"./index-Cc5bWOw0.js";function g(i){var e;const t=p(i);return(e=t==null?void 0:t.$el)!=null?e:t}const D=m?window:void 0,L=m?window.document:void 0;function S(...i){let e,t,r,u;if(typeof i[0]=="string"||Array.isArray(i[0])?([t,r,u]=i,e=D):[e,t,r,u]=i,!e)return h;Array.isArray(t)||(t=[t]),Array.isArray(r)||(r=[r]);const c=[],l=()=>{c.forEach(n=>n()),c.length=0},v=(n,s,o,a)=>(n.addEventListener(s,o,a),()=>n.removeEventListener(s,o,a)),y=E(()=>[g(e),p(u)],([n,s])=>{if(l(),!n)return;const o=w(s)?{...s}:s;c.push(...t.flatMap(a=>r.map(b=>v(n,a,b,o))))},{immediate:!0,flush:"post"}),f=()=>{y(),l()};return A(f),f}function V(i={}){const{document:e=L}=i;if(!e)return d("visible");const t=d(e.visibilityState);return S(e,"visibilitychange",()=>{t.value=e.visibilityState}),t}export{V as u};
