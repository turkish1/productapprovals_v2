import{aO as A,y as C,aP as G,aQ as M,$ as O,w as T,R as v,a4 as I}from"./index-CC9RM5J4.js";function W(e){let r=!1,t;const u=A(!0);return(...s)=>(r||(t=u.run(()=>e(...s)),r=!0),t)}function d(e){return typeof e=="function"?e():v(e)}typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const z=()=>{};function B(e,r=!1,t="Timeout"){return new Promise((u,s)=>{setTimeout(r?()=>s(t):u,e)})}function F(e){return e()}function R(e){return M()}function L(e,r=!0,t){R()?C(e,t):r?e():G(e)}function g(e,r=!1){function t(n,{flush:o="sync",deep:a=!1,timeout:c,throwOnTimeout:h}={}){let l=null;const w=[new Promise(p=>{l=T(e,m=>{n(m)!==r&&(l==null||l(),p(m))},{flush:o,deep:a,immediate:!0})})];return c!=null&&w.push(B(c,h).then(()=>d(e)).finally(()=>l==null?void 0:l())),Promise.race(w)}function u(n,o){if(!I(n))return t(m=>m===n,o);const{flush:a="sync",deep:c=!1,timeout:h,throwOnTimeout:l}=o??{};let f=null;const p=[new Promise(m=>{f=T([e,n],([N,x])=>{r!==(N===x)&&(f==null||f(),m(N))},{flush:a,deep:c,immediate:!0})})];return h!=null&&p.push(B(h,l).then(()=>d(e)).finally(()=>(f==null||f(),d(e)))),Promise.race(p)}function s(n){return t(o=>!!o,n)}function i(n){return u(null,n)}function P(n){return u(void 0,n)}function k(n){return t(Number.isNaN,n)}function S(n,o){return t(a=>{const c=Array.from(a);return c.includes(n)||c.includes(d(n))},o)}function b(n){return y(1,n)}function y(n=1,o){let a=-1;return t(()=>(a+=1,a>=n),o)}return Array.isArray(d(e))?{toMatch:t,toContains:S,changed:b,changedTimes:y,get not(){return g(e,!r)}}:{toMatch:t,toBe:u,toBeTruthy:s,toBeNull:i,toBeNaN:k,toBeUndefined:P,changed:b,changedTimes:y,get not(){return g(e,!r)}}}function Q(e){return g(e)}function V(e,r={}){const{method:t="parseFloat",radix:u,nanToZero:s}=r;return O(()=>{let i=d(e);return typeof i=="string"&&(i=Number[t](i,u)),s&&Number.isNaN(i)&&(i=0),i})}function Z(e,r,t){return T(e,r,{...t,immediate:!0})}export{V as a,W as c,F as i,z as n,L as t,Q as u,Z as w};
