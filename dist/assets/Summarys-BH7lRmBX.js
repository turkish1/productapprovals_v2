import{s as po}from"./index-CuQdvPEr.js";import{s as uo}from"./index-D1bahNOj.js";import{s as vo}from"./index-DYYjDgrc.js";import{e as l,_ as Dl,ae as Al,ag as Ml,o as Xl,c as Nl,C as ho,au as xo,D as go,f as lo,y as mo,h as To,ad as Wo,i as Ga,j as cl,p as Rl,H as Gl,af as Jl,k as jl,F as fo,V as $o,n as So,q as eo,t as to}from"./index-DSTqCLlX.js";import{u as Fl}from"./accountsStore-DC5JpqCv.js";import{c as Vo}from"./countStore-xTVDzXLS.js";import{u as oo}from"./generalpageStore-CBdkZ20w.js";import{u as El}from"./permitapp-BkQtAMqr.js";import{u as Wl}from"./roofList-Bc1EPTuG.js";import{E as Bl}from"./jspdf.es.min-BpqMlrIE.js";import{a as ao,u as ro}from"./dripEdgeStore-BHvG62Ve.js";import{b as bo,a as Do,c as Ao,u as Mo}from"./systemfStore-C0XVKdDg.js";import{a as Xo,b as No,u as Fo}from"./tilevalueStore-DZFTRzGU.js";import{u as so,a as io}from"./tilesysfStore-BVgXN8TB.js";import{u as Eo,a as wo}from"./dripEdgeMechTileStore-DDSHkndx.js";import{u as zo}from"./useAxios-DnBqunHC.js";import"./index-CAbWHwFS.js";import"./reset-store-DzahIv7O.js";const Po={__name:"Generalpagepdf",setup(ct){var z,g,e,je,Ze,fe,$e,Se,P,j,de,C,c;const{getUser:$}=Fl();let r=l(!1);const R=El();Wl();const S=oo(),m=l(((g=(z=R.$state.permitapp[0])==null?void 0:z.formdt)==null?void 0:g.address)||""),x=l(((je=(e=R.$state.permitapp[0])==null?void 0:e.formdt)==null?void 0:je.permit)||"N|A"),G=l(((fe=(Ze=R.$state.permitapp[0])==null?void 0:Ze.formdt)==null?void 0:fe.processNumber)||""),X=l(((Se=($e=R.$state.permitapp[0])==null?void 0:$e.formdt)==null?void 0:Se.muniProc)||""),ae=l(((j=(P=R.$state.permitapp[0])==null?void 0:P.formdt)==null?void 0:j.muni)||"");l((C=(de=S.$state.generalpdfinput[1])==null?void 0:de.generalpdfData)==null?void 0:C.totalData);const D=l(((c=$.value[0])==null?void 0:c.dba)||""),J=l(""),o=l(S.$state.generalpdfinput);function W(){o.value.length!==1&&(r.value=!0)}Dl(()=>{W()}),Al(async()=>{await Ml(r).toBe(!0),We()});const We=()=>{var pt,ut,vt,ht,xt,gt,mt,Tt;if(S.$state.generalpdfinput.length===0)console.log("lenghth is   zero");else{const u=new Bl({orientation:"portrait",unit:"mm",format:"a4",compress:!0});u.setGState(new u.GState({opacity:.9}));const Wt="Approved";u.setFontSize(24),u.setTextColor("black"),u.setFont("helvetica"),u.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const ft=new Image,$t=new Image,St=new Image;ft.src="/demo/images/officepaper.jpeg",$t.src="/demo/images/logo.jpeg",St.src="/demo/images/DragAndDrop.jpeg";const Gt=725,Vt=u.getPageInfo(1),Jt=Vt.pageContext.mediaBox.topRightX,jt=Vt.pageContext.mediaBox.topRightY;console.log(Jt);const f=l(0),rt=l(0);var O=595.28-585.28,T=jt-Gt;f.value=O,rt.value=T,console.log(f.value,rt.value),u.addImage($t,"JPEG",10,10,50,30),u.addImage(ft,"JPEG",0,0,210,297),u.setFontSize(12),u.setTextColor("green");var Ht=new Date,Yt=Ht.toLocaleDateString();u.text(Wt,10,270,{align:"left"});const Zt=u.getTextWidth(Wt);u.text("on: "+Yt,Zt+15,270),u.text(`${X.value}`,10,280,{align:"left"});const i=u.getTextWidth(`${X.value}`);u.text(`${ae.value}`,i+15,280);const bt=l(!1),s=l(!1),Pe=l(!1),na=l(!1),Dt=l(!1);u.setFontSize(12);const Wa=()=>{u.setFontSize(12),u.setTextColor(0),u.text("2023 HVHZ  mEPermit General Information Page",70,20,{maxWidth:"170"}),u.line(10,30,195,30)};u.setTextColor(0),Wa(),u.setFontSize(12);const n=l((ut=(pt=S.$state.generalpdfinput[1])==null?void 0:pt.generalpdfData)==null?void 0:ut.totalData),da=[{category:"DBA",value:`${D.value}`},{category:"Roof Area",value:`${n.value}`},{category:"Job Address",value:`${m.value}`},{category:"meProcess Number",value:`${G.value}`},{category:"Master Permit",value:`${x.value}`}];let fa=10,At=60,$a=50;u.setFontSize(12),da.forEach((Be,Ft)=>{const De=$a+Ft*10;u.text(Be.category,fa,De),u.text(Be.value,At,De),u.getTextWidth(Be.category);const Le=u.getTextWidth(Be.value)*2;u.line(At,De+2,At+Le,De+2)}),u.setTextColor("black"),u.setFontSize(12);const qe=100,Ce=l(!1),qt=l(!1);f.value=O+40,S.$state.generalpdfinput[1].generalpdfData.roofCheck[0]==="reroof"?(Ce.value=!0,console.log(Ce.value)):qt.value=!0,f.value=O+50,T=qe,console.log(T),u.text("Re-Roof: ",f.value,T);const L=T-3,Ve=Ce.value===!0?u.rect(f.value+20,L,4,4,"FD"):u.rect(f.value+20,L,4,4);f.value=O+120,T=qe,console.log(T),u.text("New Roof: ",f.value,T);const Ke=qt.value===!0?u.rect(f.value+25,L,4,4,"FD"):u.rect(f.value+25,L,4,4);console.log(Ve,Ke),T=T+10;const Mt="Total: ",Xt="Low Slope: ",Nt="Steep Slope: ",Kt=l(((ht=(vt=S.$state.generalpdfinput[1])==null?void 0:vt.generalpdfData)==null?void 0:ht.totalData)||""),Qt=l(((gt=(xt=S.$state.generalpdfinput[1])==null?void 0:xt.generalpdfData)==null?void 0:gt.slopeData)||""),Lt=l(((Tt=(mt=S.$state.generalpdfinput[1])==null?void 0:mt.generalpdfData)==null?void 0:Tt.steepData)||"");console.log(S.$state.generalpdfinput[1].generalpdfData),f.value=O+25,T=qe+10;const ca=u.getTextWidth(Xt),ke=u.getTextWidth(`${Qt.value}`),a=f.value+5;u.text(Xt,a,T);const p=ca+a;u.text(`${Qt.value}`,p,T),u.line(p,T,p+ke,T),f.value=p+ke;const B=u.getTextWidth(Nt),ce=u.getTextWidth(`${Lt.value}`),yt=f.value+5;u.text(Nt,yt,T);const re=B+yt;u.text(`${Lt.value}`,re,T),u.line(re,T,re+ce,T),console.log(T,T),T=qe+10,f.value=re+ce,console.log(f.value);const h=u.getTextWidth(Mt),t=u.getTextWidth(`${Kt.value}`),_t=f.value+5;u.text(Mt,_t,T);const Re=h+_t;u.text(`${Kt.value}`,Re,T),u.line(Re,T,Re+t,T),f.value=Re+t,console.log(S.$state.generalpdfinput[1]),S.$state.generalpdfinput[1].generalpdfData.slopeChk===!0&&(Dt.value=!0,console.log("Slope Checked")),S.$state.generalpdfinput[1].generalpdfData.adtileChk===!0&&(bt.value=!0),S.$state.generalpdfinput[1].generalpdfData.metalChk===!0&&(s.value=!0),S.$state.generalpdfinput[1].generalpdfData.mtileChk===!0&&(Pe.value=!0),S.$state.generalpdfinput[1].generalpdfData.shingleChk===!0&&(na.value=!0,console.log("Shingle Checked")),f.value=O-4,T=T+10,u.text("Low Slope: ",O,T);const A=T-3,wa=Dt.value===!0?u.rect(f.value+27,A,4,4,"FD"):u.rect(f.value+27,A,4,4);console.log(Ve,Ke,wa),f.value=f.value+4;const ea=f.value+32;console.log(f.value);const Qe=ea;console.log(f.value),u.text("Adhesive Set Tile: ",Qe,T);const d=bt.value===!0?u.rect(Qe+36,A,4,4,"FD"):u.rect(Qe+36,A,4,4);console.log(Ve,Ke,d),console.log(f.value);const pa=Qe+43;console.log(f.value),u.text("Metal Panel: ",pa,T),s.value===!0?u.rect(pa+25,A,4,4,"FD"):u.rect(pa+25,A,4,4);const be=pa+35;console.log(f.value),u.text("Shingle: ",be,T);const ua=na.value===!0?u.rect(be+17,A,4,4,"FD"):u.rect(be+17,A,4,4);f.value=be;const le=be+28;console.log(f.value),u.text("Mechanical Fastened Tile: ",le,T);const Sa=Pe.value===!0?u.rect(le+51,A,4,4,"FD"):u.rect(le+51,A,4,4);console.log(Sa,ua),T=T+10,u.addImage(St,"JPEG",O+40,T,100,100);const va="GeneralPage.pdf",ha=u.output("blob");(async(Be,Ft)=>{const De=Be,Le=De;console.log(Le);const Et=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${X.value}/${Le}`;try{const Ae=await fetch(Et,{method:"PUT",headers:{"Content-Type":De.type},body:Ft});Ae.ok?(J.value=Et,alert("GeneralPage File uploaded successfully!")):alert(`Failed to upload file. Status: ${Ae.status}`)}catch(Ae){console.error("Error uploading file:",Ae),alert("An error occurred while uploading the file.")}})(va,ha)}};return(O,T)=>(Xl(),Nl("div"))}},Co={__name:"LowSlopepdf",setup(ct){var z,g,e,je,Ze,fe,$e,Se,P;const{getUser:$}=Fl(),r=El(),R=ao(),S=l(((g=(z=r.$state.permitapp[0])==null?void 0:z.formdt)==null?void 0:g.address)||""),m=l(((je=(e=r.$state.permitapp[0])==null?void 0:e.formdt)==null?void 0:je.muni)||""),x=l(((fe=(Ze=r.$state.permitapp[0])==null?void 0:Ze.formdt)==null?void 0:fe.processNumber)||""),G=ro();ho(G);const X=l(((Se=($e=r.$state.permitapp[0])==null?void 0:$e.formdt)==null?void 0:Se.muniProc)||""),ae=l(((P=$.value[0])==null?void 0:P.dba)||""),D=l(R.$state.burpdfinput);let J=l(!1);const o=l("");function W(){D.value.length!==1&&(J.value=!0,We())}Dl(()=>{W()}),Al(async()=>{await Ml(J).toBe(!0)});const We=()=>{var Ht,Yt,pt,ut,vt,ht,xt,gt,mt,Tt,u,Wt,ft,$t,St,Gt,Vt,Jt;const j=ao(),de=Wl();if(j.$state.burpdfinput.length===0)console.log("lenghth is zero");else{const jt=l((Yt=(Ht=j.$state.burpdfinput[0])==null?void 0:Ht.burpdfData)==null?void 0:Yt.height),f=l((ut=(pt=j.$state.burpdfinput[0])==null?void 0:pt.burpdfData)==null?void 0:ut.slope),rt=l((ht=(vt=j.$state.burpdfinput[0])==null?void 0:vt.burpdfData)==null?void 0:ht.per),Zt=l((gt=(xt=j.$state.burpdfinput[0])==null?void 0:xt.burpdfData)==null?void 0:gt.deckType),i=new Bl({orientation:"portrait",unit:"mm",format:"a4",compress:!0});i.setGState(new i.GState({opacity:.9}));const bt="Approved";i.setFontSize(24),i.setTextColor("black"),i.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const s=new Image,Pe=new Image;s.src="/demo/images/officepaper.jpeg",Pe.src="/demo/images/logo.jpeg";const na=725,Dt=i.getPageInfo(1);Dt.pageContext.mediaBox.topRightX;const Wa=Dt.pageContext.mediaBox.topRightY,n=l(0),da=l(0);var C=595.28-585.28,c=Wa-na;n.value=C,da.value=c,console.log(n.value,da.value),i.addImage(Pe,"JPEG",10,2,50,30),i.addImage(s,"JPEG",0,0,210,297),i.setFontSize(12),i.setTextColor("green");var O=new Date,T=O.toLocaleDateString();i.text(bt,10,270,{align:"left"});const fa=i.getTextWidth(bt);i.text("on: "+T,fa+15,270),i.text(`${X.value}`,10,280,{align:"left"});const At=i.getTextWidth(`${X.value}`);i.text(`${m.value}`,At+15,280),i.setFontSize(12);const $a=()=>{i.setFontSize(10),i.setTextColor(0),i.text('The low slope Built Up Roof (BUR) Assembly shall be installed in compliance with the HVHZ portions of Chapter 15 found in the 2023 Florida Building Code and the HVHZ Roofing Application Standards (RAS), RAS-111, RAS-117 and RAS-128. This roof assembly shall also comply with the listed requirements for a Class "A" fire rating including roof slope (incline), components and a fire barrier when required. The mePermit applicant agrees to comply with these installation requirements when obtaining this permit.',10,25,{maxWidth:"170"}),i.line(10,50,195,50)};i.setTextColor("black"),i.circle(185,45,2,"FD"),i.text("I agree",165,45),$a(),i.setFontSize(12);const Ea=[{category:"DBA",value:`${ae.value}`},{category:"Municipality",value:`${m.value}`},{category:"Job Address",value:`${S.value}`},{category:"meProcess Number",value:`${x.value}`}];let qe=10,Ce=60,qt=72;i.setFontSize(12),Ea.forEach((I,he)=>{const Pt=qt+he*10;i.text(I.category,qe,Pt),i.text(I.value,Ce,Pt),i.getTextWidth(I.category);const Ct=i.getTextWidth(I.value)*2;i.line(Ce,Pt+2,Ce+Ct,Pt+2)}),i.setFontSize(12);const L=2;console.log(de.$state.roofList);const Ve=l("");for(let I=0;I<de.$state.roofList.length;I++)de.$state.roofList[I].item==="Low Slope"&&(Ve.value=de.$state.roofList[I].dim2);const Ke=Ve.value;console.log(`${Ke}`,Ve.value);const Mt="Roof Area: ",Xt="Deck Type: ",Nt="Mean Roof Height: ",Kt="Roof Slope: ",Qt="Roof Perimeter: ",Lt="Type of Low Slope BUR Material: ",ca="Type of Low Slope BUR System: ",ke="Attach P(1') Prime using P(1) Field Prescriptive Basesheet: ",a="Attach P(2) Perimeter using P(3) Corner Prescriptive: ",p=l(((Tt=(mt=j.$state.burpdfinput[1])==null?void 0:mt.burpdfData)==null?void 0:Tt.burMaterial)||""),B=l(((Wt=(u=j.$state.burpdfinput[1])==null?void 0:u.burpdfData)==null?void 0:Wt.burSystem)||""),ce=l((($t=(ft=j.$state.burpdfinput[1])==null?void 0:ft.burpdfData)==null?void 0:$t.p1)||""),yt=l(((Gt=(St=j.$state.burpdfinput[1])==null?void 0:St.burpdfData)==null?void 0:Gt.p3)||""),[re,h]=(()=>{var he;const I=B.value.split(/:(.+)/);return console.log(I),[I[0].trim(),((he=I[1])==null?void 0:he.trim())??""]})();n.value=C;const t=i.getTextWidth(Mt),_t=i.getTextWidth(`${Ke}`),Re=n.value;i.text(Mt,Re,c);const A=t+Re;i.text(`${Ke}`,A,c),i.line(A,c+2,A+_t,c+2),n.value=A+_t;const wa=i.getTextWidth(Nt),ea=i.getTextWidth(`${jt.value}`),Qe=n.value+18;i.text(Nt,Qe,c);const d=wa+Qe;i.text(`${jt.value}`,d,c),i.line(d,c+2,d+ea,c+2),n.value=d+ea;const pa=i.getTextWidth(Kt),be=i.getTextWidth(`${f.value}`),ua=n.value+18;i.text(Kt,ua,c);const le=pa+ua;i.text(`${f.value}`,le,c),i.line(le,c+2,le+be,c+2),n.value=le+be;const Sa=i.getTextWidth(Qt),va=i.getTextWidth(`${rt.value}`),ha=n.value+18;i.text(Qt,ha,c);const ta=Sa+ha;i.text(`${rt.value}`,ta,c),i.line(ta,c+2,ta+va,c+2),console.log(c,c),c=c+10,n.value=ta+va;const Be=i.getTextWidth(Xt),Ft=i.getTextWidth(`${Zt.value}`),De=C;i.text(Xt,De,c);const Le=Be+De;i.text(`${Zt.value}`,Le,c),i.line(Le,c+2,Le+Ft,c+2),c=c+10,n.value=C;const Et="Drip Edge Material: ",Ae="Drip Edge Size: ",aa=l(((Vt=G.$state.dripinput[0])==null?void 0:Vt.dripMaterial)||""),xa=l(((Jt=G.$state.dripinput[2])==null?void 0:Jt.dripMaterial)||"");console.log(aa,xa);const el=i.getTextWidth(Et),tl=i.getTextWidth(`${aa.value}`),Ja=C;i.text(Et,Ja,c);const za=el+Ja;i.text(`${aa.value}`,za,c),i.line(za,c+2,za+tl,c+2),c=c+10;const ja=i.getTextWidth(Ae),Pa=i.getTextWidth(`${xa.value}`),al=C;i.text(Ae,al,c);const v=ja+al;i.text(`${xa.value}`,v,c),i.line(v,c+2,v+Pa,c+2),c=c+10;const pl=i.getTextWidth(Lt),E=i.getTextWidth(`${p.value}`),Za=n.value;i.text(Lt,Za,c);const ga=pl+12;i.text(`${p.value}`,ga,c),i.line(ga,c+2,ga+E,c+2),n.value=ga+E,c=c+10,n.value=C,i.setFontSize(12);const Ca=i.getTextWidth(ca),ka=i.getTextWidth(re),ll=i.getTextWidth(h),ul=n.value;i.text(ca,ul,c),n.value=Ca+15,i.text(re,n.value,c),i.line(n.value,c+L,n.value+ka,c+L),c=c+10,i.text(h,C,c),i.line(C,c+L,C+ll,c+L),c=c+10,i.getTextWidth(ke);const Va=i.getTextWidth(`${ce.value}`),Ra=C;i.text(ke,Ra,c),c=c+10;const la=C;i.text(ce.value,la,c),i.line(la,c+L,la+Va,c+L),c=c+10,n.value=C;const ol=i.getTextWidth(`${yt.value}`),Ba=n.value;i.text(a,Ba,c),c=c+7,n.value=C;const wt=n.value;i.text(yt.value,wt,c),i.line(wt,c+L,wt+ol,c+L),c=c+10;const zt="LowSlope.pdf",ra=i.output("blob");(async(I,he)=>{const Pt=I,Ct=Pt;console.log(Ct);const Ua=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${X.value}/${Ct}`;try{const ye=await fetch(Ua,{method:"PUT",headers:{"Content-Type":Pt.type},body:he});ye.ok?(o.value=Ua,alert("LowSlope File uploaded successfully!")):alert(`Failed to upload file. Status: ${ye.status}`)}catch(ye){console.error("Error uploading file:",ye),alert("An error occurred while uploading the file.")}})(zt,ra)}};return(j,de)=>(Xl(),Nl("div"))}},ko={__name:"Shingle",setup(ct){var W,We;const{getUser:$}=Fl(),r=bo(),R=El(),S=Do(),m=Ao(),x=Wl(),G=Mo(),X=l(((We=(W=R.$state.permitapp[0])==null?void 0:W.formdt)==null?void 0:We.muniProc)||""),ae=l(x.$state.roofList);let D=l(!1);const J=Dl(()=>{if(ae.value.length===0)return"";for(let z=0;z<ae.value.length;z++)ae.value[z].item==="Asphalt Shingle"&&(console.log(ae.value[z].item),D.value=!0,o())});Al(async()=>{await Ml(J).toBe(!0),console.log(J)});const o=()=>{var fe,$e,Se,P,j,de,C,c,O,T,Ht,Yt,pt,ut,vt,ht,xt,gt,mt,Tt,u,Wt,ft,$t,St,Gt,Vt,Jt,jt,f,rt,Zt;const z=Wl();if(console.log(z.$state.roofList),S.$state.inputshingle.length===0)console.log("lenghth is zero");else{console.log(r,m);let i=l(!1),bt=l(!1);r.$state.systeminput.length!==0&&(bt=!0,console.log(bt)),m.$state.polyinput.length!==0&&(i=!0,console.log(i));const s=new Bl({orientation:"portrait",unit:"mm",format:"a4",compress:!0}),Pe=179,na=725,Dt=s.getPageInfo(1);Dt.pageContext.mediaBox.topRightX;const Wa=Dt.pageContext.mediaBox.topRightY,n=l(0),da=l(0);var g=595.28-585.28,e=Wa-na;n.value=g,da.value=e;const fa=l(($e=(fe=R.$state.permitapp[0])==null?void 0:fe.formdt)==null?void 0:$e.address),At=l((P=(Se=R.$state.permitapp[0])==null?void 0:Se.formdt)==null?void 0:P.muni),$a=l(((de=(j=R.$state.permitapp[0])==null?void 0:j.formdt)==null?void 0:de.processNumber)||""),Ea=l($.value[0].dba),qe=l(((c=(C=S.$state.inputshingle[0])==null?void 0:C.shingleData)==null?void 0:c.height)||""),Ce=l(((T=(O=S.$state.inputshingle[0])==null?void 0:O.shingleData)==null?void 0:T.slope)||""),qt=l(((Yt=(Ht=S.$state.inputshingle[0])==null?void 0:Ht.shingleData)==null?void 0:Yt.deckType)||"");console.log(z.$state.roofList);const L=l("");for(let V=0;V<z.$state.roofList.length;V++)console.log(z.$state.roofList[V].item),z.$state.roofList[V].item==="Asphalt Shingle"&&(L.value=z.$state.roofList[V].dim1);const Ve=L.value;console.log(`${Ve}`);const Ke=l("");s.setGState(new s.GState({opacity:.8}));const Mt="Approved";s.setFontSize(18),s.setTextColor(150,150,150),s.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const Xt=new Image,Nt=new Image;Xt.src="/demo/images/officepaper.jpeg",Nt.src="/demo/images/logo.jpeg",s.addImage(Nt,"JPEG",10,0,50,30),s.addImage(Xt,"JPEG",0,0,210,297),s.setFontSize(15),s.setTextColor("green");var je=new Date,Ze=je.toLocaleDateString();s.text(Mt,10,270,{align:"left"});const Kt=s.getTextWidth(Mt);s.text("on: "+Ze,Kt+15,270),s.text(`${X.value}`,10,280,{align:"left"});const Qt=s.getTextWidth(`${X.value}`);s.text(`${At.value}`,Qt+15,280);const Lt=()=>{s.setFontSize(10),s.setTextColor(0),s.text("The Shingle roof system and its components shall be installed in strict compliance  with the HVHZportions of Chapter 15 FBC, the HVHZ Roof Application Standards(RAS) 111 & 115, and the submitted MDC(NOA) Notice of Acceptance(s).The mePermit applicant agrees to comply with these installation requirements when obtaining this permit.",10,25,{maxWidth:"200"}),s.line(10,43,195,43)};s.setTextColor(0),s.circle(185,39,2,"FD"),s.text("I agree",165,40),Lt(),s.setFontSize(12);const ca=[{category:"DBA",value:`${Ea.value}`},{category:"Municipality",value:`${At.value}`},{category:"Job Address",value:`${fa.value}`},{category:"meProcess Number",value:`${$a.value}`}];let ke=10,a=60,p=50;s.setFontSize(12),ca.forEach((V,Z)=>{const H=p+Z*10;s.text(V.category,ke,H),s.text(V.value,a,H),s.getTextWidth(V.category);const q=s.getTextWidth(V.value)*2;s.line(a,H+2,a+q,H+2)}),s.setFontSize(12);const B="Roof Area: ",ce="Deck Type: ",yt="Mean Roof Height: ",re="Roof Slope: ",h=1;e=e+5;const t=s.getTextWidth(B),_t=s.getTextWidth(`${Ve}`),Re=n.value;s.text(B,Re,e);const A=t+Re;s.text(`${Ve}`,A,e),s.line(A,e+2,A+_t,e+2),n.value=A+_t;const wa=s.getTextWidth(yt),ea=s.getTextWidth(`${qe.value}`),Qe=n.value+10;s.text(yt,Qe,e);const d=wa+Qe;s.text(`${qe.value}`,d,e),s.line(d,e+2,d+ea,e+2),n.value=d+ea;const pa=s.getTextWidth(re),be=s.getTextWidth(`${Ce.value}`),ua=n.value+10;s.text(re,ua,e);const le=pa+ua;s.text(`${Ce.value}`,le,e),s.line(le,e+2,le+be,e+2),n.value=le+be,e=e+10;const Sa=s.getTextWidth(ce),va=s.getTextWidth(`${qt.value}`),ha=g;s.text(ce,ha,e);const ta=Sa+ha;s.text(`${qt.value}`,ta,e),s.line(ta,e+2,ta+va,e+2),e=e+10;const Be="Shingle NOA Number: ",Ft="Shingle Applicant: ",De="Shingle Material: ",Le="Shingle Description: ",Et="Fastened (UDL)NOA: ",Ae="UDL NOA Applicant: ",aa="Fastened UDL Material: ",xa="UDL Description: ",el="Prescriptive Attachment: ";console.log(S.$state.inputshingle[0]);const tl=l(((ut=(pt=S.$state.inputshingle[0])==null?void 0:pt.shingleData)==null?void 0:ut.noa)||""),Ja=l((ht=(vt=S.$state.inputshingle[0])==null?void 0:vt.shingleData)==null?void 0:ht.applicant)||"",za=l(((gt=(xt=S.$state.inputshingle[0])==null?void 0:xt.shingleData)==null?void 0:gt.material)||""),ja=l(((Tt=(mt=S.$state.inputshingle[0])==null?void 0:mt.shingleData)==null?void 0:Tt.description)||""),Pa=l(((Wt=(u=S.$state.inputshingle[0])==null?void 0:u.shingleData)==null?void 0:Wt.prescriptiveSelection)||""),al=s.getTextWidth(el),v=s.getTextWidth(`${Pa.value}`),pl=g;s.text(el,pl,e);const E=al+10;s.text(`${Pa.value}`,E,e),s.line(E,e+h,E+v,e+h),e=e+8;const Za="Drip Edge Material: ",ga="Drip Edge Size: ";console.log(G);const Ca=l(((ft=G.$state.dripinputshin[1])==null?void 0:ft.dripShinMaterial)||""),ka=l((($t=G.$state.dripinputshin[3])==null?void 0:$t.dripShinMaterial)||"");console.log(Ca,ka);const ll=s.getTextWidth(Za),ul=s.getTextWidth(`${Ca.value}`),Va=g;s.text(Za,Va,e);const Ra=ll+Va;s.text(`${Ca.value}`,Ra,e),s.line(Ra,e+h,Ra+ul,e+h),e=e+10;const la=s.getTextWidth(ga),ol=s.getTextWidth(`${ka.value}`),Ba=g;s.text(ga,Ba,e);const wt=la+Ba;if(s.text(`${ka.value}`,wt,e),s.line(wt,e+h,wt+ol,e+h),e=e+10,console.log(m.$state.polyinput.length),m.$state.polyinput.length===0){const V="n/a",Z="n/a",H="n/a",q="n/a",xe=s.getTextWidth(Et),oe=s.getTextWidth(V),_e=g;s.text(Et,_e,e);const se=_e+xe;s.text(V,se,e),s.line(se,e+h,se+oe,e+h),n.value=se+oe,console.log(n.value);const pe=s.getTextWidth(Ae),Me=s.getTextWidth(Z),Ie=n.value+2;s.text(Ae,Ie,e);const ie=Ie+pe;s.text(Z,ie,e),s.line(ie,e+h,ie+Me,e+h),n.value=ie+Me,console.log(n.value),n.value>Pe&&(e=e+10);const y=n.value+2,oa=s.getTextWidth(aa),et=s.getTextWidth(H);s.text(aa,y,e);const te=y+oa;s.text(H,te,e),s.line(te,e+h,te+et,e+h),n.value=te+et,console.log(n.value),e=e+10,console.log(n.value);const Xe=s.getTextWidth(xa),tt=s.getTextWidth(q),ge=g,ue=ge+tt;console.log(ue),s.text(xa,ge,e),ue>Pe&&print(ue);const Q=ge+Xe;s.text(q,Q,e),s.line(Q,e+h,Q+tt,e+h),n.value=Q+tt,e=e+8}else{const V=l(m.$state.polyinput[0].polyData.noa),Z=l(m.$state.polyinput[0].polyData.applicant),H=l(m.$state.polyinput[0].polyData.material),q=l(m.$state.polyinput[0].polyData.description),xe=s.getTextWidth(Et),oe=s.getTextWidth(`${V.value}`),_e=g;s.text(Et,_e,e);const se=xe+10;s.text(`${V.value}`,se,e),s.line(se,e+h,se+oe,e+h),n.value=se+oe;const pe=s.getTextWidth(Ae),Me=s.getTextWidth(`${Z.value}`),Ie=n.value+2;s.text(Ae,Ie,e);const ie=Ie+pe;s.text(`${Z.value}`,ie,e),s.line(ie,e+h,ie+Me,e+h),n.value=ie+Me,e=e+10;const y=g,oa=s.getTextWidth(aa),et=s.getTextWidth(`${H.value}`);s.text(aa,y,e);const te=y+oa;s.text(`${H.value}`,te,e),s.line(te,e+h,te+et,e+h),n.value=te+et,e=e+10,console.log(n.value);const Xe=s.getTextWidth(xa),tt=s.getTextWidth(`${q.value}`),ge=g,ue=ge+tt;console.log(ue),s.text("UDL Description:",ge,e),ue>Pe&&print(ue);const Q=ge+Xe;s.text(`${q.value}`,Q,e),s.line(Q,e+h,Q+tt,e+h),n.value=Q+tt,console.log(n.value),e=e+10}const zt="Self Adhered NOA: ",ra="S/A NOA Applicant: ",Ia="S/A System F: ",I="S/A Material: ",he="S/A Description: ";if(console.log(r.$state.systeminput.length),r.$state.systeminput.length===0){const V="n/a",Z="n/a",H="n/a",q="n/a",xe="n/a",oe=s.getTextWidth(zt),_e=s.getTextWidth(V),se=g;s.text(zt,se,e);const pe=se+oe;s.text(V,pe,e),s.line(pe,e,pe+_e,e),n.value=pe+_e,console.log(n.value);const Me=s.getTextWidth(ra),Ie=s.getTextWidth(Z),ie=n.value+3;s.text(ra,ie,e);const y=ie+Me;s.text(Z,y,e),s.line(y,e+h,y+Ie,e+h),n.value=y+Ie,console.log(n.value);const oa=s.getTextWidth(Ia),et=n.value+3,te=s.getTextWidth(H);s.text(Ia,et,e);const Xe=et+oa;s.text(H,Xe,e),s.line(Xe,e+h,Xe+te,e+h),n.value=Xe+te,console.log(n.value),e=e+10;const tt=s.getTextWidth(I),ge=s.getTextWidth(q),ue=g;s.text(I,ue,e);const Q=ue+tt;s.text(q,Q,e),s.line(Q,e+h,Q+ge,e+h),n.value=Q+ge,console.log(n.value);const xl=s.getTextWidth(he),La=s.getTextWidth(xe),Ma=n.value+3;s.text(he,Ma,e);const at=Ma+xl;s.text(xe,at,e),s.line(at,e+h,at+La,e+h),n.value=at+La,console.log(n.value)}else{console.log("Entered sbs line 509",r.$state);const V=l((Gt=(St=r.$state.systeminput[0])==null?void 0:St.systemData)==null?void 0:Gt.noa),Z=l((Jt=(Vt=r.$state.systeminput[0])==null?void 0:Vt.systemData)==null?void 0:Jt.manufacturer),H=l(r.$state.systeminput.pdfSystemValue),q=l((f=(jt=r.$state.systeminput[0])==null?void 0:jt.systemData)==null?void 0:f.material),xe=l((Zt=(rt=r.$state.systeminput[0])==null?void 0:rt.systemData)==null?void 0:Zt.description),oe=s.getTextWidth(zt),_e=s.getTextWidth(`${V.value}`),se=g;s.text(zt,se,e);const pe=se+oe;s.text(`${V.value}`,pe,e),s.line(pe,e+h,pe+_e,e+h),n.value=pe+_e;const Me=s.getTextWidth(ra),Ie=s.getTextWidth(`${Z.value}`),ie=n.value+3;s.text(ra,ie,e);const y=ie+Me;s.text(`${Z.value}`,y,e),s.line(y,e+h,y+Ie,e+h),n.value=y+Ie,console.log(n.value);const oa=s.getTextWidth(Ia),et=s.getTextWidth(`${H.value}`),te=n.value+3;s.text(Ia,te,e);const Xe=te+oa;s.text(`${H.value}`,Xe,e),s.line(Xe,e+h,Xe+et,e+h),n.value=Xe+et,console.log(n.value);const tt=s.getTextWidth(I),ge=s.getTextWidth(`${q.value}`),ue=n.value+5;s.text(I,ue,e);const Q=ue+tt;s.text(`${q.value}`,Q,e),s.line(Q,e+h,Q+ge,e+h),n.value=Q+ge,e=e+10,console.log(n.value);const xl=s.getTextWidth(he),La=s.getTextWidth(`${xe.value}`),Ma=g;s.text(he,Ma,e);const at=Ma+xl;s.text(`${xe.value}`,at,e),s.line(at,e+h,at+La,e+h)}e=e+10;const Pt=s.getTextWidth(Ft),Ct=s.getTextWidth(`${Ja.value}`),Ua=g;s.text(Ft,Ua,e);const ye=Ua+Pt;s.text(`${Ja.value}`,ye,e),s.line(ye,e+h,ye+Ct,e+h),n.value=ye+Ct;const fl=s.getTextWidth(Be),sl=s.getTextWidth(`${tl.value}`),vl=n.value+3;s.text(Be,vl,e);const ba=fl+vl;s.text(`${tl.value}`,ba,e),s.line(ba,e+h,ba+sl,e+h),n.value=ba+sl,e=e+10;const Oa=g,hl=s.getTextWidth(De),qa=s.getTextWidth(`${za.value}`);s.text(De,Oa,e);const Da=Oa+hl;s.text(`${za.value}`,Da,e),s.line(Da,e+h,Da+qa,e+h),n.value=Da+qa,e=e+10,console.log(n.value,Pe);const kt=s.getTextWidth(`${ja.value}`),Aa=s.getTextWidth(Le);n.value=Da+qa+kt+Aa+25,console.log(kt,Aa);const Ha=g;if(s.text(Le,Ha,e),kt>170){e=e+4;const Z=g;s.text(`${ja.value}`,Z,e),s.line(Z,e+h,Z+kt,e+h),e=e+8}else{const V=Ha+Aa;s.text(`${ja.value}`,V,e),s.line(V,e+h,V+kt,e+h),n.value=V+kt}e=e+10;const Ka="Shingle.pdf",Qa=s.output("blob");(async(V,Z)=>{const H=V;console.log(H);const q=H;console.log(q);const xe=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${X.value}/${q}`;try{const oe=await fetch(xe,{method:"PUT",headers:{"Content-Type":H.type},body:Z});oe.ok?(Ke.value=xe,alert("Shingle File uploaded successfully!")):alert(`Failed to upload file. Status: ${oe.status}`)}catch(oe){console.error("Error uploading file:",oe),alert("An error occurred while uploading the file.")}})(Ka,Qa)}};return(z,g)=>(Xl(),Nl("div"))}},Ro=xo(()=>{const ct=l([]),$=go(()=>ct.value);function r(R){ct.value.push(R)}return{tilenoa:ct,getNumber:$,addNoa:r}}),Bo={__name:"TileAdhesive",setup(ct){const $=so(),r=io(),{getUser:R}=Fl(),{tileInputvalues:S}=Xo(),{savedTileinput:m}=No(),x=El(),G=Wl(),X=l(G.$state.roofList);Ro();const ae=Fo();let D=l(!1);const J=Dl(()=>{if(X.value.length===0)return"";for(let W=0;W<X.value.length;W++)X.value[W].item==="Adhesive Set Tile"&&(console.log(X.value[W].item),D.value=!0,o())});Al(async()=>{await Ml(J).toBe(!0)});const o=()=>{var fe,$e,Se,P,j,de,C,c,O,T,Ht,Yt,pt,ut,vt,ht,xt,gt,mt,Tt,u,Wt,ft,$t,St,Gt,Vt,Jt,jt,f,rt,Zt,i,bt,s,Pe,na,Dt,Wa,n,da,fa,At,$a,Ea,qe,Ce,qt,L,Ve,Ke,Mt,Xt,Nt,Kt,Qt,Lt,ca,ke,a,p,B,ce,yt,re,h;console.log(S,($e=(fe=m[0])==null?void 0:fe.savedValues)==null?void 0:$e.paddySelection);const W=l(((P=(Se=m[0])==null?void 0:Se.savedValues)==null?void 0:P.paddySelection)||""),We=l(!1),z=l(!1);if(console.log(W.value),W.value==="single"?(We.value=!0,console.log(We.value),z.value=!1):(z.value=!0,console.log(z.value)),((j=S[0])==null?void 0:j.length)===0)console.log("lenghth is zero");else{const t=new Bl({orientation:"portrait",unit:"mm",format:"a4",compress:!0});let _t=l(!1),Re=l(!1);r.$state.tilesysEinput.length!==0&&(_t=!0,console.log(_t)),$.$state.tilefinput.length!==0&&(Re=!0,console.log(Re));const A=179,wa=725,ea=t.getPageInfo(1);ea.pageContext.mediaBox.topRightX;const Qe=ea.pageContext.mediaBox.topRightY,d=l(0),pa=l(0);var g=595.28-585.28,e=Qe-wa;d.value=g,pa.value=e;const be=We.value===!0?l(((de=S[0])==null?void 0:de.tileValues[0].singlepaddyData)||""):l(((C=S[0])==null?void 0:C.tileValues[0].doublepaddyData)||"");console.log(be.value);const ua=l(((O=(c=m[0])==null?void 0:c.savedValues)==null?void 0:O.height)||""),le=l(((Ht=(T=m[0])==null?void 0:T.savedValues)==null?void 0:Ht.slope)||"");console.log(x.$state.permitapp[0].muniNum);const Sa=l(((pt=(Yt=m[0])==null?void 0:Yt.savedValues)==null?void 0:pt.area)||""),va=l(((vt=(ut=m[0])==null?void 0:ut.savedValues)==null?void 0:vt.Decktype)||""),ha=l(((xt=(ht=m[0])==null?void 0:ht.savedValues)==null?void 0:xt.perimeter)||""),ta=l(((mt=(gt=x.$state.permitapp[0])==null?void 0:gt.formdt)==null?void 0:mt.address)||""),Be=l(((u=(Tt=x.$state.permitapp[0])==null?void 0:Tt.formdt)==null?void 0:u.muni)||""),Ft=l(((ft=(Wt=x.$state.permitapp[0])==null?void 0:Wt.formdt)==null?void 0:ft.muniProc)||""),De=l(((St=($t=x.$state.permitapp[0])==null?void 0:$t.formdt)==null?void 0:St.processNumber)||""),Le=l(""),Et=l(((Gt=R.value[0])==null?void 0:Gt.dba)||"");t.setGState(new t.GState({opacity:.8}));const Ae="Approved";t.setFontSize(24),t.setTextColor(150,150,150),t.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const aa=new Image,xa=new Image;aa.src="/demo/images/officepaper.jpeg",xa.src="/demo/images/logo.jpeg",t.addImage(xa,"JPEG",5,0,50,30),t.addImage(aa,"JPEG",0,0,210,297),t.setFontSize(18),t.setTextColor("green");var je=new Date,Ze=je.toLocaleDateString();t.text(Ae,10,270,{align:"left"});const el=t.getTextWidth(Ae);t.text("on: "+Ze,el+15,270),t.text(`${Ft.value}`,10,280,{align:"left"});const tl=t.getTextWidth(`${Ft.value}`);t.text(`${Be.value}`,tl+15,280),t.setFontSize(12);const Ja=()=>{t.setFontSize(12),t.setTextColor(0),t.text("The tile roof system and its components shall be installed in strict compliance with the FBC 2023 HVHZ portions of Chapter 15, the HVHZ Tile Application Standards: RAS-119, RAS-120 & RAS-127 and the submitted MDC Notice of Acceptance(s). The mePermit applicant agrees to comply with these installation requirements when obtaining this permit.",10,25,{maxWidth:"200"}),t.line(10,41,195,41)};t.setTextColor(0),t.circle(185,38,2,"FD"),t.text("I agree",165,39),Ja(),t.setFontSize(12),t.setFontSize(12);const za=[{category:"DBA",value:`${Et.value}`},{category:"Municipality",value:`${Be.value}`},{category:"Job Address",value:`${ta.value}`},{category:"meProcess Number",value:`${De.value}`}];let ja=10,Pa=60,al=50;t.setFontSize(12),za.forEach((b,w)=>{const M=al+w*10;t.text(b.category,ja,M),t.text(b.value,Pa,M),t.getTextWidth(b.category);const k=t.getTextWidth(b.value)*2;t.line(Pa,M+2,Pa+k,M+2)}),t.setFontSize(12);const v=2,E=90,Za="Roof Area: ",ga="Deck Type: ",Ca="Mean Roof Height: ",ka="Roof Slope: ",ll="Roof Perimeter: ";d.value=g;const ul=t.getTextWidth(Za),Va=t.getTextWidth(`${Sa.value}`),Ra=d.value;t.text(Za,Ra,E);const la=ul+Ra;t.text(`${Sa.value}`,la,E),t.line(la,E+v,la+Va,E+v),d.value=la+Va,console.log(e,E);const ol=t.getTextWidth(Ca),Ba=t.getTextWidth(`${ua.value}`),wt=d.value+10;t.text(Ca,wt,E);const zt=ol+wt;t.text(`${ua.value}`,zt,E),t.line(zt,E+v,zt+Ba,E+v),d.value=zt+Ba;const ra=t.getTextWidth(ka),Ia=t.getTextWidth(`${le.value}`),I=d.value+10;t.text(ka,I,E);const he=ra+I;t.text(`${le.value}`,he,E),t.line(he,E+v,he+Ia,E+v),d.value=he+Ia;const Pt=t.getTextWidth(ll),Ct=t.getTextWidth(`${ha.value}`),Ua=d.value+10;t.text(ll,Ua,E);const ye=Pt+Ua;t.text(`${ha.value}`,ye,E),t.line(ye,E+v,ye+Ct,E+v),console.log(E,e),e=E+10;const fl=t.getTextWidth(ga),sl=t.getTextWidth(`${va.value}`),vl=g;t.text(ga,vl,e);const ba=fl+vl;t.text(`${va.value}`,ba,e),t.line(ba,e+v,ba+sl,e+v),e=e+10;const Oa="Tile NOA Number: ",hl="Tile Applicant: ",qa="Tile Material: ",Da="Tile Description: ",kt="Fastened Underlayment(UDL)NOA: ",Aa="UDL NOA Applicant: ",Ha="Fastened UDL Material: ",Ka="Select System E: ",Qa="Design psf: ",il="Anchor Base Sheet: ",V="UDL Description: ",Z="Select Underlayment: ",H="Drip Edge Material: ",q="Drip Edge Size: ",xe=l(((Vt=ae.$state.dripinputadt[4])==null?void 0:Vt.dripTileMaterial)||""),oe=l(((Jt=ae.$state.dripinputadt[6])==null?void 0:Jt.dripTileMaterial)||""),_e=t.getTextWidth(H),se=t.getTextWidth(`${xe.value}`),pe=g;t.text(H,pe,e);const Me=_e+pe;t.text(`${xe.value}`,Me,e),t.line(Me,e+v,Me+se,e+v),e=e+10;const Ie=t.getTextWidth(q),ie=t.getTextWidth(`${oe.value}`),y=g;t.text(q,y,e);const oa=Ie+y;t.text(`${oe.value}`,oa,e),t.line(oa,e+v,oa+ie,e+v),e=e+10,console.log(m);const et=l(((f=(jt=m[0])==null?void 0:jt.savedValues)==null?void 0:f.zoneone.mf1)||""),te=l(((Zt=(rt=m[0])==null?void 0:rt.savedValues)==null?void 0:Zt.zoneone.lambda1)||""),Xe=l(((bt=(i=m[0])==null?void 0:i.savedValues)==null?void 0:bt.zoneone.mg1)||""),tt=l(((Pe=(s=m[0])==null?void 0:s.savedValues)==null?void 0:Pe.zoneone.mr1)||""),ge=l(((Dt=(na=m[0])==null?void 0:na.savedValues)==null?void 0:Dt.zoneone.zone1)||""),ue=l(((n=(Wa=m[0])==null?void 0:Wa.savedValues)==null?void 0:n.zonetwo.mf2)||""),Q=l(((fa=(da=m[0])==null?void 0:da.savedValues)==null?void 0:fa.zonetwo.lambda2)||""),xl=l((($a=(At=m[0])==null?void 0:At.savedValues)==null?void 0:$a.zonetwo.mg2)||""),La=l(((qe=(Ea=m[0])==null?void 0:Ea.savedValues)==null?void 0:qe.zonetwo.mr2)||""),Ma=l(((qt=(Ce=m[0])==null?void 0:Ce.savedValues)==null?void 0:qt.zonetwo.zone2)||""),at=l(((Ve=(L=m[0])==null?void 0:L.savedValues)==null?void 0:Ve.zonethree.mf3)||""),$l=l(((Mt=(Ke=m[0])==null?void 0:Ke.savedValues)==null?void 0:Mt.zonethree.lambda3)||""),Sl=l(((Nt=(Xt=m[0])==null?void 0:Xt.savedValues)==null?void 0:Nt.zonethree.mg3)||""),Vl=l((Qt=(Kt=m[0])==null?void 0:Kt.savedValues)==null?void 0:Qt.zonethree.mr3),rl=l(((ca=(Lt=m[0])==null?void 0:Lt.savedValues)==null?void 0:ca.zonethree.zone3)||""),wl=l((a=(ke=m[0])==null?void 0:ke.savedValues)==null?void 0:a.prescriptiveSelection.selectedBasesheet),zl=t.getTextWidth(wl.value);console.log(wl,zl);const Il=g;t.text(Z,Il,e+v);const nl=g;if(e=e+10,t.text(`${wl.value}`,nl,e),t.line(nl,e+v,nl+zl,e+v),e=e+10,r.$state.tilesysEinput.length===0){const b="n/a",w="n/a",M="n/a",k="n/a",Ye=t.getTextWidth(kt),Ee=t.getTextWidth(b),Ge=g;t.text(kt,Ge,e);const st=Ge+Ye+2;t.text(b,st,e),t.line(st,e+v,st+Ee,e+v),d.value=st+Ee,console.log(d.value);const it=t.getTextWidth(Aa),It=t.getTextWidth(w),nt=d.value+2;t.text(Aa,nt,e);const dt=nt+it;t.text(w,dt,e),t.line(dt,e+v,dt+It,e+v),d.value=dt+It,console.log(d.value),d.value>A&&(e=e+10);const we=d.value+2,ia=t.getTextWidth(Ha),ma=t.getTextWidth(M);t.text(Ha,we,e);const Je=we+ia;t.text(M,Je,e),t.line(Je,e+v,Je+ma,e+v),d.value=Je+ma,console.log(d.value),d.value>A&&(e=e+10),console.log(d.value);const Ut=t.getTextWidth(V),_a=t.getTextWidth(k),Ta=g,Ot=Ta+_a;console.log(Ot),t.text(V,Ta,e),Ot>A&&print(Ot);const ze=Ta+Ut;t.text(k,ze,e),t.line(ze,e+v,ze+_a,e+v),d.value=ze+_a,e=e+10}else{const b=l(r.$state.tilesysEinput[0].systemDataE.noa),w=l(r.$state.tilesysEinput[0].systemDataE.manufacturer),M=l(r.$state.tilesysEinput[0].systemDataE.material),k=l(r.$state.tilesysEinput[0].systemDataE.systemSelected),Ye=l(r.$state.tilesysEinput[0].systemDataE.dP),Ee=l(r.$state.tilesysEinput[0].systemDataE.Anchor_Base),Ge=l(r.$state.tilesysEinput[0].systemDataE.tileCap),st=t.getTextWidth(Aa),it=t.getTextWidth(`${w.value}`),It=g;t.text(Aa,It,e);const nt=It+st;t.text(`${w.value}`,nt,e),t.line(nt,e+v,nt+it,e+v);const dt=t.getTextWidth(`${M.value}`);d.value=nt+dt;const we=t.getTextWidth(kt),ia=t.getTextWidth(`${b.value}`),ma=d.value+40;t.text(kt,ma,e),d.value=ma,console.log(d.value,ma);const Je=we+d.value;console.log(Je),t.text(`${b.value}`,Je,e),t.line(Je,e+v,Je+ia,e+v),d.value=Je+ia,e=e+10;const Ut=g,_a=t.getTextWidth(Ha),Ta=t.getTextWidth(`${M.value}`);t.text(Ha,Ut,e);const Ot=Ut+_a;t.text(`${M.value}`,Ot,e),t.line(Ot,e+v,Ot+Ta,e+v),d.value=Ot+Ta,d.value>A&&(e=e+10);const ze=d.value+5,kl=t.getTextWidth(Ka),dl=t.getTextWidth(`${k.value}`);t.text(Ka,ze,e);const Ya=ze+kl;t.text(`${k.value}`,Ya,e),t.line(Ya,e+v,Ya+dl,e+v),d.value=Ya+dl,d.value>A&&(e=e+10);const Fa=t.getTextWidth(Qa),Kl=t.getTextWidth(`${Ye.value}`),Ql=d.value+3;t.text(Qa,Ql,e);const Ol=Ql+Fa;t.text(`${Ye.value}`,Ol,e),t.line(Ol,e+v,Ol+Kl,e+v),d.value=Ol+Kl,console.log(d.value),e=e+10,t.getTextWidth(il);const Ll=t.getTextWidth(`${Ee.value}`),no=g;t.text(il,no,e),e=e+10;const Hl=g;t.text(`${Ee.value}`,Hl,e),t.line(Hl,e+v,Hl+Ll,e+v),d.value=Hl+Ll,e=e+10;const co=t.getTextWidth(V),yl=t.getTextWidth(`${Ge.value}`),_l=g;t.text(V,_l,e);const Yl=_l+co;t.text(`${Ge.value}`,Yl,e),t.line(Yl,e+v,Yl+yl,e+v),d.value=Yl+yl,console.log(d.value),e=e+10}const bl="Self Adhered NOA: ",gl="S/A NOA Applicant: ",ml="S/A System F: ",ya="S/A Material: ",sa="S/A Description: ";if($.$state.tilefinput.length===0){const b="n/a",w="n/a",M="n/a",k="n/a",Ye="n/a",Ee=t.getTextWidth(bl),Ge=t.getTextWidth(b),st=g;t.text(bl,st,e);const it=st+Ee;t.text(b,it,e),t.line(it,e+v,it+Ge,e+v),d.value=it+Ge,console.log(d.value);const It=t.getTextWidth(gl),nt=t.getTextWidth(w),dt=d.value+3;t.text(gl,dt,e);const we=dt+It;t.text(w,we,e),t.line(we,e+v,we+nt,e+v),d.value=we+nt,console.log(d.value);const ia=t.getTextWidth(ml),ma=d.value+3,Je=t.getTextWidth(M);t.text(ml,ma,e);const Ut=ma+ia;t.text(M,Ut,e),t.line(Ut,e+v,Ut+Je,e+v),d.value=Ut+Je,console.log(d.value),e=e+10;const _a=t.getTextWidth(ya),Ta=t.getTextWidth(k),Ot=g;t.text(ya,Ot,e);const ze=Ot+_a;t.text(k,ze,e),t.line(ze,e+v,ze+Ta,e+v),d.value=ze+Ta,console.log(d.value);const kl=t.getTextWidth(sa),dl=t.getTextWidth(Ye),Ya=d.value+3;t.text(sa,Ya,e);const Fa=Ya+kl;t.text(Ye,Fa,e),t.line(Fa,e+v,Fa+dl,e+v),d.value=Fa+dl,console.log(d.value)}else{console.log("Entered sbs line 455",$.$state);const b=l($.$state.tilefinput[0].systemData.noa),w=l($.$state.tilefinput[0].systemData.manufacturer),M=l($.$state.tilefinput[0].systemData.pressure),k=l($.$state.tilefinput[0].systemData.material),Ye=l($.$state.tilefinput[0].systemData.description),Ee=t.getTextWidth(bl),Ge=t.getTextWidth(`${b.value}`),st=g;t.text(bl,st,e);const it=st+Ee;t.text(`${b.value}`,it,e),t.line(it,e+v,it+Ge,e+v),d.value=it+Ge;const It=t.getTextWidth(gl),nt=t.getTextWidth(`${w.value}`),dt=d.value+3;t.text(gl,dt,e);const we=dt+It;t.text(`${w.value}`,we,e),t.line(we,e+v,we+nt,e+v),d.value=we+nt,console.log(d.value);const ia=t.getTextWidth(ml),ma=t.getTextWidth(`${M.value}`),Je=d.value+3;t.text(ml,Je,e);const Ut=Je+ia;t.text(`${M.value}`,Ut,e),t.line(Ut,e+v,Ut+ma,e+v),d.value=Ut+ma,e=e+10;const _a=t.getTextWidth(ya),Ta=t.getTextWidth(`${k.value}`),Ot=g;t.text(ya,Ot,e);const ze=Ot+_a;t.text(`${k.value}`,ze,e),t.line(ze,e+v,ze+Ta,e+v),d.value=ze+Ta,d.value>A&&(e=e+10);const kl=t.getTextWidth(sa),dl=t.getTextWidth(`${Ye.value}`),Ya=d.value+3;t.text(sa,Ya,e);const Fa=Ya+kl;t.text(`${Ye.value}`,Fa,e),t.line(Fa,e+v,Fa+dl,e+v),d.value=Fa+dl,d.value>=A&&(e=e+10),console.log(d.value)}e=e+10;const Tl=l(be.value.noa),Pl=l((B=(p=m[0])==null?void 0:p.savedValues)==null?void 0:B.applicant),Cl=l((yt=(ce=m[0])==null?void 0:ce.savedValues)==null?void 0:yt.material),Xa=l((h=(re=m[0])==null?void 0:re.savedValues)==null?void 0:h.description),Zl=t.getTextWidth(hl),Ul=t.getTextWidth(`${Pl.value}`),ql=g;t.text(hl,ql,e);const N=ql+Zl;t.text(`${Pl.value}`,N,e),t.line(N,e+v,N+Ul,e+v),d.value=N+Ul;const Y=t.getTextWidth(Oa),F=t.getTextWidth(`${Tl.value}`),U=d.value+3;t.text(Oa,U,e);const _=Y+U;t.text(`${Tl.value}`,_,e),t.line(_,e+v,_+F,e+v),e=e+10;const ee=t.getTextWidth(`${Cl.value}`);d.value>A&&(e=e+10),d.value=_+ee;const ne=g,K=t.getTextWidth(qa),Ue=t.getTextWidth(`${Cl.value}`);t.text(qa,ne,e);const Rt=ne+K;t.text(`${Cl.value}`,Rt,e),t.line(Rt,e+v,Rt+Ue,e+v),e=e+5;const lt=t.getTextWidth(`${Xa.value}`);d.value=Rt+lt,d.value>A&&(e=e+5),console.log(d.value,A),e=e+5;const ve=t.getTextWidth(`${Xa.value}`),Ne=t.getTextWidth(Da);console.log(ve,Ne);const Na=g;if(t.text(Da,Na,e),ve>220){e=e+4;const b=g;t.text(`${Xa.value}`,b,e),t.line(b,e+v,b+ve,e+v),d.value=b+ve,e=e+8}else{const b=Na+Ne;t.text(`${Xa.value}`,b,e),t.line(b,e+v,b+ve,e+v),d.value=b+ve,e=e+5}e=e+5,t.setFontSize(12);const me=new Image;me.src="/demo/images/lambda.png",console.log(d.value,e);const ot=[["Zone 1:",`${ge.value}`,"x",`${te.value}`,"- Mg:",`${Xe.value}`,"= Mr1:",`${tt.value}`,"NOA Mf:",`${et.value}`],["Zone 2:",`${Ma.value}`,"x",`${Q.value}`,"- Mg:",`${xl.value}`,"= Mr2:",`${La.value}`,"NOA Mf:",`${ue.value}`],["Zone 3:",`${rl.value}`,"x",`${$l.value}`,"- Mg:",`${Sl.value}`,"= Mr3:",`${Vl.value}`,"NOA Mf:",`${at.value}`]];console.log(ot);let Oe=g-1,Fe=e;ot.forEach(b=>{let w=Oe;b.forEach(M=>{console.log(w,Fe),t.text(String(M),w,Fe),w+=18}),t.addImage(me,"png",50,Fe-4,5,5),t.addImage(me,"png",50,Fe-4,5,5),t.addImage(me,"png",50,Fe-4,5,5),Fe+=5,console.log(w,Fe)});const Bt="TileAdhesive.pdf",He=t.output("blob");(async(b,w)=>{const M=b,k=M;console.log(k);const Ye=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${Ft.value}/${k}`;try{const Ee=await fetch(Ye,{method:"PUT",headers:{"Content-Type":M.type},body:w});Ee.ok?(Le.value=Ye,alert("TileAdhesive File uploaded successfully!")):alert(`Failed to upload file. Status: ${Ee.status}`)}catch(Ee){console.error("Error uploading file:",Ee),alert("An error occurred while uploading the file.")}})(Bt,He)}};return(W,We)=>(Xl(),Nl("div"))}};function Io(){const ct=l(),$=l([]);let r=l([]);const R=Eo(),S=l(),m=l("");let x="https://2dz45lw4aeav6valksiiquuwqq0ejsio.lambda-url.us-east-1.on.aws/";const{execute:G,then:X,data:ae}=zo(x,{method:"GET"},{immediate:!1}),D=lo({noa:"",manufacturer:"",material:"",description:"",Table2:[],Table3:[],expiration_date:"",resistance:[],selection:"",select_tile:[],tile_map:[],table2_map:[],two_ten_d_RS_Nails:null,one_number_eight_screw:null,two_number_eight_screw:null,mechanicaltilefastener:[],fastenerValues:[],height:null,area:null,slope:null,perimeter:null,decktype:null,expiration_date:""});function J(W){ct.value=W,console.log(ct.value),S.value=Number(ct.value),o()}const o=async()=>{try{const W=await G({params:{NOA:S.value}}).then(We=>($.value=ae.value,console.log(ae.value),$.value));console.log(W.length),W.length===0||(console.log($.value),D.noa=$.value[0].NOA,D.manufacturer=$.value[0].applicant,D.material=$.value[0].material,D.selection=$.value[0].AdhesiveMaterials,D.description=$.value[0].description,D.select_tile=$.value[0].Select_Tile,D.tile_map=$.value[0].Tile_Map,D.table2_map=$.value[0].Table2_Map,D.expiration_date=$.value[0].expiration_date,D.Table2=$.value[0].Table2,D.Table3=$.value[0].Table3,D.resistance=$.value[0].Resistance,D.expiration_date=$.value[0].expiration_date,D.two_ten_d_RS_Nails=$.value[0].two_ten_d_RS_Nails,D.one_number_eight_screw=$.value[0].one_number_eight_screw,D.two_number_eight_screw=$.value[0].two_number_eight_screw,D.mechanicaltilefastener=$.value[0].mechanicaltilefastener,D.fastenerValues=$.value[0].fastenerValues,R.addNoa(D),console.log(D,"System added"))}catch(W){console.log("Error, fectching data",W)}return r};return{input:ct,fetchData:o,takeMechInput:J,noaNum:$,error:m,results:r,...mo(D),mechStore:R}}const Uo={__name:"TileMechanical",setup(ct){const{getUser:$}=Fl(),r=l(!1),R=El(),S=Wl(),m=l(S.$state.roofList),{mechStore:x}=Io(),G=so(),X=io(),ae=wo(),D=Dl(()=>{if(m.value.length===0)return"";for(let o=0;o<m.value.length;o++)m.value[o].item==="Mechanical Fastened Tile"&&(console.log(m.value[o].item),r.value=!0,J())});Al(async()=>{await Ml(D).toBe(!0),console.log(D)});const J=()=>{var g,e,je,Ze,fe,$e,Se,P,j,de,C,c,O,T,Ht,Yt,pt,ut,vt,ht,xt,gt,mt,Tt,u,Wt,ft,$t,St,Gt,Vt,Jt,jt,f,rt,Zt,i,bt,s,Pe,na,Dt,Wa,n,da,fa,At,$a,Ea,qe,Ce,qt,L,Ve,Ke,Mt,Xt,Nt,Kt,Qt;if(x.tilemech.value.length===0)console.log("lenghth is   zero");else{let Lt=l(!1),ca=l(!1),ke=l(!1);((e=(g=x.tilemech.value[0])==null?void 0:g.Table2)==null?void 0:e.content)==="multiple"&&(ke=!0),X.$state.tilesysEinput.length!==0&&(Lt=!0,console.log(Lt,X)),G.$state.tilefinput.length!==0&&(ca=!0,console.log(ca));const a=new Bl({orientation:"portrait",unit:"mm",format:"a4",compress:!0});console.log((je=x.tilemech.value[0])==null?void 0:je.Table2);const p=1,B=90,ce=179,yt=725,re=a.getPageInfo(1);console.log(re),re.pageContext.mediaBox.topRightX;const h=re.pageContext.mediaBox.topRightY,t=l(0),_t=l(0);var o=h-yt,W=595.28-585.28;t.value=W,_t.value=o,console.log(R.$state.permitapp),console.log(x.tilemech.value[0]);const Re=l(((Ze=x.tilemech.value[0])==null?void 0:Ze.height)||"N/A"),A=l(((fe=x.tilemech.value[0])==null?void 0:fe.slope)||"N/A"),wa=l((($e=x.tilemech.value[0])==null?void 0:$e.decktype)||"N/A"),ea=l(((Se=x.tilemech.value[0])==null?void 0:Se.perimeter)||"N/A");l((j=(P=X.$state.tilesysEinput[0])==null?void 0:P.systemDataE)==null?void 0:j.prescriptiveSelection),console.log(x.tilemech.value[0].prescriptiveSelection);const Qe=l(((de=x.tilemech.value[0])==null?void 0:de.prescriptiveSelection)||"N/A"),d=l(((C=x.tilemech.value[0])==null?void 0:C.area)||""),pa=l(((O=(c=R.$state.permitapp[0])==null?void 0:c.formdt)==null?void 0:O.address)||""),be=l(((Ht=(T=R.$state.permitapp[0])==null?void 0:T.formdt)==null?void 0:Ht.muni)||""),ua=l(((pt=(Yt=R.$state.permitapp[0])==null?void 0:Yt.formdt)==null?void 0:pt.processNumber)||""),le=l(((vt=(ut=R.$state.permitapp[0])==null?void 0:ut.formdt)==null?void 0:vt.muniProc)||""),Sa=l(((ht=ae.$state.dripinputmecht[5])==null?void 0:ht.dripMTileMaterial)||""),va=l(((xt=ae.$state.dripinputmecht[7])==null?void 0:xt.dripMTileMaterial)||"");console.log(x.tilemech.value),o=o+10;const ha=l(((gt=x.tilemech.value[0])==null?void 0:gt.mf1)||""),ta=l(((mt=x.tilemech.value[0])==null?void 0:mt.lambda1)||""),Be=l(((Tt=x.tilemech.value[0])==null?void 0:Tt.mg1)||""),Ft=l(((u=x.tilemech.value[0])==null?void 0:u.mr1)||""),De=l(((Wt=x.tilemech.value[0])==null?void 0:Wt.zoneone)||""),Le=l(((ft=x.tilemech.value[0])==null?void 0:ft.mf2)||""),Et=l((($t=x.tilemech.value[0])==null?void 0:$t.lambda2)||""),Ae=l(((St=x.tilemech.value[0])==null?void 0:St.mg2)||""),aa=l(((Gt=x.tilemech.value[0])==null?void 0:Gt.mr2)||""),xa=l(((Vt=x.tilemech.value[0])==null?void 0:Vt.zonetwo)||""),el=l(((Jt=x.tilemech.value[0])==null?void 0:Jt.mf3)||""),tl=l(((jt=x.tilemech.value[0])==null?void 0:jt.lambda3)||""),Ja=l(((f=x.tilemech.value[0])==null?void 0:f.mg3)||""),za=l(x.tilemech.value[0].mr3||""),ja=l(((rt=x.tilemech.value[0])==null?void 0:rt.zonethree)||""),Pa=l(""),al=l($.value[0].dba);a.setGState(new a.GState({opacity:.8}));const v="Approved";a.setFontSize(24),a.setTextColor(150,150,150),a.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const pl=new Image,E=new Image,Za=new Image;pl.src="/demo/images/officepaper.jpeg",E.src="/demo/images/logo.jpeg",Za.src="/demo/images/lambda.png",a.addImage(E,"JPEG",10,0,50,30),a.addImage(pl,"JPEG",0,0,210,297),a.setFontSize(15),a.setTextColor("green");var We=new Date,z=We.toLocaleDateString();a.text(v,10,270,{align:"left"});const ga=a.getTextWidth(v);a.text("on: "+z,ga+15,270),a.text(`${le.value}`,10,280,{align:"left"});const Ca=a.getTextWidth(`${le.value}`);a.text(`${be.value}`,Ca+15,280);const ka=()=>{a.setFontSize(12),a.setTextColor(0),a.text("The tile roof system and its components shall be installed in strict compliance with the FBC 2023 HVHZ portions of Chapter 15, the HVHZ Tile Application Standards: RAS-119, RAS-120 & RAS-127 and the submitted MDC Notice of Acceptance(s).",10,29,{maxWidth:"200"}),a.line(10,41,195,41)};a.setTextColor(0),a.circle(189,38,2,"FD"),a.text("I agree",165,39),ka(),a.setFontSize(12);const ll=[{category:"DBA",value:`${al.value}`},{category:"Municipality",value:`${be.value}`},{category:"Job Address",value:`${pa.value}`},{category:"Process Number",value:`${ua.value}`}];let ul=10,Va=60,Ra=50;a.setFontSize(12),ll.forEach((N,Y)=>{const F=Ra+Y*10;a.text(N.category,ul,F),a.text(N.value,Va,F),a.getTextWidth(N.category);const U=a.getTextWidth(N.value)*2;a.line(Va,F+2,Va+U,F+2)}),a.setFontSize(12),console.log(o);const la="Roof Perimeter: ",ol=a.getTextWidth("Roof Area: "),Ba=a.getTextWidth(`${d.value}`);a.text("Roof Area:",W,B);const wt=ol+10;a.text(`${d.value}`,wt,B),a.line(wt,B+p,wt+Ba,B+p),t.value=ol+Ba,console.log(t.value);const zt=a.getTextWidth("Mean Roof Height:"),ra=a.getTextWidth(`${Re.value}`),Ia=t.value+15;a.text("Mean Roof Height:",Ia,B);const I=zt+45;a.text(`${Re.value}`,I,B),a.line(I,B+p,I+ra,B+p),t.value=zt+ra,console.log(t.value),a.getTextWidth("Roof Slope: ");const he=a.getTextWidth(`${A.value}`),Pt=t.value+50;a.text("Roof Slope:",Pt,B);const Ct=Pt+25;a.text(`${A.value}`,Ct,B),a.line(Ct,B+p,Ct+he,B+p),t.value=t.value+Ct;const Ua=a.getTextWidth(la),ye=a.getTextWidth(`${ea.value}`),fl=t.value-30;a.text(la,fl,B);const sl=Ua+fl+2;a.text(`${ea.value}`,sl,B),a.line(sl,B+p,sl+ye,B+p),o=B+30;const vl=a.getTextWidth("Deck Type"),ba=a.getTextWidth(`${wa.value}`);t.value=t.value+vl-30,a.text("Deck Type:",t.value,o);const Oa=t.value+20;a.text(`${wa.value}`,Oa,o),a.line(Oa,o+p,Oa+ba,o+p),t.value=Oa+ba;const hl="Tile NOA Number: ",qa="Tile Applicant: ",Da="Tile Material: ",kt="Tile Type: ",Aa="Tile Description: ",Ha="Select Mechanical Tile Fastener: ",Ka="Fastened (UDL) NOA: ",Qa="(UDL) NOA Applicant: ",il="Fastened (UDL) Material: ",V="Select System E: ",Z="Design psf: ",H="Anchor Base Sheet: ",q="(UDL) Description: ",xe="Prescriptive: ",oe="Drip Edge Material: ",_e="Drip Edge Size: ";console.log(x.tilemech.value[0]),console.log(x.tilemech.value[0]);const se=l((Zt=x.tilemech.value[0])==null?void 0:Zt.noa),pe=l((i=x.tilemech.value[0])==null?void 0:i.manufacturer),Me=l((bt=x.tilemech.value[0])==null?void 0:bt.material),Ie=ke===!0?l((s=x.tilemech.value[0])==null?void 0:s.tiletype):l((Pe=x.tilemech.value[0])==null?void 0:Pe.material),ie=ke!==!0?l((na=x.tilemech.value[0])==null?void 0:na.savedfastener):l((Dt=x.tilemech.value[0])==null?void 0:Dt.description),y=ke===!0?l((Wa=x.tilemech.value[0])==null?void 0:Wa.savedfastener):l((n=x.tilemech.value[0])==null?void 0:n.description);console.log((da=x.tilemech.value[0])==null?void 0:da.description,(fa=x.tilemech.value[0])==null?void 0:fa.savedfastener),a.getTextWidth(xe);const oa=a.getTextWidth(`${Qe.value}`),et=W;a.text(xe,et,o-15);const te=W;o=o-9,a.text(`${Qe.value}`,te,o),a.line(te,o+p,te+oa,o+p),o=o+10;const Xe=a.getTextWidth(oe),tt=a.getTextWidth(`${Sa.value}`),ge=W;a.text(oe,ge,o);const ue=Xe+ge;a.text(`${Sa.value}`,ue,o),a.line(ue,o+p,ue+tt,o+p),o=o+8;const Q=a.getTextWidth(_e),xl=a.getTextWidth(`${va.value}`),La=W;a.text(_e,La,o);const Ma=Q+La;if(a.text(`${va.value}`,Ma,o),a.line(Ma,o+p,Ma+xl,o+p),o=o+10,a.setFontSize(12),X.$state.tilesysEinput.length===0){const N="n/a",Y="n/a",F="n/a",U="n/a",_=a.getTextWidth(Ka),ee=a.getTextWidth(N),ne=W;a.text(Ka,ne,o);const K=ne+_;a.text(N,K,o),a.line(K,o+p,K+ee,o+p),t.value=K+ee,console.log(t.value);const Ue=a.getTextWidth(Qa),Rt=a.getTextWidth(Y),lt=t.value+2;a.text(Qa,lt,o);const ve=lt+Ue;a.text(Y,ve,o),a.line(ve,o+p,ve+Rt,o+p),t.value=ve+Rt,console.log(t.value),t.value>ce&&(o=o+10);const Ne=t.value+2,Na=a.getTextWidth(il),me=a.getTextWidth(F);a.text(il,Ne,o);const ot=Ne+Na;a.text(F,ot,o),a.line(ot,o+p,ot+me,o+p),t.value=ot+me,console.log(t.value),t.value>ce&&(o=o+10),o=o+10;const Oe=a.getTextWidth(q),Fe=a.getTextWidth(U),Bt=W,He=Bt+Fe;console.log(He),a.text(q,Bt,o),He>ce&&print(He);const Te=Bt+Oe;a.text(U,Te,o),a.line(Te,o+p,Te+Fe,o+p),t.value=Te+Fe,o=o+10}else{console.log(X.$state.tilesysEinput);const N=l((($a=(At=X.$state.tilesysEinput[0])==null?void 0:At.systemDataE)==null?void 0:$a.noa)||"N/A"),Y=l(((qe=(Ea=X.$state.tilesysEinput[0])==null?void 0:Ea.systemDataE)==null?void 0:qe.manufacturer)||"N/A"),F=l(((qt=(Ce=X.$state.tilesysEinput[0])==null?void 0:Ce.systemDataE)==null?void 0:qt.material)||"N/A"),U=l(((Ve=(L=X.$state.tilesysEinput[0])==null?void 0:L.systemDataE)==null?void 0:Ve.systemSelected)||"N/A"),_=l(((Mt=(Ke=X.$state.tilesysEinput[0])==null?void 0:Ke.systemDataE)==null?void 0:Mt.dP)||"N/A"),ee=l(((Nt=(Xt=X.$state.tilesysEinput[0])==null?void 0:Xt.systemDataE)==null?void 0:Nt.Anchor_Base)||"N/A"),ne=l(((Qt=(Kt=X.$state.tilesysEinput[0])==null?void 0:Kt.systemDataE)==null?void 0:Qt.tileCap)||"N/A"),K=a.getTextWidth(Ka),Ue=a.getTextWidth(`${N.value}`),Rt=W;a.text(Ka,Rt,o);const lt=Rt+K;a.text(`${N.value}`,lt,o),a.line(lt,o+p,lt+Ue,o+p),t.value=lt+Ue;const ve=a.getTextWidth(Qa),Ne=a.getTextWidth(`${Y.value}`),Na=t.value+2;a.text(Qa,Na,o);const me=Na+ve;a.text(`${Y.value}`,me,o),a.line(me,o+p,me+Ne,o+p);const ot=a.getTextWidth(`${F.value}`);t.value=me+ot,o=o+10;const Oe=W,Fe=a.getTextWidth(il),Bt=a.getTextWidth(`${F.value}`);a.text(il,Oe,o);const He=Oe+Fe;a.text(`${F.value}`,He,o),a.line(He,o+p,He+Bt,o+p),t.value=He+Bt,t.value>ce&&(o=o+10);const Te=t.value+5,b=a.getTextWidth(V),w=a.getTextWidth(`${U.value}`);a.text(V,Te,o);const M=Te+b;a.text(`${U.value}`,M,o),a.line(M,o+p,M+w,o+p),t.value=M+w,t.value>ce&&(o=o+10);const k=a.getTextWidth(Z),Ye=a.getTextWidth(`${_.value}`),Ee=t.value+3;a.text(Z,Ee,o);const Ge=Ee+k;a.text(`${_.value}`,Ge,o),a.line(Ge,o+p,Ge+Ye,o+p),t.value=Ge+Ye,console.log(t.value),o=o+10,a.getTextWidth(H);const st=a.getTextWidth(`${ee.value}`),it=W;a.text(H,it,o),o=o+10;const It=W;a.text(`${ee.value}`,It,o),a.line(It,o+p,It+st,o+p),t.value=It+st,o=o+10;const nt=a.getTextWidth(q),dt=a.getTextWidth(`${ne.value}`),we=W;a.text(q,we,o);const ia=we+nt;a.text(`${ne.value}`,ia,o),a.line(ia,o+p,ia+dt,o+p),t.value=ia+dt,console.log(t.value),o=o+10}const at="Self Adhered NOA: ",$l="S/A NOA Applicant: ",Sl="S/A System F: ",Vl="S/A Material: ",rl="S/A Description: ";if(G.$state.tilefinput.length===0){const N="n/a",Y="n/a",F="n/a",U="n/a",_="n/a",ee=a.getTextWidth(at),ne=a.getTextWidth(N),K=W;a.text(at,K,o);const Ue=K+ee;a.text(N,Ue,o),a.line(Ue,o+p,Ue+ne,o+p),t.value=Ue+ne,console.log(t.value);const Rt=a.getTextWidth($l);a.getTextWidth(Y);const lt=t.value+3,ve=a.getTextWidth(F);a.text($l,lt,o);const Ne=lt+Rt;a.text(Y,Ne,o),a.line(Ne,o+p,Ne+ve,o+p),t.value=Ne+ve,console.log(t.value);const Na=a.getTextWidth(Sl),me=a.getTextWidth(F),ot=t.value+3;a.text(Sl,ot,o);const Oe=ot+Na;a.text(F,Oe,o),a.line(Oe,o+p,Oe+me,o+p),t.value=Oe+me,console.log(t.value),o=o+10;const Fe=a.getTextWidth(Vl),Bt=a.getTextWidth(U),He=W;a.text(Vl,He,o);const Te=He+Fe;a.text(U,Te,o),a.line(Te,o+p,Te+Bt,o+p),t.value=Te+Bt,console.log(t.value);const b=a.getTextWidth(rl),w=a.getTextWidth(_),M=t.value+3;a.text(rl,M,o);const k=M+b;a.text(_,k,o),a.line(k,o+p,k+w,o+p),t.value=k+w,console.log(t.value)}else{console.log("Entered sbs line 455",G.$state);const N=l(G.$state.tilefinput[0].systemData.noa),Y=l(G.$state.tilefinput[0].systemData.manufacturer),F=l(G.$state.tilefinput[0].systemData.pressure),U=l(G.$state.tilefinput[0].systemData.material),_=l(G.$state.tilefinput[0].systemData.description),ee=a.getTextWidth(at),ne=a.getTextWidth(`${N.value}`),K=W;a.text(at,K,o);const Ue=K+ee;a.text(`${N.value}`,Ue,o),a.line(Ue,o+p,Ue+ne,o+p),t.value=Ue+ne;const Rt=a.getTextWidth($l),lt=a.getTextWidth(`${Y.value}`),ve=t.value+3;a.text($l,ve,o);const Ne=ve+Rt;a.text(`${Y.value}`,Ne,o),a.line(Ne,o+p,Ne+lt,o+p),t.value=Ne+lt,console.log(t.value);const Na=a.getTextWidth(Sl),me=a.getTextWidth(`${F.value}`),ot=t.value+3;a.text(Sl,ot,o);const Oe=ot+Na;a.text(`${F.value}`,Oe,o),a.line(Oe,o+p,Oe+me,o+p),t.value=Oe+me,o=o+10;const Fe=a.getTextWidth(Vl),Bt=a.getTextWidth(`${U.value}`),He=W;a.text(Vl,He,o);const Te=He+Fe;a.text(`${U.value}`,Te,o),a.line(Te,o+p,Te+Bt,o+p),t.value=Te+Bt,t.value>ce&&(o=o+10);const b=a.getTextWidth(rl),w=a.getTextWidth(`${_.value}`),M=t.value+3;a.text(rl,M,o);const k=M+b;a.text(`${_.value}`,k,o),a.line(k,o+p,k+w,o+p),t.value=k+w,t.value>=ce&&(o=o+10),console.log(t.value)}o=o+10;const wl=a.getTextWidth(`${pe.value}`),zl=a.getTextWidth(qa),Il=W;a.text(qa,Il,o);const nl=Il+zl;a.text(`${pe.value}`,nl,o),a.line(nl,o+p,nl+wl,o+p),t.value=nl+zl+10;const bl=a.getTextWidth(hl),gl=a.getTextWidth(`${se.value}`),ml=t.value+bl;a.text(hl,ml,o);const ya=ml+38;a.text(`${se.value}`,ya,o),a.line(ya,o+p,ya+gl,o+p),t.value=ya+gl,o=o+10;const sa=o;if(ke===!0){const N=a.getTextWidth(kt),Y=a.getTextWidth(`${Ie.value}`),F=W;a.text(kt,F,sa);const U=F+N;t.value=N+Y,a.text(`${Ie.value}`,U,sa),a.line(U,sa+p,U+Y,sa+p),o=o+10;const _=a.getTextWidth(Ha),ee=a.getTextWidth(`${y.value}`);console.log(y.value),t.value=W;const ne=t.value;a.text(Ha,ne,o),console.log(t.value);const K=ne+_;a.text(`${y.value}`,K,o),a.line(K,o+p,K+ee,o+p),t.value=K+ee,o=o+10}else{const N=a.getTextWidth(Da),Y=a.getTextWidth(`${Me.value}`);t.value=W,console.log(Me.value);const F=t.value;a.text(Da,F,sa);const U=F+N;a.text(`${Me.value}`,U,sa),a.line(U,sa+p,U+Y,sa+p),t.value=N+Y+20,console.log(t.value);const _=a.getTextWidth(Aa),ee=a.getTextWidth(`${ie.value}`),ne=t.value+10;a.text(Aa,ne,o);const K=ne+_;a.text(`${ie.value}`,K,o),a.line(K,o+p,K+ee,o+p),t.value=K+ee}o=o+10;const Tl=new Image;Tl.src="/demo/images/lambda.png";const Pl=[["Zone 1:",`${De.value}`,"x",`${ta.value}`,"- Mg:",`${Be.value}`,"= Mr1:",`${Ft.value}`,"NOA Mf:",`${ha.value}`],["Zone 2:",`${xa.value}`,"x",`${Et.value}`,"- Mg:",`${Ae.value}`,"= Mr2:",`${aa.value}`,"NOA Mf:",`${Le.value}`],["Zone 3:",`${ja.value}`,"x",`${tl.value}`,"- Mg:",`${Ja.value}`,"= Mr3:",`${za.value}`,"NOA Mf:",`${el.value}`]];console.log(Pl);let Cl=W-1,Xa=o;Pl.forEach(N=>{let Y=Cl;N.forEach(F=>{a.text(String(F),Y,Xa),Y+=18}),a.addImage(Tl,"png",50,Xa-4,5,5),a.addImage(Tl,"png",50,Xa-4,5,5),a.addImage(Tl,"png",50,Xa-4,5,5),Xa+=5,Xa+=5}),o=o+20;const Zl="MechanicalTile.pdf",Ul=a.output("blob");(async(N,Y)=>{const F=N,U=F;console.log(U);const _=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${le.value}/${U}`;try{const ee=await fetch(_,{method:"PUT",headers:{"Content-Type":F.type},body:Y});ee.ok?(Pa.value=_,alert("Mechanical File uploaded successfully!")):alert(`Failed to upload file. Status: ${ee.status}`)}catch(ee){console.error("Error uploading file:",ee),alert("An error occurred while uploading the file.")}})(Zl,Ul)}};return(o,W)=>(Xl(),Nl("div"))}},Oo={id:"summary",class:"card-system"},Ho=Ga("p",null,"The roof systems you selected",-1),Yo={class:"rounded border border-surface-200 dark:border-surface-700 p-6 bg-surface-0 dark:bg-surface-900"},ds={__name:"Summarys",setup(ct){var je,Ze,fe,$e,Se;const{accountUsers:$}=Fl(),r=Vo();l(!1),l(!1);let R=l(!1),S=l(!1),m=l(!1),x=l(!1),G=l(!1);const X=l("");l(""),l("");const ae=El(),D=Wl(),J=l(D.$state.roofList);l(((Ze=(je=ae.$state.permitapp[0])==null?void 0:je.formdt)==null?void 0:Ze.processNumber)||"");const o=oo(),W=l(o.$state.generalpdfinput);l((($e=(fe=ae.$state.permitapp[0])==null?void 0:fe.formdt)==null?void 0:$e.muniProc)||""),l(!1),l(((Se=r.$state.countinput[0])==null?void 0:Se.countData)||""),l(!1),l(!1),l(!1),l(!1);function We(){$.value.forEach((P,j)=>{X.value=P.dba})}const z=lo({dim:"",item:""}),g=Dl(()=>{if(J.value.length===0)return"";for(let P=0;P<J.value.length;P++)J.value[P].item==="Asphalt Shingle"?(x.value=!0,z.dim=J.value[P].dim1,z.item=J.value[P].item):J.value[P].item==="Low Slope"?G.value=!0:J.value[P].item==="Adhesive Set Tile"?(console.log(J.value[P].item),S.value=!0):J.value[P].item==="Mechanical Fastened Tile"?(console.log(J.value[P].item),m.value=!0):W.value.length!==1&&(R.value=!0),console.log(J.value)});To(()=>{We()});const e=l([{status:"RoofSystems",date:"15/10/2020 10:30",icon:"pi pi-cog",color:"#9C27B0",image:"/src/assets/img/roofing_tile.jpg"},{status:"Processing",date:"15/10/2020 14:00",icon:"pi pi-cog",color:"#673AB7"},{status:z.item,date:"15/10/2020 14:00",icon:"pi pi-cog",color:"#673AB7"}]);return Wo(We,g,()=>{}),Al(async()=>{await Ml(g).toBe(!0)}),(P,j)=>{const de=vo,C=uo,c=po;return Xl(),Nl(fo,null,[Ga("div",Oo,[cl(c,{value:e.value,align:"alternate",class:"customized-timeline",style:{"margin-top":"50px"}},{marker:Rl(O=>[Ga("span",{class:"flex w-8 h-8 items-center justify-center text-white rounded-full z-10 shadow-sm",style:$o({backgroundColor:O.item.color})},[Ga("i",{class:So(O.item.icon)},null,2)],4)]),content:Rl(O=>[cl(C,{class:"mt-4"},{title:Rl(()=>[eo(to(O.item.status),1)]),subtitle:Rl(()=>[eo(to(O.item.date),1)]),content:Rl(()=>[Ho,cl(de,{label:"Read more",text:""})]),_:2},1024)]),_:1},8,["value"])]),Ga("div",Yo,[Ga("div",null,[cl(Po)]),Gl(Ga("div",null,[cl(ko)],512),[[Jl,jl(x)]]),Gl(Ga("div",null,[cl(Bo)],512),[[Jl,jl(S)]]),Gl(Ga("div",null,[cl(Uo)],512),[[Jl,jl(m)]]),Gl(Ga("div",null,[cl(Co)],512),[[Jl,jl(G)]])])],64)}}};export{ds as default};
