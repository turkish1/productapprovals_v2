import{s as Z,a as $}from"./index-BsCPwXB7.js";import{s as H,a as ee}from"./index-DD4GuLoT.js";import{j as oe,k as q,r as i,o as w,c as y,d as l,h as I,e,t as C,F as R,l as G,m as j,s as Q,a as F,n as W,q as J,v as L,_ as ae,x as se,u as te,y as O,w as le,z as ne,p as ie,i as de}from"./index-DTtGqkD7.js";import{s as re}from"./index-BtP1t_B4.js";import{s as ce}from"./index-BGpuVZBE.js";import{s as me}from"./index-CvHBEegE.js";import{s as pe}from"./index-DSkoktRi.js";import{s as ue}from"./index-DoVQB9LJ.js";import{u as fe}from"./accountsStore-CJ3Rsi-2.js";import{u as K}from"./useAxios-BX6NCIzx.js";import{h as _e,E as he}from"./jspdf.es.min-BareIYmW.js";import{t as ve}from"./index-ruzc3P5z.js";import"./index-Bd2kIgO6.js";import"./index-C65X2pha.js";import"./index-D56XOvUm.js";import"./index-CQk3Gs66.js";import"./index-BaAvlfAb.js";const xe={class:"card object-cover h-128 w-128 ...",style:{"margin-right":"250px","margin-top":"1px"}},ge={class:"flex flex-wrap justify-between items-center flex-1 gap-4"},be={class:"flex gap-2"},we={class:"whitespace-nowrap"},ye={class:"flex flex-col gap-8 pt-4"},De={key:0},Ve=e("h5",null,"Pending",-1),Se={class:"flex flex-wrap gap-4"},Ue=["alt","src"],ke={class:"font-semibold text-ellipsis max-w-60 whitespace-nowrap overflow-hidden"},Ce={key:1},Ie=e("h5",null,"Completed",-1),Fe={class:"flex flex-wrap gap-4"},Pe=["alt","src"],Me={class:"font-semibold text-ellipsis max-w-60 whitespace-nowrap overflow-hidden"},Be={class:"flex items-center justify-center flex-col"},ze=e("i",{class:"pi pi-cloud-upload !border-2 !rounded-full !p-8 !text-4xl !text-muted-color"},null,-1),Ae={__name:"Drop",setup(n){const a=oe(),f=q(),o=i(0),p=i(0),t=i([]),c=()=>{console.log(url),f.add({severity:"info",summary:"Success",detail:"File Uploaded",life:3e3})},v=(m,h,s)=>{h(s),o.value-=parseInt(g(m.size)),p.value=o.value/1},u=m=>{t.value=m.files,t.value.forEach(h=>{o.value+=parseInt(g(h.size))})},D=m=>{p.value=o.value/1,m()},_=()=>{f.add({severity:"info",summary:"Success",detail:"File Uploaded",life:3e3})},g=m=>{const b=a.config.locale.fileSizeTypes;if(m===0)return`0 ${b[0]}`;const U=Math.floor(Math.log(m)/Math.log(1024));return`${parseFloat((m/Math.pow(1024,U)).toFixed(3))} ${b[U]}`};return(m,h)=>{const s=Q,b=H,U=Z,P=ee,N=$;return w(),y("div",xe,[l(s),l(N,{name:"demo[]",url:"https://digitalsolutionsroofs.s3.amazonaws.com/",onUpload:c,multiple:!0,accept:".xlsx,.pdf,.csv,.xls,image/*",maxFileSize:1e10,onSelect:u},{header:I(({chooseCallback:V,uploadCallback:k,clearCallback:M,files:S})=>[e("div",ge,[e("div",be,[l(b,{onClick:r=>V(),icon:"pi pi-images",rounded:"",outlined:"",severity:"secondary"},null,8,["onClick"]),l(b,{onClick:r=>D(k),icon:"pi pi-cloud-upload",rounded:"",outlined:"",severity:"success",disabled:!S||S.length===0},null,8,["onClick","disabled"]),l(b,{onClick:r=>M(),icon:"pi pi-times",rounded:"",outlined:"",severity:"danger",disabled:!S||S.length===0},null,8,["onClick","disabled"])]),l(U,{value:p.value,showValue:!1,class:"md:w-20rem h-1 w-full md:ml-auto"},{default:I(()=>[e("span",we,C(o.value)+"B / 1Mb",1)]),_:1},8,["value"])])]),content:I(({files:V,uploadedFiles:k,removeUploadedFileCallback:M,removeFileCallback:S})=>[e("div",ye,[V.length>0?(w(),y("div",De,[Ve,e("div",Se,[(w(!0),y(R,null,G(V,(r,B)=>(w(),y("div",{key:r.name+r.type+r.size,class:"p-8 rounded-border flex flex-col border border-surface items-center gap-4"},[e("div",null,[e("img",{role:"presentation",alt:r.name,src:r.objectURL,width:"100",height:"50"},null,8,Ue)]),e("span",ke,C(r.name),1),e("div",null,C(g(r.size)),1),l(P,{value:"Pending",severity:"warn"}),l(b,{icon:"pi pi-times",onClick:E=>v(r,S,B),outlined:"",rounded:"",severity:"danger"},null,8,["onClick"])]))),128))])])):j("",!0),k.length>0?(w(),y("div",Ce,[Ie,e("div",Fe,[(w(!0),y(R,null,G(k,(r,B)=>(w(),y("div",{key:r.name+r.type+r.size,class:"p-8 rounded-border flex flex-col border border-surface items-center gap-4"},[e("div",null,[e("img",{role:"presentation",alt:r.name,src:r.objectURL,width:"100",height:"50"},null,8,Pe)]),e("span",Me,C(r.name),1),e("div",null,C(g(r.size)),1),l(P,{value:"Completed",class:"mt-4",severity:"success"}),l(b,{icon:"pi pi-times",onClick:E=>M(B),outlined:"",rounded:"",severity:"danger"},null,8,["onClick"])]))),128))])])):j("",!0)])]),empty:I(()=>[e("div",Be,[ze,e("p",{class:"mt-6 mb-0",onUpload:h[0]||(h[0]=V=>_(V))},"Drag and drop files to here to upload.",32)])]),_:1})])}}};function Ne(){i([]);const n=i([]),a=i("");let f=i([]);const{accountUsers:o,getUser:p,addUser:t}=fe();F({license:"",dba:"",name:"",username:"",password:"",secondary_status:"",expiration_date:"",address:"",projects:[],password:"",cphone:"",phone:"",email:"",date:new Date});const c=i("");let v="https://us-east-1.aws.data.mongodb-api.com/app/data-aquwo/endpoint/accounts";const{execute:u,data:D}=K(v,{method:"POST"},{immediate:!1});let _=F({});function g(m){console.log(m),_=m,u({data:m}),a.value="Form submitted successfully!",t(_),console.log(_,"System added")}return{takp:g,noaNum:n,error:c,accountUsers:o,getUser:p,addUser:t,accountUsers:o,results:f,responseMessage:a,...W(_)}}const Te=J("cccinput",{state:()=>({cccinput:[],id:0}),actions:{addData(n){this.cccinput.push({cccAccounts:n,completed:!1})}},getters:{cccData:n=>n.cccAccounts}});function Le(){const n=i(""),a=i(""),f=i("");i("");const o=i("");let p="https://us-east-1.aws.data.mongodb-api.com/app/data-aquwo/endpoint/contractors";const{execute:t,then:c,data:v}=K(p,{method:"GET"},{immediate:!1}),u=F({});let D=F({license:"",dba:"",name:"",license_status:"",expiration_date:"",address:""});return Te(),t().then(_=>(u.value=v.value,D=u.value,f)),{error:a,responseMessage:n,contractors:u,licenseNumbers:o,cccAccounts:D}}const Re=J("auth",{state:()=>({user:i({}),message:i("")}),getters:{userFirstName:n=>{if(n.user.name)return n.user.name.charAt(0).toUpperCase()+n.user.name.slice(1)}},actions:{async register(n,a,f){const o={createdName:n,createdUserName:a,createdPassword:f};myFetch("register","POST",o).then(p=>{p.response.value.message?this.message=p.response.value.message:(this.user=p.response.value,L.push("/"))})},async login(n,a){const f={username:n,password:a};myFetch("login","POST",f).then(o=>{this.user=o.response.value.user,L.push("/")})},logout(){this.$reset(),L.push("/")}},greeting:{enabled:!1}}),je={setup(){let n=F({});const{authStore:a}=Re(),{message:f}=se(a),o=te();let p=i(!1),t=F({license:"",dba:"",name:"",username:"",password:"",secondary_status:"",expiration_date:"",address:"",projects:[],password:"",cphone:"",bphone:"",email:"",date:new Date});const{contractors:c}=Le(),v=i("");O(()=>{n=c,console.log(n)});const u=i(""),{Data:D,takp:_}=Ne(),g=async()=>{_(t),t.license="",t.name="",t.secondary_status="",t.dba="",t.username="",t.password="",t.address="",t.cphone="",t.bphone="",t.email="",t.insurance="",t.carrier="",s()};function m(){n.value.forEach(x=>{v.value=t.license.toUpperCase(),v.value===x.alt_license&&(t.dba=x.DBA,t.name=x.name,t.expiration_date=x.expiration_date,t.address=x.address1,t.city=x.city,u.value=x.secondary_status,console.log(x.DBA,t.dba)),h()})}le(h,()=>{});function h(){u.value===""&&(t.secondary_status=""),u.value==="A"&&(t.secondary_status="Active"),u.value==="I"&&(t.secondary_status="Inactive")}const s=()=>{o.push("/")},b=q(),U=i(),P=()=>{U.value.upload()},N=()=>{b.add({severity:"constrast",summary:"Contrast",detail:"File Uploaded",life:3e3})},V=i([{name:"Florida",code:"Florida"},{name:"Georgia",code:"Georgia"}]),k=i([{name:"Miami",code:"Miami"},{name:"Homestead",code:"Homestead"},{name:"Miami Beach",code:"Miami Beach"},{name:"Miami Gardens",code:"Miami Gardens"}]),M=i([{name:"Roofing Contractor",code:"Roofing"},{name:"General Contractor",code:"General"}]),S=i(null),r=i(null),B=i(null);return ve(()=>{const x=document.getElementById("shingle");console.log(x),_e(x).then(T=>{const A=T.toDataURL("image/png"),z=new he;z.addImage(A,"PNG",10,10,190,0);const Y=z.output("blob");X(Y)});const X=async T=>{try{const z=await(await window.showSaveFilePicker({suggestedName:"permitapp.pdf",types:[{description:"PDF file",accept:{"application/pdf":[".pdf"]}}]})).createWritable();await z.write(T),await z.close(),console.log("PDF saved successfully without popping download dialog!")}catch(A){console.error("Error saving file:",A)}}},()=>{console.log("Called Unmounted")}),{formDatas:t,...W(t),disabled:p,navigateNext:s,authStore:a,message:f,checkLicense:m,trade:M,trades:S,onSubmit:g,onUpload:N,onMounted:O,upload:P,dropdownItemCt:k,dropdownItemSt:V,dropdownItemct:B,dropdownItemst:r}}},d=n=>(ie("data-v-dfc58c1d"),n=n(),de(),n),Ee={class:"card flex flex-col gap-7"},Ge=d(()=>e("div",{class:"font-semibold text-xl"},"Contractor Information",-1)),Oe={class:"flex flex-col gap-2"},He=d(()=>e("label",{for:"lic1"},"State of Florida License No.",-1)),qe={class:"flex flex-wrap gap-2"},Qe=d(()=>e("label",{for:"trade"},"Trade",-1)),We={class:"flex flex-col gap-2"},Je=d(()=>e("label",{for:"dba"},"DBA",-1)),Ke={class:"flex flex-col gap-2"},Xe=d(()=>e("label",{for:"name"},"Qualifier Name",-1)),Ye={class:"flex flex-col gap-2"},Ze=d(()=>e("label",{for:"secondary_status"},"License Status",-1)),$e={class:"flex flex-col gap-2"},eo=d(()=>e("label",{for:"license"},"License Expiration Date",-1)),oo={class:"flex flex-col gap-2"},ao=d(()=>e("label",{for:"license"},"Insurance Policy Number",-1)),so={class:"flex flex-col gap-2"},to=d(()=>e("label",{for:"license"},"Insurance Carrier",-1)),lo={class:"flex flex-col gap-2"},no=d(()=>e("label",{for:"username"},"User Name",-1)),io={class:"flex flex-col gap-2"},ro=d(()=>e("label",{for:"fname"},"Password",-1)),co=d(()=>e("div",{class:"font-semibold text-xm mb-4"},"Pick a password",-1)),mo=d(()=>e("ul",{class:"pl-2 ml-2 my-0 leading-normal"},[e("li",null,"At least one lowercase"),e("li",null,"At least one uppercase"),e("li",null,"At least one numeric"),e("li",null,"Minimum 8 characters")],-1)),po=d(()=>e("div",{class:"font-semibold text-xl"},"Contact Info",-1)),uo={class:"flex flex-wrap gap-4"},fo={class:"flex flex-col grow basis-0 gap-3"},_o=d(()=>e("label",{for:"addr"},"Business Address",-1)),ho={class:"flex flex-col grow basis-1 gap-3"},vo=d(()=>e("label",{for:"state"},"City",-1)),xo={class:"flex flex-wrap gap-2 w-full"},go=d(()=>e("label",{for:"state"},"State",-1)),bo={class:"flex flex-col grow basis-0 gap-3"},wo=d(()=>e("label",{for:"bphone"},"Business Phone",-1)),yo={class:"flex flex-col grow basis-0 gap-3"},Do=d(()=>e("label",{for:"cphone"},"Cell Phone Number",-1)),Vo={class:"flex flex-col grow basis-0 gap-3"},So=d(()=>e("label",{for:"email1"},"Email",-1)),Uo={class:"card md:w-1/4 flex justify-center flex-wrap gap-4"},ko=d(()=>e("div",{class:"flex flex-col items-center gap-2"},[e("span",{class:"text-xl font-medium"},"Scroll Down"),e("span",{class:"slidedown-icon h-8 w-8 bg-primary text-primary-contrast rounded-full inline-flex items-center justify-center"},[e("i",{class:"pi pi-arrow-down"})])],-1)),Co={class:"card md:w-1/3 flex flex-col gap-3"},Io=d(()=>e("label",{for:"addr"},"Upload Insurance Information",-1)),Fo={key:0};function Po(n,a,f,o,p,t){const c=ue,v=pe,u=me,D=ce,_=re,g=H,m=Q,h=Ae;return w(),y(R,null,[e("form",{class:"container w-1/2",onSubmit:a[16]||(a[16]=ne((...s)=>o.onSubmit&&o.onSubmit(...s),["prevent"])),style:{"margin-left":"300px"}},[e("div",Ee,[Ge,e("div",Oe,[He,l(c,{type:"text",modelValue:o.formDatas.license,"onUpdate:modelValue":a[0]||(a[0]=s=>o.formDatas.license=s),placeholder:"CRC000000",invalid:o.formDatas.license==="",onInput:o.checkLicense},null,8,["modelValue","invalid","onInput"])]),e("div",qe,[Qe,l(v,{id:"trad",modelValue:o.trades,"onUpdate:modelValue":a[1]||(a[1]=s=>o.trades=s),options:o.trade,optionLabel:"name",placeholder:"Select One",class:"w-full"},null,8,["modelValue","options"])]),e("div",We,[Je,l(c,{id:"dba",type:"text",modelValue:o.formDatas.dba,"onUpdate:modelValue":a[2]||(a[2]=s=>o.formDatas.dba=s),placeholder:" ",invalid:o.formDatas.dba===""},null,8,["modelValue","invalid"])]),e("div",Ke,[Xe,l(c,{id:"name",type:"text",modelValue:o.formDatas.name,"onUpdate:modelValue":a[3]||(a[3]=s=>o.formDatas.name=s),placeholder:" ",invalid:o.formDatas.name===""},null,8,["modelValue","invalid"])]),e("div",Ye,[Ze,l(c,{id:"secondary_status",type:"text",modelValue:o.formDatas.secondary_status,"onUpdate:modelValue":a[4]||(a[4]=s=>o.formDatas.secondary_status=s),placeholder:" ",invalid:o.formDatas.secondary_status===""},null,8,["modelValue","invalid"])]),e("div",$e,[eo,l(c,{id:"license",type:"text",modelValue:o.formDatas.expiration_date,"onUpdate:modelValue":a[5]||(a[5]=s=>o.formDatas.expiration_date=s),placeholder:" ",invalid:o.formDatas.expiration_date===""},null,8,["modelValue","invalid"])]),e("div",oo,[ao,l(c,{id:"license",type:"text",modelValue:o.formDatas.insurance,"onUpdate:modelValue":a[6]||(a[6]=s=>o.formDatas.insurance=s),placeholder:" ",invalid:o.formDatas.expiration_date===""},null,8,["modelValue","invalid"])]),e("div",so,[to,l(c,{id:"license",type:"text",modelValue:o.formDatas.carrier,"onUpdate:modelValue":a[7]||(a[7]=s=>o.formDatas.carrier=s),placeholder:" ",invalid:o.formDatas.expiration_date===""},null,8,["modelValue","invalid"])]),e("div",lo,[no,l(c,{id:"username",type:"text",modelValue:o.formDatas.username,"onUpdate:modelValue":a[8]||(a[8]=s=>o.formDatas.username=s),placeholder:"user name",invalid:o.formDatas.username===""},null,8,["modelValue","invalid"])]),e("div",io,[ro,l(D,{modelValue:o.formDatas.password,"onUpdate:modelValue":a[9]||(a[9]=s=>o.formDatas.password=s)},{header:I(()=>[co]),footer:I(()=>[l(u),mo]),_:1},8,["modelValue"]),po,e("div",uo,[e("div",fo,[_o,l(c,{id:"addr",type:"text",modelValue:o.formDatas.address,"onUpdate:modelValue":a[10]||(a[10]=s=>o.formDatas.address=s),placeholder:"address"},null,8,["modelValue"])]),e("div",ho,[vo,l(c,{id:"city",type:"text",modelValue:o.formDatas.city,"onUpdate:modelValue":a[11]||(a[11]=s=>o.formDatas.city=s),placeholder:"city"},null,8,["modelValue"])]),e("div",xo,[go,l(v,{id:"state",modelValue:o.dropdownItemst,"onUpdate:modelValue":a[12]||(a[12]=s=>o.dropdownItemst=s),options:o.dropdownItemSt,optionLabel:"name",placeholder:"Select One",class:"w-full"},null,8,["modelValue","options"])]),e("div",bo,[wo,l(_,{modelValue:o.formDatas.bphone,"onUpdate:modelValue":a[13]||(a[13]=s=>o.formDatas.bphone=s),mask:"(999) 999-9999",placeholder:"(999) 999-9999",invalid:o.formDatas.bphone===""},null,8,["modelValue","invalid"])]),e("div",yo,[Do,l(_,{modelValue:o.formDatas.cphone,"onUpdate:modelValue":a[14]||(a[14]=s=>o.formDatas.cphone=s),mask:"(999) 999-9999",placeholder:"(999) 999-9999",invalid:o.formDatas.cphone===""},null,8,["modelValue","invalid"])]),e("div",Vo,[So,l(c,{id:"email1",modelValue:o.formDatas.email,"onUpdate:modelValue":a[15]||(a[15]=s=>o.formDatas.email=s),type:"text",placeholder:"email",invalid:o.formDatas.email===""},null,8,["modelValue","invalid"])])]),e("div",Uo,[l(g,{label:"Submit",severity:"contrast",raised:"",onClick:o.onSubmit,disabled:o.disabled},null,8,["onClick","disabled"])])]),ko,e("div",Co,[Io,l(m),l(h)])])],32),n.responseMessage?(w(),y("p",Fo,C(n.responseMessage),1)):j("",!0)],64)}const Ko=ae(je,[["render",Po],["__scopeId","data-v-dfc58c1d"]]);export{Ko as default};
