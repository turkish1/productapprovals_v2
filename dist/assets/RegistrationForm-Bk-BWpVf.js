import{s as A}from"./index-ZKLJJLpt.js";import{B as E,g as k,m as F,i as R,s as L,r as K,o as _,c as j,n as O,d as $,a as f,b as y,_ as G,e as z,u as q,f as V,h as H,t as Z,j as w,k as o,l as u,w as P,p as Q,q as J,v as W,F as X,x as Y,y as ee,z as te}from"./index-_A6763ij.js";import{s as se}from"./index-Bte6xSLQ.js";import{s as B}from"./index-CS2nY_Tu.js";import{s as ae}from"./index-CWtPEhtb.js";import{s as le}from"./index-CdFMesHr.js";import{s as ie}from"./index-DHasu5x9.js";import{D}from"./DataService-CyJ9LaQ4.js";import"./index-CtogYQG3.js";import"./index-Thqx6_zA.js";import"./index-BeUaI9Uh.js";var oe={root:function(e){var s=e.instance;return["p-inputmask",{"p-filled":s.filled}]}},ne=E.extend({name:"inputmask",classes:oe}),re={name:"BaseInputMask",extends:L,props:{modelValue:null,slotChar:{type:String,default:"_"},class:{type:[String,Object],default:null},mask:{type:String,default:null},placeholder:{type:String,default:null},autoClear:{type:Boolean,default:!0},unmask:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},variant:{type:String,default:null},fluid:{type:Boolean,default:null}},style:ne,provide:function(){return{$pcInputMask:this,$parentInstance:this}}},I={name:"InputMask",extends:re,inheritAttrs:!1,emits:["update:modelValue","focus","blur","keydown","complete","keypress","paste"],inject:{$pcFluid:{default:null}},watch:{mask:function(e,s){s!==e&&this.initMask()}},mounted:function(){this.initMask()},updated:function(){this.isValueUpdated()&&this.updateValue()},methods:{onInput:function(e){this.androidChrome?this.handleAndroidInput(e):this.handleInputChange(e),this.$emit("update:modelValue",e.target.value)},onFocus:function(e){var s=this;if(!this.readonly){this.focus=!0,clearTimeout(this.caretTimeoutId);var t;this.focusText=this.$el.value,t=this.checkVal(),this.caretTimeoutId=setTimeout(function(){s.$el===document.activeElement&&(s.writeBuffer(),t===s.mask.replace("?","").length?s.caret(0,t):s.caret(t))},10),this.$emit("focus",e)}},onBlur:function(e){if(this.focus=!1,this.checkVal(),this.updateModel(e),this.$el.value!==this.focusText){var s=document.createEvent("HTMLEvents");s.initEvent("change",!0,!1),this.$el.dispatchEvent(s)}this.$emit("blur",e)},onKeyDown:function(e){if(!this.readonly){var s=e.code,t,a,i,n=/iphone/i.test(k());this.oldVal=this.$el.value,s==="Backspace"||s==="Delete"||n&&s==="Escape"?(t=this.caret(),a=t.begin,i=t.end,i-a===0&&(a=s!=="Delete"?this.seekPrev(a):i=this.seekNext(a-1),i=s==="Delete"?this.seekNext(i):i),this.clearBuffer(a,i),this.shiftL(a,i-1),this.updateModel(e),e.preventDefault()):s==="Enter"?(this.$el.blur(),this.updateModel(e)):s==="Escape"&&(this.$el.value=this.focusText,this.caret(0,this.checkVal()),this.updateModel(e),e.preventDefault()),this.$emit("keydown",e)}},onKeyPress:function(e){var s=this;if(!this.readonly){var t=e.code,a=this.caret(),i,n,h,m;if(!(e.ctrlKey||e.altKey||e.metaKey||e.shiftKey||e.key==="CapsLock"||e.key==="Escape"||e.key==="Tab")){if(t&&t!=="Enter"){if(a.end-a.begin!==0&&(this.clearBuffer(a.begin,a.end),this.shiftL(a.begin,a.end-1)),i=this.seekNext(a.begin-1),i<this.len&&(n=e.key,this.tests[i].test(n))){if(this.shiftR(i),this.buffer[i]=n,this.writeBuffer(),h=this.seekNext(i),/android/i.test(k())){var p=function(){s.caret(h)};setTimeout(p,0)}else this.caret(h);a.begin<=this.lastRequiredNonMaskPos&&(m=this.isCompleted())}e.preventDefault()}this.updateModel(e),m&&this.$emit("complete",e),this.$emit("keypress",e)}}},onPaste:function(e){this.handleInputChange(e),this.$emit("paste",e)},caret:function(e,s){var t,a,i;if(!(!this.$el.offsetParent||this.$el!==document.activeElement))if(typeof e=="number")a=e,i=typeof s=="number"?s:a,this.$el.setSelectionRange?this.$el.setSelectionRange(a,i):this.$el.createTextRange&&(t=this.$el.createTextRange(),t.collapse(!0),t.moveEnd("character",i),t.moveStart("character",a),t.select());else return this.$el.setSelectionRange?(a=this.$el.selectionStart,i=this.$el.selectionEnd):document.selection&&document.selection.createRange&&(t=document.selection.createRange(),a=0-t.duplicate().moveStart("character",-1e5),i=a+t.text.length),{begin:a,end:i}},isCompleted:function(){for(var e=this.firstNonMaskPos;e<=this.lastRequiredNonMaskPos;e++)if(this.tests[e]&&this.buffer[e]===this.getPlaceholder(e))return!1;return!0},getPlaceholder:function(e){return e<this.slotChar.length?this.slotChar.charAt(e):this.slotChar.charAt(0)},seekNext:function(e){for(;++e<this.len&&!this.tests[e];);return e},seekPrev:function(e){for(;--e>=0&&!this.tests[e];);return e},shiftL:function(e,s){var t,a;if(!(e<0)){for(t=e,a=this.seekNext(s);t<this.len;t++)if(this.tests[t]){if(a<this.len&&this.tests[t].test(this.buffer[a]))this.buffer[t]=this.buffer[a],this.buffer[a]=this.getPlaceholder(a);else break;a=this.seekNext(a)}this.writeBuffer(),this.caret(Math.max(this.firstNonMaskPos,e))}},shiftR:function(e){var s,t,a,i;for(s=e,t=this.getPlaceholder(e);s<this.len;s++)if(this.tests[s])if(a=this.seekNext(s),i=this.buffer[s],this.buffer[s]=t,a<this.len&&this.tests[a].test(i))t=i;else break},handleAndroidInput:function(e){var s=this.$el.value,t=this.caret();if(this.oldVal&&this.oldVal.length&&this.oldVal.length>s.length){for(this.checkVal(!0);t.begin>0&&!this.tests[t.begin-1];)t.begin--;if(t.begin===0)for(;t.begin<this.firstNonMaskPos&&!this.tests[t.begin];)t.begin++;this.caret(t.begin,t.begin)}else{for(this.checkVal(!0);t.begin<this.len&&!this.tests[t.begin];)t.begin++;this.caret(t.begin,t.begin)}this.isCompleted()&&this.$emit("complete",e)},clearBuffer:function(e,s){var t;for(t=e;t<s&&t<this.len;t++)this.tests[t]&&(this.buffer[t]=this.getPlaceholder(t))},writeBuffer:function(){this.$el.value=this.buffer.join("")},checkVal:function(e){this.isValueChecked=!0;var s=this.$el.value,t=-1,a,i,n;for(a=0,n=0;a<this.len;a++)if(this.tests[a]){for(this.buffer[a]=this.getPlaceholder(a);n++<s.length;)if(i=s.charAt(n-1),this.tests[a].test(i)){this.buffer[a]=i,t=a;break}if(n>s.length){this.clearBuffer(a+1,this.len);break}}else this.buffer[a]===s.charAt(n)&&n++,a<this.partialPosition&&(t=a);return e?this.writeBuffer():t+1<this.partialPosition?this.autoClear||this.buffer.join("")===this.defaultBuffer?(this.$el.value&&(this.$el.value=""),this.clearBuffer(0,this.len)):this.writeBuffer():(this.writeBuffer(),this.$el.value=this.$el.value.substring(0,t+1)),this.partialPosition?a:this.firstNonMaskPos},handleInputChange:function(e){var s=e.type==="paste";if(!(this.readonly||s)){var t=this.checkVal(!0);this.caret(t),this.updateModel(e),this.isCompleted()&&this.$emit("complete",e)}},getUnmaskedValue:function(){for(var e=[],s=0;s<this.buffer.length;s++){var t=this.buffer[s];this.tests[s]&&t!==this.getPlaceholder(s)&&e.push(t)}return e.join("")},updateModel:function(e){var s=this.unmask?this.getUnmaskedValue():e.target.value;this.$emit("update:modelValue",this.defaultBuffer!==s?s:"")},updateValue:function(){var e=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.$el&&(this.modelValue==null?(this.$el.value="",s&&this.$emit("update:modelValue","")):(this.$el.value=this.modelValue,this.checkVal(),setTimeout(function(){if(e.$el&&(e.writeBuffer(),e.checkVal(),s)){var t=e.unmask?e.getUnmaskedValue():e.$el.value;e.$emit("update:modelValue",e.defaultBuffer!==t?t:"")}},10)),this.focusText=this.$el.value)},initMask:function(){this.tests=[],this.partialPosition=this.mask.length,this.len=this.mask.length,this.firstNonMaskPos=null,this.defs={9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"};var e=k();this.androidChrome=/chrome/i.test(e)&&/android/i.test(e);for(var s=this.mask.split(""),t=0;t<s.length;t++){var a=s[t];a==="?"?(this.len--,this.partialPosition=t):this.defs[a]?(this.tests.push(new RegExp(this.defs[a])),this.firstNonMaskPos===null&&(this.firstNonMaskPos=this.tests.length-1),t<this.partialPosition&&(this.lastRequiredNonMaskPos=this.tests.length-1)):this.tests.push(null)}this.buffer=[];for(var i=0;i<s.length;i++){var n=s[i];n!=="?"&&(this.defs[n]?this.buffer.push(this.getPlaceholder(i)):this.buffer.push(n))}this.defaultBuffer=this.buffer.join(""),this.updateValue(!1)},isValueUpdated:function(){return this.unmask?this.modelValue!=this.getUnmaskedValue():this.defaultBuffer!==this.$el.value&&this.$el.value!==this.modelValue}},computed:{filled:function(){return this.modelValue!=null&&this.modelValue.toString().length>0},inputClass:function(){return[this.cx("root"),this.class]},rootPTOptions:function(){return F(this.ptmi("root",this.ptmParams),this.ptm("pcInputText",this.ptmParams))},ptmParams:function(){return{context:{filled:this.filled}}},hasFluid:function(){return R(this.fluid)?!!this.$pcFluid:this.fluid}},components:{InputText:B}};function de(l,e,s,t,a,i){var n=K("InputText");return _(),j(n,{value:l.modelValue,class:O(i.inputClass),readonly:l.readonly,disabled:l.disabled,invalid:l.invalid,variant:l.variant,placeholder:l.placeholder,fluid:i.hasFluid,unstyled:l.unstyled,onInput:i.onInput,onFocus:i.onFocus,onBlur:i.onBlur,onKeydown:i.onKeyDown,onKeypress:i.onKeyPress,onPaste:i.onPaste,pt:i.rootPTOptions},null,8,["value","class","readonly","disabled","invalid","variant","placeholder","fluid","unstyled","onInput","onFocus","onBlur","onKeydown","onKeypress","onPaste","pt"])}I.render=de;const ue=$("auth",{state:()=>({user:f({}),message:f("")}),getters:{userFirstName:l=>{if(l.user.name)return l.user.name.charAt(0).toUpperCase()+l.user.name.slice(1)}},actions:{async register(l,e,s){const t={createdName:l,createdUserName:e,createdPassword:s};myFetch("register","POST",t).then(a=>{a.response.value.message?this.message=a.response.value.message:(this.user=a.response.value,y.push("/"))})},async login(l,e){const s={username:l,password:e};myFetch("login","POST",s).then(t=>{this.user=t.response.value.user,y.push("/")})},logout(){this.$reset(),y.push("/")}},greeting:{enabled:!1}}),ce={setup(){const l=f(null),{authStore:e}=ue(),{message:s}=z(e),t=f(""),a=q();let i=f(!1);const n=f({license:"",dba:"",name:"",username:"",password:"",secondary_status:"",expiration_date:"",address:"",projects:[],password:"",cphone:"",phone:"",email:"",date:new Date});V(()=>{D.getContractors().then(c=>{l.value=c.data.result,console.log(l.value)}).catch(c=>{console.log(c)})});const h=async()=>{await D.postAccount(n.value).then(c=>{t.value="Form submitted successfully!",n.value=""}).catch(c=>{t.value="An error occurred while submitting the form.",console.error("Error:",c)})};function m(){l.value.forEach(c=>{const T=Date.now();n.value.license===c.alt_license&&(n.value.dba=c.DBA,n.value.name=c.name,n.value.secondary_status=c.secondary_status,n.value.expiration_date=c.expiration_date,n.value.address=c.address1),n.value.secondary_status!=="A"&&(console.log("Not active",n.value.secondary_status),alert("License is not Activite "),i=!0),c.expiration_date<T&&(console.log("Expired"),alert("Expired License"),i=!0)})}const p=()=>{a.push("/auth/login")},g=H(),v=f(),b=()=>{v.value.upload()},x=()=>{g.add({severity:"constrast",summary:"Contrast",detail:"File Uploaded",life:3e3})},r=f([{name:"Florida",code:"Florida"},{name:"Georgia",code:"Georgia"}]),C=f([{name:"Miami",code:"Miami"},{name:"Homestead",code:"Homestead"},{name:"Miami Beach",code:"Miami Beach"},{name:"Miami Gardens",code:"Miami Gardens"}]),M=f([{name:"Roofing Contractor",code:"Roofing"},{name:"General Contractor",code:"General"}]),S=f(null),U=f(null),N=f(null);return{formDatas:n,...Z(n),disabled:i,checkLicense:m,navigateNext:p,authStore:e,message:s,trade:M,trades:S,onSubmit:h,onUpload:x,onMounted:V,upload:b,dropdownItemCt:C,dropdownItemSt:r,dropdownItemct:N,dropdownItemst:U}}},d=l=>(Y("data-v-b4cc831b"),l=l(),ee(),l),fe={class:"card flex flex-col gap-7"},he=d(()=>o("div",{class:"font-semibold text-xl"},"Contractor Information",-1)),me={class:"flex flex-col gap-2"},pe=d(()=>o("label",{for:"lic1"},"State of Florida License No.",-1)),ge={class:"flex flex-wrap gap-2"},ve=d(()=>o("label",{for:"trade"},"Trade",-1)),be={class:"flex flex-col gap-2"},xe=d(()=>o("label",{for:"dba"},"DBA",-1)),ke={class:"flex flex-col gap-2"},ye=d(()=>o("label",{for:"name"},"Qualifier Name",-1)),_e={class:"flex flex-col gap-2"},Ve=d(()=>o("label",{for:"secondary_status"},"License Status",-1)),we={class:"flex flex-col gap-2"},Pe=d(()=>o("label",{for:"license"},"License Expiration Date",-1)),De={class:"flex flex-col gap-2"},Be=d(()=>o("label",{for:"username"},"User Name",-1)),Ie={class:"flex flex-col gap-2"},Ce=d(()=>o("label",{for:"fname"},"Password",-1)),Me=d(()=>o("div",{class:"font-semibold text-xm mb-4"},"Pick a password",-1)),Se=d(()=>o("ul",{class:"pl-2 ml-2 my-0 leading-normal"},[o("li",null,"At least one lowercase"),o("li",null,"At least one uppercase"),o("li",null,"At least one numeric"),o("li",null,"Minimum 8 characters")],-1)),Ue=d(()=>o("div",{class:"font-semibold text-xl"},"Contact Info",-1)),Ne={class:"flex flex-wrap gap-4"},Te={class:"flex flex-col grow basis-0 gap-3"},Ae=d(()=>o("label",{for:"addr"},"Business Address",-1)),Ee={class:"flex flex-wrap gap-2 w-full"},Fe=d(()=>o("label",{for:"state"},"City",-1)),Re={class:"flex flex-wrap gap-2 w-full"},Le=d(()=>o("label",{for:"state"},"State",-1)),Ke={class:"flex flex-col grow basis-0 gap-3"},je=d(()=>o("label",{for:"bphone"},"Business Phone",-1)),Oe={class:"flex flex-col grow basis-0 gap-3"},$e=d(()=>o("label",{for:"cphone"},"Cell Phone Number",-1)),Ge={class:"flex flex-col grow basis-0 gap-3"},ze=d(()=>o("label",{for:"email1"},"Email",-1)),qe={class:"card md:w-1/4 flex justify-center flex-wrap gap-4"},He=d(()=>o("div",{class:"flex flex-col items-center gap-2"},[o("span",{class:"text-xl font-medium"},"Scroll Down"),o("span",{class:"slidedown-icon h-8 w-8 bg-primary text-primary-contrast rounded-full inline-flex items-center justify-center"},[o("i",{class:"pi pi-arrow-down"})])],-1)),Ze={class:"card md:w-1/3 flex flex-col gap-3"},Qe=d(()=>o("label",{for:"addr"},"Upload Insurance Information",-1)),Je={key:0};function We(l,e,s,t,a,i){const n=B,h=ie,m=le,p=ae,g=I,v=se,b=te,x=A;return _(),w(X,null,[o("form",{class:"container w-1/2",onSubmit:e[14]||(e[14]=Q((...r)=>t.onSubmit&&t.onSubmit(...r),["prevent"])),style:{"margin-left":"300px"}},[o("div",fe,[he,o("div",me,[pe,u(n,{type:"text",modelValue:t.formDatas.license,"onUpdate:modelValue":e[0]||(e[0]=r=>t.formDatas.license=r),placeholder:"CRC000000",invalid:t.formDatas.license==="",onInput:t.checkLicense},null,8,["modelValue","invalid","onInput"])]),o("div",ge,[ve,u(h,{id:"trad",modelValue:t.trades,"onUpdate:modelValue":e[1]||(e[1]=r=>t.trades=r),options:t.trade,optionLabel:"name",placeholder:"Select One",class:"w-full"},null,8,["modelValue","options"])]),o("div",be,[xe,u(n,{id:"dba",type:"text",modelValue:t.formDatas.dba,"onUpdate:modelValue":e[2]||(e[2]=r=>t.formDatas.dba=r),placeholder:" ",invalid:t.formDatas.dba===""},null,8,["modelValue","invalid"])]),o("div",ke,[ye,u(n,{id:"name",type:"text",modelValue:t.formDatas.name,"onUpdate:modelValue":e[3]||(e[3]=r=>t.formDatas.name=r),placeholder:" ",invalid:t.formDatas.name===""},null,8,["modelValue","invalid"])]),o("div",_e,[Ve,u(n,{id:"secondary_status",type:"text",modelValue:t.formDatas.secondary_status,"onUpdate:modelValue":e[4]||(e[4]=r=>t.formDatas.secondary_status=r),placeholder:" ",invalid:t.formDatas.secondary_status===""},null,8,["modelValue","invalid"])]),o("div",we,[Pe,u(n,{id:"license",type:"text",modelValue:t.formDatas.expiration_date,"onUpdate:modelValue":e[5]||(e[5]=r=>t.formDatas.expiration_date=r),placeholder:" ",invalid:t.formDatas.expiration_date===""},null,8,["modelValue","invalid"])]),o("div",De,[Be,u(n,{id:"username",type:"text",modelValue:t.formDatas.username,"onUpdate:modelValue":e[6]||(e[6]=r=>t.formDatas.username=r),placeholder:"user name",invalid:t.formDatas.username===""},null,8,["modelValue","invalid"])]),o("div",Ie,[Ce,u(p,{modelValue:t.formDatas.password,"onUpdate:modelValue":e[7]||(e[7]=r=>t.formDatas.password=r)},{header:P(()=>[Me]),footer:P(()=>[u(m),Se]),_:1},8,["modelValue"]),Ue,o("div",Ne,[o("div",Te,[Ae,u(n,{id:"addr",type:"text",modelValue:t.formDatas.address,"onUpdate:modelValue":e[8]||(e[8]=r=>t.formDatas.address=r),placeholder:"address"},null,8,["modelValue"])]),o("div",Ee,[Fe,u(h,{id:"state",modelValue:t.dropdownItemct,"onUpdate:modelValue":e[9]||(e[9]=r=>t.dropdownItemct=r),options:t.dropdownItemCt,optionLabel:"name",placeholder:"Select One",class:"w-full"},null,8,["modelValue","options"])]),o("div",Re,[Le,u(h,{id:"state",modelValue:t.dropdownItemst,"onUpdate:modelValue":e[10]||(e[10]=r=>t.dropdownItemst=r),options:t.dropdownItemSt,optionLabel:"name",placeholder:"Select One",class:"w-full"},null,8,["modelValue","options"])]),o("div",Ke,[je,u(g,{modelValue:t.formDatas.bphone,"onUpdate:modelValue":e[11]||(e[11]=r=>t.formDatas.bphone=r),mask:"(999) 999-9999",placeholder:"(999) 999-9999",invalid:t.formDatas.bphone===""},null,8,["modelValue","invalid"])]),o("div",Oe,[$e,u(g,{modelValue:t.formDatas.cphone,"onUpdate:modelValue":e[12]||(e[12]=r=>t.formDatas.cphone=r),mask:"(999) 999-9999",placeholder:"(999) 999-9999",invalid:t.formDatas.cphone===""},null,8,["modelValue","invalid"])]),o("div",Ge,[ze,u(n,{id:"email1",modelValue:t.formDatas.email,"onUpdate:modelValue":e[13]||(e[13]=r=>t.formDatas.email=r),type:"text",placeholder:"email",invalid:t.formDatas.email===""},null,8,["modelValue","invalid"])])]),o("div",qe,[u(v,{label:"Submit",severity:"contrast",raised:"",onClick:t.navigateNext},null,8,["onClick"])])]),He,o("div",Ze,[Qe,u(b),u(x,{ref:"fileupload",mode:"basic",name:"demo[]",url:"http://localhost:8080/upload",accept:"*",maxFileSize:1e10,onUpload:t.onUpload},null,8,["onUpload"]),u(v,{label:"Upload",onClick:t.upload,severity:"contrast",disabled:t.disabled},null,8,["onClick","disabled"])])])],32),l.responseMessage?(_(),w("p",Je,J(l.responseMessage),1)):W("",!0)],64)}const dt=G(ce,[["render",We],["__scopeId","data-v-b4cc831b"]]);export{dt as default};
