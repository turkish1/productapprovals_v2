import{M as f,e as s,j as v}from"./index-Bm5gC8i2.js";import{u as D}from"./useAxios-CTuPseIw.js";const _=f("downloadinput",{state:()=>({downloadinput:[],id:0}),actions:{addDownload(n){this.downloadinput.push({downloadData:n,completed:!1})},reset(){this.$reset()}}});function L(n){s();const t=s(""),d=s(""),r=s(n),a=v({status:"",message:"",download_url:"",isFinished:"",isLoading:""}),h=s(),p=s("");let g="https://iovfrep3fext25yjg3o4i45aha0txkav.lambda-url.us-east-1.on.aws/";const{execute:u,then:y,data:F}=D(g,{method:"GET"},{immediate:!1}),l=_();function m(){if(t.value=r.value+"/",console.log(t.value),t.value==="undefined/")return"";i()}const i=async()=>{try{const o=await u({params:{processnumber:t.value}}).then(e=>(a.status=e.response.value.status,a.download_url=e.data.value.download_url,a.message=e.data.value.message,a.isFinished=e.isFinished,a.isLoading=e.isLoading,e));return l.addDownload(a),a}catch(o){console.log("Error, fectching data",o)}};async function w(o){console.log(o),d.value=o.processNumber+"/",console.log(d.value),console.log(o.processNumber),await c()}const c=async()=>{try{const o=await u({params:{processnumber:d.value}}).then(e=>(a.status=e.response.value.status,a.download_url=e.data.value.download_url,a.message=e.data.value.message,a.isFinished=e.isFinished,a.isLoading=e.isLoading,e));return l.addDownload(a),a}catch(o){console.log("Error, fectching data",o)}};return{error:p,result:a,secondFetch:w,fetchDataDownload:c,sentInputs:r,getNumber:m,zip_download_url:h,store:l,fetchData:i}}export{_ as a,L as u};
