import{s as ra}from"./index-rjzQmQBq.js";import{s as gt}from"./index-BblH2b0K.js";import{s as Ve}from"./index-DabHtBcN.js";import{_ as yt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{e as r,o as x,c as z,j as u,v as W,i as l,p as il,q as nl,f as X,H as Ae,h as vt,I as A,w as V,k as f,ad as ua,ae as sl,al as Q,x as D,K as c,ah as S,a as Y,t as J,d as B,aj as da,L as ca,J as ol,F as Te,z as ma,ai as pa,aq as L,X as je,as as mt,ar as pt,am as fa,T as ga,ao as va}from"./index-BK0gdGhM.js";import{d as ya,e as _a,f as ha,u as ba,a as Sa,b as xa,_ as Da,c as Va}from"./exposure_d-C6pSKlY3.js";import{s as Aa}from"./index-BzDGlNjC.js";import{_ as Ke,s as Ta}from"./index-Uzaxz_6l.js";import{u as wa,a as Ua,d as Ma,b as ka,c as Ea,_ as Ca}from"./use-systemMechNumber-DfIRwIhr.js";import{s as Na}from"./index-DuqtrPPG.js";import{s as za}from"./index-DhabHclw.js";import{s as Pa}from"./index-wRd18QYE.js";import{a as La}from"./use-tileMechanical-DKmvJUYT.js";import{u as rl}from"./roofList-D97v9rBd.js";import{s as ft}from"./index-BDAbJ3p3.js";import"./useAxios-BNdcIgNP.js";import"./index-B4ZV_dhD.js";import"./useDripedge-BYlL9olH.js";import"./index-DTsxBjJy.js";import"./index-Cabau7-h.js";import"./index-DllVr4bB.js";import"./index-nLHWq3QI.js";const me=M=>(il("data-v-d98d2617"),M=M(),nl(),M),Ba={class:"card-system flex justify-center"},Fa=me(()=>l("div",{class:"grid grid-cols-1 gap-2 place-content-center h-8 ..."},[l("p",{class:"text-center text-red-600"},"mEPermit Application")],-1)),Oa=me(()=>l("div",{class:"grid grid-cols-1 gap-2 place-content-center h-16 ..."},[l("p",{class:"text-center text-red-600"},"High Velocity Hurricane Zone (HVHZ)")],-1)),$a=me(()=>l("div",{class:"grid grid-cols-1 gap-2 place-content-center h-12 ..."},[l("p",{class:"text-center text-red-600"},"Concrete & Clay Roof Tiles")],-1)),Ia=me(()=>l("div",{class:"grid grid-cols-1 gap-2 place-content-center h-16 ..."},[l("p",{class:"text-center text-red-600"}," The tile roof system and its components shall be installed in strict compliance with the FBC 2023 HVHZ portions of Chapter 15, the HVHZ Tile Application Standards: RAS-119, RAS-120 & RAS-127 and the submitted MDC Notice of Acceptance(s). ")],-1)),ja=me(()=>l("div",{class:"grid grid-cols-1 gap-2 place-content-center h-12 ..."},[l("p",{class:"text-center text-red-600"},"The mePermit applicant agrees to comply with these installation requirements when obtaining this permit.")],-1)),Ka={class:"flex justify-end gap-2"},Ra=me(()=>l("label",{class:"ml-2"}," I Agree",-1)),Ha={__name:"AgreementsDialogMechTile",setup(M){const w=r(!0),ee=r(null);return(F,k)=>{const ne=Ve,pe=gt,se=ra;return x(),z("div",Ba,[u(se,{visible:w.value,"onUpdate:visible":k[2]||(k[2]=E=>w.value=E),modal:"",header:"Terms Of Use",style:{width:"70rem"}},{default:W(()=>[Fa,u(ne),Oa,$a,Ia,ja,l("div",Ka,[Ra,u(pe,{modelValue:F.agreement,"onUpdate:modelValue":k[0]||(k[0]=E=>F.agreement=E),value:"1",invalid:ee.value===null,onClick:k[1]||(k[1]=E=>w.value=!1)},null,8,["modelValue","invalid"])])]),_:1},8,["visible"])])}}},Za=yt(Ha,[["__scopeId","data-v-d98d2617"]]),qa={class:"input-wrapper"},Ja=["for"],Wa=["id","type","value","placeholder","disabled"],Ga={__name:"AnchorInputWrapper",props:{id:{type:String,required:!0},modelValue:{type:[String,Number],default:""},type:{type:String,default:"text"},placeholder:{type:String,default:""},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(M){return(w,ee)=>(x(),z("div",qa,[l("label",{for:M.id,class:"label"},"Anchor Base Sheet",8,Ja),l("input",{id:M.id,type:M.type,value:M.modelValue,placeholder:M.placeholder,disabled:M.disabled,onInput:ee[0]||(ee[0]=F=>w.$emit("update:modelValue",F.target.value)),class:"input-text"},null,40,Wa)]))}},Xa=yt(Ga,[["__scopeId","data-v-2a216984"]]),m=M=>(il("data-v-09ccef39"),M=M(),nl(),M),Qa={id:"tile",class:"inner mx-auto max-w-5xl p-6 dark:bg-gray-800 rounded-2xl shadow-lg grid grid-cols-1 md:grid-cols-2 gap-4",style:{"margin-left":"150px"}},Ya={class:"w-64 gap-2 mt-3 space-y-2",style:{"margin-left":"20px","margin-top":"30px"}},es={class:"w-64 gap-2 mt-3 space-y-2",style:{"margin-left":"20px"}},ts=m(()=>l("label",{for:"slope"},"Roof Slope",-1)),ls=m(()=>l("label",{class:"px-2",style:{color:"red"}},"*",-1)),as={class:"w-64 gap-2 mt-3 space-y-2",style:{"margin-left":"20px"}},ss=m(()=>l("label",{style:{color:"#122620"},for:"area"},"Area of Tile",-1)),os={class:"w-64 mt-3 space-y-2",style:{"margin-left":"20px"}},is=m(()=>l("label",{for:"height"},"Height",-1)),ns=m(()=>l("label",{class:"px-2",style:{color:"red"}},"*",-1)),rs={class:"w-64 mt-3 ...",style:{"margin-left":"20px"}},us=m(()=>l("label",{for:"perimeter"},"Roof Perimeter(a) = 4h",-1)),ds={class:"min-w-[780px] flex flex-col mb-4 mt-6 gap-3 space-y-2",style:{"margin-left":"20px"}},cs=m(()=>l("label",{style:{color:"#122620"},for:"underlaymentType"},"Select Underlayment (UDL) and/or Tile Capsheet",-1)),ms={class:"grid grid-cols-1 md:grid-cols-1 gap-2"},ps={class:"w-128 mt-6 flex flex-col gap-2 border-2 border-gray-700 focus:border-orange-600",style:{"margin-left":"50px"}},fs=m(()=>l("label",{style:{color:"red"}},"Select Exposure *",-1)),gs={class:"flex items-center space-x-4"},vs={class:"field-radiobutton space-x-4 gap-2 border-2 border-gray-700 focus:border-orange-600"},ys=m(()=>l("label",{for:"option3"},"C",-1)),_s={class:"field-radiobutton space-x-4 gap-2 border-2 border-gray-700 focus:border-orange-600"},hs=m(()=>l("label",{for:"option4"},"D",-1)),bs=m(()=>l("div",null,null,-1)),Ss={class:"px-12"},xs={class:"grid grid-cols-2 md:grid-cols-3 gap-2",style:{"margin-left":"75px"}},Ds={class:"border-2 border-gray-700 rounded-md p-4 flex flex-col justify-start gap-4"},Vs=m(()=>l("label",{for:"tilenoa"},"Tile NOA: 00000000",-1)),As={key:0,class:"mt-2 max-h-48 overflow-auto border rounded-md divide-y bg-white"},Ts=["onMousedown"],ws={key:0,class:"absolute inset-0 bg-black/20 backdrop-blur-[1px] flex items-center justify-center rounded-lg"},Us={key:0,class:"border-2 border-gray-700 rounded-md p-4 flex flex-col justify-start gap-4"},Ms={class:"grid grid-cols-2 gap-2"},ks={key:0,class:"col-span-2 flex items-center justify-center p-4"},Es=m(()=>l("span",{class:"ml-2"},"Loading UDL data...",-1)),Cs={key:1,class:"grid grid-cols-2 md:grid-cols-2 gap-4",style:{"margin-left":"40px"}},Ns={class:"min-w-[30px] flex flex-col gap-2 border-2 border-gray-700 focus:border-orange-600"},zs=m(()=>l("label",{style:{color:"#122620"},for:"manufacturer"},"(UDL) NOA Applicant",-1)),Ps={class:"w-1/2 border-2 p-2 border-gray-700 focus:border-orange-600"},Ls=m(()=>l("label",{style:{color:"#122620"},for:"material"},"(UDL) Material",-1)),Bs={class:"w-1/2 border-2 p-2 border-gray-700 focus:border-orange-600"},Fs=m(()=>l("label",{style:{color:"red"}},"Select System E *",-1)),Os={class:"w-1/2 border-2 p-2 border-gray-700 focus:border-orange-600"},$s=m(()=>l("label",{style:{color:"#122620"},for:"designPressure"},"Design psf:",-1)),Is={class:"grid grid-cols-1 gap-2 border-gray-700 focus:border-orange-600",style:{"margin-left":"2px"}},js={class:"min-w-[1080px] flex flex-col gap-2 border-2 border-gray-700 focus:border-orange-600"},Ks={class:"min-w-[480px] flex flex-col gap-2 border-2 border-gray-700 focus:border-orange-600"},Rs=m(()=>l("label",{style:{color:"#122620"},for:"description"},"(UDL) Description",-1)),Hs={class:"grid grid-cols-2 md:grid-cols-2 gap-4",style:{"margin-left":"50px"}},Zs={class:"w-1/2 border-2 p-2 border-gray-700 focus:border-orange-600"},qs=m(()=>l("label",{style:{color:"#122620"},for:"saapplicant"},"S/A Applicant",-1)),Js={class:"w-1/2 border-2 p-2 border-gray-700 focus:border-orange-600"},Ws=m(()=>l("label",{style:{color:"#122620"},for:"samaterial"},"S/A Material Type",-1)),Gs={class:"w-1/2 border-2 p-2 border-gray-700 focus:border-orange-600"},Xs=m(()=>l("label",{style:{color:"red"}},"Select System F * ",-1)),Qs={class:"w-1/2 border-2 p-2 border-gray-700 focus:border-orange-600"},Ys=m(()=>l("label",{style:{color:"#122620"},for:"designpressure"},"Design psf: ",-1)),eo={class:"min-w-[490px] flex flex-col gap-2 border-2 border-gray-700 focus:border-orange-600"},to=m(()=>l("label",{style:{color:"#122620"},for:"sadescription"},"S/A Description",-1)),lo={key:2,class:"w-2/3 flex flex-col border-2 p-2 gap-2 border-gray-700 focus:border-orange-600"},ao={class:"grid grid-cols-2 md:grid-cols-2 gap-2",style:{"margin-left":"30px"}},so={class:"min-w-[350px] flex flex-col gap-2 border-2 border-gray-700 focus:border-orange-600"},oo=m(()=>l("label",{style:{color:"#122620"},for:"manufacturer"},"Tile Applicant",-1)),io={class:"w-1/2 border-2 p-2 border-gray-700 focus:border-orange-600"},no=m(()=>l("label",{style:{color:"#122620"},for:"material"},"Tile Material",-1)),ro={class:"w-1/2 border-2 p-2 border-gray-700 focus:border-orange-600"},uo={class:"w-72 flex flex-col gap-2 border-2 border-gray-700 focus:border-orange-600"},co=m(()=>l("label",{style:{color:"red"}},"Select Mechanical Tile Fastener *",-1)),mo=m(()=>l("div",null,null,-1)),po={class:"w-3/4 border-2 p-2 gap-4 border-gray-700 focus:border-orange-600"},fo=m(()=>l("label",{style:{color:"#122620"},for:"description"},"Tile Description",-1)),go={class:"w-full flex flex-row mt-8 space-x-10",style:{"margin-left":"30px"}},vo={class:"min-w-[200px] flex flex-col gap-2 border-2 border-gray-700 focus:border-orange-600"},yo=m(()=>l("label",{style:{color:"#122620"},for:"selecttile"},"Tile Type",-1)),_o={class:"w-72 flex flex-col gap-2 border-2 border-gray-700 focus:border-orange-600",style:{"margin-left":"30px"}},ho=m(()=>l("label",{style:{color:"red"}},"Select Mechanical Tiles Fastnener *",-1)),bo={class:"grid grid-cols-2 md:grid-cols-2 gap-2",style:{"margin-left":"30px"}},So={class:"min-w-[350px] flex flex-col gap-2 border-2 border-gray-700 focus:border-orange-600"},xo=m(()=>l("label",{style:{color:"#122620"},for:"manufacturer"},"Tile Applicant",-1)),Do={class:"w-1/2 border-2 p-2 border-gray-700 focus:border-orange-600"},Vo=m(()=>l("label",{style:{color:"#122620"},for:"material"},"Tile Material",-1)),Ao={class:"w-1/2 border-2 p-2 border-gray-700 focus:border-orange-600"},To={class:"w-72 flex flex-col gap-2 border-2 border-gray-700 focus:border-orange-600"},wo=m(()=>l("label",{style:{color:"red"}},"Select Mechanical Tile Fastener *",-1)),Uo=m(()=>l("div",null,null,-1)),Mo={class:"w-3/4 border-2 p-2 gap-4 border-gray-700 focus:border-orange-600"},ko=m(()=>l("label",{style:{color:"#122620"},for:"description"},"Tile Description",-1)),Eo={class:"w-full flex flex-row mt-8 space-x-10",style:{"margin-left":"30px"}},Co={class:"min-w-[200px] flex flex-col gap-2 border-2 border-gray-700 focus:border-orange-600"},No=m(()=>l("label",{style:{color:"#122620"},for:"selecttile"},"Tile Type",-1)),zo={class:"w-72 flex flex-col gap-2 border-2 border-gray-700 focus:border-orange-600",style:{"margin-left":"30px"}},Po=m(()=>l("label",{style:{color:"red"}},"Select Mechanical Tiles Fastnener *",-1)),Lo={class:"flex flex-wrap gap-1 mt-10",style:{"margin-left":"1px"}},Bo={width:"100%",align:"left"},Fo={valign:"middle"},Oo={style:{margin:"auto","font-size":"large","font-weight":"bold","font-family":"arial"}},$o=m(()=>l("td",{style:{color:"#122620"}},"Zone 1:",-1)),Io={style:{color:"#122620"}},jo={style:{color:"#122620"}},Ko={style:{color:"#122620"}},Ro={style:{color:"#122620"}},Ho={style:{color:"#122620"}},Zo={class:"pi pi-check",style:{color:"green","font-size":"1.5rem"}},qo={class:"pi pi-times",style:{color:"red","font-size":"1.5rem"}},Jo=m(()=>l("td",{style:{color:"#122620"}},"Zone 2:",-1)),Wo={style:{color:"#122620"}},Go={style:{color:"#122620"}},Xo={style:{color:"#122620"}},Qo={style:{color:"#122620"}},Yo={style:{color:"#122620"}},ei={class:"pi pi-check",style:{color:"green","font-size":"1.5rem"}},ti={class:"pi pi-times",style:{color:"red","font-size":"1.5rem"}},li=m(()=>l("td",{style:{color:"#122620"}},"Zone 3:",-1)),ai={style:{color:"#122620"}},si={style:{color:"#122620"}},oi={style:{color:"#122620"}},ii={style:{color:"#122620"}},ni={style:{color:"#122620"}},ri={class:"pi pi-check",style:{color:"green","font-size":"1.5rem"}},ui={class:"pi pi-times",style:{color:"red","font-size":"1.5rem"}},di={key:0,class:"text-xs mt-2",style:{"margin-left":"350px"}},ci=m(()=>l("b",null,"λ (Direct_Deck):",-1)),mi=m(()=>l("b",null,"Mg by slope:",-1)),pi={__name:"InputMechTile",setup(M){const w=r(""),{tbd:ee,zoned:F}=ya();r([]);const k=r(!1),{callNumber:ne,mechanicalStore:pe}=wa(),{postMech:se}=Ua(),E=Ma(),{takeMechInput:_t,mechanicalData:vi,mechStore:ul}=La(),{zones:Re}=_a(),n=X({mechIdentifier:"mechanicaltile",manufacturer:"",noa:"",material:"",description:"",Table2:[],Table3:[],expiration_date:"",resistance:"",selection:"",select_tile:[],tile_map:{},table2_map:{},fastenerValuesMap:[],two_ten_d_RS_Nails:null,one_number_eight_screw:null,two_number_eight_screw:null,mechanicaltilefastener:"",fastenerValues:"",slope:"",height:"",dripEdgeMaterial:"",dripEdgeSize:"",deckType:"",expiration_date:"",prescriptiveSelection:"",perimeter:"",tiletype:"",savedfastener:"",hittype:""}),p=X({noa:"",manufacturer:"",material:"",system:[],designpressure:"",pressure:"",prescriptiveSelection:"",description:"",Description_F1:"",Description_F2:"",Description_F3:"",Description_F4:"",Description_F5:"",Description_F6:"",Description_F7:"",Description_F8:"",Description_F9:"",Description_F10:"",Description_F11:"",Description_F12:"",Description_F13:"",Description_F14:"",Description_F15:"",arrDesignPressure:[],saIdentifier:"sa",hittype:""}),i=X({noa:"",manufacturer:"",material:"",system:[],designPressure:"",Anchor_Base_Sheet:"",TileCap_Sheet_Description:"",hittype:"",Anchor_Base_Sheet_E1:"",Anchor_Base_Sheet_E2:"",Anchor_Base_Sheet_E3:"",Anchor_Base_Sheet_E4:"",Anchor_Base_Sheet_E5:"",Anchor_Base_Sheet_E6:"",Anchor_Base_Sheet_E7:"",Anchor_Base_Sheet_E8:"",Anchor_Base_Sheet_E9:"",Anchor_Base_Sheet_E10:"",Anchor_Base_Sheet_E11:"",Anchor_Base_Sheet_E12:"",Anchor_Base_Sheet_E13:"",TileCap_Sheet_Description_E1:"",TileCap_Sheet_Description_E2:"",TileCap_Sheet_Description_E3:"",TileCap_Sheet_Description_E4:"",TileCap_Sheet_Description_E5:"",TileCap_Sheet_Description_E6:"",TileCap_Sheet_Description_E7:"",TileCap_Sheet_Description_E8:"",TileCap_Sheet_Description_E9:"",TileCap_Sheet_Description_E10:"",TileCap_Sheet_Description_E11:"",TileCap_Sheet_Description_E12:"",TileCap_Sheet_Description_E13:"",arrDesignPressure:[],udlIdentifier:"udl",tileCap:"",Anchor_Base:"",systemSelected:"",prescriptiveSelection:"",syst:"",pressure:""}),dl=rl(),{roofList:cl}=Ae(dl),ht=r(!1),I=r(null),He=r(!0),Ze=r(!0),bt=r([]),C=r(null),R=r(!1),ml=r(!1),re=r(!1),fe=r(!1),H=r(!1);let ge=r("");const _=X({area:"",per:"",height:"",slope:""}),v=X({zone:"",lambda1:"",mg1:"",mr1:"",mf1:""}),h=X({zone:"",lambda2:"",mg2:"",mr2:"",mf2:""}),b=X({zone:"",lambda3:"",mg3:"",mr3:"",mf3:""});vt(()=>{ne(),bt.value=pe.$state}),vt(()=>{cl.value.forEach((e,t)=>{e.item==="Mechanical Fastened Tile"&&(_.area=e.dim3)})});const St=ha(),xt=ba(),te=r(!1),we=r(!1),{tilefinput:pl}=Ae(xt),{tilesysEinput:oe}=Ae(St);let Dt=r(xt.$state.tilefinput);r(St.$state.tilesysEinput);const P=r(null),fl=e=>Array.isArray(e)&&e.length?e[e.length-1]:null,Vt=r(!1),G=r(""),O=r(""),{tilemech:gl}=Ae(ul),Z=gl;function vl(e){if(!e||typeof e!="object"||e.content!=="multiple")return{};const t={};for(const[a,s]of Object.entries(e)){if(a==="content")continue;const d=s&&typeof s=="object"?s.Direct_Deck??s.value??s[0]:s,y=Number(Array.isArray(d)?d[0]:d)||0;t[a]=[y]}return t}function yl(e){if(!e||typeof e!="object"||e.content!=="multiple")return{};const t=["two","three","four","five","six","seven"],a={};for(const[s,d]of Object.entries(e))s!=="content"&&(a[s]=t.map(y=>Number(d==null?void 0:d[y])||0));return a}const _l={2:0,3:1,4:2,5:3,6:4,7:5},hl=(e,t,a)=>Math.max(Math.min(e,Math.max(t,a)),Math.min(t,a));function At(e){const t=hl(Number(e||0),2,12);return t<=3?2:t<4?3:t<=4?4:t<6?5:t<7?6:7}const ve=A(()=>{var e;return((e=fl(pl.value))==null?void 0:e.systemData)||null});V([ve,()=>te.value],()=>{if(!te.value)return;const e=ve.value;e&&(g.System.length||qe(e),Object.assign(p,{noa:e.noa||"",manufacturer:e.manufacturer||"",material:e.material||"",arrDesignPressure:g.Designpressure.slice()}),console.log(p.arrDesignPressure,g.Designpressure),!N.value&&g.System.length&&(P.value=g.System[0]))},{immediate:!0}),V(()=>p.noa,(e,t)=>{if(!e||e===t)return;P.value=null,g.System=[],g.Designpressure=[],p.designpressure="",p.description="";const a=ve.value;a&&qe(a)});const ye=A(()=>g.System.map(e=>({label:e,value:e}))),Tt=A(()=>{const e={};return g.System.forEach((t,a)=>{e[t]=g.Designpressure[a]}),e}),bl=A(()=>{const e={};for(const t of g.System){const a=`Description_${t}`;e[t]=g[a]??g.Description??""}return e}),N=A(()=>{var e;return typeof P.value=="object"?(e=P.value)==null?void 0:e.value:P.value||""}),g=X({System:[],Maps:{},Description:"",Designpressure:[]});function qe(e){const t=Array.isArray(e.System)?e.System.slice():Array.isArray(e.system)?e.system.slice():e.System??e.system?[e.System??e.system]:[],a=Array.isArray(e.designPressure)?e.designPressure.slice():Array.isArray(e.pressure)?e.pressure.slice():e.designPressure??e.pressure?[e.designPressure??e.pressure]:[];g.System=t.filter(Boolean),g.Designpressure=a.filter(s=>s!=null&&String(s).trim()!==""),g.Description=e.Description||e.description||"",g.Maps=e.Maps||e.maps||{};for(const s of g.System){const d=`Description_${s}`;e[d]!=null&&(g[d]=e[d])}}const Je=e=>e==null?"":typeof e=="string"?e:Array.isArray(e)?e.join(" | "):String(e),Ue=A(()=>{var t;const e={};for(const a of g.System){const s=`Description_${a}`;g[s]?e[a]=Je(g[s]):(t=g.System)!=null&&t[a]?e[a]=Je(g.System[a]):e[a]=Je(g.Description)}return e}),Sl=A({get:()=>N.value&&Ue.value[N.value]||"",set:e=>p.description=e});V(P,e=>{const t=typeof e=="object"?e==null?void 0:e.value:e;p.description=t&&Ue.value[t]||""}),V(P,e=>{p.description=e&&(Ue.value[e]||g.Description)||""}),V([ve,()=>ye.value.length,N,()=>te.value],()=>{if(!te.value)return;const e=ve.value;e&&(g.System.length||qe(e),!N.value&&ye.value.length&&(P.value=ye.value[0].value),Object.assign(p,{sanoa:e.noa||"",samanufacturer:e.manufacturer||"",samaterial:e.material||"",sasystem:g.System.slice(),sadescription:Sl.value||""}))},{immediate:!0});const We=r({}),xl=r({}),Ge=A(()=>(Mt.value||[]).find(e=>e.key===Me.value)||null),wt=A({get:()=>N.value?String(Tt.value[N.value]??""):"",set:e=>{const t=String(e??"");if(p.designpressure=t,N.value){const a=g.System.indexOf(N.value);a!==-1&&(g.Designpressure[a]=t)}}});V([N,()=>g.Designpressure],()=>{const e=N.value;if(!e){p.designpressure="";return}const t=Tt.value[e];p.designpressure=String(t??"")},{immediate:!0});function Dl(e){return e?typeof e=="object"?e.value??e.label??String(e):String(e):""}const Ut=A({get:()=>N.value?String(bl.value[N.value]??""):"",set:e=>{p.description=String(e??"")}}),j=r(null),Me=r(0),Vl=[{match:["ASTM #90 Prescriptive hot mopped with Type IV Asphalt to a mechanically fastened ASTM #30"],flags:{isUDLNOAValid:!1,isSAValid:!1,isTileValid:!0},identifier:"astm"},{match:["System F: per the NOA (S/A) Tile Capsheet adhered diretly to a wood deck"],flags:{isUDLNOAValid:!1,isSAValid:!0,isTileValid:!0},identifier:"system_f"},{match:["System E: per the NOA (S/A) Tile Capsheet adhered to a mechanically fastened UDL/Anchor Sheet"],flags:{isUDLNOAValid:!0,isSAValid:!1,isTileValid:!0},identifier:"system_e"}],Mt=r([{selectedBasesheet:"-- Select Tile Capsheet/Underlayment --",key:0},{selectedBasesheet:"ASTM #90 Prescriptive hot mopped with Type IV Asphalt to a mechanically fastened ASTM #30",key:1},{selectedBasesheet:"System F: per the NOA (S/A) Tile Capsheet adhered diretly to a wood deck",key:2},{selectedBasesheet:"System E: per the NOA (S/A) Tile Capsheet adhered to a mechanically fastened UDL/Anchor Sheet",key:3}]);let le=r(null);const Xe=A(()=>{const e=((le==null?void 0:le.value)??"").toString().trim().toLowerCase();return e==="astm"||e==="atsm"}),Qe=r(!1);function Al(){if(console.log(Xe.value),!Qe.value){Qe.value=!0;try{de.value=!1,Pe(),Xe.value&&aa()}finally{Qe.value=!1}}}function Tl(){console.log(Ge.value.selectedBasesheet);const e=s=>typeof s=="string"?s:(s==null?void 0:s.label)??(s==null?void 0:s.value)??(s==null?void 0:s.name)??"";console.log(e);const t=e(Ge.value.selectedBasesheet);if(console.log(t),!t)return;const a=Vl.find(s=>s.match.includes(t));console.log(a),a?(console.log(a),re.value=a.flags.isUDLNOAValid,fe.value=a.flags.isSAValid,H.value=a.flags.isTileValid,le.value=a.identifier,n.hittype=le.value,i.hittype=le.value,p.hittype=le.value,n.hittype&&(n.prescriptiveSelection=a.match[0]),i.hittype&&(i.prescriptiveSelection=a.match[0]),p.hittype&&(p.prescriptiveSelection=a.match[0])):le.value=null}function wl(e){var a,s;if(!e)return;const t=((a=e==null?void 0:e.Table2)==null?void 0:a.content)==="multiple";if(n.noa=e.noa??"",n.manufacturer=e.manufacturer??"",n.material=e.material??"",n.description=e.description??"",n.expiration_date=e.expiration_date??"",t)n.table2_map=vl(e.Table2),n.tile_map=yl(e.Table3),n.select_tile=Object.keys(n.table2_map),n.select_tile.includes(I.value)||(I.value=n.select_tile[0]??null),I.value&&Se({value:I.value});else{n.table2_map={},n.tile_map={},n.select_tile=[];const d=Number(((s=e==null?void 0:e.Table2)==null?void 0:s.Direct_Deck)??0)||0;v.lambda1=d,h.lambda2=d,b.lambda3=d;const y=(e==null?void 0:e.Table3)||{},U=At(_.slope),T={2:y.two,3:y.three,4:y.four,5:y.five,6:y.six,7:y.seven},K=Number(T[U]??0)||0;v.mg1=K,h.mg2=K,b.mg3=K,ue()}n.mechanicaltilefastener=e.mechanicaltilefastener??n.mechanicaltilefastener,n.fastenerValues=e.fastenerValues??n.fastenerValues}function ue(){const e=Number(v.zone||0)*Number(v.lambda1||0)-Number(v.mg1||0),t=Number(h.zone||0)*Number(h.lambda2||0)-Number(h.mg2||0),a=Number(b.zone||0)*Number(b.lambda3||0)-Number(b.mg3||0);v.mr1=e.toFixed(2),h.mr2=t.toFixed(2),b.mr3=a.toFixed(2)}V([()=>v.zone,()=>v.lambda1,()=>v.mg1,()=>h.zone,()=>h.lambda2,()=>h.mg2,()=>b.zone,()=>b.lambda3,()=>b.mg3],()=>{const e=t=>Number(t??0);v.mr1=(e(v.zone)*e(v.lambda1)-e(v.mg1)).toFixed(2),h.mr2=(e(h.zone)*e(h.lambda2)-e(h.mg2)).toFixed(2),b.mr3=(e(b.zone)*e(b.lambda3)-e(b.mg3)).toFixed(2)},{immediate:!1});const kt=r([]),Et=r([]);async function Ul(){O.value||(O.value="d",G.value="d");const e=Number(_.slope),t=Number(_.height);Number.isFinite(e)&&Number.isFinite(t)&&e>=2&&t>0&&(G.value==="d"?await $t(e,t):await Ot(e,t)),await sl(()=>{const a=G.value==="d"?F.value:Re.value,s=Array.isArray(a==null?void 0:a[0])?a[0]:a;return Array.isArray(s)&&s.length>=3&&s.every(d=>Number(d)>0)}).toBe(!0),xe(),ue()}const Ct=A(()=>{var s,d;if(!w.value)return[];kt.value=(d=(s=bt.value.tileMechInput[0])==null?void 0:s.tileMechNumber)==null?void 0:d.noa,Et.value=kt.value.body??[];const e=JSON.stringify(Et.value).split("[").join(),t=JSON.stringify(e).split("]").join();return A(()=>t.split(",").map(y=>y.trim())).value.filter(y=>y.toString().includes(w.value))}),Nt=X(Object.fromEntries(Array.from({length:13},(e,t)=>[`Anchor_Base_Sheet_E${t+1}`,""]))),_e=A(()=>{var t;const e=Array.isArray(oe.value)?oe.value:[];for(let a=e.length-1;a>=0;a--){const s=(t=e[a])==null?void 0:t.systemDataE;if(s&&Object.keys(s).length)return s}return null});V(oe,e=>{var t;(t=e==null?void 0:e[0])!=null&&t.systemDataE&&Ye(e[0].systemDataE)},{deep:!0});function Ye(e){if(e){console.log("applyUDL called with:",e),i.noa=(e.noa??i.noa)||"",i.manufacturer=(e.manufacturer??i.manufacturer)||"",i.material=(e.material??i.material)||"",i.system=Array.isArray(e.system)?e.system.slice():e.system?[e.system]:[],i.arrDesignPressure=Array.isArray(e.designPressure)?e.designPressure.slice():Array.isArray(e.pressure)?e.pressure.slice():[];for(let t=1;t<=13;t++){const a=`E${t}`;Nt[`Anchor_Base_Sheet_${a}`]=e[`Anchor_Base_Sheet_${a}`]??"",i[`TileCap_Sheet_Description_${a}`]=e[`TileCap_Sheet_Description_${a}`]??""}i.system.includes(C.value)||(C.value=i.system[0]??null,C.value&&ce(C)),console.log("UDL after apply:",i)}}const et=A(()=>{var t;const e=Array.isArray(f(Dt))?f(Dt):[];for(let a=e.length-1;a>=0;a--){const s=(t=e[a])==null?void 0:t.systemData;if(s&&Object.keys(s).length)return s}return null});async function zt(){tt(f(et))}function tt(e){e&&(p.noa=e.noa??"",p.manufacturer=e.manufacturer??"",p.material=e.material??"",p.system=Array.isArray(e.system)?e.system.slice():e.system?[e.system]:[],p.arrDesignPressure=Array.isArray(e.designPressure)?e.designPressure.slice():Array.isArray(e.pressure)?e.pressure.slice():[],Object.keys(e).forEach(t=>{/^Description_F\d+$/.test(t)&&(p[t]=e[t]??"")}),p.system.includes(P.value)||(P.value=p.system[0]??null))}V(et,e=>tt(e),{immediate:!0,deep:!0});const Ml=()=>{P.value=null,p.designpressure="",p.description=""};V(()=>p.noa,(e,t)=>{!e||e===t||(Ml(),tt(f(et)))}),A(()=>P.value||"");const kl=e=>{w.value=String(e).replace(/\D/g,"").padStart(8,"0"),k.value=!1},El=()=>{k.value=!0},Cl=()=>{setTimeout(()=>{k.value=!1},1250)},lt=r(),Nl=r([{name:" Select Deck Type "},{name:' 5/8" Plywood  '},{name:' 3/4" Plywood  '},{name:' 1" x 6" T & G '},{name:' 1" x 8" T & G '},{name:' Existing 1/2" Plywood '}]),ke=r([]);function he(){G.value==="d"?$t(_.slope,_.height):Ot(_.slope,_.height),xe(),ue()}const Pt=r("");function zl(e){lt._value.name===e.value.name&&(Pt.value=e.value.name,n.deckType=Pt.value,He.value=!1)}const at=r("");async function Lt(){const e=String(w.value??"").replace(/\D/g,"");return console.log(e),e?e===st.value?(jt(),!0):(at.value=e,console.log(at.value),await _t(e)?(jt(),!0):!1):!1}const be=r(!1);async function Pl(){if(!be.value){be.value=!0;try{if(!await Lt())return;Qt.value={manufacturer:n.manufacturer??"",material:n.material??"",description:n.description??""},Fe.value++,await Ul(),Fe.value++,de.value=!0}finally{be.value=!1}}}const q=A(()=>{const e=Z.value;if(!Array.isArray(e)||!e.length)return null;const t=e.filter(a=>typeof(a==null?void 0:a.fetchedAt)=="number");return t.length?t.sort((a,s)=>s.fetchedAt-a.fetchedAt)[0]:e.at(-1)}),st=A(()=>{var e;return String(((e=q.value)==null?void 0:e.noa)??"").replace(/\D/g,"")});V(st,e=>{at.value=e,e&&!w.value&&(w.value=e)},{immediate:!0});function Se(e){var T,K;const t=(e==null?void 0:e.value)??I.value;if(!t)return;const a=(T=n.table2_map)==null?void 0:T[t],s=Array.isArray(a)?Number(a[0])||0:typeof a=="object"&&a?Number(a.Direct_Deck??a.value??a[0])||0:Number(a)||0;v.lambda1=s,h.lambda2=s,b.lambda3=s;const d=((K=n.tile_map)==null?void 0:K[t])||[],y=_l[At(_.slope)]??0,U=Number(d[y]??0)||0;v.mg1=U,h.mg2=U,b.mg3=U,n.tiletype=t,ue(),Array.isArray(Z.value)&&q.value&&(n.mechanicaltilefastener=q.value.mechanicaltilefastener,n.fastenerValues=q.value.fastenerValues)}V(()=>_.slope,()=>{R.value&&I.value?Se({value:I.value}):!R.value&&Array.isArray(Z.value)&&q.value&&Pe()}),V(I,e=>{R.value&&e&&Se({value:e})});function Ll(e){ke.value=Number.isFinite(e)?e:0;const t={0:{isTileValid:!1,isUDLValid:!1,isUDLNOAValid:!1,isSAValid:!1},1:{isTileValid:!0,isUDLValid:!1,isUDLNOAValid:!1,isSAValid:!1},2:{isTileValid:!0,isUDLValid:!1,isUDLNOAValid:!1,isSAValid:!0},3:{isTileValid:!0,isUDLValid:!0,isUDLNOAValid:!0,isSAValid:!1}},a=t[ke.value]||t[0];H.value=a.isTileValid,ml.value=a.isUDLValid,re.value=a.isUDLNOAValid,fe.value=a.isSAValid,ke.value===2&&zt(),ke.value===3&&(ie.value=!0,console.log("Key=3 selected: Starting UDL population..."),Ye(_e.value),setTimeout(()=>{ie.value=!1,console.log("UDL population complete. isUDLComplete:")},500),C.value&&!i.designPressure&&(Le(C.value),ce(C.value)))}V(Me,Ll,{immediate:!0}),V(_e,e=>console.log("EPayload updated:",!!(e!=null&&e.noa)));const Bl=r(!1);function xe(){var y,U,T,K;const e=G.value==="d"?F.value:Re.value,t=Array.isArray(e==null?void 0:e[0])?e[0]:e;if(!Array.isArray(t)||t.length<3)return;const[a,s,d]=t.map(Number);[a,s,d].every(Number.isFinite)&&(v.zone=a,h.zone=s,b.zone=d,console.log(E.$state.inputselectedUserDripEdge),n.dripEdgeMaterial=(U=(y=E.$state.inputselectedUserDripEdge[0])==null?void 0:y.dripSelection)==null?void 0:U.DripEdgeMaterial,n.dripEdgeSize=(K=(T=E.$state.inputselectedUserDripEdge[0])==null?void 0:T.dripSelection)==null?void 0:K.DripEdgeSize,console.log(n.dripEdgeMaterial,n.dripEdgeSize))}V([()=>G.value,()=>Re.value,()=>F.value],()=>{xe(),ue()},{deep:!0});let Ee=r(!1);const{errorMessage:Bt,validateNumber:Fl}=ka({min:4,max:12,required:!0}),{errorHeightMessage:Ft,validateTileHeight:Ol}=Ea({min:10,max:40,required:!0});function $l(){_.slope>=4?(Ze.value=!1,De(),console.log("entered slope")):Ze.value=!1,Il()}const Il=()=>{Fl(_.slope),console.log(_.slope)},jl=()=>{Ol(_.height),console.log(_.height),ht.value=!0,De()};function De(){ht.value||He.value?(Ee.value=!0,console.log("Entered checkmarks")):Ee.value=!1}function Kl(){jl(),console.log(height.value)}const Rl=r(.4),{getData:Ot}=Sa(),{getDatas:$t}=xa();function It(){_.height=ge.value,_.per=(_.height*Rl.value).toFixed(2),n.height=_.height,n.perimeter=_.per,n.area=_.area,De()}const ot=r(!1),Hl=r(!1);function jt(){var a;const e=q.value,t=((a=e==null?void 0:e.Table2)==null?void 0:a.content)==="multiple";Hl.value=!0,R.value=t,ot.value=!t,H.value=!0,wl(e),it(),he(),t||Pe()}ua(async()=>{await sl(H).toBe(!0),await Xl()});async function it(){var a,s;const t=(((s=(a=O==null?void 0:O.value)==null?void 0:a.toLowerCase)==null?void 0:s.call(a))??"")==="c";G.value=t?"c":"d",Vt.value=!t,console.log({selectedExposures:O.value,isExposureC:Vt.value}),he()}let Ce=r(!1),Ne=r(!1),ze=r(!1),Kt=r(!1),Rt=r(!1),Ht=r(!1);async function Zt(){var e,t,a,s;((t=(e=q.value)==null?void 0:e.Table2)==null?void 0:t.content)==="multiple"&&(console.log("Entered multiple"),he()),G.value==="c"?(console.log("Else C exposure",G),xe()):(console.log("D exposure"),xe()),n.manufacturer=(a=q.value)==null?void 0:a.manufacturer,n.material=(s=q.value)==null?void 0:s.material}function Zl(e,t,a){return Math.max(Math.min(e,Math.max(t,a)),Math.min(t,a))}async function Pe(){const e=q.value||{},t=e.Table2||{},a=e.Table3||{};n.description=e.description||"";const s=Number(t.Direct_Deck)||0;v.lambda1=s,h.lambda2=s,b.lambda3=s;const d={2:"two",3:"three",4:"four",5:"five",6:"six",7:"seven"},y=Zl(Number(_.slope),2,12),U=d[Math.floor(y)]||"seven",T=Number(a[U])||0;v.mg1=T,h.mg2=T,b.mg3=T,ue()}V(st,e=>{e&&!w.value&&(w.value=e)},{immediate:!0});const de=r(!1);V(de,e=>{if(e&&!j.value&&Jt.value.length){const t=Jt.value[0];j.value=t.key??t,ae(j.value)}});function qt(e=""){return String(e).replace(/[_\-]+/g," ").replace(/\b\w/g,t=>t.toUpperCase())}const Jt=A(()=>{const e=n.mechanicaltilefastener;return Array.isArray(e)?typeof e[0]=="string"?e.map(t=>({key:t,label:qt(t)})):e:e&&typeof e=="object"?Object.keys(e).map(t=>({key:t,label:qt(t)})):[]}),ql=A(()=>{const e=n.fastenerValues,t=n.mechanicaltilefastener;return console.log(e,t),Array.isArray(t)&&Array.isArray(e)?Object.fromEntries(t.map((a,s)=>[a,e[s]])):e&&typeof e=="object"?e:{}});function ae(e){const t=e??j.value;if(console.log(t),!t)return;n.savedfastener=t;const a=ql.value[t];if(a==null)return;v.mf1=a,h.mf2=a,b.mf3=a,Pe();const s=je(v.mr1).value,d=je(h.mr2).value,y=je(b.mr3).value,U=je(a).value;Ce.value=s<U,Kt.value=!Ce.value,Ne.value=d<U,Rt.value=!Ne.value,ze.value=y<U,Ht.value=!ze.value}function Le(e){const t=i.system||[],a=i.arrDesignPressure||[];We.value=Object.fromEntries(t.map((d,y)=>[d,a[y]||""])),xl.value=Object.fromEntries(t.map((d,y)=>[d,t[y]||""]));const s=e==null?void 0:e.value;s&&We.value[s]!==null&&ce(e)}const nt=A(()=>{const{noa:e,manufacturer:t,material:a,designPressure:s,systemSelected:d}=i;return console.log(e,t,a,s,d),e&&t&&a&&s&&d});V(_e,e=>{e&&(Ye(e),C.value&&!i.designPressure&&ce(C.value))},{immediate:!0});const Wt=r(!1),Gt=r(!1),Be=r(0),Xt=r(null),Jl=r(null),Fe=r(0),rt=r(0),Qt=r(null),Yt=r(null);V(()=>Wt.value,e=>{console.log("Exposure Modal changed:",e)},{immediate:!0}),V(()=>we.value,e=>{console.log("UDLModal changed:",e)},{immediate:!0}),V(()=>te.value,e=>{console.log("SAModal changed:",e)},{immediate:!0});function el(e){const t=f(e);return console.log(t),mt(t)?pt(t):t}function Wl(e){const t=f(e);return console.log(t),mt(t)?pt(t):t}function Gl(e){const t=f(e);return console.log(t),mt(t)?pt(t):t}async function Xl(){await Q();const e=Wl(O);console.log(e),Jl.value={manufacturer:(e==null?void 0:e.manufacturer)??"",material:(e==null?void 0:e.material)??"",description:(e==null?void 0:e.description)??""},Gt.value,await Q(),Gt.value,Wt.value=!0}const ie=r(!1),Oe=r(!1);async function Ql(){if(!ie.value){ie.value=!0,Oe.value=!1,Be.value++;try{await Q();const e=el(i);Xt.value={udlmanufacturer:(e==null?void 0:e.manufacturer)??"",udlmaterial:(e==null?void 0:e.material)??"",udldescription:(e==null?void 0:e.udldescription)??"",udlsystem:(e==null?void 0:e.system)??[]},Oe.value=!!i.noa&&i.system.length,Be.value++,await Q(),we.value=!0}catch(e){console.error("UDL modal open failed:",e)}finally{ie.value=!1}}}async function Yl(){await Q(),zt();const e=Gl(p);Yt.value={samanufacturer:(e==null?void 0:e.manufacturer)??"",samaterial:(e==null?void 0:e.material)??"",sasystem:(e==null?void 0:e.system)??""},rt.value++,await Q(()=>{te.value=!0})}async function ea(){te.value=!1,await Q(()=>{rt.value++})}async function ta(){we.value=!1,await Q(()=>{Be.value++})}function ce(e){var d,y,U;const t=(e==null?void 0:e.value)||e||"";if(!t)return;const a=`TileCap_Sheet_Description_${t}`,s=`Anchor_Base_Sheet_${t}`;if(i.TileCap_Sheet_Description=i[a]||"",i.Anchor_Base_Sheet=Nt[s]||"",i.designPressure=We.value[t]||"",i.systemSelected=t,console.log((d=oe[0])==null?void 0:d.systemDataE),((y=oe[0])==null?void 0:y.length)>0){const T=oe[0].systemDataE;T.Anchor_Base=i.Anchor_Base_Sheet,T.tileCap=i.TileCap_Sheet_Description,T.dP=i.designPressure,T.systemSelected=t,T.prescriptiveSelection=((U=Ge.value)==null?void 0:U.selectedBasesheet)??""}i.udldescription=i.TileCap_Sheet_Description,i.pressure=i.designPressure,console.log("udlDescPressure updated udlTile:",i)}V(C,e=>{e&&(Le(e),ce(e))},{immediate:!0});const la=async()=>{var a,s;const e=(s=(a=oe.value)==null?void 0:a[0])==null?void 0:s.systemDataE;if(console.log("Store eInput in staging:",e),!e){console.error("No eInput in staging - check store update");return}if(i.Anchor_Base=e.Anchor_Base||i.Anchor_Base_Sheet||"",i.noa||(i.noa=e.noa||""),i.manufacturer||(i.manufacturer=e.manufacturer||""),i.material||(i.material=e.material||""),!i.designPressure&&C.value&&(ce(C.value),await Q()),console.log("Is UDL Complete",nt.value,_e.value,ie.value),console.log("udlTile after population:",el(i)),!nt.value){console.warn("UDL incomplete, skipping post. Missing:",{noa:!i.noa,manufacturer:!i.manufacturer,material:!i.material,designPressure:!i.designPressure,systemSelected:!i.systemSelected});return}const t={...dt(),udlapplicant:i.manufacturer||"",udlnoa:i.noa||"",udlmaterial:i.material||"",udldescription:e.tileCap||i.TileCap_Sheet_Description||i.udldescription||"",systemeselection:i.systemSelected||e.systemSelected||"",designpressure:i.designPressure||e.dP||"",anchorbasesheet:i.Anchor_Base_Sheet||e.Anchor_Base||i.Anchor_Base||"",hittype:"system_e",udlIdentifier:"udl"};console.log("UDL Body Debug:",t),await se(t)},ut=e=>JSON.parse(JSON.stringify(f(e))),$e=e=>{const t=Number(e);return Number.isFinite(t)?t:0},aa=async()=>{const e={...dt(),hittype:n.hittype};await se(e)},sa=A(()=>Ce.value&&Ne.value&&ze.value),dt=()=>({mechIdentifier:"mechanicalTile",noa:n.noa??"",applicant:n.manufacturer??"",description:n.description??"",material:n.material??"",decktype:n.deckType??"",area:$e(_.area),height:$e(_.height),slope:$e(_.slope),dripEdgeMaterial:n.dripEdgeMaterial,dripEdgeSize:n.dripEdgeSize,perimeter:$e(n.perimeter),fastenervalues:n.savedfastener??"",hittype:"astm",zoneone:ut(v),zonetwo:ut(h),zonethree:ut(b),checkvalues:sa.value,prescriptiveSelection:i.prescriptiveSelection||p.prescriptiveSelection||n.prescriptiveSelection||""}),oa=async()=>{const e=Dl(P.value||p.system[0]||""),t=g.System.indexOf(e),a=t!==-1&&g.Designpressure[t]?g.Designpressure[t]:p.designpressure||"",s={...dt(),samanufacturer:p.manufacturer||"",sanoa:p.noa||"",sasystem:e||"",samaterial:p.material||"",sadescription:e&&(Ue.value[e]||"")||p.description||"",designpressure:a,hittype:"system_f",saIdentifier:"sa"};console.log("mechSAStaging payload:",s),await se(s)};return(e,t)=>{var ll,al;const a=Pa,s=za,d=Na,y=Ca,U=Ta,T=Aa,K=Da,ia=Va,tl=ga,na=fa;return x(),z(Te,null,[l("div",Qa,[l("div",Ya,[u(a,{modelValue:lt.value,"onUpdate:modelValue":t[0]||(t[0]=o=>lt.value=o),options:Nl.value,optionLabel:"name",placeholder:"Select a Deck Type",class:"w-full md:w-56",onChange:zl},null,8,["modelValue","options"])]),l("div",es,[ts,ls,D(),c(l("i",{class:"pi pi-check",style:{color:"green","font-size":"1.2rem"},onChange:De},null,544),[[S,f(Ee)]]),D("  "),c(u(s,{id:"slope",placeholder:"slope",modelValue:_.slope,"onUpdate:modelValue":t[1]||(t[1]=o=>_.slope=o),modelModifiers:{number:!0},disabled:He.value,onChange:$l},null,8,["modelValue","disabled"]),[[tl,"Press Tab after value",void 0,{bottom:!0}]]),f(Bt)?(x(),Y(d,{key:0,class:"w-96 mt-1 ...",severity:"error",life:6e3,style:{"margin-left":"2px"}},{default:W(()=>[D(J(f(Bt)),1)]),_:1})):B("",!0)]),l("div",as,[ss,u(s,{id:"area",modelValue:_.area,"onUpdate:modelValue":t[2]||(t[2]=o=>_.area=o),type:"text",placeholder:"area",readonly:""},null,8,["modelValue"])]),l("div",os,[is,ns,D(),c(l("i",{class:"pi pi-check",style:{color:"green","font-size":"1.2rem"},onChange:De},null,544),[[S,f(Ee)]]),D("  "),c(u(s,{id:"height",modelValue:f(ge),"onUpdate:modelValue":t[3]||(t[3]=o=>da(ge)?ge.value=o:ge=o),modelModifiers:{number:!0},type:"text",placeholder:"height",onInput:It,disabled:Ze.value,onChange:Kl},null,8,["modelValue","disabled"]),[[tl,"Press Tab after value",void 0,{bottom:!0}]]),f(Ft)?(x(),Y(d,{key:0,class:"w-96 mt-1",severity:"error",life:6e3,style:{"margin-left":"2px"}},{default:W(()=>[D(J(f(Ft)),1)]),_:1})):B("",!0)]),u(y),l("div",rs,[us,u(s,{id:"perimeter",modelValue:_.per,"onUpdate:modelValue":t[4]||(t[4]=o=>_.per=o),type:"text",placeholder:" ",onChange:It,readonly:""},null,8,["modelValue"])]),l("div",ds,[cs,u(a,{modelValue:Me.value,"onUpdate:modelValue":t[5]||(t[5]=o=>Me.value=o),options:Mt.value,optionLabel:"selectedBasesheet",optionValue:"key",placeholder:"make selection",onChange:Tl},null,8,["modelValue","options"])]),u(f(Ve)),l("div",ms,[c(l("div",ps,[fs,l("div",gs,[l("div",vs,[u(f(gt),{inputId:"option3",name:"option",value:"c",variant:"filled",invalid:O.value===null,modelValue:O.value,"onUpdate:modelValue":t[6]||(t[6]=o=>O.value=o),onUpdate:it},null,8,["invalid","modelValue"]),ys]),l("div",_s,[u(f(gt),{inputId:"option4",name:"option",value:"d",variant:"filled",invalid:O.value===null,modelValue:O.value,"onUpdate:modelValue":t[7]||(t[7]=o=>O.value=o),onUpdate:it},null,8,["invalid","modelValue"]),hs])])],512),[[S,H.value]])])]),bs,u(f(Ve)),l("div",Ss,[l("div",xs,[c((x(),z("div",Ds,[u(U,{class:"w-72"},{default:W(()=>[u(s,{id:"tilenoa",modelValue:w.value,"onUpdate:modelValue":t[8]||(t[8]=o=>w.value=o),class:"h-8",onInput:El,onFocus:t[9]||(t[9]=o=>k.value=!0),onBlur:Cl,onKeydown:ca(ol(Lt,["prevent"]),["enter"])},null,8,["modelValue","onKeydown"]),Vs]),_:1}),u(T,{label:"Submit",class:"w-28",severity:"contrast",disabled:String(w.value??"").replace(/\D/g,"").length<6,loading:be.value,onClick:Pl},null,8,["disabled","loading"]),k.value&&Ct.value.length?(x(),z("ul",As,[(x(!0),z(Te,null,ma(Ct.value,(o,Ie)=>(x(),z("li",{key:Ie,class:"px-3 py-2 hover:bg-gray-50 cursor-pointer",onMousedown:ol(ct=>kl(o),["left"])},J(o),41,Ts))),128))])):B("",!0),u(pa,{name:"fade"},{default:W(()=>[be.value?(x(),z("div",ws,[u(f(ft),{style:{width:"40px",height:"40px"},strokeWidth:"4"})])):B("",!0)]),_:1})])),[[S,H.value],[na,{enterClass:"animate-flipup",leaveClass:"animate-fadeout"}]]),re.value||fe.value?(x(),z("div",Us,[re.value?(x(),z(Te,{key:0},[u(K),u(T,{label:"Submit",class:"w-28",severity:"contrast",disabled:!_e.value||!nt.value,loading:ie.value,onClick:Ql,style:{"margin-left":"25px","margin-bottom":"5px"}},null,8,["disabled","loading"])],64)):fe.value?(x(),z(Te,{key:1},[u(ia),u(T,{label:"Submit",class:"w-28",severity:"contrast",onClick:Yl,style:{"margin-left":"25px","margin-bottom":"5px"}})],64)):B("",!0)])):B("",!0)])]),u(f(Ve)),u(f(Ve)),we.value&&Oe.value?(x(),Y(Ke,{key:Be.value,initialData:Xt.value,onClosePopup:t[17]||(t[17]=()=>{C.value.value&&Le(C.value),ta(),la()})},{default:W(()=>{var o,Ie,ct;return[c(l("div",Ms,[Oe.value?(x(),z("div",Cs,[l("div",Ns,[zs,u(s,{id:"manufacturer",value:i.manufacturer||((o=e.initialData)==null?void 0:o.udlmanufacturer)||"",onInput:t[10]||(t[10]=$=>i.manufacturer=$.target.value)},null,8,["value"])]),l("div",Ps,[Ls,u(s,{id:"material",value:i.material||((Ie=e.initialData)==null?void 0:Ie.udlmaterial)||"",onInput:t[11]||(t[11]=$=>i.material=$.target.value)},null,8,["value"])]),l("div",Bs,[Fs,u(a,{modelValue:C.value,"onUpdate:modelValue":t[12]||(t[12]=$=>C.value=$),options:i.system,placeholder:"Select System",onChange:t[13]||(t[13]=$=>Le($.value))},null,8,["modelValue","options"])]),l("div",Os,[$s,u(s,{id:"designPressure",modelValue:i.designPressure,"onUpdate:modelValue":t[14]||(t[14]=$=>i.designPressure=$)},null,8,["modelValue"])]),c(l("div",Is,[l("div",js,[u(Xa,{id:"anchor",modelValue:i.Anchor_Base_Sheet,"onUpdate:modelValue":t[15]||(t[15]=$=>i.Anchor_Base_Sheet=$),placeholder:"Enter anchor base sheet"},null,8,["modelValue"])]),l("div",Ks,[Rs,u(s,{id:"description",value:i.TileCap_Sheet_Description||((ct=e.initialData)==null?void 0:ct.udldescription)||"",onInput:t[16]||(t[16]=$=>i.TileCap_Sheet_Description=$.target.value)},null,8,["value"])])],512),[[S,re.value]])])):(x(),z("div",ks,[u(f(ft),{style:{width:"24px",height:"24px"},strokeWidth:"4"}),Es]))],512),[[S,re.value]])]}),_:1},8,["initialData"])):B("",!0),te.value?(x(),Y(Ke,{key:rt.value,initialData:Yt.value,onClosePopup:t[23]||(t[23]=o=>(ea(),oa()))},{default:W(()=>[c(l("div",Hs,[l("div",Zs,[qs,u(s,{id:"saapplicant",modelValue:p.manufacturer,"onUpdate:modelValue":t[18]||(t[18]=o=>p.manufacturer=o)},null,8,["modelValue"])]),l("div",Js,[Ws,u(s,{id:"saaterial",modelValue:p.material,"onUpdate:modelValue":t[19]||(t[19]=o=>p.material=o)},null,8,["modelValue"])]),l("div",Gs,[Xs,u(a,{modelValue:P.value,"onUpdate:modelValue":t[20]||(t[20]=o=>P.value=o),options:ye.value,optionLabel:"label",optionValue:"value",placeholder:"Select System"},null,8,["modelValue","options"]),ye.value.length?B("",!0):(x(),Y(f(ft),{key:0,style:{width:"24px",height:"24px"},strokeWidth:"4"}))]),l("div",Qs,[Ys,u(s,{id:"designpressure",modelValue:wt.value,"onUpdate:modelValue":t[21]||(t[21]=o=>wt.value=o),disabled:!N.value},null,8,["modelValue","disabled"])]),c(l("div",eo,[to,u(s,{id:"capsheetdescription",modelValue:Ut.value,"onUpdate:modelValue":t[22]||(t[22]=o=>Ut.value=o),disabled:!N.value},null,8,["modelValue","disabled"])],512),[[S,!!N.value]])],512),[[S,fe.value]])]),_:1},8,["initialData"])):B("",!0),Xe.value?B("",!0):(x(),z("div",lo,[de.value?(x(),Y(Ke,{key:Fe.value,onClosePopup:t[30]||(t[30]=o=>de.value=!1)},{default:W(()=>[c(l("div",ao,[l("div",so,[oo,u(s,{id:"manufacturer",modelValue:n.manufacturer,"onUpdate:modelValue":t[24]||(t[24]=o=>n.manufacturer=o)},null,8,["modelValue"])]),l("div",io,[no,u(s,{id:"description",modelValue:n.material,"onUpdate:modelValue":t[25]||(t[25]=o=>n.material=o)},null,8,["modelValue"])]),c(l("div",ro,[c(l("div",uo,[co,u(a,{modelValue:j.value,"onUpdate:modelValue":[t[26]||(t[26]=o=>j.value=o),ae],options:n.mechanicaltilefastener},null,8,["modelValue","options"])],512),[[S,ot.value]])],512),[[S,H.value]]),mo,c(l("div",po,[fo,u(s,{class:"min-w-[500px] flex flex-col gap-2 border-2",id:"description",modelValue:n.description,"onUpdate:modelValue":[t[27]||(t[27]=o=>n.description=o),Zt]},null,8,["modelValue"])],512),[[S,!R.value]])],512),[[S,H.value]]),c(l("div",go,[l("div",vo,[yo,u(a,{modelValue:I.value,"onUpdate:modelValue":[t[28]||(t[28]=o=>I.value=o),he],options:n.select_tile,placeholder:"make a selection",onChange:Se},null,8,["modelValue","options"])]),c(l("div",_o,[ho,u(a,{modelValue:j.value,"onUpdate:modelValue":[t[29]||(t[29]=o=>j.value=o),ae],options:n.mechanicaltilefastener},null,8,["modelValue","options"])],512),[[S,R.value]])],512),[[S,R.value]])]),_:1})):B("",!0)])),de.value?(x(),Y(Ke,{key:Fe.value,initialData:Qt.value,onClosePopup:Al},{default:W(()=>[c(l("div",bo,[l("div",So,[xo,u(s,{id:"manufacturer",modelValue:n.manufacturer,"onUpdate:modelValue":t[31]||(t[31]=o=>n.manufacturer=o)},null,8,["modelValue"])]),l("div",Do,[Vo,u(s,{id:"description",modelValue:n.material,"onUpdate:modelValue":t[32]||(t[32]=o=>n.material=o)},null,8,["modelValue"])]),c(l("div",Ao,[c(l("div",To,[wo,u(a,{modelValue:j.value,"onUpdate:modelValue":[t[33]||(t[33]=o=>j.value=o),ae],options:n.mechanicaltilefastener},null,8,["modelValue","options"])],512),[[S,ot.value]])],512),[[S,H.value]]),Uo,c(l("div",Mo,[ko,u(s,{class:"min-w-[500px] flex flex-col gap-2 border-2",id:"description",modelValue:n.description,"onUpdate:modelValue":[t[34]||(t[34]=o=>n.description=o),Zt]},null,8,["modelValue"])],512),[[S,!R.value]])],512),[[S,H.value]]),c(l("div",Eo,[l("div",Co,[No,u(a,{modelValue:I.value,"onUpdate:modelValue":[t[35]||(t[35]=o=>I.value=o),he],options:n.select_tile,placeholder:"make a selection",onChange:Se},null,8,["modelValue","options"])]),c(l("div",zo,[Po,u(a,{modelValue:j.value,"onUpdate:modelValue":[t[36]||(t[36]=o=>j.value=o),ae],options:n.mechanicaltilefastener},null,8,["modelValue","options"])],512),[[S,R.value]])],512),[[S,R.value]])]),_:1},8,["initialData"])):B("",!0),l("div",Lo,[l("table",Bo,[l("tbody",null,[l("tr",null,[l("td",Fo,[l("table",Oo,[l("tbody",null,[l("tr",null,[$o,l("td",Io,[c(l("input",{"onUpdate:modelValue":t[37]||(t[37]=o=>v.zone=o),readonly:"",size:"4",name:"zone1",value:""},null,512),[[L,v.zone]]),D(" x λ  ")]),l("td",jo,[c(l("input",{"onUpdate:modelValue":t[38]||(t[38]=o=>v.lambda1=o),readonly:"",size:"4",name:"lambda1",value:""},null,512),[[L,v.lambda1]]),D(" - Mg: ")]),l("td",Ko,[c(l("input",{"onUpdate:modelValue":t[39]||(t[39]=o=>v.mg1=o),readonly:"",size:"4",name:"mg1",value:""},null,512),[[L,v.mg1]]),D(" = Mr1: ")]),l("td",Ro,[c(l("input",{"onUpdate:modelValue":t[40]||(t[40]=o=>v.mr1=o),readonly:"",size:"4",name:"mr1",value:""},null,512),[[L,v.mr1]]),D(" NOA Mf: ")]),l("td",Ho,[c(l("input",{"onUpdate:modelValue":t[41]||(t[41]=o=>v.mf1=o),readonly:"false",size:"6",name:"mf1",value:"",onChange:ae},null,544),[[L,v.mf1]]),D("  ")]),c(l("i",Zo,null,512),[[S,f(Ce)]]),c(l("i",qo,null,512),[[S,f(Kt)]])]),l("tr",null,[Jo,l("td",Wo,[c(l("input",{"onUpdate:modelValue":t[42]||(t[42]=o=>h.zone=o),readonly:"",size:"4",name:"zone2",value:""},null,512),[[L,h.zone]]),D(" x λ  ")]),l("td",Go,[c(l("input",{"onUpdate:modelValue":t[43]||(t[43]=o=>h.lambda2=o),readonly:"",size:"4",name:"lambda2",value:""},null,512),[[L,h.lambda2]]),D(" - Mg: ")]),l("td",Xo,[c(l("input",{"onUpdate:modelValue":t[44]||(t[44]=o=>h.mg2=o),readonly:"",size:"4",name:"mg2",value:""},null,512),[[L,h.mg2]]),D(" = Mr2: ")]),l("td",Qo,[c(l("input",{"onUpdate:modelValue":t[45]||(t[45]=o=>h.mr2=o),readonly:"",size:"4",name:"mr2",value:""},null,512),[[L,h.mr2]]),D(" NOA Mf: ")]),l("td",Yo,[c(l("input",{"onUpdate:modelValue":t[46]||(t[46]=o=>h.mf2=o),readonly:"false",size:"6",name:"mf2",value:"",onChange:ae},null,544),[[L,h.mf2]]),D(" ")]),c(l("i",ei,null,512),[[S,f(Ne)]]),c(l("i",ti,null,512),[[S,f(Rt)]])]),l("tr",null,[li,l("td",ai,[c(l("input",{"onUpdate:modelValue":t[47]||(t[47]=o=>b.zone=o),readonly:"",size:"4",name:"zone3",value:""},null,512),[[L,b.zone]]),D(" x λ")]),l("td",si,[c(l("input",{"onUpdate:modelValue":t[48]||(t[48]=o=>b.lambda3=o),readonly:"",size:"4",name:"lambda3",value:""},null,512),[[L,b.lambda3]]),D(" - Mg: ")]),l("td",oi,[c(l("input",{"onUpdate:modelValue":t[49]||(t[49]=o=>b.mg3=o),readonly:"",size:"4",name:"mg5",value:""},null,512),[[L,b.mg3]]),D(" = Mr3: ")]),l("td",ii,[c(l("input",{"onUpdate:modelValue":t[50]||(t[50]=o=>b.mr3=o),readonly:"",size:"4",name:"mr3",value:""},null,512),[[L,b.mr3]]),D(" NOA Mf: ")]),l("td",ni,[c(l("input",{"onUpdate:modelValue":t[51]||(t[51]=o=>b.mf3=o),readonly:"false",size:"6",name:"mf3",value:"",onChange:ae},null,544),[[L,b.mf3]]),D(" ")]),c(l("i",ri,null,512),[[S,f(ze)]]),c(l("i",ui,null,512),[[S,f(Ht)]])]),Bl.value?(x(),Y(d,{key:0,severity:"error",life:3e3},{default:W(()=>[D("Select Another Material")]),_:1})):B("",!0)])])])])])]),(al=(ll=f(Z))==null?void 0:ll[0])!=null&&al.Table3?(x(),z("div",di,[l("div",null,[ci,D(" "+J(v.lambda1),1)]),l("div",null,[mi,D(" 2: "+J(f(Z)[0].Table3.two)+", 3: "+J(f(Z)[0].Table3.three)+", 4: "+J(f(Z)[0].Table3.four)+", 5: "+J(f(Z)[0].Table3.five)+", 6: "+J(f(Z)[0].Table3.six)+", 7: "+J(f(Z)[0].Table3.seven),1)])])):B("",!0)])],64)}}},fi=yt(pi,[["__scopeId","data-v-09ccef39"]]),gi={id:"tile",class:"w-md space-y-1",style:{"margin-left":"20px"}},Oi={__name:"TileMech",setup(M){const w=va(),ee=rl();Ae(ee);const F=r(!1),k=r(ee.$state.roofList);let ne=r(null);function pe(){console.log(ne)}V(F,E=>{E?(console.log("Dialog is now visible"),console.log(w)):console.log("Dialog has been closed")});function se(){for(let E=0;E<k.value.length;E++)console.log(k.value[E].item),k.value[E].item==="Mechanical Fastened Tile"&&(console.log("I am in",k.value[E].item),F.value=!0,console.log(F.value))}return vt(()=>{se()}),(E,_t)=>(x(),z(Te,null,[F.value===!0?(x(),Y(Za,{key:0})):B("",!0),l("div",gi,[u(fi,{slopeEntered:f(ne),style:{"margin-left":"2px"},onChange:pe},null,8,["slopeEntered"])])],64))}};export{Oi as default};
