import{s as W}from"./index-BGjpVzn3.js";import{y as J,o as h,a as q,p as I,e as a,E as $,f as Z,X as Q,aa as ee,c as y,O as A,ab as G,h as g,g as f,t as j,d as oe,ac as ne}from"./index-15WpCrGV.js";import{u as re,a as se}from"./use-downloadpdf-nNXj06v8.js";import{u as te}from"./pdfsignStore-BsqnzASl.js";import{u as ae}from"./permitapp-CHM8tSwF.js";import"./index-By4bQlEX.js";import"./useAxios-PCNqTRqC.js";var M={NVM_INC:"/home/dev-user/.nvm/versions/node/v16.20.2/include/node",XDG_SESSION_ID:"c2",SSH_AGENT_PID:"23319",HOSTNAME:"linux-server01",TERM_PROGRAM:"vscode",NODE:"/home/dev-user/.nvm/versions/node/v16.20.2/bin/node",IMSETTINGS_INTEGRATE_DESKTOP:"yes",XRDP_SOCKET_PATH:"/run/xrdp",INIT_CWD:"/home/dev-user/code/data/BorisProject/pa_projectv2",NVM_CD_FLAGS:"",XDG_MENU_PREFIX:"gnome-",SHELL:"/bin/bash",TERM:"xterm-256color",VTE_VERSION:"5204",HISTSIZE:"2000",npm_config_metrics_registry:"https://registry.npmjs.org/",npm_config_global_prefix:"/home/dev-user/.nvm/versions/node/v16.20.2",GNOME_TERMINAL_SCREEN:"/org/gnome/Terminal/screen/b457f753_c209_4a3b_9fd1_c27edcbd64f2",GJS_DEBUG_OUTPUT:"stderr",TERM_PROGRAM_VERSION:"1.85.2",ORIGINAL_XDG_CURRENT_DESKTOP:"GNOME",COLOR:"1",GJS_DEBUG_TOPICS:"JS ERROR;JS LOG",npm_config_noproxy:"",npm_config_local_prefix:"/home/dev-user/code/data/BorisProject/pa_projectv2",IMSETTINGS_MODULE:"none",NVM_DIR:"/home/dev-user/.nvm",USER:"dev-user",LS_COLORS:"rs=0:di=38;5;27:ln=38;5;51:mh=44;38;5;15:pi=40;38;5;11:so=38;5;13:do=38;5;5:bd=48;5;232;38;5;11:cd=48;5;232;38;5;3:or=48;5;232;38;5;9:mi=05;48;5;232;38;5;15:su=48;5;196;38;5;15:sg=48;5;11;38;5;16:ca=48;5;196;38;5;226:tw=48;5;10;38;5;16:ow=48;5;10;38;5;21:st=48;5;21;38;5;15:ex=38;5;34:*.tar=38;5;9:*.tgz=38;5;9:*.arc=38;5;9:*.arj=38;5;9:*.taz=38;5;9:*.lha=38;5;9:*.lz4=38;5;9:*.lzh=38;5;9:*.lzma=38;5;9:*.tlz=38;5;9:*.txz=38;5;9:*.tzo=38;5;9:*.t7z=38;5;9:*.zip=38;5;9:*.z=38;5;9:*.Z=38;5;9:*.dz=38;5;9:*.gz=38;5;9:*.lrz=38;5;9:*.lz=38;5;9:*.lzo=38;5;9:*.xz=38;5;9:*.bz2=38;5;9:*.bz=38;5;9:*.tbz=38;5;9:*.tbz2=38;5;9:*.tz=38;5;9:*.deb=38;5;9:*.rpm=38;5;9:*.jar=38;5;9:*.war=38;5;9:*.ear=38;5;9:*.sar=38;5;9:*.rar=38;5;9:*.alz=38;5;9:*.ace=38;5;9:*.zoo=38;5;9:*.cpio=38;5;9:*.7z=38;5;9:*.rz=38;5;9:*.cab=38;5;9:*.jpg=38;5;13:*.jpeg=38;5;13:*.gif=38;5;13:*.bmp=38;5;13:*.pbm=38;5;13:*.pgm=38;5;13:*.ppm=38;5;13:*.tga=38;5;13:*.xbm=38;5;13:*.xpm=38;5;13:*.tif=38;5;13:*.tiff=38;5;13:*.png=38;5;13:*.svg=38;5;13:*.svgz=38;5;13:*.mng=38;5;13:*.pcx=38;5;13:*.mov=38;5;13:*.mpg=38;5;13:*.mpeg=38;5;13:*.m2v=38;5;13:*.mkv=38;5;13:*.webm=38;5;13:*.ogm=38;5;13:*.mp4=38;5;13:*.m4v=38;5;13:*.mp4v=38;5;13:*.vob=38;5;13:*.qt=38;5;13:*.nuv=38;5;13:*.wmv=38;5;13:*.asf=38;5;13:*.rm=38;5;13:*.rmvb=38;5;13:*.flc=38;5;13:*.avi=38;5;13:*.fli=38;5;13:*.flv=38;5;13:*.gl=38;5;13:*.dl=38;5;13:*.xcf=38;5;13:*.xwd=38;5;13:*.yuv=38;5;13:*.cgm=38;5;13:*.emf=38;5;13:*.axv=38;5;13:*.anx=38;5;13:*.ogv=38;5;13:*.ogx=38;5;13:*.aac=38;5;45:*.au=38;5;45:*.flac=38;5;45:*.mid=38;5;45:*.midi=38;5;45:*.mka=38;5;45:*.mp3=38;5;45:*.mpc=38;5;45:*.ogg=38;5;45:*.ra=38;5;45:*.wav=38;5;45:*.axa=38;5;45:*.oga=38;5;45:*.spx=38;5;45:*.xspf=38;5;45:",LD_LIBRARY_PATH:"/usr/local/openssl/lib:/opt/glibc:/usr/local/openssl/lib",GNOME_TERMINAL_SERVICE:":1.101",npm_config_globalconfig:"/home/dev-user/.nvm/versions/node/v16.20.2/etc/npmrc",SSH_AUTH_SOCK:"/tmp/ssh-SMLchjiSh3XX/agent.23318",npm_execpath:"/home/dev-user/.nvm/versions/node/v16.20.2/lib/node_modules/npm/bin/npm-cli.js",SESSION_MANAGER:"local/unix:@/tmp/.ICE-unix/2116,unix/unix:/tmp/.ICE-unix/2116",XRDP_PULSE_SINK_SOCKET:"xrdp_chansrv_audio_out_socket_11",PULSE_SCRIPT:"/etc/xrdp/pulse/default.pa",GNOME_SHELL_SESSION_MODE:"classic",MAIL:"/var/spool/mail/dev-user",PATH:"/home/dev-user/code/data/BorisProject/pa_projectv2/node_modules/.bin:/home/dev-user/code/data/BorisProject/node_modules/.bin:/home/dev-user/code/data/node_modules/.bin:/home/dev-user/code/node_modules/.bin:/home/dev-user/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/home/dev-user/.nvm/versions/node/v16.20.2/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/opt/gcc-7.3/bin:/usr/local/openssl/bin:/opt/gcc-7.3/bin:/usr/local/openssl/bin:/opt/gcc-7.3/bin:/usr/local/openssl/bin:/opt/gcc-7.3/bin:/usr/local/openssl/bin:/home/dev-user/.cargo/bin:/home/dev-user/.nvm/versions/node/v16.20.2/bin:/opt/gcc-7.3/bin:/usr/local/openssl/bin:/sbin:/bin:/usr/bin:/usr/local/bin:/usr/local/sbin:/usr/sbin:/var/lib/snapd/snap/bin:/usr/local/bin/npm:/home/dev-user/.local/bin:/home/dev-user/bin:/usr/local/bin/npm:/home/dev-user/.local/bin:/home/dev-user/bin:/usr/local/bin/npm:/home/dev-user/.local/bin:/home/dev-user/bin:/usr/local/bin/npm:/usr/local/bin/npm",npm_package_json:"/home/dev-user/code/data/BorisProject/pa_projectv2/package.json",_:"/home/dev-user/code/data/BorisProject/pa_projectv2/node_modules/.bin/vite",QT_IM_MODULE:"ibus",npm_config_userconfig:"/home/dev-user/.npmrc",npm_config_init_module:"/home/dev-user/.npm-init.js",npm_command:"run-script",PWD:"/home/dev-user/code/data/BorisProject/pa_projectv2",XMODIFIERS:"@im=ibus",npm_lifecycle_event:"build",EDITOR:"vi",XRDP_SESSION:"1",npm_package_name:"vue",LANG:"en_US.UTF-8",XRDP_PULSE_SOURCE_SOCKET:"xrdp_chansrv_audio_in_socket_11",GDK_BACKEND:"x11",CHROME_DESKTOP:"code-url-handler.desktop",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"--ms-enable-electron-run-as-node",npm_config_node_gyp:"/home/dev-user/.nvm/versions/node/v16.20.2/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",npm_package_version:"4.1.0",HISTCONTROL:"ignoredups",SHLVL:"5",HOME:"/home/dev-user",VSCODE_GIT_ASKPASS_MAIN:"/usr/share/code/resources/app/extensions/git/dist/askpass-main.js",GNOME_DESKTOP_SESSION_ID:"this-is-deprecated",npm_config_cache:"/home/dev-user/.npm",LOGNAME:"dev-user",npm_lifecycle_script:"vite build",DBUS_SESSION_BUS_ADDRESS:"unix:abstract=/tmp/dbus-eH8RA3yjMo,guid=886bf98700c3489a645ce0f96813a670",XDG_DATA_DIRS:"/home/dev-user/.local/share/flatpak/exports/share:/var/lib/flatpak/exports/share:/usr/local/share:/usr/share:/var/lib/snapd/desktop",VSCODE_GIT_IPC_HANDLE:"/run/user/1000/vscode-git-0182d466da.sock",UID:"1000",NVM_BIN:"/home/dev-user/.nvm/versions/node/v16.20.2/bin",LESSOPEN:"||/usr/bin/lesspipe.sh %s",npm_config_user_agent:"npm/8.19.4 node/v16.20.2 linux x64 workspaces/false",GIT_ASKPASS:"/usr/share/code/resources/app/extensions/git/dist/askpass.sh",VSCODE_GIT_ASKPASS_NODE:"/usr/share/code/code",DISPLAY:":11.0",XDG_RUNTIME_DIR:"/run/user/1000",XDG_CURRENT_DESKTOP:"GNOME",NO_AT_BRIDGE:"1",npm_node_execpath:"/home/dev-user/.nvm/versions/node/v16.20.2/bin/node",npm_config_prefix:"/home/dev-user/.nvm/versions/node/v16.20.2",COLORTERM:"truecolor",NODE_ENV:"production",VITE_GOOGLE_CLIENT_ID:"978320609817-r83rgg9qsb4ntam9dek995cqcn779qut.apps.googleusercontent.com",VITE_STRIPE_PUBLISHABLE_KEY:"pk_live_51PDPFeE9FsYF7D6YdhOvGMnNjz75LcgmLPoyJGa4o5tDx0FDy7DlGf0wlgy3x4BsYf1lH0hY7NAsBWR6j1OguTtM00YO5rHeXc",STRIPE_SECRET_KEY:"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",VITE_API_BASE_URL:"https://lnu3pj9h41.execute-api.us-east-1.amazonaws.com/lastNumber",VITE_BUY_BTN_ID:"buy_btn_1RQNedE9FsYF7D6YXfu48tnV",LAUNCH_EDITOR:"code"};const ie={__name:"BuyButton",setup(s){const e=M.VITE_STRIPE_PUBLISHABLE_KEY,o=M.VITE_BUY_BTN_ID;return(r,n)=>{const t=J("stripe-buy-button");return h(),q(t,{"buy-button-id":I(o),"publishable-key":I(e)},null,8,["buy-button-id","publishable-key"])}}};var le="v3",ce=function(e){return e===3?"v3":e},U="https://js.stripe.com",de="".concat(U,"/v3"),ue=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,pe=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,B="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",me=function(e){return ue.test(e)||pe.test(e)},_e=function(){for(var e=document.querySelectorAll('script[src^="'.concat(U,'"]')),o=0;o<e.length;o++){var r=e[o];if(me(r.src))return r}return null},C=function(e){var o="",r=document.createElement("script");r.src="".concat(de).concat(o);var n=document.head||document.body;if(!n)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return n.appendChild(r),r},ve=function(e,o){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"5.10.0",startTime:o})},u=null,S=null,E=null,Se=function(e){return function(o){e(new Error("Failed to load Stripe.js",{cause:o}))}},Ee=function(e,o){return function(){window.Stripe?e(window.Stripe):o(new Error("Stripe.js not available"))}},fe=function(e){return u!==null?u:(u=new Promise(function(o,r){if(typeof window>"u"||typeof document>"u"){o(null);return}if(window.Stripe&&e&&console.warn(B),window.Stripe){o(window.Stripe);return}try{var n=_e();if(n&&e)console.warn(B);else if(!n)n=C(e);else if(n&&E!==null&&S!==null){var t;n.removeEventListener("load",E),n.removeEventListener("error",S),(t=n.parentNode)===null||t===void 0||t.removeChild(n),n=C(e)}E=Ee(o,r),S=Se(r),n.addEventListener("load",E),n.addEventListener("error",S)}catch(c){r(c);return}}),u.catch(function(o){return u=null,Promise.reject(o)}))},be=function(e,o,r){if(e===null)return null;var n=o[0],t=n.match(/^pk_test/),c=ce(e.version),m=le;t&&c!==m&&console.warn("Stripe.js@".concat(c," was loaded on the page, but @stripe/stripe-js@").concat("5.10.0"," expected Stripe.js@").concat(m,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var _=e.apply(void 0,o);return ve(_,r),_},p,z=!1,V=function(){return p||(p=fe(null).catch(function(e){return p=null,Promise.reject(e)}),p)};Promise.resolve().then(function(){return V()}).catch(function(s){z||console.warn(s)});var ge=function(){for(var e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];z=!0;var n=Date.now();return V().then(function(t){return be(t,o,n)})};const he={class:"card"},Ie={class:"flex flex-col w-1/3 gap-2 shadow-lg shadow-cyan-800",style:{"margin-left":"550px","margin-top":"440px"}},Te={class:"payment-widget"},De=f("h2",{style:{color:"black"}},"Credit Card Payment",-1),Oe={key:0,class:"confirmation"},Re=49.99,Ge={__name:"Paymentgateway",setup(s){var D,O,R,N;const e=ae();console.log(e.$state);const o=a(((O=(D=e.$state.permitapp[0])==null?void 0:D.formdt)==null?void 0:O.muniProc)||""),r=a(!1),n=a(!1);a(!1);const t=a(!1),c=a(!1),m=a(!1),_=a(!1);a(null);const k=a({cardholderName:"",cardNumber:"",expiryDate:"",cvv:""});a(!1),a(!1);const{getNumber:H}=re(o.value),d=se();$(d.$state),console.log((N=(R=d.$state.downloadinput[0])==null?void 0:R.downloadData)==null?void 0:N.download_url);const{resp:T}=te();Z(()=>{var i,l;((l=(i=T.value)==null?void 0:i.status)==null?void 0:l.status)===200&&(c.value=!0,console.log(T.value.status.status))});const K=Q(()=>{var i,l;H(),setTimeout(()=>{m.value=!0},1e3),console.log(o.value),console.log((l=(i=d.downloadinput[0])==null?void 0:i.downloadData)==null?void 0:l.message)}),Y=ge("pk_live_51PDPFeE9FsYF7D6YdhOvGMnNjz75LcgmLPoyJGa4o5tDx0FDy7DlGf0wlgy3x4BsYf1lH0hY7NAsBWR6j1OguTtM00YO5rHeXc");console.log(Y),ee(K,()=>{});const X=async()=>{var P,w,x,L;const i=(w=(P=d.downloadinput[0])==null?void 0:P.downloadData)==null?void 0:w.download_url;if(console.log(i),!i||i.length===0)return;console.log(i);const l=(L=(x=d.downloadinput[0])==null?void 0:x.downloadData)==null?void 0:L.download_url;if(!l)return;r.value=!0;const b=l,F="processnumber.zip",v=document.createElement("a");v.href=b,v.download=F,v.click(),v.remove(),t.value=!0};return(i,l)=>{const b=W;return h(),y("div",he,[A(g(I(ne),{color:"#784EA7",size:"100px",style:{"margin-top":"500px","margin-left":"850px"}},null,512),[[G,n.value]]),f("div",Ie,[A(g(b,{icon:"pi pi-arrow-circle-down",severity:"info","aria-label":"User",onClick:X},null,512),[[G,t.value]]),f("div",Te,[De,g(ie),_.value?(h(),y("div",Oe,[f("p",null,"Thank you, "+j(k.value.cardholderName)+"! Your payment of $"+j(Re)+" was processed.",1)])):oe("",!0)])])])}}};export{Ge as default};
