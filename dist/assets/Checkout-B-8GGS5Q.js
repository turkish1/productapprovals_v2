import{E as ja,P as Ja,c as aa,d as la,D as Za,r as s,a8 as ca,ar as pa,as as ua,f as lt,o as qa,bh as Ka,e as He,i as da,a2 as Qa,a1 as La,an as Da,t as Aa,g as $a,aa as Sa,k as Va,F as ya,p as _a,j as el}from"./index-Cs6-1ItK.js";import{s as tl}from"./index-Dg4S4vUB.js";import{s as al}from"./index-BD29FilR.js";import{s as ll}from"./index-DeR9srIs.js";import{u as ol}from"./use-signpdf-Bu7iE6Fy.js";import{u as va}from"./accountsStore-CuKFHl6M.js";import{u as Ea}from"./generalpageStore-BBd-no1U.js";import{u as ha}from"./permitapp-CBs8PAls.js";import{u as ta}from"./roofList-BSuK0kMe.js";import{E as Mt}from"./jspdf.es.min-GASxU-Za.js";import{u as Pa}from"./burpdfStore-C6lmdwkn.js";import{a as sl,u as il,b as nl}from"./systemfStore-DlclH7W7.js";import{u as za}from"./dripEdgeStore-C40HAzsR.js";import{u as dl}from"./tilenoaStore-KA14eGza.js";import{u as Ba,a as Ra}from"./tilesysfStore-BNQo699K.js";import{u as cl}from"./use-tileMechanical-D20HtQPy.js";import{_ as pl}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-lXTjsDes.js";import"./useAxios-Bsx5Fbbr.js";var ul=function(Y){var x=Y.dt;return`
.p-skeleton {
    overflow: hidden;
    background: `.concat(x("skeleton.background"),`;
    border-radius: `).concat(x("skeleton.border.radius"),`;
}

.p-skeleton::after {
    content: "";
    animation: p-skeleton-animation 1.2s infinite;
    height: 100%;
    left: 0;
    position: absolute;
    right: 0;
    top: 0;
    transform: translateX(-100%);
    z-index: 1;
    background: linear-gradient( 90deg, rgba(255, 255, 255, 0), `).concat(x("skeleton.animation.background"),`, rgba(255, 255, 255, 0) );
}

.p-skeleton-circle {
    border-radius: 50%;
}

.p-skeleton-animation-none::after {
    animation: none;
}

@keyframes p-skeleton-animation {
    from {
        transform: translateX(-100%);
    }
    to {
        transform: translateX(100%);
    }
}
`)},vl={root:{position:"relative"}},hl={root:function(Y){var x=Y.props;return["p-skeleton p-component",{"p-skeleton-circle":x.shape==="circle","p-skeleton-animation-none":x.animation==="none"}]}},xl=ja.extend({name:"skeleton",theme:ul,classes:hl,inlineStyles:vl}),gl={name:"BaseSkeleton",extends:Ja,props:{shape:{type:String,default:"rectangle"},size:{type:String,default:null},width:{type:String,default:"100%"},height:{type:String,default:"1rem"},borderRadius:{type:String,default:null},animation:{type:String,default:"wave"}},style:xl,provide:function(){return{$pcSkeleton:this,$parentInstance:this}}},Oa={name:"Skeleton",extends:gl,inheritAttrs:!1,computed:{containerStyle:function(){return this.size?{width:this.size,height:this.size,borderRadius:this.borderRadius}:{width:this.width,height:this.height,borderRadius:this.borderRadius}}}};function ml(pe,Y,x,te,M,E){return aa(),la("div",Za({class:pe.cx("root"),style:[pe.sx("root"),E.containerStyle],"aria-hidden":"true"},pe.ptmi("root")),null,16)}Oa.render=ml;const Tl={__name:"Generalpagepdf",setup(pe){const{getUser:Y}=va();let x=s(!1);const te=ha();ta();const M=Ea(),E=s(te.$state.permitapp[0].formdt.address),F=s(te.$state.permitapp[0].formdt.permit),u=s(te.$state.permitapp[0].formdt.processNumber),z=u.value.length!==0?u.value:"files",ot=s(Y.value[0].dba),ue=s(""),Wt=s(M.$state.generalpdfinput);function T(){Wt.value.length!==1&&(x.value=!0)}ca(()=>{T(),l()}),pa(async()=>{await ua(x).toBe(!0),l()});const l=()=>{if(M.$state.generalpdfinput.length===0)console.log("lenghth is   zero");else{const i=new Mt;i.setGState(new i.GState({opacity:.9}));const I="Approved";i.setFontSize(24),i.setTextColor("black"),i.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const ae=new Image,Ge=new Image,st=new Image;ae.src="/demo/images/officepaper.jpeg",Ge.src="/demo/images/logo.jpeg",st.src="/demo/images/DragAndDrop.jpeg";const d=725,U=i.getPageInfo(1),n=U.pageContext.mediaBox.topRightX,ft=U.pageContext.mediaBox.topRightY;console.log(n);const g=s(0),o=s(0);var v=595.28-585.28,e=ft-d;g.value=v,o.value=e,console.log(g.value,o.value),i.addImage(Ge,"JPEG",10,10,50,30),i.addImage(ae,"JPEG",0,0,210,297),i.setFontSize(14),i.setTextColor("green");var t=new Date,O=t.toLocaleDateString();i.text(I,10,270,{align:"left"});const Ct=i.getTextWidth(I);i.text("on: "+O,Ct+15,270),i.text(`${u.value}`,10,258,{align:"left"}),i.getTextWidth(`${u.value}`),console.log(E,F,u,ot);const a=s(!1),je=s(!1),W=s(!1),it=s(!1),nt=s(!1);i.setFontSize(12);const Jt=()=>{i.setFontSize(10),i.setTextColor(0),i.text("2023 HVHZ  mEPermit General Information Page",70,20,{maxWidth:"170"}),i.line(10,41,195,41)};i.setTextColor(0),i.circle(185,38,2,"FD"),i.text("I agree",165,39),Jt(),i.setFontSize(12),i.setFontSize(10);const Ut=[{category:"DBA",value:`${ot.value}`},{category:"Job Address",value:`${E.value}`},{category:"meProcess Number",value:`${u.value}`},{category:"Master Permit",value:`${F.value}`}];let rt=10,$t=60,se=50;i.setFontSize(10),Ut.forEach((J,Re)=>{const ke=se+Re*10;i.text(J.category,rt,ke),i.text(J.value,$t,ke),i.getTextWidth(J.category);const _=i.getTextWidth(J.value)*2;i.line($t,ke+2,$t+_,ke+2)}),i.setFontSize(10);const b=100,h=s(!1);M.$state.generalpdfinput[0].generalpdfData.roofCheck[0]==="reroof"&&(h.value=!0,console.log(h.value)),g.value=v+70,e=b-15,console.log(e);const ve=new Mt.API.AcroFormCheckBox;i.text("Re-Roof: ",g.value,e);const he=e-3;ve.fieldName="CheckBox6",console.log(h.value),ve.Rect=[g.value+20,he,4,4],g.value=g.value+20,ve.value=h.value===!0?"On":"Off",ve.appearanceState=h.value===!0?"On":"Off",i.addField(ve),g.value=v+120,e=b-15,console.log(e);const xe=new Mt.API.AcroFormCheckBox;i.text("New Roof: ",g.value,e);const St=e-3;xe.fieldName="CheckBox7",xe.Rect=[g.value+20,St,4,4],xe.value=h.value===!0?"Off":"On",xe.appearanceState=h.value===!0?"Off":"On",g.value=g.value+20,i.addField(xe);const $="Total: ",dt="Low Slope: ",ct="Steep Slope: ",we=s(M.$state.generalpdfinput[0].generalpdfData.totalData),Pe=s(M.$state.generalpdfinput[0].generalpdfData.slopeData),Ve=s(M.$state.generalpdfinput[0].generalpdfData.steepData);console.log(M.$state.generalpdfinput[0].generalpdfData),g.value=v;const be=i.getTextWidth(dt),ge=i.getTextWidth(`${Pe.value}`),De=g.value+2;i.text(dt,De,b);const C=be+De;i.text(`${Pe.value}`,C,b),i.line(C,b,C+ge,b),g.value=C+ge;const wt=i.getTextWidth(ct),Ee=i.getTextWidth(`${Ve.value}`),me=g.value+2;i.text(ct,me,b);const c=wt+me;i.text(`${Ve.value}`,c,b),i.line(c,b,c+Ee,b),console.log(b,e),e=b+10,g.value=c+Ee,console.log(g.value);const Vt=i.getTextWidth($),Je=i.getTextWidth(`${we.value}`),j=g.value+2;i.text($,j,b);const Ae=Vt+j;i.text(`${we.value}`,Ae,b),i.line(Ae,b,Ae+Je,b),g.value=Ae+Je,M.$state.generalpdfinput[0].generalpdfData.slopeChk===!0&&(nt.value=!0),M.$state.generalpdfinput[0].generalpdfData.adtileChk===!0&&(a.value=!0),M.$state.generalpdfinput[0].generalpdfData.metalChk===!0&&(je.value=!0),M.$state.generalpdfinput[0].generalpdfData.mtileChk===!0&&(W.value=!0),M.$state.generalpdfinput[0].generalpdfData.shingleChk===!0&&(it.value=!0),g.value=v,e=e+10,console.log(e);const Te=new Mt.API.AcroFormCheckBox;i.text("Low Slope: ",v,e);const Pt=e-3;Te.fieldName="CheckBox1",Te.Rect=[v+20,Pt,4,4],Te.value=nt.value===!0?"On":"Off",Te.appearanceState=nt.value===!0?"On":"Off",g.value=v+20,i.addField(Te);const p=g.value+10,Fe=new Mt.API.AcroFormCheckBox;i.text("Mechanical Fastened Tile: ",p,e);const Et=e-3;Fe.fieldName="CheckBox2",Fe.Rect=[p+45,Et,4,4],Fe.value=nt.value===!0?"On":"Off",Fe.appearanceState=nt.value===!0?"On":"Off",g.value=p+20,i.addField(Fe);const ze=g.value+30,ie=new Mt.API.AcroFormCheckBox;i.text("Adhesive Set Tile: ",ze,e);const pt=e-3;ie.fieldName="CheckBox3",ie.Rect=[ze+35,pt,4,4],ie.value=a.value===!0?"On":"Off",ie.appearanceState=a.value===!0?"On":"Off",g.value=ze+10,i.addField(ie);const ut=g.value+35,ne=new Mt.API.AcroFormCheckBox;i.text("Shingle: ",ut,e);const bt=e-3;ne.fieldName="CheckBox4",ne.Rect=[ut+20,bt,4,4],ne.value=it.value===!0?"On":"Off",ne.appearanceState=it.value===!0?"On":"Off",g.value=ut+20,i.addField(ne);const Ze=g.value+25,y=new Mt.API.AcroFormCheckBox;i.text("Metal Panel: ",Ze,e);const Be=e-3;y.fieldName="CheckBox5",y.Rect=[Ze+20,Be,4,4],y.value=je.value===!0?"on":"Off",y.appearanceState=je.value===!0?"On":"Off",g.value=Ze+20,i.addField(y),e=e+10,i.addImage(st,"JPEG",v+40,e,120,120);const Xe="GeneralPage.pdf",zt=i.output("blob");(async(J,Re)=>{const ke=J,_=ke;console.log(_);const qe=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${z}/${_}`;try{const We=await fetch(qe,{method:"PUT",headers:{"Content-Type":ke.type},body:Re});We.ok?(ue.value=qe,alert("File uploaded successfully!")):alert(`Failed to upload file. Status: ${We.status}`)}catch(We){console.error("Error uploading file:",We),alert("An error occurred while uploading the file.")}})(Xe,zt)}};return(v,e)=>(aa(),la("div"))}},Wl={__name:"LowSlopepdf",setup(pe){const{getUser:Y}=va(),x=ha(),te=ta(),M=Pa(),E=s(te.$state.roofList[0].dim2),F=s(x.$state.permitapp[0].formdt.address),u=s(x.$state.permitapp[0].formdt.muni),z=s(x.$state.permitapp[0].formdt.processNumber),ot=s(Y.value[0].dba),ue=s(M.$state.burpdfinput);let Wt=s(!1);const T=z.value.length!==0?z.value:"files",l=s("");function v(){ue.value.length!==1&&(Wt.value=!0,e())}ca(()=>{v()}),pa(async()=>{await ua(Wt).toBe(!0)});const e=()=>{const t=Pa();if(t.$state.burpdfinput.length===0)console.log("lenghth is zero");else{const Ge=s(t.$state.burpdfinput[0].burpdfData.height),st=s(t.$state.burpdfinput[0].burpdfData.slope),d=s(t.$state.burpdfinput[0].burpdfData.per),U=s(t.$state.burpdfinput[0].burpdfData.deckType),n=new Mt;n.setGState(new n.GState({opacity:.9}));const ft="Approved";n.setFontSize(24),n.setTextColor("black"),n.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const g=new Image,o=new Image;g.src="/demo/images/officepaper.jpeg",o.src="/demo/images/logo.jpeg";const Ct=725,a=n.getPageInfo(1);a.pageContext.mediaBox.topRightX;const je=a.pageContext.mediaBox.topRightY,W=s(0),it=s(0);var O=595.28-585.28,i=je-Ct;W.value=O,it.value=i,console.log(W.value,it.value),n.addImage(o,"JPEG",10,2,50,30),n.addImage(g,"JPEG",0,0,210,297),n.setFontSize(14),n.setTextColor("red");var I=new Date,ae=I.toLocaleDateString();n.text(ft,10,270,{align:"left"});const nt=n.getTextWidth(ft);n.text("on: "+ae,nt+15,270),n.text(`${z.value}`,10,280,{align:"left"});const Jt=n.getTextWidth(`${z.value}`);n.text(`${u.value}`,Jt+15,280),n.setFontSize(12);const Ut=()=>{n.setFontSize(10),n.setTextColor(0),n.text('The low slope Built Up Roof (BUR) Assembly shall be installed in compliance with the HVHZ portions of Chapter 15 found in the 2023 Florida Building Code and the HVHZ Roofing Application Standards (RAS), RAS-111, RAS-117 and RAS-128. This roof assembly shall also comply with the listed requirements for a Class "A" fire rating including roof slope (incline), components and a fire barrier when required. The mePermit applicant agrees to comply with these installation requirements when obtaining this permit.',10,25,{maxWidth:"170"}),n.line(10,45,195,45)};n.setTextColor("black"),n.circle(185,40,2,"FD"),n.text("I agree",165,41),Ut(),n.setFontSize(12),n.setFontSize(10);const rt=[{category:"DBA",value:`${ot.value}`},{category:"Municipality",value:`${u.value}`},{category:"Job Address",value:`${F.value}`},{category:"meProcess Number",value:`${z.value}`}];let $t=10,se=60,L=50;n.setFontSize(10),rt.forEach((Oe,At)=>{const ht=L+At*10;n.text(Oe.category,$t,ht),n.text(Oe.value,se,ht),n.getTextWidth(Oe.category);const k=n.getTextWidth(Oe.value)*2;n.line(se,ht+2,se+k,ht+2)}),n.setFontSize(10);const h=100,ve="Roof Area: ",he="Decktype: ",xe="Mean Roof Height: ",St="Roof Slope: ",$="Roof Perimeter: ",dt="Type of Low Slope BUR Material: ",ct="Type of Low Slope BUR System: ",we="Attach P(1') Prime using P(1) Field Prescriptive Basesheet: ",Pe="Attach P(2) Perimeter using P(3) Corner Prescriptive: ",Ve=s(t.$state.burpdfinput[1].burpdfData.burMaterial),be=s(t.$state.burpdfinput[1].burpdfData.burSystem),ge=s(t.$state.burpdfinput[1].burpdfData.p1),De=s(t.$state.burpdfinput[1].burpdfData.p3);W.value=O;const C=n.getTextWidth(ve),wt=n.getTextWidth(`${E.value}`),Ee=W.value;n.text(ve,Ee,h);const me=C+Ee;n.text(`${E.value}`,me,h),n.line(me,h,me+wt,h),W.value=me+wt;const c=n.getTextWidth(xe),Vt=n.getTextWidth(`${Ge.value}`),Je=W.value+2;n.text(xe,Je,h);const j=c+Je;n.text(`${Ge.value}`,j,h),n.line(j,h,j+Vt,h),W.value=j+Vt;const Ae=n.getTextWidth(St),Te=n.getTextWidth(`${st.value}`),Pt=W.value+2;n.text(St,Pt,h);const p=Ae+Pt;n.text(`${st.value}`,p,h),n.line(p,h,p+Te,h),W.value=p+Te;const Fe=n.getTextWidth($),Et=n.getTextWidth(`${d.value}`),ze=W.value+2;n.text($,ze,h);const ie=Fe+ze;n.text(`${d.value}`,ie,h),n.line(ie,h,ie+Et,h),console.log(h,i),i=h+10,W.value=ie+Et;const pt=n.getTextWidth(he),ut=n.getTextWidth(`${U.value}`),ne=O;n.text(he,ne,i);const bt=pt+ne;n.text(`${U.value}`,bt,i),n.line(bt,i,bt+ut,i),i=i+10,W.value=O;const Ze=n.getTextWidth(dt),y=n.getTextWidth(`${Ve.value}`),Be=W.value;n.text(dt,Be,i);const Xe=Ze+12;n.text(`${Ve.value}`,Xe,i),n.line(Xe,i,Xe+y,i),W.value=Xe+y,i=i+10,W.value=O,n.setFontSize(9),n.getTextWidth(we);const zt=n.getTextWidth(`${be.value}`),Dt=W.value;n.text(ct,Dt,i),i=i+10,W.value=O;const J=W.value;n.text(`${be.value}`,J,i),n.line(J,i,J+zt,i),i=i+10,n.setFontSize(10),n.getTextWidth(we);const Re=n.getTextWidth(`${ge.value}`),ke=O;n.text(we,ke,i),i=i+7;const _=O;n.text(`${ge.value}`,_,i),n.line(_,i,_+Re+70,i),i=i+10,W.value=O;const qe=n.getTextWidth(`${De.value}`),We=W.value;n.text(Pe,We,i),i=i+7,W.value=O;const Ne=W.value;n.text(`${De.value}`,Ne,i),n.line(Ne,i,Ne+qe+70,i),i=i+10;const vt="LowSlope.pdf",Yt=n.output("blob");(async(Oe,At)=>{const ht=Oe,k=ht;console.log(k);const B=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${T}/${k}`;try{const D=await fetch(B,{method:"PUT",headers:{"Content-Type":ht.type},body:At});D.ok?(l.value=B,alert("File uploaded successfully!")):alert(`Failed to upload file. Status: ${D.status}`)}catch(D){console.error("Error uploading file:",D),alert("An error occurred while uploading the file.")}})(vt,Yt)}};return(t,O)=>(aa(),la("div"))}},fl={__name:"Shingle",setup(pe){const{getUser:Y}=va(),x=sl(),te=ha(),M=ta(),E=il(),F=nl(),u=ta(),z=s(u.$state.roofList);let ot=s(!1);const ue=ca(()=>{if(console.log(z),z.value.length===0)return"";z.value[0].item==="Asphalt Shingle"&&(ot.value=!0,Wt())});pa(async()=>{await ua(ue).toBe(!0),console.log(ue)});const Wt=()=>{if(E.$state.inputshingle.length===0)console.log("lenghth is zero");else{console.log(x,F);let t=s(!1),O=s(!1);x.$state.systeminput.length!==0&&(O=!0,console.log(O)),F.$state.polyinput.length!==0&&(t=!0,console.log(t));const i=s(te.$state.permitapp[0].formdt.address),I=s(te.$state.permitapp[0].formdt.muni),ae=s(te.$state.permitapp[0].formdt.processNumber),Ge=s(Y.value[0].dba),st=s(E.$state.inputshingle[0].shingleData.height),d=s(E.$state.inputshingle[0].shingleData.slope),U=s(E.$state.inputshingle[0].shingleData.deckType),n=s(M.$state.roofList[0].dim1),ft=ae.value.length!==0?ae.value:"files",g=s(""),o=new Mt;o.setGState(new o.GState({opacity:.8}));const Ct="Approved";o.setFontSize(24),o.setTextColor(150,150,150),o.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const a=new Image,je=new Image;a.src="/demo/images/officepaper.jpeg",je.src="/demo/images/logo.jpeg",o.addImage(je,"JPEG",10,10,50,30),o.addImage(a,"JPEG",0,0,210,297),o.setFontSize(20),o.setTextColor(190,190,190);var T=new Date,l=T.toLocaleDateString();o.text(Ct,10,270,{align:"left"});const W=o.getTextWidth(Ct);o.text("on: "+l,W+15,270),o.text(`${ae.value}`,10,280,{align:"left"});const it=o.getTextWidth(`${ae.value}`);o.text(`${I.value}`,it+15,280),o.setFontSize(12);const nt=()=>{o.setFontSize(12),o.setTextColor(0),o.text("The Shingle roof system and its components shall be installed in strict compliance  with the HVHZportions of Chapter 15 FBC, the HVHZ Roof Application Standards(RAS) 111 & 115, and the submitted MDC(NOA) Notice of Acceptance(s).The mePermit applicant agrees to comply with these installation requirements when obtaining this permit.",10,20,{maxWidth:"200"}),o.line(10,41,195,41)};o.setTextColor(0),o.circle(185,38,2,"FD"),o.text("I agree",165,39),nt(),o.setFontSize(12),o.setFontSize(14);const Jt=[{category:"DBA",value:`${Ge.value}`},{category:"Municipality",value:`${I.value}`},{category:"Job Address",value:`${i.value}`},{category:"meProcess Number",value:`${ae.value}`}];let Ut=10,rt=60,$t=50;o.setFontSize(12),Jt.forEach((k,B)=>{const D=$t+B*10;o.text(k.category,Ut,D),o.text(k.value,rt,D),o.getTextWidth(k.category);const H=o.getTextWidth(k.value)*2;o.line(rt,D+2,rt+H,D+2)}),o.setFontSize(12);const se=2,L=100;o.text("Roof Area:",10,L),o.text(`${n.value}`,35,L),o.line(35,L+se,45,L+se),o.text("Mean Roof Height:",50,L);const b=o.getTextWidth("Mean Roof Height:");o.text(`${st.value}`,L,L),o.line(90,L+se,70+b,L+se),o.text("Roof Slope:",80+b,L);const h=105+b;o.text(`${d.value}`,h,L);const ve=o.getTextWidth(`${d.value}`)*2;o.line(h,L+se,h+ve,L+se);const he=108;o.text("Decktype:",10,he);const xe=30+ve;o.text(`${U.value}`,xe,he);const St=o.getTextWidth(`${U.value}`)*2;o.line(xe,he,xe+St,he);const $="Shingle NOA Number: ",dt="Shingle Applicant: ",ct="Shingle Material: ",we="Shingle Description: ",Pe="Fastened Underlayment(UDL)NOA: ",Ve="UDL NOA Applicant: ",be="Fastened UDL Material: ",ge="UDL Description: ",De="Perscriptive: ",C=179,wt=725,Ee=o.getPageInfo(1);console.log(Ee),Ee.pageContext.mediaBox.topRightX;const me=Ee.pageContext.mediaBox.topRightY,c=s(0),Vt=s(0);var v=595.28-585.28,e=me-wt;c.value=v,Vt.value=e,console.log(c.value,Vt.value);const Je=s(E.$state.inputshingle[0].shingleData.noa),j=s(E.$state.inputshingle[0].shingleData.applicant),Ae=s(E.$state.inputshingle[0].shingleData.material),Te=s(E.$state.inputshingle[0].shingleData.description),Pt=s(E.$state.inputshingle[0].shingleData.prescriptiveSelection),p=o.getTextWidth(De),Fe=o.getTextWidth(`${Pt.value}`),Et=v;o.text(De,Et,e);const ze=p+10;o.text(`${Pt.value}`,ze,e),o.line(ze,e,ze+Fe,e),e=e+10;const ie=o.getTextWidth(dt),pt=o.getTextWidth(`${j.value}`),ut=v;o.text(dt,ut,e);const ne=ut+ie;o.text(`${j.value}`,ne,e),o.line(ne,e,ne+pt,e),c.value=ne+pt;const bt=o.getTextWidth($),Ze=o.getTextWidth(`${Je.value}`),y=c.value+3;o.text($,y,e);const Be=bt+y;o.text(`${Je.value}`,Be,e),o.line(Be,e,Be+Ze,e),c.value=Be+Ze,c.value>C&&(e=e+10),console.log(c.value,C);const Xe=c.value+2,zt=o.getTextWidth(ct),Dt=o.getTextWidth(`${Ae.value}`);o.text(ct,Xe,e);const J=Xe+zt;o.text(`${Ae.value}`,J,e),o.line(J,e,J+Dt,e),c.value=J+Dt,c.value>C&&(e=e+10),console.log(c.value,C);const Re=o.getTextWidth(`${Te.value}`),ke=o.getTextWidth(we),_=v;o.text(we,_,e);const qe=_+ke;if(o.text(`${Te.value}`,qe,e),o.line(qe,e,qe+Re,e),c.value=qe+Re,e=e+10,console.log(F.$state.polyinput.length),F.$state.polyinput.length===0){const k="n/a",B="n/a",D="n/a",H="n/a",le=o.getTextWidth(Pe),Z=o.getTextWidth(k),fe=v;o.text(Pe,fe,e);const G=fe+le;o.text(k,G,e),o.line(G,e,G+Z,e),c.value=G+Z,console.log(c.value);const re=o.getTextWidth(Ve),xt=o.getTextWidth(B),Ke=c.value+2;o.text(Ve,Ke,e);const m=Ke+re;o.text(B,m,e),o.line(m,e,m+xt,e),c.value=m+xt,console.log(c.value),c.value>C&&(e=e+10);const f=c.value+2,V=o.getTextWidth(be),A=o.getTextWidth(D);o.text(be,f,e);const r=f+V;o.text(D,r,e),o.line(r,e,r+A,e),c.value=r+A,console.log(c.value),c.value>C&&(e=e+10),console.log(c.value);const w=o.getTextWidth(ge),P=o.getTextWidth(H),N=v,S=N+P;console.log(S),o.text(ge,N,e),S>C&&print(S);const X=N+w;o.text(H,X,e),o.line(X,e,X+P,e),c.value=X+P,e=e+10}else{const k=s(F.$state.polyinput[0].polyData.noa),B=s(F.$state.polyinput[0].polyData.applicant),D=s(F.$state.polyinput[0].polyData.material),H=s(F.$state.polyinput[0].polyData.description),le=o.getTextWidth(Pe),Z=o.getTextWidth(`${k.value}`),fe=v;o.text(Pe,fe,e);const G=_+le;o.text(`${k.value}`,G,e),o.line(G,e,G+Z,e),c.value=G+Z;const re=o.getTextWidth(Ve),xt=o.getTextWidth(`${B.value}`),Ke=c.value+2;o.text(Ve,Ke,e);const m=Ke+re;o.text(`${B.value}`,m,e),o.line(m,e,m+xt,e),c.value=m+xt,c.value>C&&(e=e+10);const f=v,V=o.getTextWidth(be),A=o.getTextWidth(`${D.value}`);o.text(be,f,e);const r=f+V;o.text(`${D.value}`,r,e),o.line(r,e,r+A,e),c.value=r+A,c.value>C&&(e=e+10),console.log(c.value);const w=o.getTextWidth(ge),P=o.getTextWidth(`${H.value}`),N=c.value+2,S=N+P;console.log(S),o.text("UDL Description:",N,e),S>C&&print(S);const X=N+w;o.text(`${H.value}`,X,e),o.line(X,e,X+P,e),c.value=X+P,console.log(c.value),e=e+10}const We="Self Adhered NOA: ",Ne="S/A NOA Applicant: ",vt="S/A System F: ",Yt="S/A Material: ",Bt="S/A Description: ";if(console.log(x.$state.systeminput.length),x.$state.systeminput.length===0){const k="n/a",B="n/a",D="n/a",H="n/a",le="n/a",Z=o.getTextWidth(We),fe=o.getTextWidth(k),G=v;o.text(We,G,e);const re=G+Z;o.text(k,re,e),o.line(re,e,re+fe,e),c.value=re+fe,console.log(c.value);const xt=o.getTextWidth(Ne),Ke=o.getTextWidth(B),m=c.value+3;o.text(Ne,m,e);const f=m+xt;o.text(B,f,e),o.line(f,e,f+Ke,e),c.value=f+Ke,console.log(c.value);const V=o.getTextWidth(vt),A=c.value+3;o.text(vt,A,e);const r=A+V;o.text(D,r,e),o.line(r,e,r+V,e),c.value=r+V,console.log(c.value),e=e+10;const w=o.getTextWidth(Yt),P=o.getTextWidth(H),N=v;o.text(Yt,N,e);const S=N+w;o.text(H,S,e),o.line(S,e,S+P,e),c.value=S+P,console.log(c.value);const X=o.getTextWidth(Bt),q=o.getTextWidth(le),K=c.value+3;o.text(Bt,K,e);const R=K+X;o.text(le,R,e),o.line(R,e,R+q,e),c.value=R+q,console.log(c.value)}else{console.log("Entered sbs line 455",x.$state);const k=s(x.$state.systeminput[0].systemData.noa),B=s(x.$state.systeminput[0].systemData.manufacturer),D=s(x.$state.systeminput.pdfSystemValue),H=s(x.$state.systeminput[0].systemData.material),le=s(x.$state.systeminput[0].systemData.description),Z=o.getTextWidth(We),fe=o.getTextWidth(`${k.value}`),G=v;o.text(We,G,e);const re=G+Z;o.text(`${k.value}`,re,e),o.line(re,e,re+fe,e),c.value=re+fe;const xt=o.getTextWidth(Ne),Ke=o.getTextWidth(`${B.value}`),m=c.value+3;o.text(Ne,m,e);const f=m+xt;o.text(`${B.value}`,f,e),o.line(f,e,f+Ke,e),c.value=f+Ke,console.log(c.value);const V=o.getTextWidth(vt),A=o.getTextWidth(`${D.value}`),r=c.value+3;o.text(vt,r,e);const w=r+V;o.text(`${D.value}`,w,e),o.line(w,e,w+A,e),c.value=w+A,e=e+10,console.log(c.value);const P=o.getTextWidth(Yt),N=o.getTextWidth(`${H.value}`),S=v;o.text(Yt,S,e);const X=S+P;o.text(`${H.value}`,X,e),o.line(X,e,X+N,e),c.value=X+N,c.value>C&&(e=e+10),console.log(c.value);const q=o.getTextWidth(Bt),K=o.getTextWidth(`${le.value}`),R=c.value+3;o.text(Bt,R,e);const oe=R+q;o.text(`${le.value}`,oe,e),o.line(oe,e,oe+K,e),c.value=oe+K,c.value>=C&&(e=e+10),console.log(c.value)}const Oe="LowSlope.pdf",At=o.output("blob");(async(k,B)=>{const D=k,H=D;console.log(H);const le=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${ft}/${H}`;try{const Z=await fetch(le,{method:"PUT",headers:{"Content-Type":D.type},body:B});Z.ok?(g.value=le,alert("File uploaded successfully!")):alert(`Failed to upload file. Status: ${Z.status}`)}catch(Z){console.error("Error uploading file:",Z),alert("An error occurred while uploading the file.")}})(Oe,At)}};return(T,l)=>(aa(),la("div"))}},rl=lt("h1",null,"Generate PDF with Columns and Underlined Text",-1),$l=[rl],Sl={__name:"TileAdhesive",setup(pe){const Y=Ba(),x=Ra(),{getUser:te}=va(),M=ha(),E=ta(),F=s(E.$state.roofList),u=dl(),z=za();let ot=s(!1);const ue=ca(()=>{if(F.value.length===0)return"";F.value[0].item==="Adhesive Set Tile"&&(ot.value=!0,Wt())});pa(async()=>{await ua(ue).toBe(!0)});const Wt=()=>{if(u.tilenoa.value[0].length===0)console.log("lenghth is zero");else{const t=new Mt;let O=s(!1),i=s(!1);x.$state.tilesysEinput.length!==0&&(O=!0,console.log(O)),Y.$state.tilefinput.length!==0&&(i=!0,console.log(i));const I=179,ae=725,Ge=t.getPageInfo(1);Ge.pageContext.mediaBox.topRightX;const st=Ge.pageContext.mediaBox.topRightY,d=s(0),U=s(0);var T=595.28-585.28,l=st-ae;d.value=T,U.value=l;const n=s(u.tilenoa.value[0].height),ft=s(u.tilenoa.value[0].slope),g=s(u.tilenoa.value[0].area),o=s(u.tilenoa.value[0].deckType),Ct=s(u.tilenoa.value[0].perimeter),a=s(M.$state.permitapp[0].formdt.address),je=s(M.$state.permitapp[0].formdt.muni),W=s(M.$state.permitapp[0].formdt.processNumber),it=W.value.length!==0?W.value:"files",nt=s(""),Jt=s(te.value[0].dba);t.setGState(new t.GState({opacity:.8}));const Ut="Approved";t.setFontSize(24),t.setTextColor(150,150,150),t.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const rt=new Image,$t=new Image;rt.src="/demo/images/officepaper.jpeg",$t.src="/demo/images/logo.jpeg",t.addImage($t,"JPEG",10,1,50,30),t.addImage(rt,"JPEG",0,0,210,297),t.setFontSize(20),t.setTextColor(190,190,190);var v=new Date,e=v.toLocaleDateString();t.text(Ut,10,270,{align:"left"});const se=t.getTextWidth(Ut);t.text("on: "+e,se+15,270),t.text(`${W.value}`,10,280,{align:"left"});const L=t.getTextWidth(`${W.value}`);t.text(`${je.value}`,L+15,280),t.setFontSize(12);const b=()=>{t.setFontSize(12),t.setTextColor(0),t.text("The tile roof system and its components shall be installed in strict compliance with the FBC 2023 HVHZ portions of Chapter 15, the HVHZ Tile Application Standards: RAS-119, RAS-120 & RAS-127 and the submitted MDC Notice of Acceptance(s). The mePermit applicant agrees to comply with these installation requirements when obtaining this permit.",10,20,{maxWidth:"200"}),t.line(10,41,195,41)};t.setTextColor(0),t.circle(185,38,2,"FD"),t.text("I agree",165,39),b(),t.setFontSize(12),t.setFontSize(14);const h=[{category:"DBA",value:`${Jt.value}`},{category:"Municipality",value:`${je.value}`},{category:"Job Address",value:`${a.value}`},{category:"meProcess Number",value:`${W.value}`}];let ve=10,he=60,xe=50;t.setFontSize(12),h.forEach((ee,ce)=>{const Q=xe+ce*10;t.text(ee.category,ve,Q),t.text(ee.value,he,Q),t.getTextWidth(ee.category);const Me=t.getTextWidth(ee.value)*2;t.line(he,Q+2,he+Me,Q+2)}),t.setFontSize(12);const $=90,dt="Roof Area: ",ct="Decktype: ",we="Mean Roof Height: ",Pe="Roof Slope: ",Ve="Roof Perimeter: ";d.value=T;const be=t.getTextWidth(dt),ge=t.getTextWidth(`${g.value}`),De=d.value;t.text(dt,De,$);const C=be+De;t.text(`${g.value}`,C,$),t.line(C,$,C+ge,$),d.value=C+ge,console.log(l,$);const wt=t.getTextWidth(we),Ee=t.getTextWidth(`${n.value}`),me=d.value+2;t.text(we,me,$);const c=wt+me;t.text(`${n.value}`,c,$),t.line(c,$,c+Ee,$),d.value=c+Ee;const Vt=t.getTextWidth(Pe),Je=t.getTextWidth(`${ft.value}`),j=d.value+2;t.text(Pe,j,$);const Ae=Vt+j;t.text(`${ft.value}`,Ae,$),t.line(Ae,$,Ae+Je,$),d.value=Ae+Je;const Te=t.getTextWidth(Ve),Pt=t.getTextWidth(`${Ct.value}`),p=d.value+2;t.text(Ve,p,$);const Fe=Te+p;t.text(`${Ct.value}`,Fe,$),t.line(Fe,$,Fe+Pt,$),console.log($,l),l=$+10;const Et=t.getTextWidth(ct),ze=t.getTextWidth(`${o.value}`),ie=T;t.text(ct,ie,l);const pt=Et+ie;t.text(`${o.value}`,pt,l),t.line(pt,l,pt+ze,l),l=l+10;const ut="Tile NOA Number: ",ne="Tile Applicant: ",bt="Tile Material: ",Ze="Tile Description: ",y="Fastened Underlayment(UDL)NOA: ",Be="UDL NOA Applicant: ",Xe="Fastened UDL Material: ",zt="Select System E: ",Dt="Design psf: ",J="Anchor Base Sheet: ",Re="UDL Description: ",ke="Prescriptive: ",_="DripEdge Materiall: ",qe="DripEdge Size: ";console.log(u.tilenoa);const We=s(z.$state.dripinput[0].dripData),Ne=s(z.$state.dripinput[3].dripData),vt=t.getTextWidth(_),Yt=t.getTextWidth(`${We.value}`),Bt=T;t.text(_,Bt,l);const Oe=vt+Bt;t.text(`${We.value}`,Oe,l),t.line(Oe,l,Oe+Yt,l),l=l+10;const At=t.getTextWidth(qe),ht=t.getTextWidth(`${Ne.value}`),k=T;t.text(qe,k,l);const B=At+k;t.text(`${Ne.value}`,B,l),t.line(B,l,B+ht,l),l=l+10;const D=s(u.tilenoa.value[0].mf1),H=s(u.tilenoa.value[0].lambda1),le=s(u.tilenoa.value[0].mg1),Z=s(u.tilenoa.value[0].mr1),fe=s(u.tilenoa.value[0].zoneone),G=s(u.tilenoa.value[0].mf2),re=s(u.tilenoa.value[0].lambda2),xt=s(u.tilenoa.value[0].mg2),Ke=s(u.tilenoa.value[0].mr2),m=s(u.tilenoa.value[0].zonetwo),f=s(u.tilenoa.value[0].mf3),V=s(u.tilenoa.value[0].lambda3),A=s(u.tilenoa.value[0].mg3),r=s(u.tilenoa.value[0].mr3),w=s(u.tilenoa.value[0].zonethree),P=s(u.tilenoa.value[0].prescriptiveSelection.selectedBasesheet),N=t.getTextWidth(`${P.value.selectedBasesheet}`),S=T;t.text(ke,S,l);const X=T;l=l+10,t.text(`${P.value}`,X,l),t.line(X,l,X+N,l),l=l+10;const q=s(u.tilenoa.value[0].noa),K=s(u.tilenoa.value[0].applicant),R=s(u.tilenoa.value[0].material),oe=s(u.tilenoa.value[0].description),Ie=t.getTextWidth(ne),$e=t.getTextWidth(`${K.value}`),Qe=T;t.text(ne,Qe,l);const Ue=Qe+Ie;t.text(`${K.value}`,Ue,l),t.line(Ue,l,Ue+$e,l),d.value=Ue+$e;const Le=t.getTextWidth(ut),de=t.getTextWidth(`${q.value}`),Se=d.value+3;t.text(ut,Se,l);const Rt=Le+Se;t.text(`${q.value}`,Rt,l),t.line(Rt,l,Rt+de,l);const Ht=t.getTextWidth(`${R.value}`);d.value=Rt+Ht,d.value>I&&(l=l+10);const Ye=T,qt=t.getTextWidth(bt),ga=t.getTextWidth(`${R.value}`);t.text(bt,Ye,l);const yt=Ye+qt;t.text(`${R.value}`,yt,l),t.line(yt,l,yt+ga,l);const oa=t.getTextWidth(`${oe.value}`);d.value=yt+oa,d.value>I&&(l=l+10),console.log(d.value,I),l=l+10;const xa=t.getTextWidth(`${oe.value}`),ba=t.getTextWidth(Ze),Kt=T;t.text(Ze,Kt,l);const sa=Kt+ba;if(t.text(`${oe.value}`,sa,l),t.line(sa,l,sa+xa,l),d.value=sa+xa,console.log(x),l=l+10,x.$state.tilesysEinput.length===0){const ee="n/a",ce="n/a",Q="n/a",Me="n/a",gt=t.getTextWidth(y),ye=t.getTextWidth(ee),Ot=T;t.text(y,Ot,l);const Ft=Ot+gt;t.text(ee,Ft,l),t.line(Ft,l,Ft+ye,l),d.value=Ft+ye,console.log(d.value);const _e=t.getTextWidth(Be),Qt=t.getTextWidth(ce),mt=d.value+2;t.text(Be,mt,l);const Xt=mt+_e;t.text(ce,Xt,l),t.line(Xt,l,Xt+Qt,l),d.value=Xt+Qt,console.log(d.value),d.value>I&&(l=l+10);const et=d.value+2,Gt=t.getTextWidth(Xe),Tt=t.getTextWidth(Q);t.text(Xe,et,l);const tt=et+Gt;t.text(Q,tt,l),t.line(tt,l,tt+Tt,l),d.value=tt+Tt,console.log(d.value),d.value>I&&(l=l+10),console.log(d.value);const It=t.getTextWidth(Re),jt=t.getTextWidth(Me),kt=T,Ce=kt+jt;console.log(Ce),t.text(Re,kt,l),Ce>I&&print(Ce);const at=kt+It;t.text(Me,at,l),t.line(at,l,at+jt,l),d.value=at+jt,l=l+10}else{const ee=s(x.$state.tilesysEinput[0].systemDataE.noa),ce=s(x.$state.tilesysEinput[0].systemDataE.manufacturer),Q=s(x.$state.tilesysEinput[0].systemDataE.material),Me=s(x.$state.tilesysEinput[0].systemDataE.systemSelected),gt=s(x.$state.tilesysEinput[0].systemDataE.dP),ye=s(x.$state.tilesysEinput[0].systemDataE.Anchor_Base),Ot=s(x.$state.tilesysEinput[0].systemDataE.tileCap),Ft=t.getTextWidth(y),_e=t.getTextWidth(`${ee.value}`),Qt=T;t.text(y,Qt,l);const mt=Kt+Ft;t.text(`${ee.value}`,mt,l),t.line(mt,l,mt+_e,l),d.value=mt+_e;const Xt=t.getTextWidth(Be),et=t.getTextWidth(`${ce.value}`),Gt=d.value+2;t.text(Be,Gt,l);const Tt=Gt+Xt;t.text(`${ce.value}`,Tt,l),t.line(Tt,l,Tt+et,l);const tt=t.getTextWidth(`${Q.value}`);d.value=Tt+tt,l=l+10;const It=T,jt=t.getTextWidth(Xe),kt=t.getTextWidth(`${Q.value}`);t.text(Xe,It,l);const Ce=It+jt;t.text(`${Q.value}`,Ce,l),t.line(Ce,l,Ce+kt,l),d.value=Ce+kt,d.value>I&&(l=l+10);const at=d.value+5,ia=t.getTextWidth(zt),Lt=t.getTextWidth(`${Me.value}`);t.text(zt,at,l);const Nt=at+ia;t.text(`${Me.value}`,Nt,l),t.line(Nt,l,Nt+Lt,l),d.value=Nt+Lt,d.value>I&&(l=l+10);const na=t.getTextWidth(Dt),ka=t.getTextWidth(`${gt.value}`),Na=d.value+3;t.text(Dt,Na,l);const Wa=Na+na;t.text(`${gt.value}`,Wa,l),t.line(Wa,l,Wa+ka,l),d.value=Wa+ka,console.log(d.value),l=l+10,t.getTextWidth(J);const Ma=t.getTextWidth(`${ye.value}`),Ha=T;t.text(J,Ha,l),l=l+10;const fa=T;t.text(`${ye.value}`,fa,l),t.line(fa,l,fa+Ma,l),d.value=fa+Ma,l=l+10;const Ga=t.getTextWidth(Re),Ca=t.getTextWidth(`${Ot.value}`),wa=T;t.text(Re,wa,l);const ra=wa+Ga;t.text(`${Ot.value}`,ra,l),t.line(ra,l,ra+Ca,l),d.value=ra+Ca,console.log(d.value),l=l+10}const _t="Self Adhered NOA: ",ea="S/A NOA Applicant: ",Zt="S/A System F: ",ma="S/A Material: ",Ta="S/A Description: ";if(Y.$state.tilefinput.length===0){const ee="n/a",ce="n/a",Q="n/a",Me="n/a",gt="n/a",ye=t.getTextWidth(_t),Ot=t.getTextWidth(ee),Ft=T;t.text(_t,Ft,l);const _e=Ft+ye;t.text(ee,_e,l),t.line(_e,l,_e+Ot,l),d.value=_e+Ot,console.log(d.value);const Qt=t.getTextWidth(ea),mt=t.getTextWidth(ce),Xt=d.value+3;t.text(ea,Xt,l);const et=Xt+Qt;t.text(ce,et,l),t.line(et,l,et+mt,l),d.value=et+mt,console.log(d.value);const Gt=t.getTextWidth(Zt),Tt=d.value+3;t.text(Zt,Tt,l);const tt=Tt+Gt;t.text(Q,tt,l),t.line(tt,l,tt+Gt,l),d.value=tt+Gt,console.log(d.value),l=l+10;const It=t.getTextWidth(ma),jt=t.getTextWidth(Me),kt=T;t.text(ma,kt,l);const Ce=kt+It;t.text(Me,Ce,l),t.line(Ce,l,Ce+jt,l),d.value=Ce+jt,console.log(d.value);const at=t.getTextWidth(Ta),ia=t.getTextWidth(gt),Lt=d.value+3;t.text(Ta,Lt,l);const Nt=Lt+at;t.text(gt,Nt,l),t.line(Nt,l,Nt+ia,l),d.value=Nt+ia,console.log(d.value)}else{console.log("Entered sbs line 455",Y.$state);const ee=s(Y.$state.tilefinput[0].systemData.noa),ce=s(Y.$state.tilefinput[0].systemData.manufacturer),Q=s(Y.$state.tilefinput[0].systemData.pressure),Me=s(Y.$state.tilefinput[0].systemData.material),gt=s(Y.$state.tilefinput[0].systemData.description),ye=t.getTextWidth(_t),Ot=t.getTextWidth(`${ee.value}`),Ft=T;t.text(_t,Ft,l);const _e=Ft+ye;t.text(`${ee.value}`,_e,l),t.line(_e,l,_e+Ot,l),d.value=_e+Ot;const Qt=t.getTextWidth(ea),mt=t.getTextWidth(`${ce.value}`),Xt=d.value+3;t.text(ea,Xt,l);const et=Xt+Qt;t.text(`${ce.value}`,et,l),t.line(et,l,et+mt,l),d.value=et+mt,console.log(d.value);const Gt=t.getTextWidth(Zt),Tt=t.getTextWidth(`${Q.value}`),tt=d.value+3;t.text(Zt,tt,l);const It=tt+Gt;t.text(`${Q.value}`,It,l),t.line(It,l,It+Tt,l),d.value=It+Tt,l=l+10;const jt=t.getTextWidth(ma),kt=t.getTextWidth(`${Me.value}`),Ce=T;t.text(ma,Ce,l);const at=Ce+jt;t.text(`${Me.value}`,at,l),t.line(at,l,at+kt,l),d.value=at+kt,d.value>I&&(l=l+10);const ia=t.getTextWidth(Ta),Lt=t.getTextWidth(`${gt.value}`),Nt=d.value+3;t.text(Ta,Nt,l);const na=Nt+ia;t.text(`${gt.value}`,na,l),t.line(na,l,na+Lt,l),d.value=na+Lt,d.value>=I&&(l=l+10),console.log(d.value),l=l+10}l=l+10,t.setFont("times","normal"),console.log(u.tilenoa.value[0]);const Fa=[["Zone 1:",`${fe.value}`,"x λ",`${H.value}`,"- Mg:",`${le.value}`,"= Mr1:",`${Z.value}`,"NOA Mf:",`${D.value}`],["Zone 2:",`${m.value}`,"x λ",`${re.value}`,"- Mg:",`${xt.value}`,"= Mr2:",`${Ke.value}`,"NOA Mf:",`${G.value}`],["Zone 3:",`${w.value}`,"x λ",`${V.value}`,"- Mg:",`${A.value}`,"= Mr2:",`${r.value}`,"NOA Mf:",`${f.value}`]];console.log(Fa);let Ia=T-5,Xa=l;Fa.forEach(ee=>{let ce=Ia;ee.forEach(Q=>{t.text(String(Q),ce,Xa),ce+=18}),Xa+=5});const Ua="TileAdhesive.pdf",Ya=t.output("blob");(async(ee,ce)=>{const Q=ee,Me=Q;console.log(Me);const gt=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${it}/${Me}`;try{const ye=await fetch(gt,{method:"PUT",headers:{"Content-Type":Q.type},body:ce});ye.ok?(nt.value=gt,alert("File uploaded successfully!")):alert(`Failed to upload file. Status: ${ye.status}`)}catch(ye){console.error("Error uploading file:",ye),alert("An error occurred while uploading the file.")}})(Ua,Ya)}};return(T,l)=>(aa(),la("div",null,$l))}},Vl={__name:"TileMechanical",setup(pe){const{getUser:Y}=va();let x=s(!1);const te=ha(),M=ta(),E=s(M.$state.roofList),{mechStore:F}=cl(),u=Ba(),z=Ra(),ot=za(),ue=ca(()=>{if(E.value.length===0)return"";E.value[0].item==="Mechanical Fastened Tile"&&(x.value=!0,Wt())});pa(async()=>{await ua(ue).toBe(!0),console.log(ue)});const Wt=()=>{if(F.tilemech.value.length===0)console.log("lenghth is   zero");else{let t=s(!1),O=s(!1);z.$state.tilesysEinput.length!==0&&(t=!0,console.log(t)),u.$state.tilefinput.length!==0&&(O=!0,console.log(O)),console.log(F.tilemech.value[0]);const i=s(F.tilemech.value[0].height),I=s(F.tilemech.value[0].slope),ae=s(F.tilemech.value[0].deckType),Ge=s(M.$state.roofList[0].dim3),st=s(te.$state.permitapp[0].formdt.address),d=s(te.$state.permitapp[0].formdt.muni),U=s(te.$state.permitapp[0].formdt.processNumber),n=s(ot.$state.dripinput[0].dripData),ft=s(ot.$state.dripinput[3].dripData),g=U.value.length!==0?U.value:"files",o=s(""),Ct=s(Y.value[0].dba),a=new Mt;a.setGState(new a.GState({opacity:.8}));const je="Approved";a.setFontSize(24),a.setTextColor(150,150,150),a.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const W=new Image,it=new Image;W.src="/demo/images/officepaper.jpeg",it.src="/demo/images/logo.jpeg",a.addImage(it,"JPEG",10,10,50,30),a.addImage(W,"JPEG",0,0,210,297),a.setFontSize(20),a.setTextColor(190,190,190);var T=new Date,l=T.toLocaleDateString();a.text(je,10,270,{align:"left"});const nt=a.getTextWidth(je);a.text("on: "+l,nt+15,270),a.text(`${U.value}`,10,280,{align:"left"});const Jt=a.getTextWidth(`${U.value}`);a.text(`${d.value}`,Jt+15,280),a.setFontSize(12);const Ut=()=>{a.setFontSize(12),a.setTextColor(0),a.text("The tile roof system and its components shall be installed in strict compliance with the FBC 2023 HVHZ portions of Chapter 15, the HVHZ Tile Application Standards: RAS-119, RAS-120 & RAS-127 and the submitted MDC Notice of Acceptance(s).",10,20,{maxWidth:"200"}),a.line(10,41,195,41)};a.setTextColor(0),a.circle(185,38,2,"FD"),a.text("I agree",165,39),Ut(),a.setFontSize(12),a.setFontSize(14);const rt=[{category:"DBA",value:`${Ct.value}`},{category:"Municipality",value:`${d.value}`},{category:"Job Address",value:`${st.value}`},{category:"meProcess Number",value:`${U.value}`}];let $t=10,se=60,L=50;a.setFontSize(12),rt.forEach((m,f)=>{const V=L+f*10;a.text(m.category,$t,V),a.text(m.value,se,V),a.getTextWidth(m.category);const A=a.getTextWidth(m.value)*2;a.line(se,V+2,se+A,V+2)}),a.setFontSize(12);const b=2,h=100;a.text("Roof Area:",10,h),a.text(`${Ge.value}`,35,h),a.line(35,h+b,45,h+b),a.text("Mean Roof Height:",50,h);const ve=a.getTextWidth("Mean Roof Height:");a.text(`${i.value}`,h,h),a.line(90,h+b,70+ve,h+b),a.text("Roof Slope:",80+ve,h);const he=105+ve;a.text(`${I.value}`,he,h);const xe=a.getTextWidth(`${I.value}`)*2;a.line(he,h+b,he+xe,h+b);const St=108;a.text("Decktype:",10,St);const $=30+xe;a.text(`${ae.value}`,$,St);const dt=a.getTextWidth(`${ae.value}`)*2;a.line($,St,$+dt,St);const ct="Tile NOA Number: ",we="Tile Applicant: ",Pe="Tile Material: ",Ve="Tile Description: ",be="Fastened (UDL) NOA: ",ge="(UDL) NOA Applicant: ",De="Fastened (UDL) Material: ",C="Select System E: ",wt="Design psf: ",Ee="Anchor Base Sheet: ",me="(UDL) Description: ",c="Prescriptive: ",Vt="DripEdge Matetiral: ",Je="DripEdge Size: ",j=179,Ae=725,Te=a.getPageInfo(1);console.log(Te),Te.pageContext.mediaBox.topRightX;const Pt=Te.pageContext.mediaBox.topRightY,p=s(0),Fe=s(0);var v=595.28-585.28,e=Pt-Ae;p.value=v,Fe.value=e,console.log(p.value,Fe.value);const Et=s(F.tilemech.value[0].noa),ze=s(F.tilemech.value[0].manufacturer),ie=s(F.tilemech.value[0].material),pt=s(F.tilemech.value[0].description);a.getTextWidth(c);const ut=v;a.text(c,ut,e),e=e+10,e=e+10;const ne=a.getTextWidth(Vt),bt=a.getTextWidth(`${n.value}`),Ze=v;a.text(Vt,Ze,e);const y=ne+Ze;a.text(`${n.value}`,y,e),a.line(y,e,y+bt,e),e=e+10;const Be=a.getTextWidth(Je),Xe=a.getTextWidth(`${ft.value}`),zt=v;a.text(Je,zt,e);const Dt=Be+zt;a.text(`${ft.value}`,Dt,e),a.line(Dt,e,Dt+Xe,e),e=e+10;const J=a.getTextWidth(`${ze.value}`),Re=a.getTextWidth(we),ke=v;a.text(we,ke,e);const _=ke+Re;a.text(`${ze.value}`,_,e),a.line(_,e,_+J,e),p.value=_+J;const qe=a.getTextWidth(ct),We=a.getTextWidth(`${Et.value}`),Ne=p.value+qe;a.text(ct,p.value+2,e),a.text(`${Et.value}`,Ne+2,e),a.line(Ne,e,Ne+We,e),p.value=Ne+We;const vt=e,Yt=a.getTextWidth(Pe),Bt=a.getTextWidth(`${ie.value}`),Oe=p.value+5;a.text(Pe,Oe,vt);const At=Oe+Yt;a.text(`${ie.value}`,At,vt),a.line(At,vt,At+Bt,vt),p.value=At+Bt,e=e+10;const ht=a.getTextWidth(`${pt.value}`),k=a.getTextWidth(Ve),B=v;a.text(Ve,B,e);const D=B+k;if(a.text(`${pt.value}`,D,e),a.line(D,e,D+ht,e),p.value=D+ht,e=e+10,z.$state.tilesysEinput.length===0){const m="n/a",f="n/a",V="n/a",A="n/a",r=a.getTextWidth(be),w=a.getTextWidth(m),P=v;a.text(be,P,e);const N=P+r;a.text(m,N,e),a.line(N,e,N+w,e),p.value=N+w,console.log(p.value);const S=a.getTextWidth(ge),X=a.getTextWidth(f),q=p.value+2;a.text(ge,q,e);const K=q+S;a.text(f,K,e),a.line(K,e,K+X,e),p.value=K+X,console.log(p.value),p.value>j&&(e=e+10);const R=p.value+2,oe=a.getTextWidth(De),Ie=a.getTextWidth(V);a.text(De,R,e);const $e=R+oe;a.text(V,$e,e),a.line($e,e,$e+Ie,e),p.value=$e+Ie,console.log(p.value),p.value>j&&(e=e+10),console.log(p.value);const Qe=a.getTextWidth(me),Ue=a.getTextWidth(A),Le=v,de=Le+Ue;console.log(de),a.text(me,Le,e),de>j&&print(de);const Se=Le+Qe;a.text(A,Se,e),a.line(Se,e,Se+Ue,e),p.value=Se+Ue,e=e+10}else{const m=s(z.$state.tilesysEinput[0].systemDataE.noa),f=s(z.$state.tilesysEinput[0].systemDataE.manufacturer),V=s(z.$state.tilesysEinput[0].systemDataE.material),A=s(z.$state.tilesysEinput[0].systemDataE.systemSelected),r=s(z.$state.tilesysEinput[0].systemDataE.dP),w=s(z.$state.tilesysEinput[0].systemDataE.Anchor_Base),P=s(z.$state.tilesysEinput[0].systemDataE.tileCap),N=a.getTextWidth(be),S=a.getTextWidth(`${m.value}`),X=v;a.text(be,X,e);const q=B+N;a.text(`${m.value}`,q,e),a.line(q,e,q+S,e),p.value=q+S;const K=a.getTextWidth(ge),R=a.getTextWidth(`${f.value}`),oe=p.value+2;a.text(ge,oe,e);const Ie=oe+K;a.text(`${f.value}`,Ie,e),a.line(Ie,e,Ie+R,e);const $e=a.getTextWidth(`${V.value}`);p.value=Ie+$e,e=e+10;const Qe=v,Ue=a.getTextWidth(De),Le=a.getTextWidth(`${V.value}`);a.text(De,Qe,e);const de=Qe+Ue;a.text(`${V.value}`,de,e),a.line(de,e,de+Le,e),p.value=de+Le,p.value>j&&(e=e+10);const Se=p.value+5,Rt=a.getTextWidth(C),Ht=a.getTextWidth(`${A.value}`);a.text(C,Se,e);const Ye=Se+Rt;a.text(`${A.value}`,Ye,e),a.line(Ye,e,Ye+Ht,e),p.value=Ye+Ht,p.value>j&&(e=e+10);const qt=a.getTextWidth(wt),ga=a.getTextWidth(`${r.value}`),yt=p.value+3;a.text(wt,yt,e);const oa=yt+qt;a.text(`${r.value}`,oa,e),a.line(oa,e,oa+ga,e),p.value=oa+ga,console.log(p.value),e=e+10,a.getTextWidth(Ee);const xa=a.getTextWidth(`${w.value}`),ba=v;a.text(Ee,ba,e),e=e+10;const Kt=v;a.text(`${w.value}`,Kt,e),a.line(Kt,e,Kt+xa,e),p.value=Kt+xa,e=e+10;const sa=a.getTextWidth(me),_t=a.getTextWidth(`${P.value}`),ea=v;a.text(me,ea,e);const Zt=ea+sa;a.text(`${P.value}`,Zt,e),a.line(Zt,e,Zt+_t,e),p.value=Zt+_t,console.log(p.value),e=e+10}const H="Self Adhered NOA: ",le="S/A NOA Applicant: ",Z="S/A System F: ",fe="S/A Material: ",G="S/A Description: ";if(u.$state.tilefinput.length===0){const m="n/a",f="n/a",V="n/a",A="n/a",r="n/a",w=a.getTextWidth(H),P=a.getTextWidth(m),N=v;a.text(H,N,e);const S=N+w;a.text(m,S,e),a.line(S,e,S+P,e),p.value=S+P,console.log(p.value);const X=a.getTextWidth(le),q=a.getTextWidth(f),K=p.value+3;a.text(le,K,e);const R=K+X;a.text(f,R,e),a.line(R,e,R+q,e),p.value=R+q,console.log(p.value);const oe=a.getTextWidth(Z),Ie=p.value+3;a.text(Z,Ie,e);const $e=Ie+oe;a.text(V,$e,e),a.line($e,e,$e+oe,e),p.value=$e+oe,console.log(p.value),e=e+10;const Qe=a.getTextWidth(fe),Ue=a.getTextWidth(A),Le=v;a.text(fe,Le,e);const de=Le+Qe;a.text(A,de,e),a.line(de,e,de+Ue,e),p.value=de+Ue,console.log(p.value);const Se=a.getTextWidth(G),Rt=a.getTextWidth(r),Ht=p.value+3;a.text(G,Ht,e);const Ye=Ht+Se;a.text(r,Ye,e),a.line(Ye,e,Ye+Rt,e),p.value=Ye+Rt,console.log(p.value)}else{console.log("Entered sbs line 455",u.$state);const m=s(u.$state.tilefinput[0].systemData.noa),f=s(u.$state.tilefinput[0].systemData.manufacturer),V=s(u.$state.tilefinput[0].systemData.pressure),A=s(u.$state.tilefinput[0].systemData.material),r=s(u.$state.tilefinput[0].systemData.description),w=a.getTextWidth(H),P=a.getTextWidth(`${m.value}`),N=v;a.text(H,N,e);const S=N+w;a.text(`${m.value}`,S,e),a.line(S,e,S+P,e),p.value=S+P;const X=a.getTextWidth(le),q=a.getTextWidth(`${f.value}`),K=p.value+3;a.text(le,K,e);const R=K+X;a.text(`${f.value}`,R,e),a.line(R,e,R+q,e),p.value=R+q,console.log(p.value);const oe=a.getTextWidth(Z),Ie=a.getTextWidth(`${V.value}`),$e=p.value+3;a.text(Z,$e,e);const Qe=$e+oe;a.text(`${V.value}`,Qe,e),a.line(Qe,e,Qe+Ie,e),p.value=Qe+Ie,e=e+10;const Ue=a.getTextWidth(fe),Le=a.getTextWidth(`${A.value}`),de=v;a.text(fe,de,e);const Se=de+Ue;a.text(`${A.value}`,Se,e),a.line(Se,e,Se+Le,e),p.value=Se+Le,p.value>j&&(e=e+10);const Rt=a.getTextWidth(G),Ht=a.getTextWidth(`${r.value}`),Ye=p.value+3;a.text(G,Ye,e);const qt=Ye+Rt;a.text(`${r.value}`,qt,e),a.line(qt,e,qt+Ht,e),p.value=qt+Ht,p.value>=j&&(e=e+10),console.log(p.value)}const re="MechanicalTile.pdf",xt=a.output("blob");(async(m,f)=>{const V=m,A=V;console.log(A);const r=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${g}/${A}`;try{const w=await fetch(r,{method:"PUT",headers:{"Content-Type":V.type},body:f});w.ok?(o.value=r,alert("File uploaded successfully!")):alert(`Failed to upload file. Status: ${w.status}`)}catch(w){console.error("Error uploading file:",w),alert("An error occurred while uploading the file.")}})(re,xt)}};return(T,l)=>(aa(),la("div"))}},bl=pe=>(_a("data-v-ba1bbce2"),pe=pe(),el(),pe),Dl={class:"card"},Al=bl(()=>lt("p",null,"The roof systems you selected",-1)),Fl={class:"rounded border border-surface-200 dark:border-surface-700 p-6 bg-surface-0 dark:bg-surface-900"},Xl={class:"flex mb-4"},kl={class:"flex justify-between mt-4"},Nl={__name:"Checkout",setup(pe){const{accountUsers:Y}=va();let x=s(!1),te=s(!1),M=s(!1),E=s(!1),F=s(!1);const u=s("");s(""),s(""),s("");const z=ha(),ot=ta(),ue=s(ot.$state.roofList),Wt=Ea(),T=s(Wt.$state.generalpdfinput),l=s(z.$state.permitapp[0].formdt.processNumber),{getNumbers:v}=ol();function e(){Y.value.forEach((I,ae)=>{u.value=I.dba}),console.log(l.value)}function t(){v(l.value),console.log("called times")}const O=ca(()=>{if(ue.value.length===0)return"";ue.value[0].item==="Asphalt Shingle"?E.value=!0:ue.value[0].item==="Low Slope"?F.value=!0:ue.value[0].item==="Adhesive Set Tile"?te.value=!0:ue.value[0].item==="Mechanical Fastened Tile"?M.value=!0:T.value.length!==1&&(x.value=!0)});qa(()=>{e(),t()}),Ka(e,O,()=>{console.log(E.value)});const i=s([{status:"RoofSystems",date:"15/10/2020 10:30",icon:"pi pi-cog",color:"#9C27B0",image:"/src/assets/img/roofing_tile.jpg"},{status:"Processing",date:"15/10/2020 14:00",icon:"pi pi-cog",color:"#673AB7"}]);return pa(async()=>{await ua(O).toBe(!0)}),(I,ae)=>{const Ge=ll,st=al,d=tl,U=Oa;return aa(),la(ya,null,[lt("div",Dl,[He(d,{value:i.value,align:"alternate",class:"customized-timeline"},{marker:da(n=>[lt("span",{class:"flex w-8 h-8 items-center justify-center text-white rounded-full z-10 shadow-sm",style:Qa({backgroundColor:n.item.color})},[lt("i",{class:La(n.item.icon)},null,2)],4)]),content:da(n=>[He(st,{class:"mt-4"},{title:da(()=>[Da(Aa(n.item.status),1)]),subtitle:da(()=>[Da(Aa(n.item.date),1)]),content:da(()=>[Al,He(Ge,{label:"Read more",text:""})]),_:2},1024)]),_:1},8,["value"])]),lt("div",Fl,[lt("div",Xl,[He(U,{shape:"circle",size:"4rem",class:"mr-2"}),lt("div",null,[He(U,{width:"10rem",class:"mb-2"}),He(U,{width:"5rem",class:"mb-2"}),He(U,{height:"2rem",width:"30rem",modelValue:u.value,"onUpdate:modelValue":ae[0]||(ae[0]=n=>u.value=n)},{default:da(()=>[Da(Aa(I.db),1)]),_:1},8,["modelValue"])])]),He(U,{width:"100%",height:"150px"}),lt("div",kl,[He(U,{width:"4rem",height:"2rem"}),He(U,{width:"4rem",height:"2rem"})]),$a(lt("div",null,[He(fl)],512),[[Sa,Va(E)]]),$a(lt("div",null,[He(Sl)],512),[[Sa,Va(te)]]),$a(lt("div",null,[He(Vl)],512),[[Sa,Va(M)]]),$a(lt("div",null,[He(Wl)],512),[[Sa,Va(F)]]),lt("div",null,[He(Tl)])])],64)}}},Ll=pl(Nl,[["__scopeId","data-v-ba1bbce2"]]);export{Ll as default};
