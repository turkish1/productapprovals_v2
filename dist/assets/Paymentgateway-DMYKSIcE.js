import{s as Y}from"./index-CRN4wDlg.js";import{i as t,C as A,e as F,X as R,aa as X,o as P,c as U,O as n,ab as B,g as M,p as j,f as e,G as H,ac as u,t as T,d as I,ad as J}from"./index-ica-XrX1.js";import{u as K,a as L}from"./use-downloadpdf-C4f5WRpR.js";import{u as Q}from"./pdfsignStore-CduNQPRD.js";import{u as W}from"./permitapp-U3IoHNxK.js";import"./index-BlSj7jYj.js";import"./useAxios-DjJqJdY8.js";const Z={class:"card"},ee={class:"flex flex-col w-1/3 gap-2 shadow-lg shadow-cyan-800",style:{"margin-left":"550px","margin-top":"440px"}},ae={class:"payment-widget"},oe=e("h2",{style:{color:"black"}},"Credit Card Payment",-1),te={class:"form-group"},le=e("label",{for:"cardholder-name"},"Cardholder Name",-1),se={class:"form-group"},re=e("label",{for:"card-number"},"Card Number",-1),ne={class:"form-group small-inputs"},de=e("label",{for:"expiry-date"},"Expiry Date",-1),ue=e("label",{for:"cvv"},"CVV",-1),ie=e("button",{type:"submit"},"Pay",-1),ce={key:0,class:"confirmation"},me=49.99,be={__name:"Paymentgateway",setup(pe){var w,y,g,b,x;const p=W();t(((y=(w=p.$state.permitapp[0])==null?void 0:w.formdt)==null?void 0:y.processNumber)||"");const v=t(((g=p.$state.permitapp[0].formdt)==null?void 0:g.muniProcess)||"");t(null),t(null);const $=t(!1),i=t(!1);t(!1);const f=t(!1),q=t(!1),E=t(!1),c=t(!1);t(null);const a=t({cardholderName:"",cardNumber:"",expiryDate:"",cvv:""});t(!1),t(!1);const{getNumber:O}=K(v.value),r=L();A(r.$state),console.log((x=(b=r.$state.downloadinput[0])==null?void 0:b.downloadData)==null?void 0:x.download_url);const{resp:h}=Q();F(()=>{var l,o;((o=(l=h.value)==null?void 0:l.status)==null?void 0:o.status)===200&&(q.value=!0,console.log(h.value.status.status))});const z=R(()=>{var l,o;O(),setTimeout(()=>{E.value=!0},1e3),console.log(v.value),console.log((o=(l=r.downloadinput[0])==null?void 0:l.downloadData)==null?void 0:o.message)}),G=l=>{if(!a.value.cardholderName||!a.value.cardNumber||!a.value.expiryDate||!a.value.cvv){alert("Please fill out all fields.");return}c.value=!0,i.value=!0,setTimeout(()=>{a.value.cardholderName="",a.value.cardNumber="",a.value.expiryDate="",a.value.cvv="",c.value=!1,i.value=!1},2e3),_()};X(z,()=>{});const _=async()=>{var N,D,V,S,k,C;console.log((D=(N=r.downloadinput[0])==null?void 0:N.downloadData)==null?void 0:D.download_url);const l=(S=(V=r.downloadinput[0])==null?void 0:V.downloadData)==null?void 0:S.download_url;if(console.log(l),!l||l.length===0)return;console.log(l);const o=(C=(k=r.downloadinput[0])==null?void 0:k.downloadData)==null?void 0:C.download_url;if(!o)return;$.value=!0;const m=o,s="processnumber.zip",d=document.createElement("a");d.href=m,d.download=s,d.click(),d.remove(),f.value=!0};return(l,o)=>{const m=Y;return P(),U("div",Z,[n(M(j(J),{color:"#784EA7",size:"100px",style:{"margin-top":"500px","margin-left":"850px"}},null,512),[[B,i.value]]),e("div",ee,[n(M(m,{icon:"pi pi-arrow-circle-down",severity:"info","aria-label":"User",onClick:_},null,512),[[B,f.value]]),e("div",ae,[oe,e("form",{onSubmit:H(G,["prevent"])},[e("div",te,[le,n(e("input",{type:"text",id:"cardholder-name","onUpdate:modelValue":o[0]||(o[0]=s=>a.value.cardholderName=s),placeholder:"Boris Gomez",required:""},null,512),[[u,a.value.cardholderName]])]),e("div",se,[re,n(e("input",{type:"text",id:"card-number","onUpdate:modelValue":o[1]||(o[1]=s=>a.value.cardNumber=s),maxlength:"19",placeholder:"1234 5678 9012 3456",required:""},null,512),[[u,a.value.cardNumber]])]),e("div",ne,[e("div",null,[de,n(e("input",{type:"text",id:"expiry-date","onUpdate:modelValue":o[2]||(o[2]=s=>a.value.expiryDate=s),maxlength:"5",placeholder:"MM/YY",required:""},null,512),[[u,a.value.expiryDate]])]),e("div",null,[ue,n(e("input",{type:"text",id:"cvv","onUpdate:modelValue":o[3]||(o[3]=s=>a.value.cvv=s),maxlength:"4",placeholder:"123",required:""},null,512),[[u,a.value.cvv]])])]),ie],32),c.value?(P(),U("div",ce,[e("p",null,"Thank you, "+T(a.value.cardholderName)+"! Your payment of $"+T(me)+" was processed.",1)])):I("",!0)])])])}}};export{be as default};
