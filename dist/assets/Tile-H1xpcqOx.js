import{s as wa}from"./index-CIqr8VZm.js";import{s as Ke}from"./index-BM2J2H1k.js";import{s as we}from"./index-Cb1XbX5A.js";import{_ as yl}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{e as i,o as le,c as De,j as g,S as ce,i as a,p as vl,q as _l,D as Ee,Z as Ea,f as ae,g as Ze,V as _,w as za,ae as Ua,af as Ca,k as O,ak as zt,ar as Pa,I as L,al as bl,H as Ae,t as Ut,z as Q,K as S,ai as R,a as Se,d as ue,aj as Oa,as as X,F as hl,an as he,at as wt,am as ot,ao as La,T as Fa,aq as ka}from"./index-LMa6gMad.js";import{u as Ct}from"./roofList-Cc_LjQar.js";import{s as $a}from"./index-jQAU8LFG.js";import{s as Ba}from"./index-ByLK3Zuv.js";import{s as Sl}from"./index-CxnQcD3P.js";import{u as ja}from"./useDripedge-BjQEtko7.js";import{s as Ra,B as Et}from"./index-rkvrtE04.js";import{s as Ia,_ as it}from"./index-BtrmuCY1.js";import{u as qa,a as Ha,b as Ka,_ as Za,c as Ja}from"./exposure_d-DGGaFXhA.js";import{u as Pt,a as Ga}from"./useAxios-BCmXfzo8.js";import{u as Qa}from"./systemE-SsxxmZWY.js";import{u as Wa}from"./permitapp-cdtav8pS.js";import{s as Ya}from"./index-BcDYEH8u.js";import{s as Xa}from"./reset-store-pE50IJ89.js";import{u as es}from"./tilevalueStore-CJQgYKZd.js";import"./index-7fhnbBie.js";import"./index-D_S7ItLY.js";import"./index-eG-fJZ39.js";import"./index-DTqf5X6F.js";import"./index-BzPT-zzW.js";import"./index-BHj95Ejx.js";const ze=u=>(vl("data-v-61e40f89"),u=u(),_l(),u),ts={class:"card-system flex justify-center"},ls=ze(()=>a("div",{class:"grid grid-cols-1 gap-2 place-content-center h-8 ..."},[a("p",{class:"text-center text-red-600"},"mEPermit Application")],-1)),as=ze(()=>a("div",{class:"grid grid-cols-1 gap-2 place-content-center h-16 ..."},[a("p",{class:"text-center text-red-600"},"High Velocity Hurricane Zone (HVHZ)")],-1)),ss=ze(()=>a("div",{class:"grid grid-cols-1 gap-2 place-content-center h-12 ..."},[a("p",{class:"text-center text-red-600"},"Concrete & Clay Roof Tiles")],-1)),os=ze(()=>a("div",{class:"grid grid-cols-1 gap-2 place-content-center h-16 ..."},[a("p",{class:"text-center text-red-600"}," The tile roof system and its components shall be installed in strict compliance with the FBC 2023 HVHZ portions of Chapter 15, the HVHZ Tile Application Standards: RAS-119, RAS-120 & RAS-127 and the submitted MDC Notice of Acceptance(s). ")],-1)),is=ze(()=>a("div",{class:"grid grid-cols-1 gap-2 place-content-center h-12 ..."},[a("p",{class:"text-center text-red-600"},"The mePermit applicant agrees to comply with these installation requirements when obtaining this permit.")],-1)),ns={class:"flex justify-end gap-2"},rs=ze(()=>a("label",{class:"ml-2"}," I Agree",-1)),us={__name:"AgreementsDialogTile",setup(u){const v=i(!0),A=i(null);return(b,w)=>{const E=we,N=Ke,k=wa;return le(),De("div",ts,[g(k,{visible:v.value,"onUpdate:visible":w[2]||(w[2]=D=>v.value=D),modal:"",header:"Terms Of Use",style:{width:"70rem"}},{default:ce(()=>[ls,g(E),as,ss,os,is,a("div",ns,[rs,g(N,{modelValue:b.agreement,"onUpdate:modelValue":w[0]||(w[0]=D=>b.agreement=D),value:"1",invalid:A.value===null,onClick:w[1]||(w[1]=D=>v.value=!1)},null,8,["modelValue","invalid"])])]),_:1},8,["visible"])])}}},cs=yl(us,[["__scopeId","data-v-61e40f89"]]),Al=Ee("dripinputadmaterial",{state:()=>({dripinputadmaterial:[],dripTileMaterial:[],dripinputsize:[],inputselectedTileDripEdge:[],selectedDripSize:[],dripinput:[],dripMaterial:[],id:0}),actions:{addMaterialDrip(u){this.dripinputadmaterial.push({dripTileData:u,completed:!1})},addSizeDrip(u){this.dripinputsize.push({selectedDripSizenew:u,completed:!1})},addUseritems(u){this.inputselectedTileDripEdge.push({dripSelection:u,completed:!1})},resetState(){this.inputselectedTileDripEdge=[]}}}),ds={class:"flex flex-col w-96 mb-4 gap-3",style:{"margin-left":"20px"}},ps=a("label",{style:{color:"#122620"}},"Drip Edge Material",-1),ms=a("label",{style:{color:"#122620"}},"Drip Edge Size",-1),fs={__name:"DripEdAdTile",emits:["update-valuesize"],setup(u,{emit:v}){const{selectDripEdge:A,selectDripEdgeSize:b,type:w,sizeTypeMetal:E}=ja(),N=Ct(),k=i(N.$state.roofList),D=i(),H=i(null);i(!1);const K=Al(),M=v;let B=i(!1);const ee=i(),te=Ea(()=>{if(k.value.length===0)return"";for(let p=0;p<k.value.length;p++)k.value[p].item==="Adhesive Set Tile"&&(B.value=!0,D.value=w.value);y()}),c=ae({DripEdgeMaterial:"",DripEdgeSize:""}),x=ae({DripEdgeMaterial:"",DripEdgeSize:""}),r=()=>{M("update-valuesize",b.value),c.DripEdgeSize=b.value,Z()};Ze(()=>{P()});function y(){for(let p=0;p<k.value.length;p++)k.value[p].item;W()}function P(){D.value=w.value}function Z(){A.value?(A.value==="Galvanized Steel Metal ¹"&&(ee.value=E.galvanized,y()),A.value==="Stainless Steel Metal ²"&&(ee.value=E.stainless,y()),A.value==="Aluminum Metal ³"&&(ee.value=E.aluminum,y()),A.value==="Copper Metal ⁴"&&(ee.value=E.copper,y())):console.log("The element not mounted yet"),x.DripEdgeMaterial=A.value,x.DripEdgeSize=b.value,console.log(x.DripEdgeMaterial),y()}function W(){c.DripEdgeMaterial=A.value,ie()}const ie=()=>{K.resetState(),c.DripEdgeSize=b.value,K.addUseritems(x)};return _(D,ee,w),za(P,Z),Ua(async()=>{await Ca(te).toBe(!0)}),(p,T)=>{const j=Sl;return le(),De("div",ds,[ps,g(j,{modelValue:O(A),"onUpdate:modelValue":T[0]||(T[0]=C=>zt(A)?A.value=C:null),options:D.value,placeholder:"make selection",onClick:P},null,8,["modelValue","options"]),ms,g(j,{ref_key:"selectSizeRef",ref:H,modelValue:O(b),"onUpdate:modelValue":T[1]||(T[1]=C=>zt(b)?b.value=C:null),options:ee.value,onClick:Z,onChange:r,onUpdateValuesize:ie,placeholder:"make selection"},null,8,["modelValue","options"])])}}},gs="https://neiyrwtsedlm7brkgmzer3w4xe0shdfl.lambda-url.us-east-1.on.aws/";function ys(){const u=i(null),v=i(!1),{data:A,error:b,isFetching:w,execute:E}=Pt(gs,{method:"POST",headers:{"Content-Type":"application/json"}},Ga,{immediate:!1}),N=async D=>{var H,K;v.value=!0,u.value=null;try{const M=await E({data:D});return(M==null?void 0:M.data)??A.value}catch(M){throw console.error("Lambda failed:",{message:M==null?void 0:M.message,code:M==null?void 0:M.code,status:(H=M==null?void 0:M.response)==null?void 0:H.status,data:(K=M==null?void 0:M.response)==null?void 0:K.data}),u.value=(M==null?void 0:M.message)||"Request failed",M}finally{v.value=!1}};return{data:A,errors:u,isFetching:w,loading:v,post:D=>N(D)}}function vs({min:u=null,max:v=null,required:A=!1}){const b=i(null);return{errorHeightMessage:b,validateTileHeight:E=>{console.log(E,typeof E);const N=E;return u!==null&&N<u?(b.value=`Number must be greater than or equal to ${u}`,console.log("min",N,u),!1):v!==null&&N>=u&&N>=v?(b.value=`Number must be less than or equal to ${v}`,console.log("max",N),!1):A&&(E==null||E==="")?(b.value="This field is required",console.log("required"),!1):(b.value=null,!0)}}}function _s({min:u=null,max:v=null,required:A=!1}){const b=i(null),w=i("");return{errorMessage:b,validateNumber:N=>{const k=N;return u!==null&&k<u?(b.value=`Number must be greater than or equal to ${u}`,!1):v!==null&&k>=u&&k>=v?(b.value=`Number must be less than or equal to ${v}`,console.log("max",k),!1):A&&(N==null||N==="")?(b.value="This field is required",console.log("required"),!1):(b.value=null,w.value=!0,!0)},result:w}}const Ot=Ee("doublePaddy",{state:()=>({inputdatas:[],id:0}),actions:{addtileDatas(u){this.inputdatas.push({doublepaddyData:u,completed:!1})},reset(){this.inputdatas=[],this.id=0}},getters:{tileDatas:u=>u.inputdatas,latest:u=>{var v;return((v=u.inputdatas[u.inputdatas.length-1])==null?void 0:v.doublepaddyData)??null}}});function bs(){const u=i(),v=i(!1),A=i([]);let b=i([]);const w=i(),E=i(""),N=i(""),k=Ot();let D="https://ewa5ibqdkpzvdvtynh2z7agljm0epptp.lambda-url.us-east-1.on.aws/";const{execute:H,then:K,data:M}=Pt(D,{method:"GET"},{immediate:!1}),B=(r,y=null)=>{try{return JSON.parse(r)}catch{return y}},ee=r=>{var P;let y=(r==null?void 0:r.data)??r;return y=((P=y==null?void 0:y.value)==null?void 0:P.body)??(y==null?void 0:y.body)??y,typeof y=="string"&&(y=B(y,[])),y&&typeof y=="object"&&typeof y.body=="string"&&(y=B(y.body,[])),Array.isArray(y)?y:y?[y]:[]},te=r=>{var P,Z,W,ie,p;return((P=r==null?void 0:r.Table2)==null?void 0:P.content)==="multiple"?{noa:r.NOA??r.noa??"",manufacturer:((W=(Z=r.Manufacturer??r.applicant??"").trim)==null?void 0:W.call(Z))??"",material:r.AdhesiveMaterial??"",description:r.description??"",Table2:r.Table2??"",Table3:r.Table3??"",content:r.content??"",mfMap:r.AdhesiveMaterials??"",select_tile:r.Select_Tile??"",tile_map:r.Tile_Map??"",Table2_Map:r.Table2_Map??"",resistance:r.Resistance??"",paddy_cat:r.paddy_category??""}:{noa:r.NOA??r.noa??"",manufacturer:((p=(ie=r.applicant??r.Manufacturer??"").trim)==null?void 0:p.call(ie))??"",material:r.material??r.Material??"",description:r.description??"",Table2:r.Table2??"",Table3:r.Table3??"",select_tile:r.Select_Tile??"",tile_map:r.Tile_Map??"",Table2_Map:r.Table2_Map??"",resistance:r.Resistance??"",paddy_cat:r.paddy_category??"",selection:r.AdhesiveMaterials??r.AdhesiveMaterial??""}};async function c(r){u.value=r;const y=Number(String(r).trim());return Number.isFinite(y)?(w.value=y,await x()):(N.value="Invalid NOA number",null)}const x=async()=>{if(v.value)return null;v.value=!0;try{N.value="",E.value="";const r=await H({params:{NOA:w.value}}),P=ee(r)[0];if(console.log("entry:",P),!P||typeof P!="object")return E.value="No record found",null;const Z=te(P);console.log("payload:",Z);const W=structuredClone(Z);return k.addtileDatas(W),Z}catch(r){return console.error("Error fetching data:",r),N.value=String((r==null?void 0:r.message)??r),null}finally{v.value=!1}};return{getTilenoas:c,fetchData:x,useDoublepaddy:k,responseMessage:E,noaNum:A,error:N,results:b}}const Lt=Ee("inputdata",{state:()=>({inputdata:[],id:0}),actions:{addtileData(u){this.inputdata.push({singlepaddyData:u,completed:!1})},reset(){this.singlepaddyData=[]}},getters:{tileData:u=>u.singlepaddyData}}),hs=Pa();hs.use(Xa);function Ss(){const u=i(),v=i(!1),A=i(),b=i(""),w=i(""),E=Lt(),N="https://bndobvdmx2hlyfu7pbizohgova0aefyp.lambda-url.us-east-1.on.aws/",{execute:k,then:D,data:H}=Pt(N,{method:"GET"},{immediate:!1}),K=(c,x=null)=>{try{return JSON.parse(c)}catch{return x}},M=c=>{var r;let x=(c==null?void 0:c.data)??c;return x=((r=x==null?void 0:x.value)==null?void 0:r.body)??(x==null?void 0:x.body)??x,typeof x=="string"&&(x=K(x,[])),x&&typeof x=="object"&&typeof x.body=="string"&&(x=K(x.body,[])),Array.isArray(x)?x:x?[x]:[]};async function B(c){u.value=c;const x=Number(String(c).trim());return Number.isFinite(x)?(A.value=x,await te()):(w.value="Invalid NOA number",null)}const ee=c=>{var r,y,P,Z,W;return((r=c==null?void 0:c.Table2)==null?void 0:r.content)==="multiple"?{noa:c.NOA??c.noa??"",manufacturer:((P=(y=c.Manufacturer??c.applicant??"").trim)==null?void 0:P.call(y))??"",material:c.AdhesiveMaterial??"",description:c.description??"",Table2:c.Table2??"",Table3:c.Table3??"",content:c.content??"",mfMap:c.AdhesiveMaterials??"",select_tile:c.Select_Tile??"",tile_map:c.Tile_Map??"",Table2_Map:c.Table2_Map??"",resistance:c.Resistance??"",paddy_cat:c.paddy_category??""}:{noa:c.NOA??c.noa??"",manufacturer:((W=(Z=c.applicant??c.Manufacturer??"").trim)==null?void 0:W.call(Z))??"",material:c.material??c.Material??"",description:c.description??"",Table2:c.Table2??"",Table3:c.Table3??"",select_tile:c.Select_Tile??"",tile_map:c.Tile_Map??"",Table2_Map:c.Table2_Map??"",resistance:c.Resistance??"",paddy_cat:c.paddy_category??"",selection:c.AdhesiveMaterials??c.AdhesiveMaterial??""}},te=async()=>{if(v.value)return null;v.value=!0;try{w.value="",b.value="";const c=await k({params:{NOA:A.value}}),r=M(c)[0];if(console.log("entry:",r),!r||typeof r!="object")return b.value="No record found",null;const y=ee(r);console.log("payload:",y);const P=structuredClone(y);return E.addtileData(P),y}catch(c){return console.error("Error fetching data:",c),w.value=String((c==null?void 0:c.message)??c),null}finally{v.value=!1}};return{getTilenoa:B,fetchData:te,responseMessage:b,error:w,paddyStore:E}}const As=Ee("doublepd",{state:()=>({noaRaw:null}),getters:{noaList:u=>{const v=u.noaRaw;return Array.isArray(v)?v.map(String):typeof v=="string"?v.split(",").map(A=>A.replace(/[[\]"']/g,"").trim()).filter(Boolean):[]}},actions:{addNoas(u){this.noaRaw=(u==null?void 0:u.noa)??null}}});function Ds(){const u=i(),v=i(""),A=i([]),b=As(),w=ae({noa:[]}),E=L(()=>"https://fcnamqr5pm5p2mqiwlliryrdli0voxkb.lambda-url.us-east-1.on.aws/"),{data:N,error:k,isFetching:D,execute:H}=bl(E,{immediate:!1,mode:"cors",credentials:"omit"}).get().json();_(N,B=>{console.log(B==null?void 0:B.body),B!=null&&B.body&&(w.noa=B.body,console.log(B==null?void 0:B.body),b.addNoas({noa:B.body}))});const K=async()=>{await M()},M=async()=>{v.value="",await H()};return{input:u,fetchData:M,callFunctions:K,errors:v,results:A,isFetching:D,doubleStore:b}}const xs=Ee("singlepd",{state:()=>({noaRaw:null}),getters:{noaList:u=>{const v=u.noaRaw;return Array.isArray(v)?v.map(String):typeof v=="string"?v.split(",").map(A=>A.replace(/[[\]"']/g,"").trim()).filter(Boolean):[]}},actions:{addNoas({noa:u}){this.noaRaw=u??null}}});function Ts(){const u=i(null),v=i([]),A=i(""),b=xs();ae({noa:[]});const w=L(()=>"https://kn5yokjdkzi7aylxly7cqo2hm40ezyfl.lambda-url.us-east-1.on.aws/"),{data:E,error:N,isFetching:k,execute:D}=bl(w,{immediate:!1,mode:"cors",credentials:"omit"}).get().json();_(()=>E.value,M=>{console.log(E.value),console.log("[single fetch] data.value:",M);const B=(M==null?void 0:M.body)??M;B&&b.addNoas({noa:B})},{immediate:!0});const H=async()=>{await K()},K=async()=>{A.value="",console.log("[single fetch] execute() starting"),await D(),console.log("[single fetch] execute() done")};return{input:u,fetchData:K,callFunction:H,errors:A,results:v,isFetching:k,singleStore:b}}const Dl=Ee("paddycatInput",{state:()=>({activeCategory:"single"}),actions:{setCategory(u){this.activeCategory=u}},getters:{getPaddyvalue:u=>u.paddycatInput},clear(){this.activeCategory=[]}}),Vs=u=>(vl("data-v-dda7be46"),u=u(),_l(),u),Ms={class:"tile"},Ns={class:"w-64 gap-2 mt-8 space-y-2 mb-2"},ws=Vs(()=>a("label",{for:"ac"},"Tile NOA: 00000000",-1)),Es={class:"text-xs text-gray-500"},zs={__name:"tileNoaNumber",emits:["update","cleared","confirmed"],setup(u,{expose:v,emit:A}){const{getTilenoa:b}=Ss(),{getTilenoas:w}=bs(),{callFunction:E,singleStore:N}=Ts(),{callFunctions:k,doubleStore:D}=Ds(),H=Dl(),K=Lt(),{inputdata:M}=Ae(K),B=Ot(),{inputdatas:ee}=Ae(B),te=A;Ze(async()=>{});const c=i(""),x=i([]),r=i(!1);_(c,p=>{(p==null||String(p).trim()==="")&&te("cleared")});const y=L(()=>H.activeCategory==="double"),P=L(()=>{const p=y.value?D.noaList:N.noaList;return console.log(ee,M),Array.isArray(p)?p.map(String):[]});_([y,()=>N.noaList,()=>D.noaList],()=>{var p,T;console.log("[live]",y.value,(p=N.noaList)==null?void 0:p.length,(T=D.noaList)==null?void 0:T.length)},{immediate:!0});const Z=p=>{const T=(p==null?void 0:p.value)??c.value;console.log("[TileNoa] selected:",T),te("updated",{noa:T}),ie(T)},W=p=>{const T=String(p.query??"").trim();console.log(T);const j=P.value;console.log(j),x.value=T?j.filter(C=>C.includes(T)).slice(0,50):j.slice(0,50)};_(()=>H.activeCategory,async p=>{var T,j,C,V;console.log("[tileNoaNumber] category ->",p),!(p!=="single"&&p!=="double")&&(p==="single"?(console.log("[tileNoaNumber] BEFORE single noaList length",(T=N.noaList)==null?void 0:T.length),await E(),console.log("[tileNoaNumber] AFTER single noaList length",(j=N.noaList)==null?void 0:j.length)):(console.log("[tileNoaNumber] BEFORE double noaList length",(C=D.noaList)==null?void 0:C.length),await k(),console.log("[tileNoaNumber] AFTER double noaList length",(V=D.noaList)==null?void 0:V.length)))},{immediate:!0}),_(()=>N.noaList,p=>{var T;return console.log("[tileNoaNumber] singleStore.noaList changed len=",p==null?void 0:p.length,(T=p==null?void 0:p.slice)==null?void 0:T.call(p,0,5))},{deep:!0}),_(()=>D.noaList,p=>{var T;return console.log("[tileNoaNumber] doubleStore.noaList changed len=",p==null?void 0:p.length,(T=p==null?void 0:p.slice)==null?void 0:T.call(p,0,5))},{deep:!0});async function ie(p){if(console.log(p),!p){te("updated",{noa:p});return}if(p)try{let T;y.value?(T=await w(p),console.log("confirmed payload double",T)):(T=await b(p),console.log("confirmed payload double",T)),T&&te("confirmed",T);const j=T;te("updated",{noa:j.noa??"",manufacturer:j.applicant??j.manufacturer??"",material:j.material??"",description:j.description??""})}catch(T){console.error("get data failed:",T)}finally{r.value=!1}}return v({clearInput:()=>c.value="",commit:ie}),(p,T)=>{const j=Ra,C=Ia;return le(),De("div",Ms,[a("div",Ns,[g(C,null,{default:ce(()=>[g(j,{modelValue:c.value,"onUpdate:modelValue":T[0]||(T[0]=V=>c.value=V),showClear:"",suggestions:x.value,onComplete:W,onItemSelect:[Z,Z],inputClass:"w-56"},null,8,["modelValue","suggestions"]),ws]),_:1}),a("small",Es," Source: "+Ut(y.value?"Double Paddy":"Single Paddy"),1)])])}}},Us=yl(zs,[["__scopeId","data-v-dda7be46"]]),Cs={id:"tile",class:"inner mx-auto max-w-5xl p-6 dark:bg-gray-800 rounded-2xl shadow-lg grid grid-cols-1 md:grid-cols-2 gap-4",style:{"margin-left":"50px","margin-top":"100px"}},Ps={class:"w-64 gap-2 mt-5 space-y-2",style:{"margin-left":"20px"}},Os={class:"w-64 mt-2 space-y-2",style:{"margin-left":"20px"}},Ls=a("label",{style:{color:"#122620"},for:"area"},"Area of Tile",-1),Fs={class:"w-64 gap-2 space-y-2",style:{"margin-left":"20px"}},ks=a("label",{for:"slope",style:{color:"#122620"}},"Roof Slope",-1),$s=a("label",{class:"px-2",style:{color:"red"}},"*",-1),Bs={class:"w-64 mt-2 space-y-1",style:{"margin-left":"20px"}},js=a("label",{for:"height",style:{color:"#122620"}},"Height",-1),Rs=a("label",{class:"px-2",style:{color:"red"}},"*",-1),Is={class:"w-64 mt-3 ...",style:{"margin-left":"20px"}},qs=a("label",{style:{color:"#122620"},for:"perimeter"},"Roof Permeter(a) = 4h",-1),Hs={class:"grid grid-cols-3 gap-2"},Ks={class:"min-w-[580px] flex flex-col",style:{"margin-left":"50px"}},Zs=a("label",{style:{color:"red"}},"Select Exposure",-1),Js={class:"flex items-center space-x-2 mt-5"},Gs={class:"field-radiobutton space-x-4 space-y-4 gap-6"},Qs=a("label",{style:{color:"#122620","margin-left":"10px"},for:"option3"},"C",-1),Ws={class:"field-radiobutton space-x-4 space-y-4 gap-6"},Ys=a("label",{style:{color:"#122620","margin-left":"20px"},for:"option4"},"D",-1),Xs={class:"min-w-[380px] flex flex-col mt-5"},eo=a("label",{style:{color:"red"}},"Select a Paddy Category",-1),to={class:"flex items-center mt-10"},lo={class:"field-radiobutton space-x-3 gap-2 border-2 border-gray-700 focus:border-orange-600"},ao=a("label",{style:{color:"#122620"},for:"option1"},"Single",-1),so={class:"field-radiobutton space-x-3 gap-2 border-2 border-gray-700 focus:border-orange-600"},oo=a("label",{style:{color:"#122620"},for:"option2"},"Double",-1),io={class:"px-12"},no={class:"grid grid-cols-2 md:grid-cols-3 gap-2"},ro={class:"w-96 flex flex-col border-2 p-2 gap-2 space-y-1"},uo={class:"w-96 flex flex-col border-2 p-2 gap-2 space-y-3",style:{"margin-left":"75px","margin-top":"30px"}},co={class:"w-96 flex flex-col border-2 p-2 gap-2 space-y-3",style:{"margin-left":"75px","margin-top":"30px"}},po={key:0,class:"absolute inset-0 bg-black/20 backdrop-blur-[1px] flex items-center justify-center rounded-lg"},mo={class:"max-w-[680px] flex flex-col mb-4 mt-6 gap-3 space-y-2",style:{"margin-left":"50px"}},fo=a("label",{style:{color:"#122620"},for:"underlaymentType"},"Select Underlayment (UDL) and/or Tile Capsheet",-1),go={key:0,class:"w-2/3 flex flex-col border-2 p-2 gap-2 border-gray-700 focus:border-orange-600"},yo={class:"grid grid-cols-1 md:grid-cols-1 gap-2",style:{"margin-left":"10px"}},vo={class:"min-w-[350px]flex-col border-2 p-2 gap-2 border-gray-700 focus:border-orange-600"},_o=a("label",{style:{color:"#122620"},for:"manufacturer"},"Tile Applicant",-1),bo={class:"w-1/2 flex flex-col border-2 p-2 border-gray-700"},ho=a("label",{for:"material"},"Tile Type",-1),So={class:"w-1/2 flex flex-col border-2 p-2 border-gray-700"},Ao=a("label",{for:"material"},"Tile Material",-1),Do={class:"min-w-[350px] flex flex-col border-2 p-2 border-gray-700 focus:border-orange-600"},xo=a("label",{style:{color:"#122620"},for:"description"},"Tile Description",-1),To={class:"min-w-[350px] flex flex-col border-2 p-2 border-gray-700"},Vo=a("label",{style:{color:"#122620"}},"Tile Material",-1),Mo={class:"grid grid-cols-1 md:grid-cols-1 gap-2",style:{"margin-left":"10px"}},No={class:"min-w-[350px] flex flex-col border-2 p-2 gap-2 border-gray-700 focus:border-orange-600"},wo=a("label",{style:{color:"#122620"},for:"manufacturer"},"Tile Applicant",-1),Eo={class:"w-1/2 flex flex-col border-2 p-2 border-gray-700"},zo=a("label",{for:"material"},"Tile Type",-1),Uo={class:"min-w-[350px] flex flex-col border-2 p-2 border-gray-700"},Co=a("label",{for:"material"},"Tile Material",-1),Po={class:"min-w-[350px] flex flex-col border-2 p-2 border-gray-700 focus:border-orange-600"},Oo=a("label",{style:{color:"#122620"},for:"description"},"Tile Description",-1),Lo={class:"min-w-[350px] flex flex-col border-2 p-2 border-gray-700"},Fo=a("label",{style:{color:"#122620"}},"Tile Material",-1),ko={class:"grid grid-cols-2 gap-2",style:{"margin-left":"10px"}},$o={class:"min-w-[280px] flex flex-col border-gray-700 focus:border-orange-600"},Bo=a("label",{style:{color:"#122620"},for:"manufacturer"},"(UDL) NOA Applicant",-1),jo={class:"w-1/2 border-2 p-2 border-gray-700 focus:border-orange-600"},Ro=a("label",{style:{color:"#122620"},for:"material"},"(UDL) Material",-1),Io={class:"w-2/3 border-2 p-2 border-gray-700 focus:border-orange-600"},qo=a("label",{style:{color:"red"}},"Select System E * ",-1),Ho={class:"w-1/2 border-2 p-2 border-gray-700 focus:border-orange-600"},Ko=a("label",{style:{color:"#122620"},for:"designPressure"},"Design psf:",-1),Zo={class:"grid grid-cols-1 gap-2 border-gray-700 focus:border-orange-600"},Jo={class:"min-w-[700px] flex flex-col"},Go=a("label",{style:{color:"#122620"},for:"anchor"},"Anchor Base Sheet",-1),Qo={class:"min-w-[380px] flex flex-col"},Wo=a("label",{style:{color:"#122620"},for:"description"},"(UDL) Description",-1),Yo={class:"grid grid-cols-1 md:grid-cols-2 gap-2",style:{"margin-left":"10px"}},Xo={class:"w-1/2 border-2 p-2 border-gray-700 focus:border-orange-600"},ei=a("label",{style:{color:"#122620"},for:"saapplicant"},"S/A Applicant",-1),ti={class:"w-1/2 border-2 p-2 border-gray-700 focus:border-orange-600"},li=a("label",{style:{color:"#122620"},for:"samaterial"},"S/A Material Type",-1),ai={class:"w-1/2 border-2 p-2 border-gray-700 focus:border-orange-600"},si=a("label",{style:{color:"red","margin-bottom":"55px"}},"Select System F *",-1),oi=a("br",null,null,-1),ii={class:"w-1/2 border-2 p-2 border-gray-700 focus:border-orange-600"},ni=a("label",{style:{color:"#122620"},for:"designpressure"},"Design psf:",-1),ri={class:"min-w-[480px] flex flex-col gap-2 border-2 border-gray-700 focus:border-orange-600"},ui=a("label",{style:{color:"#122620"},for:"sadescription"},"S/A Description",-1),ci={class:"flex flex-wrap gap-1 mt-10",style:{"margin-left":"6px"}},di={class:"lg:w-full min-h-[10px] flex flex-row gap-18",style:{"margin-left":"10px"}},pi={width:"100%",align:"left"},mi={valign:"middle"},fi={style:{margin:"auto","font-size":"large","font-weight":"bold","font-family":"arial"}},gi=a("td",{style:{color:"#122620"}},"Zone 1:",-1),yi={style:{color:"#122620"}},vi={style:{color:"#122620"}},_i={style:{color:"#122620"}},bi={style:{color:"#122620"}},hi={style:{color:"#122620"}},Si={class:"pi pi-check",style:{color:"green","font-size":"1.5rem"}},Ai={class:"pi pi-times",style:{color:"red","font-size":"1.5rem"}},Di=a("td",{style:{color:"#122620"}},"Zone 2:",-1),xi={style:{color:"#122620"}},Ti={style:{color:"#122620"}},Vi={style:{color:"#122620"}},Mi={style:{color:"#122620"}},Ni={style:{color:"#122620"}},wi={class:"pi pi-check",style:{color:"green","font-size":"1.5rem"}},Ei={class:"pi pi-times",style:{color:"red","font-size":"1.5rem"}},zi=a("td",{style:{color:"#122620"}},"Zone 3:",-1),Ui={style:{color:"#122620"}},Ci={style:{color:"#122620"}},Pi={style:{color:"#122620"}},Oi={style:{color:"#122620"}},Li={style:{color:"#122620"}},Fi={class:"pi pi-check",style:{color:"green","font-size":"1.5rem"}},ki={class:"pi pi-times",style:{color:"red","font-size":"1.5rem"}},$i={__name:"InputTile",setup(u){var cl,dl,pl,ml,fl,gl;const v=Dl(),A=Lt(),{inputdata:b}=Ae(A),w=Ot(),{inputdatas:E}=Ae(w),N=Al(),k=Wa(),D=i(null),H=qa(),{addSystemvalues:K}=es(),{Edatamounted:M}=Qa(),{post:B}=ys(),ee=Ct(),{roofList:te}=Ae(ee),{tilefinput:c}=Ae(H),x=i((pl=(dl=(cl=k.$state.permitapp)==null?void 0:cl[0])==null?void 0:dl.formdt)==null?void 0:pl.processNumber),r=i((gl=(fl=(ml=k.$state.permitapp)==null?void 0:ml[0])==null?void 0:fl.formdt)==null?void 0:gl.muniprocessnumber),y=i(),P=i(""),Z=i(""),W=i(!1),ie=i(!0),p=i(!0),T=i(""),j=i(""),C=ae({area:"",per:"",height:"",slope:""}),V=ae({zone:"",lambda1:"",mg1:"",mr1:"",mf1:""}),z=ae({zone:"",lambda2:"",mg2:"",mr2:"",mf2:""}),U=ae({zone:"",lambda3:"",mg3:"",mr3:"",mf3:""});function Ft(){Object.assign(V,{zone:"",lambda1:"",mg1:"",mr1:"",mf1:""}),Object.assign(z,{zone:"",lambda2:"",mg2:"",mr2:"",mf2:""}),Object.assign(U,{zone:"",lambda3:"",mg3:"",mr3:"",mf3:""})}const kt=i(!0),$t=i(!1),Ue=i(!0),nt=i(null);_(Ue,e=>{e||he(()=>{var l,s,n;const t=((s=(l=nt.value)==null?void 0:l.$el)==null?void 0:s.querySelector("input"))||((n=nt.value)==null?void 0:n.$el);t&&(t.focus(),t.select())})});const rt=i(),xl=i([{name:"Select Deck Type"},{name:'5/8" Plywood'},{name:'3/4" Plywood'},{name:'1" x 6" T & G'},{name:'1" x 8" T & G'},{name:'Existing 1/2" Plywood'}]),Tl=i("");let ve=i("");const Vl=i([{selectedBasesheet:"-- Select Tile Capsheet/Underlayment --",key:0},{selectedBasesheet:"ASTM #90 Prescriptive hot mopped with Type IV Asphalt to a mechanically fastened ASTM #30",key:1},{selectedBasesheet:"System F: per the NOA (S/A) Tile Capsheet adhered diretly to a wood deck",key:2},{selectedBasesheet:"System E: per the NOA (S/A) Tile Capsheet adhered to a mechanically fastened UDL/Anchor Sheet",key:3}]),re=i(!1),Ce=i(!1),de=i(!1),Pe={two:2,three:3,four:4,five:5,six:6,seven:7},Bt=(e,t,l)=>Math.max(Math.min(e,Math.max(t,l)),Math.min(t,l)),Ml=e=>Array.isArray(e)&&e.length?e[e.length-1]:null,jt=e=>Array.isArray(e==null?void 0:e.select_tile)&&e.select_tile.length>0,Nl=i(!1),Je=i(!1),Oe=i(!1),Le=i(!1),xe=i(!1),q=i(!1),Rt=i(!1),pe=i(!1),me=i(!1),fe=i(!1),Ge=i(!1),Qe=i(!1),We=i(!1),wl=i(!1),ut=L(()=>{var e;return((e=Ml(c.value))==null?void 0:e.systemData)||null}),d=ae({noa:0,meProcessnumber:0,muniProc:0,manufacturer:"",material:"",description:"",resistance:[],Table2:[],Table3:[],select_tile:[],tile_map:{},table2_map:{},Table3_obj_map:{},mfMap:{},Table2_obj_map:{},selection:{},slope:0,height:0,dripEdgeMaterial:"",dripEdgeSize:"",deckType:"",expiration_date:"",prescriptiveSelection:"",perimeter:"",tileIdentifier:"tile",hittype:""}),m=ae({noa:"",manufacturer:"",material:"",system:"",prescriptiveSelection:"",designpressure:"",description:"",Description_F1:"",Description_F2:"",Description_F3:"",Description_F4:"",Description_F5:"",Description_F6:"",Description_F7:"",Description_F8:"",Description_F9:"",Description_F10:"",Description_F11:"",Description_F12:"",Description_F13:"",Description_F14:"",Description_F15:"",arrDesignPressure:[],pressure:"",expiration_date:"",hittype:""}),f=ae({noa:"",manufacturer:"",material:"",system:[],arrDesignPressure:[],designPressure:"",Anchor_Base_Sheet:"",TileCap_Sheet_Description:"",Anchor_Base_Sheet_E1:"",Anchor_Base_Sheet_E2:"",Anchor_Base_Sheet_E3:"",Anchor_Base_Sheet_E4:"",Anchor_Base_Sheet_E5:"",Anchor_Base_Sheet_E6:"",Anchor_Base_Sheet_E7:"",Anchor_Base_Sheet_E8:"",Anchor_Base_Sheet_E9:"",Anchor_Base_Sheet_E10:"",Anchor_Base_Sheet_E11:"",Anchor_Base_Sheet_E12:"",Anchor_Base_Sheet_E13:"",TileCap_Sheet_Description_E1:"",TileCap_Sheet_Description_E2:"",TileCap_Sheet_Description_E3:"",TileCap_Sheet_Description_E4:"",TileCap_Sheet_Description_E5:"",TileCap_Sheet_Description_E6:"",TileCap_Sheet_Description_E7:"",TileCap_Sheet_Description_E8:"",TileCap_Sheet_Description_E9:"",TileCap_Sheet_Description_E10:"",TileCap_Sheet_Description_E11:"",TileCap_Sheet_Description_E12:"",TileCap_Sheet_Description_E13:"",expiration_date:"",hittype:""}),J=ae({System:[],Designpressure:[],Description:"",Maps:{}});_([ut,()=>re.value],()=>{if(!re.value)return;const e=ut.value;e&&(J.System.length||It(e),Object.assign(m,{noa:e.noa||"",manufacturer:e.manufacturer||"",material:e.material||"",arrDesignPressure:J.Designpressure.slice()}),!Fe.value&&J.System.length&&(G.value=J.System[0]))},{immediate:!0});const I=i(null);_(()=>m.noa,(e,t)=>{if(!e||e===t)return;G.value=null,J.System=[],J.Designpressure=[],m.designpressure="",m.description="";const l=ut.value;l&&It(l)});const El=[{match:["ASTM #90 Prescriptive hot mopped with Type IV Asphalt to a mechanically fastened ASTM #30"],flags:{isUDLNOAValid:!1,isSAValid:!1,isTileData:!0},identifier:"astm"},{match:["System F: per the NOA (S/A) Tile Capsheet adhered diretly to a wood deck"],flags:{isUDLNOAValid:!1,isSAValid:!0,isTileData:!0},identifier:"system_f"},{match:["System E: per the NOA (S/A) Tile Capsheet adhered to a mechanically fastened UDL/Anchor Sheet"],flags:{isUDLNOAValid:!0,isSAValid:!1,isTileData:!0},identifier:"system_e"}];let ge=i("");function It(e){const t=Array.isArray(e.System)?e.System.slice():Array.isArray(e.system)?e.system.slice():e.System??e.system?[e.System??e.system]:[],l=Array.isArray(e.designPressure)?e.designPressure.slice():Array.isArray(e.pressure)?e.pressure.slice():e.designPressure??e.pressure?[e.designPressure??e.pressure]:[];J.System=t.filter(Boolean),J.Designpressure=l.filter(s=>s!=null&&String(s).trim()!==""),J.Description=e.Description||e.description||"",J.Maps=e.Maps||e.maps||{};for(const s of J.System){const n=`Description_${s}`;e[n]!=null&&(J[n]=e[n])}}L(()=>J.System.map(e=>({label:e,value:e})));const zl=L(()=>{const e={};return J.System.forEach((t,l)=>{e[t]=J.Designpressure[l]}),e}),Ul=L(()=>{const e={};for(const t of J.System){const l=`Description_${t}`;e[t]=J[l]??J.Description??""}return e}),Fe=L(()=>{var e;return typeof G.value=="object"?(e=G.value)==null?void 0:e.value:G.value||""}),ct=L({get:()=>Fe.value?String(zl.value[Fe.value]??""):"",set:e=>{m.designpressure=String(e??"")}}),qt=L({get:()=>Fe.value?String(Ul.value[Fe.value]??""):"",set:e=>{m.description=String(e??"")}}),Ht=L(()=>{const e=((ge==null?void 0:ge.value)??"").toString().trim().toLowerCase();return console.log(e),e==="astm"||e==="atsm"}),dt=i(!1);function Cl(){if(!dt.value){dt.value=!0;try{de.value=!1,el(),$e(),Ht.value&&_a()}finally{dt.value=!1}}}function Pl(){const t=(s=>typeof s=="string"?s:(s==null?void 0:s.label)??(s==null?void 0:s.value)??(s==null?void 0:s.name)??"")(ve.value.selectedBasesheet);if(!t)return;const l=El.find(s=>s.match.includes(t));if(l){Je.value=l.flags.isUDLNOAValid,Oe.value=l.flags.isSAValid,xe.value=l.flags.isTileData,ge.value=l.identifier,d.hittype=ge.value,f.hittype=ge.value,m.hittype=ge.value,d.hittype&&(d.prescriptiveSelection=l.match[0]),f.hittype&&(f.prescriptiveSelection=l.match[0]),m.hittype&&(m.prescriptiveSelection=l.match[0]);const s=l.match[0];d.prescriptiveSelection=s,f.prescriptiveSelection=s,m.prescriptiveSelection=s}else ge.value=null}_(ve,Pl,{immediate:!0});const Ol=i(.4);function Ll(e){if(!e||typeof e!="object"||e.content!=="multiple")return{};const t={};for(const[l,s]of Object.entries(e)){if(l==="content")continue;const n=s&&typeof s=="object"?s.Direct_Deck??s.value??s[0]:s,h=Number(Array.isArray(n)?n[0]:n)||0;t[l]=[h]}return t}function Fl(e){if(!e||typeof e!="object"||e.content!=="multiple")return{};const t=["two","three","four","five","six","seven"],l={};for(const[s,n]of Object.entries(e)){if(s==="content")continue;const h=t.map(F=>Number(n==null?void 0:n[F])||0);l[s]=h}return l}const _e=i(""),Kt=L(()=>v.activeCategory),{getData:kl,zonesRow:ke}=Ha(),{getDatas:$l,zonesRowdouble:pt}=Ka(),Zt=i(0),Bl=L(()=>{var e;return((e=b.value)==null?void 0:e.singlepaddyData)??null}),Jt=L(()=>{var e;return((e=E.value)==null?void 0:e.doublepaddyData)??null}),Y=L(()=>(Zt.value,console.log(Kt.value,Jt.value),Kt.value==="single"?Bl.value:Jt.value));_(Y,e=>{if(console.log(e),!e)return;const t=jt(e);console.log(t,e,Y),je(e,{multiple:t}),t||ne(),$.value=null,I.value=Array.isArray(d.select_tile)?d.select_tile[0]:null,il.value&&He.value++},{immediate:!0});function jl(){const e=Y.value;if(!e)return;const t=jt(e);je(e,{multiple:t}),t||ne()}const Ye=()=>{Zt.value++};_(()=>v.activeCategory,()=>{Z.value=""});const $=i(null);_(Y,e=>{if(!e)return;const t=(e==null?void 0:e.content)==="multiple";je(e,{multiple:t}),t||ne(),$.value=null,I.value=Array.isArray(d.select_tile)?d.select_tile[0]:null},{immediate:!0}),_(()=>de.value,e=>{console.log("Modal changed:",e)},{immediate:!0});const{errorMessage:Gt,validateNumber:Rl}=_s({min:2,max:12,required:!0}),{errorHeightMessage:Qt,validateTileHeight:Il}=vs({min:10,max:40,required:!0});function ql(){const e=Number(C.slope),t=Number.isFinite(e)&&e>=2&&e<=12;$t.value=t,t?(C.height="",j.value="",Ue.value=!1):(Ue.value=!0,W.value=!1)}function Wt(){const e=j.value!==""?j.value:C.height,t=Number(e);C.per=(t*Ol.value).toFixed(2),C.height=t;const l=Number.isFinite(t)&&t>=10&&t<=40;W.value=l}const Te=L(()=>{const e=Bt(Number(C.slope||0),2,12);return e<=Pe.three?2:e<Pe.four?3:e<=Pe.four?4:e<Pe.six?5:e<Pe.seven?6:7});i([0,0,0]);async function $e(){var l,s;const e=Number(C.slope||0),t=Number(j.value||0);if(!(!e||!t))if(_e.value==="c"){await kl(e,t),Array.isArray(ke.value)?ke.value:(l=ke.value)==null||l[0];const n=Array.isArray(ke.value)?ke.value:[0,0,0];[V.zone,z.zone,U.zone]=n}else{await $l(e,t),console.log("Entered d exposure");const n=Array.isArray(pt.value)?pt.value:(s=pt.value)==null?void 0:s[0],h=Array.isArray(n)?n:[0,0,0];[V.zone,z.zone,U.zone]=h}}const mt=L(()=>(m.system||[]).map(e=>({label:e,value:e}))),be=L(()=>{const e=G.value;return typeof e=="object"?(e==null?void 0:e.value)??(e==null?void 0:e.label)??"":e??""}),ft=e=>Array.isArray(e)?e.join(" | "):e??"";function Hl(e){var s;if(!e)return"";const t=m==null?void 0:m[`Description_${e}`];if(t!=null&&t!=="")return ft(t);const l=(s=m==null?void 0:m.Maps)==null?void 0:s[e];return l!=null&&l!==""?ft(l):ft(m.description)}_([_e,()=>C.slope,()=>C.height],()=>{_e.value&&$e()});function Kl(e){var s;const t=Jl(e),l=(t==null?void 0:t.name)??((s=rt.value)==null?void 0:s.name);!l||l==="Select Deck Type"||(T.value=l,kt.value=!1,Ue.value=!0)}_(()=>C.slope,e=>{Rl(e),p.value=!(Number(e)>=2),Xe()}),_(()=>C.height,e=>{Il(e),W.value=!0,Xe()});function Xe(){wl.value=W.value||ie.value}_(()=>P.value,(e,t)=>{yt.value=t||"",q.value=!1,Le.value=!0,la()},{immediate:!1});function gt(){var e;(e=y.value)==null||e.clearInput()}const yt=i("");Ze(()=>{Gl(),d.meProcessnumber=x.value,d.muniProc=r.value});function Zl(e){const t=(e==null?void 0:e.value)??e??ve.value??{key:0},l=Number(t.key||0);Tl.value=t.selectedBasesheet??"";const s={0:{isPaddyCategoryValid:!1,isTileValid:!1,isTileData:!1,isUDLValid:!1,isUDLNOAValid:!1,isSAValid:!1},1:{isPaddyCategoryValid:!0,isTileValid:!0,isTileData:!0,isUDLValid:!1,isUDLNOAValid:!1,isSAValid:!1},2:{isPaddyCategoryValid:!0,isTileValid:!0,isTileData:!0,isUDLValid:!1,isUDLNOAValid:!1,isSAValid:!0},3:{isPaddyCategoryValid:!0,isTileValid:!0,isTileData:!0,isUDLValid:!0,isUDLNOAValid:!0,isSAValid:!1}}[l]??{};Rt.value=!!s.isPaddyCategoryValid,Le.value=!!s.isTileValid,xe.value=!!s.isTileData,Nl.value=!!s.isUDLValid,Je.value=!!s.isUDLNOAValid,Oe.value=!!s.isSAValid}const G=i(null),oe=i(null);let Be=i(H.$state.tilefinput);const vt=(e=[],t=[])=>Object.fromEntries((e||[]).map((l,s)=>[String(l),t==null?void 0:t[s]])),Yt=(e={})=>{const t={};for(const l of Object.keys(e))if(/^Description_F\d+$/.test(l)){const s=l.replace("Description_",""),n=e[l];t[s]=Array.isArray(n)?n[0]??"":n??""}return t},_t=i({}),Ve=i({}),Jl=e=>e&&typeof e=="object"&&"value"in e?e.value:e;function Gl(){const e=Be==null?void 0:Be.value;if(!Array.isArray(e)||e.length===0)return;const t=e.find(n=>n&&n.systemData);if(!t)return;const l=t.systemData;Object.assign(m,{manufacturer:l.manufacturer??"",material:l.material??"",system:l.system??[],description:l.description??"",noa:l.noa??"",pressure:l.designPressure??l.pressure??[]});const s=Array.isArray(l.designPressure)?l.designPressure:Array.isArray(l.pressure)?l.pressure:[];_t.value=vt(m.system,s),Ve.value=Yt(l),console.log(Ve.value);for(const[n,h]of Object.entries(Ve.value||{}))m[`Description_${n}`]=h}function Ql(){const e=(G==null?void 0:G.value)??G,t=typeof e=="string"?e:String(e||"");if(!t)return;const l=Ve.value[t]??(m==null?void 0:m[`Description_${t}`])??"";m.description=Array.isArray(l)?l[0]??"":l;const s=_t.value[t];m.designpressure=Array.isArray(s)?s[0]??"":s??""}function Me(e){const t=e??I.value;if(!t)return;const l=d.table2_map||{},s=d.tile_map||{};console.log(e,l,s);const n=l[t];let h=0;Array.isArray(n)?h=Number(n[0])||0:typeof n=="object"&&n?h=Number(n.Direct_Deck??n.value??n[0])||0:h=Number(n)||0,V.lambda1=h,z.lambda2=h,U.lambda3=h;const F=s[t];if(Array.isArray(F)&&F.length){const ye={2:0,3:1,4:2,5:3,6:4,7:5}[Te.value]??0,Nt=Number(F[ye])||0;V.mg1=Nt,z.mg2=Nt,U.mg3=Nt}Xt()}_([b,E],()=>Ye(),{deep:!0});function Xt(){const e=Number(V.zone||0)*Number(V.lambda1||0)-Number(V.mg1||0),t=Number(z.zone||0)*Number(z.lambda2||0)-Number(z.mg2||0),l=Number(U.zone||0)*Number(U.lambda3||0)-Number(U.mg3||0);V.mr1=e.toFixed(2),z.mr2=t.toFixed(2),U.mr3=l.toFixed(2),console.log(Y)}async function el(){var l;Ye();const e=O(Y);if(!e)return;const t=q.value&&I.value?(()=>{var n;const s=(n=d.table2_map)==null?void 0:n[I.value];return Array.isArray(s)?Number(s[0])||0:Number(s)||0})():((l=e==null?void 0:e.Table2)==null?void 0:l.Direct_Deck)??(e==null?void 0:e.Table2)??0;V.lambda1=t,z.lambda2=t,U.lambda3=t,ne(e),$.value&&Dt()}function je(e,{multiple:t}){if(xe.value=!0,Le.value=!0,q.value=!!t,d.noa=e.noa??e.NOA??"",d.manufacturer=e.manufacturer??e.applicant??"",d.description=e.description??"",d.material=e.material??e.selection??[],d.select_tile=e.select_tile??[],d.Table2=e.Table2??{},d.Table3=e.Table3??{},d.table2_map=e.Table2_map??e.Table2_Map??Ll(e.Table2)??{},d.tile_map=e.tile_map??e.Tile_Map??Fl(e.Table3)??{},e.mfMap&&typeof e.mfMap=="object"&&!Array.isArray(e.mfMap))d.selection={...e.mfMap};else if(e.selection&&typeof e.selection=="object"&&!Array.isArray(e.selection))d.selection={...e.selection};else{const l={},s=Array.isArray(e.selection)?e.selection:[],n=Array.isArray(e.resistance)?e.resistance:[];s.forEach((h,F)=>{const o=typeof h=="string"?h:(h==null?void 0:h.label)??(h==null?void 0:h.value)??"";o&&(l[o]=n[F])}),d.selection=l}$.value=null,I.value=Array.isArray(d.select_tile)?d.select_tile[0]:null,t&&I.value&&Me(I.value),K(d),Ye()}_(oe,e=>{if(!e){f.Anchor_Base_Sheet="",f.TileCap_Sheet_Description="",f.designPressure="";return}f.designPressure=nl.value[e]??"",f.Anchor_Base_Sheet=f[`Anchor_Base_Sheet_${e}`]??"",f.TileCap_Sheet_Description=f[`TileCap_Sheet_Description_${e}`]??""},{immediate:!0});function Wl(){const e=I.value;if(!e)return;const t=d.table2_map||{},l=d.tile_map||{},s=t[e];if(Array.isArray(s)&&s.length){const h=Number(s[0])||0;V.lambda1=h,z.lambda2=h,U.lambda3=h}const n=l[e];if(Array.isArray(n)&&n.length){const h={2:0,3:1,4:2,5:3,6:4,7:5}[Te.value]??0,F=Number(n[h])||0;V.mg1=F,z.mg2=F,U.mg3=F}Xt()}const Re=L(()=>{var t;const e=Array.isArray(O(Be))?O(Be):[];for(let l=e.length-1;l>=0;l--){const s=(t=e[l])==null?void 0:t.systemData;if(s&&Object.keys(s).length)return s}return null});function et(e){if(e){Object.assign(m,{noa:e.noa??"",manufacturer:e.manufacturer??"",material:e.material??"",system:Array.isArray(e.system)?[...e.system]:e.system?[e.system]:[],arrDesignPressure:Array.isArray(e.designPressure)?[...e.designPressure]:Array.isArray(e.pressure)?[...e.pressure]:[],expiration_date:e.expiration_date??""}),_t.value=vt(m.system,m.arrDesignPressure),Ve.value=Yt(e);for(const[t,l]of Object.entries(Ve.value||{}))m[`Description_${t}`]=l??"";m.system.includes(G.value)||(G.value=m.system[0]??null),Ql()}}async function Yl(){et(O(Re))}L(()=>vt(m.system||[],m.arrDesignPressure||[])),L(()=>G.value||"");function Xl(e){var l;if(!e)return;D.value=e,console.log("[CONFIRMED PAYLOAD]",e);const t=(e==null?void 0:e.content)==="multiple"||((l=e==null?void 0:e.Table2)==null?void 0:l.content)==="multiple";je(e,{multiple:t}),console.log("[AFTER applyNOA] tilenoas",JSON.parse(JSON.stringify(d))),t||ne(e),t&&(I.value=Array.isArray(d.select_tile)?d.select_tile[0]:null,I.value&&Me(I.value))}_(Re,e=>et(e),{immediate:!0,deep:!0});const ea=()=>{G.value=null,m.designpressure="",m.description=""};_([Re,()=>mt.value.length,be,()=>re.value],()=>{if(!re.value)return;const e=Re.value;e&&((!Array.isArray(m.system)||!m.system.length)&&et(e),!be.value&&mt.value.length&&(G.value=mt.value[0].value),Object.assign(m,{noa:e.noa||"",manufacturer:e.manufacturer||"",material:e.material||""}),m.description=Hl(be.value))},{immediate:!0}),_(()=>m.noa,(e,t)=>{!e||e===t||(ea(),et(O(Re)))});const bt=L(()=>{var t;const e=Array.isArray(O(M))?O(M):[];for(let l=e.length-1;l>=0;l--){const s=(t=e[l])==null?void 0:t.systemDataE;if(s&&Object.keys(s).length)return s}return null});function ht(e){if(e){Object.assign(f,{noa:e.noa??"",manufacturer:e.manufacturer??"",material:e.material??"",system:Array.isArray(e.system)?[...e.system]:e.system?[e.system]:[],arrDesignPressure:Array.isArray(e.designPressure)?[...e.designPressure]:Array.isArray(e.pressure)?[...e.pressure]:[],Maps:e.Maps??{}});for(let t=1;t<=13;t++){const l=`Anchor_Base_Sheet_E${t}`,s=`TileCap_Sheet_Description_E${t}`;f[l]=e[l]??"",f[s]=e[s]??""}f.system.includes(oe.value)||(oe.value=f.system[0]??null),ma()}}async function ta(){ht(O(bt))}_(bt,e=>ht(e),{immediate:!0,deep:!0});function la(){Object.assign(d,{manufacturer:"",description:""}),Ft(),yt.value&&yt.value!==P.value&&(gt==null||gt())}_(P,e=>{(e==="single"||e==="double")&&v.setCategory(e)}),_(P,e=>{e==="single"||e==="double"?jl():(xe.value=!1,Le.value=!1,q.value=!1,Wl())},{immediate:!0}),Ze(()=>{te.value.forEach((e,t)=>{e.item==="Adhesive Set Tile"&&(C.area=e.dim4)})});const St=ae({noa:"",meProc:0,muniProc:0,manufacturerData:"",material:"",description:"",Table2:[],Table3:[],expiration_date:"",resistance:[],selection:"",select_tile:[],tile_map:[],table2_map:[],height:"",area:"",slope:"",Decktype:"",perimeter:"",tileIdentifier:"tile",zoneone:{zone1:"",lambda1:"",mg1:"",mr1:"",mf1:""},zonetwo:{zone2:"",lambda2:"",mg2:"",mr2:"",mf2:""},zonethree:{zone3:"",lambda3:"",mg3:"",mr3:"",mf3:""}}),tl=L(()=>{const e=Y.value||{};if(e.mfMap&&typeof e.mfMap=="object"&&!Array.isArray(e.mfMap))return{...e.mfMap};const t={},l=Array.isArray(e.mfMap)?e.mfMap:[],s=Array.isArray(e.resistance)?e.resistance:[];return l.forEach((n,h)=>{const F=typeof n=="string"?n:(n==null?void 0:n.label)??(n==null?void 0:n.value)??"";F&&(t[F]=s[h])}),t}),ll=L(()=>{const e=Y.value||{};if(e.selection&&typeof e.selection=="object"&&!Array.isArray(e.selection))return{...e.selection};const t={},l=Array.isArray(e.selection)?e.selection:[],s=Array.isArray(e.resistance)?e.resistance:[];return l.forEach((n,h)=>{const F=typeof n=="string"?n:(n==null?void 0:n.label)??(n==null?void 0:n.value)??"";F&&(t[F]=s[h])}),t}),aa=e=>{if(e==null)return null;if(typeof e=="string"||typeof e=="number"){const l=String(e);return{label:l,value:l}}if(typeof e=="object"&&!("items"in e)){const l=e.label??e.name??e.text??String(e.value??e.id??e.key??""),s=e.value??e.id??e.key??l;return{label:l,value:s}}const t=String(e);return{label:t,value:t}},At=L(()=>{const e=d.selection;return e&&typeof e=="object"&&!Array.isArray(e)?Object.keys(e).map(l=>({label:l,value:l})):(Array.isArray(e)?e:[]).map(aa).filter(Boolean)});function sa(e){return e&&typeof e=="object"?e.value??e.label??"":e??""}function Dt(e=$.value){var ye;const t=sa(e);if(!t)return;const l=(ye=ll.value)==null?void 0:ye[t];if(l==null)return;const s=String(l),n=se(s);V.mf1=s,z.mf2=s,U.mf3=s;const h=se(V.mr1),F=se(z.mr2),o=se(U.mr3);pe.value=h<n,Ge.value=!pe.value,me.value=F<n,Qe.value=!me.value,fe.value=o<n,We.value=!fe.value,St.material=t}const al=i(null);_([Te,Y],()=>{q.value||ne()},{immediate:!0}),_(()=>$.value,e=>{Dt(e)}),_([()=>Te.value,()=>Y.value,()=>ll.value],()=>{$.value&&(ne(),Dt())},{deep:!0}),_(At,e=>{console.log(At,e),e.some(t=>(t==null?void 0:t.value)===al.value)||(console.log(e.some(t=>(t==null?void 0:t.value)===$.value)),al.value=null)}),_(At,e=>{Array.isArray(e)||console.warn("safeOptions is not an array:",e)},{immediate:!0}),_(tl,e=>{console.log("[selectionMap2]",e)},{immediate:!0}),_($,e=>{console.log("[selectedMaterial]",e)});function oa(e){const t=Bt(Number(e||0),2,12);return t<=3?2:t<4?3:t<=4?4:t<6?5:t<7?6:7}const sl=L(()=>{const e=Y.value||{};if(e.mfMap&&typeof e.mfMap=="object"&&!Array.isArray(e.mfMap))return{...e.mfMap};if(e.selection&&typeof e.selection=="object"&&!Array.isArray(e.selection))return{...e.selection};if(d.selection&&typeof d.selection=="object"&&!Array.isArray(d.selection))return{...d.selection};const t={},l=Array.isArray(e.selection)?e.selection:[],s=Array.isArray(e.resistance)?e.resistance:[];return l.forEach((n,h)=>{const F=typeof n=="string"?n:(n==null?void 0:n.label)??(n==null?void 0:n.value)??"";F&&(t[F]=s[h])}),t}),Ne=L(()=>Object.keys(sl.value).map(e=>({label:e,value:e})));_(Ne,e=>{e.some(t=>(t==null?void 0:t.value)===$.value)||(console.log(e.some(t=>(t==null?void 0:t.value)===$.value)),$.value=null)});function Ie(e){if(e==null)return 0;if(Array.isArray(e))return Ie(e[0]);if(typeof e=="object")return"Direct_Deck"in e?Ie(e.Direct_Deck):"value"in e?Ie(e.value):0;const t=/[\u00B2-\u00B3\u00B9\u2070-\u207F]/g,l=String(e).replace(t,"").trim(),s=Number(l);return Number.isFinite(s)?s:0}function ne(e){const t=e||D.value||O(Y)||{},l=t.Table2??d.Table2??t.Table2_map??t.Table2_Map??d.table2_map??null,s=t.Table3??d.Table3??t.tile_map??t.Tile_Map??d.tile_map??null;if((t==null?void 0:t.content)==="multiple"||q.value||!l||!s)return;const n=oa(C.slope),F=["two","three","four","five","six","seven"][Math.min(Math.max(n-2,0),5)],o=Ie(s==null?void 0:s[F]),ye=Ie(l);V.lambda1=ye,z.lambda2=ye,U.lambda3=ye,V.mg1=o,z.mg2=o,U.mg3=o,ia()}function ia(){const e=Number(V.zone)*Number(V.lambda1)-Number(V.mg1),t=Number(z.zone)*Number(z.lambda2)-Number(z.mg2),l=Number(U.zone)*Number(U.lambda3)-Number(U.mg3);V.mr1=e.toFixed(2),z.mr2=t.toFixed(2),U.mr3=l.toFixed(2)}const na=/[\u00B2-\u00B3\u00B9\u2070-\u207F]/g,se=e=>Number(String(e??"").replace(na,""));function ol(e){return e==null?"":String(typeof e=="string"||typeof e=="number"?e:typeof e=="object"?e.value??e.label??"":e)}_(Ne,e=>{const t=ol($.value);t&&!e.some(l=>l.value===t)&&($.value=null)},{immediate:!0});function qe(e){const t=ol(e);if(!t)return;const l=sl.value[t];if(l==null)return;const s=String(l),n=se(s);V.mf1=s,z.mf2=s,U.mf3=s;const h=se(V.mr1),F=se(z.mr2),o=se(U.mr3);pe.value=h<n,Ge.value=!pe.value,me.value=F<n,Qe.value=!me.value,fe.value=o<n,We.value=!fe.value,St.material=t}_([()=>Te.value,()=>Y.value],()=>{q.value?q.value&&I.value&&Me(I.value):ne(),$.value&&qe($.value)},{deep:!0,immediate:!0}),_(()=>$.value,e=>{e&&(q.value||ne(),qe(e))});function ra(e){const t=typeof e=="object"&&e?e.value??e.label:e;if(!t)return;const l=tl.value[t];if(l==null)return;const s=String(l),n=se(s);V.mf1=s,z.mf2=s,U.mf3=s;const h=se(V.mr1),F=se(z.mr2),o=se(U.mr3);pe.value=h<n,Ge.value=!pe.value,me.value=F<n,Qe.value=!me.value,fe.value=o<n,We.value=!fe.value,St.material=t}_([()=>Te.value,Y],()=>{q.value&&I.value&&Me(I.value)},{immediate:!0});const il=L(()=>de.value);function ua(){$.value=null,I.value=null,Object.assign(d,{noa:0,manufacturer:"",material:"",description:"",select_tile:[],table2_map:{},tile_map:{},selection:{},expiration_date:""}),Ft()}_(P,(e,t)=>{var l,s;t&&t!==e&&((s=(l=y.value)==null?void 0:l.clearInput)==null||s.call(l)),ua(),Le.value=!0,q.value=!1,Ye(),$e()}),_(Y,e=>{if(!e)return;const t=(e==null?void 0:e.content)==="multiple";je(e,{multiple:t}),t||ne(),$.value=null,I.value=Array.isArray(d.select_tile)?d.select_tile[0]:null,il.value&&He.value++},{immediate:!0});const tt=e=>{const t=Number(e);return Number.isFinite(t)?t:0},ca=(e=[],t=[])=>Object.fromEntries(e.map((l,s)=>[String(l),t[s]])),nl=L(()=>ca(f.system||[],f.arrDesignPressure||[])),da=e=>(f==null?void 0:f[`TileCap_Sheet_Description_${e}`])??"",pa=e=>(f==null?void 0:f[`Anchor_Base_Sheet_${e}`])??"";function ma(){const e=oe.value;e&&(f.TileCap_Sheet_Description=da(e),f.Anchor_Base_Sheet=pa(e),f.designPressure=nl.value[e]??"")}const fa=()=>{oe.value=null,f.designPressure="",f.Anchor_Base_Sheet="",f.TileCap_Sheet_Description=""};_(()=>f.noa,(e,t)=>{!e||e===t||(fa(),ht(O(bt)))});function ga(){Ce.value=!1,lt.value++,xt.value=null,Object.assign(f,{noa:"",manufacturer:"",material:"",system:"",designPressure:"",Anchor_Base_Sheet:"",TileCap_Sheet_Description:"",expiration_date:""})}function ya(){re.value=!1,at.value++,Vt.value=null,Object.assign(m,{noa:"",manufacturer:"",material:"",system:"",designpressure:"",description:"",expiration_date:""})}_([()=>I.value,()=>$.value],()=>{el()}),_(()=>de.value,e=>{console.log("Modal changed:",e)},{immediate:!0}),_(()=>Ce.value,e=>{console.log("UDLModal changed:",e)},{immediate:!0}),_(()=>re.value,e=>{console.log("SAModal changed:",e)},{immediate:!0});async function va(){const e=oe.value??"",t={...Mt(),udlapplicant:f.manufacturer||"",udlnoa:f.noa||"",udlmaterial:f.material||"",udldescription:f.TileCap_Sheet_Description||f.udldescription||"",udldesignPressure:f.designPressure||"",anchorbasesheet:f.Anchor_Base_Sheet||f.Anchor_Base||"",hittype:"system_e",udlsystemESelected:e};console.log(t),await B(t)}const _a=async()=>{try{const e={...Mt(),hittype:d.hittype};await B(e),console.log("Posted successfully")}catch(e){console.error("Post failed:",e),e.response?alert(`Error ${e.response.status}: ${e.response.data.message||"Request failed"}`):e.request?alert("Network error: Please check your connection"):alert("An unexpected error occurred")}},lt=i(0),xt=i(null),He=i(0),at=i(0),Tt=i(null),Vt=i(null),ba=L(()=>pe.value&&me.value&&fe.value),Mt=()=>{var e,t,l,s;return{meProcess:d.meProcessnumber,muniProcess:d.muniProc,noa:d.noa??"",applicant:d.manufacturer??"",description:d.description??"",material:d.material??"",decktype:T.value??"",area:tt(C.area),height:tt(C.height),slope:tt(C.slope),dripEdgeMaterial:(t=(e=N.$state.inputselectedTileDripEdge[0])==null?void 0:e.dripSelection)==null?void 0:t.DripEdgeMaterial,dripEdgeSize:(s=(l=N.$state.inputselectedTileDripEdge[0])==null?void 0:l.dripSelection)==null?void 0:s.DripEdgeSize,perimeter:tt(C.per),hittype:"astm",zoneone:st(V),zonetwo:st(z),zonethree:st(U),checkvalues:ba.value,prescriptiveSelection:f.prescriptiveSelection||m.prescriptiveSelection||d.prescriptiveSelection||""}};function st(e){const t=O(e);return wt(t)?ot(t):t}function ha(e){const t=O(e);return wt(t)?ot(t):t}function Sa(e){const t=O(e);return wt(t)?ot(t):t}async function Aa(){var t,l;if(await((l=(t=y.value)==null?void 0:t.commit)==null?void 0:l.call(t)),!D.value)return;He.value++,await he();const e=st(d);Tt.value={manufacturer:(e==null?void 0:e.manufacturer)??"",material:(e==null?void 0:e.material)??"",description:(e==null?void 0:e.description)??""},de.value=!0}const rl=i(0);function Da(e){rl.value+=1,rl.value>=2&&ga()}const ul=i(0);function xa(e){ul.value+=1,ul.value>=2&&ya()}async function Ta(){re.value=!1,await he(()=>{at.value++}),Na()}async function Va(){await he(),await ta();const e=ha(f);xt.value={udlmanufacturer:(e==null?void 0:e.manufacturer)??"",udlmaterial:(e==null?void 0:e.material)??"",udldescription:(e==null?void 0:e.description)??"",udlsystem:(e==null?void 0:e.system)??""},lt.value++,lt.value++,await he(),Ce.value=!0}async function Ma(){await he(),Yl();const e=Sa(m);Vt.value={samanufacturer:(e==null?void 0:e.manufacturer)??"",samaterial:(e==null?void 0:e.material)??"",sasystem:(e==null?void 0:e.system)??""},at.value++,await he(),re.value=!0}async function Na(){ot(m);const e={...Mt(),samanufacturer:m.manufacturer||"",sanoa:m.noa||"",samaterial:m.material||"",sadescription:m.description||"",designpressure:m.designpressure,hittype:"system_f",systemSelected:be.value,designpressure:ct.value||""};await B(e)}return _(G,()=>{console.log("Selected F ->",be.value)}),(e,t)=>{const l=Sl,s=Ba,n=$a,h=Fa,F=La;return le(),De(hl,null,[a("div",Cs,[a("div",Ps,[g(l,{modelValue:rt.value,"onUpdate:modelValue":t[0]||(t[0]=o=>rt.value=o),options:xl.value,optionLabel:"name",placeholder:"Select a Deck Type",class:"w-full md:w-56",onChange:Kl},null,8,["modelValue","options"])]),a("div",Os,[Ls,g(s,{id:"area",modelValue:C.area,"onUpdate:modelValue":t[1]||(t[1]=o=>C.area=o),type:"text",placeholder:"area",readonly:""},null,8,["modelValue"])]),a("div",Fs,[ks,$s,Q(),S(a("i",{class:"pi pi-check",style:{color:"green","font-size":"1.2rem"},onChange:Xe},null,544),[[R,$t.value]]),Q("  "),S(g(s,{id:"slope",placeholder:"slope",modelValue:C.slope,"onUpdate:modelValue":t[2]||(t[2]=o=>C.slope=o),modelModifiers:{number:!0},disabled:kt.value,onChange:ql},null,8,["modelValue","disabled"]),[[h,"Press Tab after value",void 0,{bottom:!0}]]),O(Gt)?(le(),Se(n,{key:0,class:"w-96 mt-1 ...",severity:"error",life:6e3,style:{"margin-left":"2px"}},{default:ce(()=>[Q(Ut(O(Gt)),1)]),_:1})):ue("",!0)]),a("div",Bs,[js,Rs,Q(),S(a("i",{class:"pi pi-check",style:{color:"green","font-size":"1.2rem"},onChange:Xe},null,544),[[R,W.value]]),Q("  "),S(g(s,{ref_key:"heightInputRef",ref:nt,id:"height",modelValue:j.value,"onUpdate:modelValue":t[3]||(t[3]=o=>j.value=o),modelModifiers:{number:!0},type:"text",placeholder:"height",disabled:Ue.value,onChange:Wt},null,8,["modelValue","disabled"]),[[h,"Press Tab after value",void 0,{bottom:!0}]]),O(Qt)?(le(),Se(n,{key:0,class:"w-96 mt-1",severity:"error",life:6e3,style:{"margin-left":"2px"}},{default:ce(()=>[Q(Ut(O(Qt)),1)]),_:1})):ue("",!0)]),g(fs),a("div",Is,[qs,g(s,{id:"perimeter",modelValue:C.per,"onUpdate:modelValue":t[4]||(t[4]=o=>C.per=o),type:"text",placeholder:" ",onChange:Wt,readonly:""},null,8,["modelValue"])]),a("div",Hs,[a("div",Ks,[Zs,a("div",Js,[a("div",Gs,[g(O(Ke),{inputId:"option3",name:"option",value:"c",modelValue:_e.value,"onUpdate:modelValue":t[5]||(t[5]=o=>_e.value=o),onChange:$e,style:{"margin-left":"5px"}},null,8,["modelValue"]),Qs]),a("div",Ws,[g(O(Ke),{inputId:"option4",name:"option",value:"d",modelValue:_e.value,"onUpdate:modelValue":t[6]||(t[6]=o=>_e.value=o),onChange:$e,style:{"margin-left":"20px"}},null,8,["modelValue"]),Ys])]),a("div",Xs,[eo,a("div",to,[a("div",lo,[g(O(Ke),{inputId:"option1",name:"options",value:"single",variant:"filled",modelValue:P.value,"onUpdate:modelValue":t[7]||(t[7]=o=>P.value=o),onUpdate:e.selectPaddy},null,8,["modelValue","onUpdate"]),ao]),a("div",so,[g(O(Ke),{inputId:"option2",style:{"margin-left":"5px"},name:"options",value:"double",variant:"filled",modelValue:P.value,"onUpdate:modelValue":t[8]||(t[8]=o=>P.value=o),onUpdate:e.selectPaddy},null,8,["modelValue","onUpdate"]),oo])])])])]),g(O(we)),a("div",io,[a("div",no,[S(a("div",ro,[S(g(Us,{onConfirmed:Xl,ref_key:"childQueryRef",ref:y,class:"animate-duration-2000 animate-ease-in-out"},null,512),[[F,{enterClass:"animate-flipup",leaveClass:"animate-fadeout"}]]),g(Et,{label:"Submit",severity:"contrast",onClick:Aa,class:"self-start"})],512),[[R,Rt.value]]),S(a("div",uo,[g(Za,{onConfirmed:Da}),g(Et,{label:"Submit",severity:"contrast",onClick:Va,class:"self-start",style:{"margin-left":"15px","margin-top":"15px"}})],512),[[R,Je.value]]),S(a("div",co,[g(Ja,{onConfirmed:xa}),g(Et,{label:"Submit",severity:"contrast",onClick:Ma,class:"self-start",style:{"margin-left":"15px","margin-top":"15px"}})],512),[[R,Oe.value]])]),g(Oa,{name:"fade"},{default:ce(()=>[e.loadingMech?(le(),De("div",po,[g(O(Ya),{style:{width:"40px",height:"40px"},strokeWidth:"4"})])):ue("",!0)]),_:1})])]),a("div",mo,[fo,g(l,{modelValue:O(ve),"onUpdate:modelValue":t[9]||(t[9]=o=>zt(ve)?ve.value=o:ve=o),options:Vl.value,optionLabel:"selectedBasesheet",placeholder:"make selection",onChange:Zl},null,8,["modelValue","options"])]),g(O(we)),g(O(we)),Ht.value?ue("",!0):(le(),De("div",go,[de.value?(le(),Se(it,{key:He.value,initialData:Tt.value,onClosePopup:t[15]||(t[15]=o=>de.value=!1)},{default:ce(()=>[S(a("div",yo,[a("div",vo,[_o,g(s,{id:"manufacturer",modelValue:d.manufacturer,"onUpdate:modelValue":t[10]||(t[10]=o=>d.manufacturer=o)},null,8,["modelValue"])]),S(a("div",bo,[ho,g(l,{modelValue:I.value,"onUpdate:modelValue":[t[11]||(t[11]=o=>I.value=o),Me],options:d.select_tile,placeholder:"make a selection"},null,8,["modelValue","options"])],512),[[R,q.value]]),S(a("div",So,[Ao,g(l,{modelValue:$.value,"onUpdate:modelValue":[t[12]||(t[12]=o=>$.value=o),qe],options:Ne.value,optionLabel:"label",optionValue:"value",placeholder:"make a selection"},null,8,["modelValue","options"])],512),[[R,q.value]]),g(O(we)),S(a("div",Do,[xo,g(s,{id:"description",modelValue:d.description,"onUpdate:modelValue":t[13]||(t[13]=o=>d.description=o)},null,8,["modelValue"])],512),[[R,!q.value]]),S(a("div",To,[Vo,g(l,{modelValue:$.value,"onUpdate:modelValue":[t[14]||(t[14]=o=>$.value=o),qe],options:Ne.value,optionLabel:"label",optionValue:"value",placeholder:"make a selection"},null,8,["modelValue","options"])],512),[[R,!q.value]])],512),[[R,xe.value]])]),_:1},8,["initialData"])):ue("",!0)])),de.value?(le(),Se(it,{key:He.value,initialData:Tt.value,onClosePopup:Cl},{default:ce(()=>[S(a("div",Mo,[a("div",No,[wo,g(s,{id:"manufacturer",modelValue:d.manufacturer,"onUpdate:modelValue":t[16]||(t[16]=o=>d.manufacturer=o)},null,8,["modelValue"])]),S(a("div",Eo,[zo,g(l,{modelValue:I.value,"onUpdate:modelValue":[t[17]||(t[17]=o=>I.value=o),Me],options:d.select_tile,placeholder:"make a selection"},null,8,["modelValue","options"])],512),[[R,q.value]]),S(a("div",Uo,[Co,g(l,{modelValue:$.value,"onUpdate:modelValue":[t[18]||(t[18]=o=>$.value=o),ra],options:Ne.value,optionLabel:"label",optionValue:"value",placeholder:"make a selection"},null,8,["modelValue","options"])],512),[[R,q.value]]),g(O(we)),S(a("div",Po,[Oo,g(s,{id:"description",modelValue:d.description,"onUpdate:modelValue":t[19]||(t[19]=o=>d.description=o)},null,8,["modelValue"])],512),[[R,!q.value]]),S(a("div",Lo,[Fo,g(l,{modelValue:$.value,"onUpdate:modelValue":[t[20]||(t[20]=o=>$.value=o),qe],options:Ne.value,optionLabel:"label",optionValue:"value",placeholder:"make a selection"},null,8,["modelValue","options"])],512),[[R,!q.value]])],512),[[R,xe.value]])]),_:1},8,["initialData"])):ue("",!0),Ce.value?(le(),Se(it,{key:lt.value,initialData:xt.value,onClosePopup:t[27]||(t[27]=o=>(Ce.value=!1,va()))},{default:ce(()=>[S(a("div",ko,[a("div",$o,[Bo,g(s,{id:"manufacturer",modelValue:f.manufacturer,"onUpdate:modelValue":t[21]||(t[21]=o=>f.manufacturer=o)},null,8,["modelValue"])]),a("div",jo,[Ro,g(s,{id:"material",modelValue:f.material,"onUpdate:modelValue":t[22]||(t[22]=o=>f.material=o)},null,8,["modelValue"])]),a("div",Io,[qo,g(l,{modelValue:oe.value,"onUpdate:modelValue":t[23]||(t[23]=o=>oe.value=o),options:f.system,placeholder:""},null,8,["modelValue","options"])]),a("div",Ho,[Ko,g(s,{id:"designPressure",modelValue:f.designPressure,"onUpdate:modelValue":t[24]||(t[24]=o=>f.designPressure=o),disabled:!oe.value},null,8,["modelValue","disabled"])]),a("div",Zo,[a("div",Jo,[Go,g(s,{id:"anchor",modelValue:f.Anchor_Base_Sheet,"onUpdate:modelValue":t[25]||(t[25]=o=>f.Anchor_Base_Sheet=o),disabled:!oe.value},null,8,["modelValue","disabled"])]),a("div",Qo,[Wo,g(s,{id:"description",modelValue:f.TileCap_Sheet_Description,"onUpdate:modelValue":t[26]||(t[26]=o=>f.TileCap_Sheet_Description=o),disabled:!oe.value},null,8,["modelValue","disabled"])])])],512),[[R,Je.value]])]),_:1},8,["initialData"])):ue("",!0),re.value?(le(),Se(it,{key:at.value,initialData:Vt.value,onClosePopup:t[33]||(t[33]=o=>Ta())},{default:ce(()=>[S(a("div",Yo,[a("div",Xo,[ei,g(s,{id:"saapplicant",modelValue:m.manufacturer,"onUpdate:modelValue":t[28]||(t[28]=o=>m.manufacturer=o)},null,8,["modelValue"])]),a("div",ti,[li,g(s,{id:"saaterial",modelValue:m.material,"onUpdate:modelValue":t[29]||(t[29]=o=>m.material=o)},null,8,["modelValue"])]),a("div",ai,[si,oi,g(l,{modelValue:G.value,"onUpdate:modelValue":t[30]||(t[30]=o=>G.value=o),options:(m.system||[]).map(o=>({label:o,value:o})),optionLabel:"label",optionValue:"value"},null,8,["modelValue","options"])]),a("div",ii,[ni,g(s,{id:"designpressure",modelValue:ct.value,"onUpdate:modelValue":t[31]||(t[31]=o=>ct.value=o),disabled:!be.value},null,8,["modelValue","disabled"])]),S(a("div",ri,[ui,g(s,{id:"capsheetdescription",modelValue:qt.value,"onUpdate:modelValue":t[32]||(t[32]=o=>qt.value=o),disabled:!be.value},null,8,["modelValue","disabled"])],512),[[R,Oe.value]])],512),[[R,Oe.value]])]),_:1},8,["initialData"])):ue("",!0),a("div",ci,[a("div",di,[a("table",pi,[a("tbody",null,[a("tr",null,[a("td",mi,[a("table",fi,[a("tbody",null,[a("tr",null,[gi,a("td",yi,[S(a("input",{"onUpdate:modelValue":t[34]||(t[34]=o=>V.zone=o),readonly:"",size:"4"},null,512),[[X,V.zone]]),Q(" x λ  ")]),a("td",vi,[S(a("input",{"onUpdate:modelValue":t[35]||(t[35]=o=>V.lambda1=o),readonly:"",size:"4"},null,512),[[X,V.lambda1]]),Q(" - Mg: ")]),a("td",_i,[S(a("input",{"onUpdate:modelValue":t[36]||(t[36]=o=>V.mg1=o),readonly:"",size:"4"},null,512),[[X,V.mg1]]),Q(" = Mr1: ")]),a("td",bi,[S(a("input",{"onUpdate:modelValue":t[37]||(t[37]=o=>V.mr1=o),readonly:"",size:"4"},null,512),[[X,V.mr1]]),Q(" NOA Mf: ")]),a("td",hi,[S(a("input",{"onUpdate:modelValue":t[38]||(t[38]=o=>V.mf1=o),size:"6"},null,512),[[X,V.mf1]])]),S(a("i",Si,null,512),[[R,pe.value]]),S(a("i",Ai,null,512),[[R,Ge.value]])]),a("tr",null,[Di,a("td",xi,[S(a("input",{"onUpdate:modelValue":t[39]||(t[39]=o=>z.zone=o),readonly:"",size:"4"},null,512),[[X,z.zone]]),Q(" x λ  ")]),a("td",Ti,[S(a("input",{"onUpdate:modelValue":t[40]||(t[40]=o=>z.lambda2=o),readonly:"",size:"4"},null,512),[[X,z.lambda2]]),Q(" - Mg: ")]),a("td",Vi,[S(a("input",{"onUpdate:modelValue":t[41]||(t[41]=o=>z.mg2=o),readonly:"",size:"4"},null,512),[[X,z.mg2]]),Q(" = Mr2: ")]),a("td",Mi,[S(a("input",{"onUpdate:modelValue":t[42]||(t[42]=o=>z.mr2=o),readonly:"",size:"4"},null,512),[[X,z.mr2]]),Q(" NOA Mf: ")]),a("td",Ni,[S(a("input",{"onUpdate:modelValue":t[43]||(t[43]=o=>z.mf2=o),size:"6"},null,512),[[X,z.mf2]])]),S(a("i",wi,null,512),[[R,me.value]]),S(a("i",Ei,null,512),[[R,Qe.value]])]),a("tr",null,[zi,a("td",Ui,[S(a("input",{"onUpdate:modelValue":t[44]||(t[44]=o=>U.zone=o),readonly:"",size:"4"},null,512),[[X,U.zone]]),Q(" x λ")]),a("td",Ci,[S(a("input",{"onUpdate:modelValue":t[45]||(t[45]=o=>U.lambda3=o),readonly:"",size:"4"},null,512),[[X,U.lambda3]]),Q(" - Mg: ")]),a("td",Pi,[S(a("input",{"onUpdate:modelValue":t[46]||(t[46]=o=>U.mg3=o),readonly:"",size:"4"},null,512),[[X,U.mg3]]),Q(" = Mr3: ")]),a("td",Oi,[S(a("input",{"onUpdate:modelValue":t[47]||(t[47]=o=>U.mr3=o),readonly:"",size:"4"},null,512),[[X,U.mr3]]),Q(" NOA Mf: ")]),a("td",Li,[S(a("input",{"onUpdate:modelValue":t[48]||(t[48]=o=>U.mf3=o),size:"6"},null,512),[[X,U.mf3]])]),S(a("i",Fi,null,512),[[R,fe.value]]),S(a("i",ki,null,512),[[R,We.value]])])])])])])])])])])],64)}}},Bi={id:"tile",class:"card-system w-full space-y-1",style:{"margin-left":"20px"}},mn={__name:"Tile",setup(u){const v=ka(),A=Ct();Ae(A);const b=i(!1),w=i(A.$state.roofList);let E=i(null);function N(){console.log(E)}_(b,D=>{D?(console.log("Dialog is now visible"),console.log(v)):console.log("Dialog has been closed")});function k(){for(let D=0;D<w.value.length;D++)console.log(w.value[D].item),w.value[D].item==="Adhesive Set Tile"&&(console.log("I am in",w.value[D].item),b.value=!0,console.log(b.value))}return Ze(()=>{k()}),(D,H)=>(le(),De(hl,null,[b.value===!0?(le(),Se(cs,{key:0})):ue("",!0),a("div",Bi,[g($i,{slopeEntered:O(E),style:{"margin-left":"2px"},onChange:N},null,8,["slopeEntered"])])],64))}};export{mn as default};
