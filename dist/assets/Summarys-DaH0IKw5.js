import{s as co}from"./index-DnIRAzXp.js";import{s as po}from"./index-CwhycNQt.js";import{s as uo}from"./index-Dni1F9oq.js";import{e as a,a0 as bl,af as Dl,ah as Al,o as Ml,c as Xl,D as vo,av as ho,E as xo,h as ao,z as go,f as mo,ae as To,j as Ja,k as pl,q as kl,I as Yl,ag as Gl,l as Jl,F as Wo,W as fo,n as $o,v as _l,t as eo,L as So,M as Vo}from"./index-BFHByW5m.js";import{u as Nl}from"./accountsStore-C0mR6WLj.js";import{c as ro}from"./countStore-Bj8v3jQg.js";import{u as lo}from"./generalpageStore-DDqxCg_Y.js";import{u as Fl}from"./permitapp-CZj0wf0G.js";import{u as Tl}from"./roofList-CJxnyLQS.js";import{E as Rl}from"./jspdf.es.min-Dng_p63_.js";import{a as to,u as bo}from"./dripEdgeStore-BxkvkTzP.js";import{b as Do,a as Ao,c as Mo,u as Xo}from"./systemfStore-B_uvhnAc.js";import{u as No,a as Fo}from"./tilevalueStore-l4d1lxTD.js";import{u as Eo}from"./savedTiledataStore-BtpmVOBb.js";import{u as oo,a as so}from"./tilesysfStore-bS-FHnWl.js";import{u as wo,a as zo}from"./dripEdgeMechTileStore-BZpMwUh5.js";import{u as Po}from"./useAxios-c5LqnOyH.js";import{_ as Co}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-tf2bG66K.js";import"./reset-store-Bhin_631.js";const ko={__name:"Generalpagepdf",setup(ve){var he,m,e,ct,Ke,re,be,De,P,Ce,ke,Re,Be;const{getUser:S}=Nl();let V=a(!1);const B=Fl();Tl();const A=lo(),W=a(((m=(he=B.$state.permitapp[0])==null?void 0:he.formdt)==null?void 0:m.address)||""),g=a(((ct=(e=B.$state.permitapp[0])==null?void 0:e.formdt)==null?void 0:ct.permit)||"N|A"),K=a(((re=(Ke=B.$state.permitapp[0])==null?void 0:Ke.formdt)==null?void 0:re.processNumber)||""),E=a(((De=(be=B.$state.permitapp[0])==null?void 0:be.formdt)==null?void 0:De.muniProc)||""),Q=a(((Ce=(P=B.$state.permitapp[0])==null?void 0:P.formdt)==null?void 0:Ce.muni)||"");a((Re=(ke=A.$state.generalpdfinput[1])==null?void 0:ke.generalpdfData)==null?void 0:Re.totalData);const r=a(((Be=S.value[0])==null?void 0:Be.dba)||""),Z=a(""),o=a(A.$state.generalpdfinput);function f(){o.value.length!==1&&(V.value=!0)}bl(()=>{f()}),Dl(async()=>{await Al(V).toBe(!0),Ve()});const Ve=()=>{var kt,Rt,pt,ut,vt,ht,xt,gt;if(A.$state.generalpdfinput.length===0)console.log("lenghth is   zero");else{const p=new Rl({orientation:"portrait",unit:"mm",format:"a4",compress:!0});p.setGState(new p.GState({opacity:.9}));const mt="Approved";p.setFontSize(24),p.setTextColor("black"),p.setFont("helvetica"),p.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const Tt=new Image,Wt=new Image,ft=new Image;Tt.src="/demo/images/officepaper.jpeg",Wt.src="/demo/images/logo.jpeg",ft.src="/demo/images/DragAndDrop.jpeg";const Bt=725,$t=p.getPageInfo(1),It=$t.pageContext.mediaBox.topRightX,Ut=$t.pageContext.mediaBox.topRightY;console.log(It);const $=a(0),St=a(0);var I=595.28-585.28,T=Ut-Bt;$.value=I,St.value=T,console.log($.value,St.value),p.addImage(Wt,"JPEG",10,10,50,30),p.addImage(Tt,"JPEG",0,0,210,297),p.setFontSize(12),p.setTextColor("green");var Y=new Date,u=Y.toLocaleDateString();p.text(mt,10,270,{align:"left"});const Ot=p.getTextWidth(mt);p.text("on: "+u,Ot+15,270),p.text(`${E.value}`,10,280,{align:"left"});const Ht=p.getTextWidth(`${E.value}`);p.text(`${Q.value}`,Ht+15,280);const Vt=a(!1),s=a(!1),xe=a(!1),i=a(!1),rt=a(!1);p.setFontSize(12);const ia=()=>{p.setFontSize(12),p.setTextColor(0),p.text("2023 HVHZ  mEPermit General Information Page",70,20,{maxWidth:"170"}),p.line(10,30,195,30)};p.setTextColor(0),ia(),p.setFontSize(12);const h=a((Rt=(kt=A.$state.generalpdfinput[1])==null?void 0:kt.generalpdfData)==null?void 0:Rt.totalData),$a=[{category:"DBA",value:`${r.value}`},{category:"Roof Area",value:`${h.value}`},{category:"Job Address",value:`${W.value}`},{category:"meProcess Number",value:`${K.value}`},{category:"Master Permit",value:`${g.value}`}];let na=10,bt=60,M=50;p.setFontSize(12),$a.forEach((Me,_t)=>{const me=M+_t*10;p.text(Me.category,na,me),p.text(Me.value,bt,me),p.getTextWidth(Me.category);const Ue=p.getTextWidth(Me.value)*2;p.line(bt,me+2,bt+Ue,me+2)}),p.setTextColor("black"),p.setFontSize(12);const Qe=100,Dt=a(!1),Yt=a(!1);$.value=I+40,A.$state.generalpdfinput[1].generalpdfData.roofCheck[0]==="reroof"?(Dt.value=!0,console.log(Dt.value)):Yt.value=!0,$.value=I+50,T=Qe,console.log(T),p.text("Re-Roof: ",$.value,T);const Le=T-3,Gt=Dt.value===!0?p.rect($.value+20,Le,4,4,"FD"):p.rect($.value+20,Le,4,4);$.value=I+120,T=Qe,console.log(T),p.text("New Roof: ",$.value,T);const Ie=Yt.value===!0?p.rect($.value+25,Le,4,4,"FD"):p.rect($.value+25,Le,4,4);console.log(Gt,Ie),T=T+10;const Jt="Total: ",At="Low Slope: ",jt="Steep Slope: ",Zt=a(((ut=(pt=A.$state.generalpdfinput[1])==null?void 0:pt.generalpdfData)==null?void 0:ut.totalData)||""),qt=a(((ht=(vt=A.$state.generalpdfinput[1])==null?void 0:vt.generalpdfData)==null?void 0:ht.slopeData)||""),Kt=a(((gt=(xt=A.$state.generalpdfinput[1])==null?void 0:xt.generalpdfData)==null?void 0:gt.steepData)||"");console.log(A.$state.generalpdfinput[1].generalpdfData),$.value=I+25,T=Qe+10;const da=p.getTextWidth(At),ge=p.getTextWidth(`${qt.value}`),t=$.value+5;p.text(At,t,T);const c=da+t;p.text(`${qt.value}`,c,T),p.line(c,T,c+ge,T),$.value=c+ge;const C=p.getTextWidth(jt),se=p.getTextWidth(`${Kt.value}`),Mt=$.value+5;p.text(jt,Mt,T);const x=C+Mt;p.text(`${Kt.value}`,x,T),p.line(x,T,x+se,T),console.log(T,T),T=Qe+10,$.value=x+se,console.log($.value);const l=p.getTextWidth(Jt),n=p.getTextWidth(`${Zt.value}`),Qt=$.value+5;p.text(Jt,Qt,T);const k=l+Qt;p.text(`${Zt.value}`,k,T),p.line(k,T,k+n,T),$.value=k+n,console.log(A.$state.generalpdfinput[1]),A.$state.generalpdfinput[1].generalpdfData.slopeChk===!0&&(rt.value=!0,console.log("Slope Checked")),A.$state.generalpdfinput[1].generalpdfData.adtileChk===!0&&(Vt.value=!0),A.$state.generalpdfinput[1].generalpdfData.metalChk===!0&&(s.value=!0),A.$state.generalpdfinput[1].generalpdfData.mtileChk===!0&&(xe.value=!0),A.$state.generalpdfinput[1].generalpdfData.shingleChk===!0&&(i.value=!0,console.log("Shingle Checked")),$.value=I-4,T=T+10,p.text("Low Slope: ",I,T);const ie=T-3,Lt=rt.value===!0?p.rect($.value+27,ie,4,4,"FD"):p.rect($.value+27,ie,4,4);console.log(Gt,Ie,Lt),$.value=$.value+4;const ca=$.value+32;console.log($.value);const d=ca;console.log($.value),p.text("Adhesive Set Tile: ",d,T);const Fa=Vt.value===!0?p.rect(d+36,ie,4,4,"FD"):p.rect(d+36,ie,4,4);console.log(Gt,Ie,Fa),console.log($.value);const ye=d+43;console.log($.value),p.text("Metal Panel: ",ye,T),s.value===!0?p.rect(ye+25,ie,4,4,"FD"):p.rect(ye+25,ie,4,4);const Ae=ye+35;console.log($.value),p.text("Shingle: ",Ae,T);const ne=i.value===!0?p.rect(Ae+17,ie,4,4,"FD"):p.rect(Ae+17,ie,4,4);$.value=Ae;const yt=Ae+28;console.log($.value),p.text("Mechanical Fastened Tile: ",yt,T);const pa=xe.value===!0?p.rect(yt+51,ie,4,4,"FD"):p.rect(yt+51,ie,4,4);console.log(pa,ne),T=T+10,p.addImage(ft,"JPEG",I+40,T,100,100);const ua="GeneralPage.pdf",Xt=p.output("blob");(async(Me,_t)=>{const me=Me,Ue=me;console.log(Ue);const _e=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${E.value}/${Ue}`;try{const Te=await fetch(_e,{method:"PUT",headers:{"Content-Type":me.type},body:_t});Te.ok?(Z.value=_e,alert("GeneralPage File uploaded successfully!")):alert(`Failed to upload file. Status: ${Te.status}`)}catch(Te){console.error("Error uploading file:",Te),alert("An error occurred while uploading the file.")}})(ua,Xt)}};return(I,T)=>(Ml(),Xl("div"))}},Ro={__name:"LowSlopepdf",setup(ve){var Ke,re,be,De,P,Ce,ke,Re,Be,I;const{getUser:S}=Nl(),V=Fl(),B=Tl(),A=to(),W=a(((Ke=B.$state.roofList[0])==null?void 0:Ke.dim2)||""),g=a(((be=(re=V.$state.permitapp[0])==null?void 0:re.formdt)==null?void 0:be.address)||""),K=a(((P=(De=V.$state.permitapp[0])==null?void 0:De.formdt)==null?void 0:P.muni)||""),E=a(((ke=(Ce=V.$state.permitapp[0])==null?void 0:Ce.formdt)==null?void 0:ke.processNumber)||""),Q=bo(),{dripedgeStore:r,dripinput:Z}=vo(Q),o=a(((Be=(Re=V.$state.permitapp[0])==null?void 0:Re.formdt)==null?void 0:Be.muniProc)||""),f=a(((I=S.value[0])==null?void 0:I.dba)||""),Ve=a(A.$state.burpdfinput);let he=a(!1);const m=a("");function e(){Ve.value.length!==1&&(he.value=!0,ct())}bl(()=>{e()}),Dl(async()=>{await Al(he).toBe(!0)});const ct=()=>{var pt,ut,vt,ht,xt,gt,p,mt,Tt,Wt,ft,Bt,$t,It,Ut,$,St,Ot;const T=to();if(T.$state.burpdfinput.length===0)console.log("lenghth is zero");else{const Ht=a((ut=(pt=T.$state.burpdfinput[0])==null?void 0:pt.burpdfData)==null?void 0:ut.height),Vt=a((ht=(vt=T.$state.burpdfinput[0])==null?void 0:vt.burpdfData)==null?void 0:ht.slope),s=a((gt=(xt=T.$state.burpdfinput[0])==null?void 0:xt.burpdfData)==null?void 0:gt.per),xe=a((mt=(p=T.$state.burpdfinput[0])==null?void 0:p.burpdfData)==null?void 0:mt.deckType),i=new Rl({orientation:"portrait",unit:"mm",format:"a4",compress:!0});i.setGState(new i.GState({opacity:.9}));const rt="Approved";i.setFontSize(24),i.setTextColor("black"),i.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const ia=new Image,h=new Image;ia.src="/demo/images/officepaper.jpeg",h.src="/demo/images/logo.jpeg";const $a=725,na=i.getPageInfo(1);na.pageContext.mediaBox.topRightX;const bt=na.pageContext.mediaBox.topRightY,M=a(0),Sa=a(0);var Y=595.28-585.28,u=bt-$a;M.value=Y,Sa.value=u,console.log(M.value,Sa.value),i.addImage(h,"JPEG",10,2,50,30),i.addImage(ia,"JPEG",0,0,210,297),i.setFontSize(12),i.setTextColor("green");var kt=new Date,Rt=kt.toLocaleDateString();i.text(rt,10,270,{align:"left"});const Qe=i.getTextWidth(rt);i.text("on: "+Rt,Qe+15,270),i.text(`${o.value}`,10,280,{align:"left"});const Dt=i.getTextWidth(`${o.value}`);i.text(`${K.value}`,Dt+15,280),i.setFontSize(12);const Yt=()=>{i.setFontSize(10),i.setTextColor(0),i.text('The low slope Built Up Roof (BUR) Assembly shall be installed in compliance with the HVHZ portions of Chapter 15 found in the 2023 Florida Building Code and the HVHZ Roofing Application Standards (RAS), RAS-111, RAS-117 and RAS-128. This roof assembly shall also comply with the listed requirements for a Class "A" fire rating including roof slope (incline), components and a fire barrier when required. The mePermit applicant agrees to comply with these installation requirements when obtaining this permit.',10,25,{maxWidth:"170"}),i.line(10,50,195,50)};i.setTextColor("black"),i.circle(185,45,2,"FD"),i.text("I agree",165,45),Yt(),i.setFontSize(12);const Le=[{category:"DBA",value:`${f.value}`},{category:"Municipality",value:`${K.value}`},{category:"Job Address",value:`${g.value}`},{category:"meProcess Number",value:`${E.value}`}];let Gt=10,Ie=60,Jt=72;i.setFontSize(12),Le.forEach((Nt,ba)=>{const de=Jt+ba*10;i.text(Nt.category,Gt,de),i.text(Nt.value,Ie,de),i.getTextWidth(Nt.category);const ta=i.getTextWidth(Nt.value)*2;i.line(Ie,de+2,Ie+ta,de+2)}),i.setFontSize(12);const At="Roof Area: ",jt="Decktype: ",Zt="Mean Roof Height: ",qt="Roof Slope: ",Kt="Roof Perimeter: ",da="Type of Low Slope BUR Material: ",ge="Type of Low Slope BUR System: ",t="Attach P(1') Prime using P(1) Field Prescriptive Basesheet: ",c="Attach P(2) Perimeter using P(3) Corner Prescriptive: ",C=a(((Wt=(Tt=T.$state.burpdfinput[1])==null?void 0:Tt.burpdfData)==null?void 0:Wt.burMaterial)||""),se=a(((Bt=(ft=T.$state.burpdfinput[1])==null?void 0:ft.burpdfData)==null?void 0:Bt.burSystem)||""),Mt=a(((It=($t=T.$state.burpdfinput[1])==null?void 0:$t.burpdfData)==null?void 0:It.p1)||""),x=a((($=(Ut=T.$state.burpdfinput[1])==null?void 0:Ut.burpdfData)==null?void 0:$.p3)||"");console.log(Mt),M.value=Y;const l=i.getTextWidth(At),n=i.getTextWidth(`${W.value}`),Qt=M.value;i.text(At,Qt,u);const k=l+Qt;i.text(`${W.value}`,k,u),i.line(k,u+2,k+n,u+2),M.value=k+n;const ie=i.getTextWidth(Zt),Lt=i.getTextWidth(`${Ht.value}`),ca=M.value+18;i.text(Zt,ca,u);const d=ie+ca;i.text(`${Ht.value}`,d,u),i.line(d,u+2,d+Lt,u+2),M.value=d+Lt;const Fa=i.getTextWidth(qt),ye=i.getTextWidth(`${Vt.value}`),Ae=M.value+18;i.text(qt,Ae,u);const ne=Fa+Ae;i.text(`${Vt.value}`,ne,u),i.line(ne,u+2,ne+ye,u+2),M.value=ne+ye;const yt=i.getTextWidth(Kt),pa=i.getTextWidth(`${s.value}`),ua=M.value+18;i.text(Kt,ua,u);const Xt=yt+ua;i.text(`${s.value}`,Xt,u),i.line(Xt,u+2,Xt+pa,u+2),console.log(u,u),u=u+10,M.value=Xt+pa;const Ea=i.getTextWidth(jt),Me=i.getTextWidth(`${xe.value}`),_t=Y;i.text(jt,_t,u);const me=Ea+_t;i.text(`${xe.value}`,me,u),i.line(me,u+2,me+Me,u+2),u=u+10,M.value=Y;const Ue="DripEdge Material: ",_e="DripEdge Size: ";console.log(Q,Z);const Te=a(((St=Q.$state.dripinput[0])==null?void 0:St.dripMaterial)||""),va=a(((Ot=Q.$state.dripinput[2])==null?void 0:Ot.dripMaterial)||"");console.log(Te,va);const tl=i.getTextWidth(Ue),al=i.getTextWidth(`${Te.value}`),ja=Y;i.text(Ue,ja,u);const wa=tl+ja;i.text(`${Te.value}`,wa,u),i.line(wa,u+2,wa+al,u+2),u=u+10;const Za=i.getTextWidth(_e),za=i.getTextWidth(`${va.value}`),ll=Y;i.text(_e,ll,u);const v=Za+ll;i.text(`${va.value}`,v,u),i.line(v,u+2,v+za,u+2),u=u+10;const ul=i.getTextWidth(da),w=i.getTextWidth(`${C.value}`),qa=M.value;i.text(da,qa,u);const ha=ul+12;i.text(`${C.value}`,ha,u),i.line(ha,u+2,ha+w,u+2),M.value=ha+w,u=u+10,M.value=Y,i.setFontSize(12),i.getTextWidth(ge);const Va=i.getTextWidth(`${se.value}`),Pa=M.value;i.text(ge,Pa,u),u=u+10,i.setFontSize(8.5),M.value=Y-3,i.text(`${se.value}`,M.value,u),i.setFontSize(12),i.line(Va,u+2,Va,u+2),u=u+10,i.setFontSize(10),i.getTextWidth(t);const ol=i.getTextWidth(`${Mt.value}`),vl=Y;i.text(t,vl,u),u=u+10;const ea=Y;i.setFontSize(10),i.text(Mt.value,ea,u),i.line(ea,u+2,ea+ol+70,u+2),u=u+10,M.value=Y;const Ca=i.getTextWidth(`${x.value}`),ra=M.value;i.text(c,ra,u),u=u+7,M.value=Y;const ka=M.value;i.text(x.value,ka,u),i.line(ka,u+2,ka+Ca+70,u+2),u=u+10;const Ra="LowSlope.pdf",xa=i.output("blob");(async(Nt,ba)=>{const de=Nt,ta=de;console.log(ta);const Ia=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${o.value}/${ta}`;try{const Ft=await fetch(Ia,{method:"PUT",headers:{"Content-Type":de.type},body:ba});Ft.ok?(m.value=Ia,alert("LowSlope File uploaded successfully!")):alert(`Failed to upload file. Status: ${Ft.status}`)}catch(Ft){console.error("Error uploading file:",Ft),alert("An error occurred while uploading the file.")}})(Ra,xa)}};return(T,Y)=>(Ml(),Xl("div"))}},Bo={__name:"Shingle",setup(ve){var Ve,he;const{getUser:S}=Nl(),V=Do(),B=Fl(),A=Tl(),W=Ao(),g=Mo(),K=Tl(),E=Xo(),Q=a(((he=(Ve=B.$state.permitapp[0])==null?void 0:Ve.formdt)==null?void 0:he.muniProc)||""),r=a(K.$state.roofList);let Z=a(!1);const o=bl(()=>{if(r.value.length===0)return"";for(let m=0;m<r.value.length;m++)r.value[m].item==="Asphalt Shingle"&&(console.log(r.value[m].item),Z.value=!0,f())});Dl(async()=>{await Al(o).toBe(!0),console.log(o)});const f=()=>{var re,be,De,P,Ce,ke,Re,Be,I,T,Y,u,kt,Rt,pt,ut,vt,ht,xt,gt,p,mt,Tt,Wt,ft,Bt,$t,It,Ut,$,St,Ot;if(W.$state.inputshingle.length===0)console.log("lenghth is zero");else{console.log(V,g);let Ht=a(!1),Vt=a(!1);V.$state.systeminput.length!==0&&(Vt=!0,console.log(Vt)),g.$state.polyinput.length!==0&&(Ht=!0,console.log(Ht));const s=new Rl({orientation:"portrait",unit:"mm",format:"a4",compress:!0}),xe=179,i=725,rt=s.getPageInfo(1);rt.pageContext.mediaBox.topRightX;const ia=rt.pageContext.mediaBox.topRightY,h=a(0),$a=a(0);var m=595.28-585.28,e=ia-i;h.value=m,$a.value=e;const na=a((be=(re=B.$state.permitapp[0])==null?void 0:re.formdt)==null?void 0:be.address),bt=a((P=(De=B.$state.permitapp[0])==null?void 0:De.formdt)==null?void 0:P.muni),M=a(((ke=(Ce=B.$state.permitapp[0])==null?void 0:Ce.formdt)==null?void 0:ke.processNumber)||""),Sa=a(S.value[0].dba),Qe=a(((Be=(Re=W.$state.inputshingle[0])==null?void 0:Re.shingleData)==null?void 0:Be.height)||""),Dt=a(((T=(I=W.$state.inputshingle[0])==null?void 0:I.shingleData)==null?void 0:T.slope)||""),Yt=a(((u=(Y=W.$state.inputshingle[0])==null?void 0:Y.shingleData)==null?void 0:u.deckType)||""),Le=a(A.$state.roofList[0].dim1),Gt=a("");s.setGState(new s.GState({opacity:.8}));const Ie="Approved";s.setFontSize(18),s.setTextColor(150,150,150),s.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const Jt=new Image,At=new Image;Jt.src="/demo/images/officepaper.jpeg",At.src="/demo/images/logo.jpeg",s.addImage(At,"JPEG",10,0,50,30),s.addImage(Jt,"JPEG",0,0,210,297),s.setFontSize(15),s.setTextColor("green");var ct=new Date,Ke=ct.toLocaleDateString();s.text(Ie,10,270,{align:"left"});const jt=s.getTextWidth(Ie);s.text("on: "+Ke,jt+15,270),s.text(`${Q.value}`,10,280,{align:"left"});const Zt=s.getTextWidth(`${Q.value}`);s.text(`${bt.value}`,Zt+15,280);const qt=()=>{s.setFontSize(10),s.setTextColor(0),s.text("The Shingle roof system and its components shall be installed in strict compliance  with the HVHZportions of Chapter 15 FBC, the HVHZ Roof Application Standards(RAS) 111 & 115, and the submitted MDC(NOA) Notice of Acceptance(s).The mePermit applicant agrees to comply with these installation requirements when obtaining this permit.",10,25,{maxWidth:"200"}),s.line(10,43,195,43)};s.setTextColor(0),s.circle(185,39,2,"FD"),s.text("I agree",165,40),qt(),s.setFontSize(12);const Kt=[{category:"DBA",value:`${Sa.value}`},{category:"Municipality",value:`${bt.value}`},{category:"Job Address",value:`${na.value}`},{category:"meProcess Number",value:`${M.value}`}];let da=10,ge=60,t=50;s.setFontSize(12),Kt.forEach((X,G)=>{const O=t+G*10;s.text(X.category,da,O),s.text(X.value,ge,O),s.getTextWidth(X.category);const J=s.getTextWidth(X.value)*2;s.line(ge,O+2,ge+J,O+2)}),s.setFontSize(12);const c="Roof Area: ",C="Decktype: ",se="Mean Roof Height: ",Mt="Roof Slope: ",x=1;e=e+5;const l=s.getTextWidth(c),n=s.getTextWidth(`${Le.value}`),Qt=h.value;s.text(c,Qt,e);const k=l+Qt;s.text(`${Le.value}`,k,e),s.line(k,e+2,k+n,e+2),h.value=k+n;const ie=s.getTextWidth(se),Lt=s.getTextWidth(`${Qe.value}`),ca=h.value+10;s.text(se,ca,e);const d=ie+ca;s.text(`${Qe.value}`,d,e),s.line(d,e+2,d+Lt,e+2),h.value=d+Lt;const Fa=s.getTextWidth(Mt),ye=s.getTextWidth(`${Dt.value}`),Ae=h.value+10;s.text(Mt,Ae,e);const ne=Fa+Ae;s.text(`${Dt.value}`,ne,e),s.line(ne,e+2,ne+ye,e+2),h.value=ne+ye,e=e+10;const yt=s.getTextWidth(C),pa=s.getTextWidth(`${Yt.value}`),ua=m;s.text(C,ua,e);const Xt=yt+ua;s.text(`${Yt.value}`,Xt,e),s.line(Xt,e+2,Xt+pa,e+2),e=e+10;const Ea="Shingle NOA Number: ",Me="Shingle Applicant: ",_t="Shingle Material: ",me="Shingle Description: ",Ue="Fastened (UDL)NOA: ",_e="UDL NOA Applicant: ",Te="Fastened UDL Material: ",va="UDL Description: ",tl="Perscriptive: ";console.log(W.$state.inputshingle[0]);const al=a(((Rt=(kt=W.$state.inputshingle[0])==null?void 0:kt.shingleData)==null?void 0:Rt.noa)||""),ja=a((ut=(pt=W.$state.inputshingle[0])==null?void 0:pt.shingleData)==null?void 0:ut.applicant)||"",wa=a(((ht=(vt=W.$state.inputshingle[0])==null?void 0:vt.shingleData)==null?void 0:ht.material)||""),Za=a(((gt=(xt=W.$state.inputshingle[0])==null?void 0:xt.shingleData)==null?void 0:gt.description)||""),za=a(((mt=(p=W.$state.inputshingle[0])==null?void 0:p.shingleData)==null?void 0:mt.prescriptiveSelection)||""),ll=s.getTextWidth(tl),v=s.getTextWidth(`${za.value}`),ul=m;s.text(tl,ul,e);const w=ll+10;s.text(`${za.value}`,w,e),s.line(w,e+x,w+v,e+x),e=e+8;const qa="DripEdge Material: ",ha="DripEdge Size: ";console.log(E);const Va=a(((Tt=E.$state.dripinputshin[1])==null?void 0:Tt.dripShinMaterial)||""),Pa=a(((Wt=E.$state.dripinputshin[3])==null?void 0:Wt.dripShinMaterial)||"");console.log(Va,Pa);const ol=s.getTextWidth(qa),vl=s.getTextWidth(`${Va.value}`),ea=m;s.text(qa,ea,e);const Ca=ol+ea;s.text(`${Va.value}`,Ca,e),s.line(Ca,e+x,Ca+vl,e+x),e=e+10;const ra=s.getTextWidth(ha),ka=s.getTextWidth(`${Pa.value}`),Ra=m;s.text(ha,Ra,e);const xa=ra+Ra;s.text(`${Pa.value}`,xa,e),s.line(xa,e+x,xa+ka,e+x),e=e+10;const Ba=s.getTextWidth(Me),Nt=s.getTextWidth(`${ja.value}`),ba=m;s.text(Me,ba,e);const de=ba+Ba;s.text(`${ja.value}`,de,e),s.line(de,e+x,de+Nt,e+x),h.value=de+Nt;const ta=s.getTextWidth(Ea),Ia=s.getTextWidth(`${al.value}`),Ft=h.value+3;s.text(Ea,Ft,e);const Ka=ta+Ft;s.text(`${al.value}`,Ka,e),s.line(Ka,e+x,Ka+Ia,e+x),h.value=Ka+Ia,e=e+10;const sl=m,Wl=s.getTextWidth(_t),Qa=s.getTextWidth(`${wa.value}`);s.text(_t,sl,e);const Ua=sl+Wl;s.text(`${wa.value}`,Ua,e),s.line(Ua,e+x,Ua+Qa,e+x),h.value=Ua+Qa,e=e+10,console.log(h.value,xe);const aa=s.getTextWidth(`${Za.value}`),Da=s.getTextWidth(me);h.value=Ua+Qa+aa+Da+25,console.log(aa,Da);const il=m;if(s.text(me,il,e),aa>170){e=e+4;const G=m;s.text(`${Za.value}`,G,e),s.line(G,e+x,G+aa,e+x),e=e+8}else{const X=il+Da;s.text(`${Za.value}`,X,e),s.line(X,e+x,X+aa,e+x),h.value=X+aa}if(e=e+10,console.log(g.$state.polyinput.length),g.$state.polyinput.length===0){const X="n/a",G="n/a",O="n/a",J="n/a",We=s.getTextWidth(Ue),te=s.getTextWidth(X),et=m;s.text(Ue,et,e);const ae=et+We;s.text(X,ae,e),s.line(ae,e+x,ae+te,e+x),h.value=ae+te,console.log(h.value);const ce=s.getTextWidth(_e),Xe=s.getTextWidth(G),Oe=h.value+2;s.text(_e,Oe,e);const le=Oe+ce;s.text(G,le,e),s.line(le,e+x,le+Xe,e+x),h.value=le+Xe,console.log(h.value),h.value>xe&&(e=e+10);const L=h.value+2,la=s.getTextWidth(Te),tt=s.getTextWidth(O);s.text(Te,L,e);const ee=L+la;s.text(O,ee,e),s.line(ee,e+x,ee+tt,e+x),h.value=ee+tt,console.log(h.value),e=e+10,console.log(h.value);const Ne=s.getTextWidth(va),at=s.getTextWidth(J),fe=m,pe=fe+at;console.log(pe),s.text(va,fe,e),pe>xe&&print(pe);const q=fe+Ne;s.text(J,q,e),s.line(q,e+x,q+at,e+x),h.value=q+at,e=e+8}else{const X=a(g.$state.polyinput[0].polyData.noa),G=a(g.$state.polyinput[0].polyData.applicant),O=a(g.$state.polyinput[0].polyData.material),J=a(g.$state.polyinput[0].polyData.description),We=s.getTextWidth(Ue),te=s.getTextWidth(`${X.value}`),et=m;s.text(Ue,et,e);const ae=We+10;s.text(`${X.value}`,ae,e),s.line(ae,e+x,ae+te,e+x),h.value=ae+te;const ce=s.getTextWidth(_e),Xe=s.getTextWidth(`${G.value}`),Oe=h.value+2;s.text(_e,Oe,e);const le=Oe+ce;s.text(`${G.value}`,le,e),s.line(le,e+x,le+Xe,e+x),h.value=le+Xe,e=e+10;const L=m,la=s.getTextWidth(Te),tt=s.getTextWidth(`${O.value}`);s.text(Te,L,e);const ee=L+la;s.text(`${O.value}`,ee,e),s.line(ee,e+x,ee+tt,e+x),h.value=ee+tt,e=e+10,console.log(h.value);const Ne=s.getTextWidth(va),at=s.getTextWidth(`${J.value}`),fe=m,pe=fe+at;console.log(pe),s.text("UDL Description:",fe,e),pe>xe&&print(pe);const q=fe+Ne;s.text(`${J.value}`,q,e),s.line(q,e+x,q+at,e+x),h.value=q+at,console.log(h.value),e=e+10}const Oa="Self Adhered NOA: ",Ha="S/A NOA Applicant: ",ga="S/A System F: ",ma="S/A Material: ",Ta="S/A Description: ";if(console.log(V.$state.systeminput.length),V.$state.systeminput.length===0){const X="n/a",G="n/a",O="n/a",J="n/a",We="n/a",te=s.getTextWidth(Oa),et=s.getTextWidth(X),ae=m;s.text(Oa,ae,e);const ce=ae+te;s.text(X,ce,e),s.line(ce,e,ce+et,e),h.value=ce+et,console.log(h.value);const Xe=s.getTextWidth(Ha),Oe=s.getTextWidth(G),le=h.value+3;s.text(Ha,le,e);const L=le+Xe;s.text(G,L,e),s.line(L,e+x,L+Oe,e+x),h.value=L+Oe,console.log(h.value);const la=s.getTextWidth(ga),tt=h.value+3,ee=s.getTextWidth(O);s.text(ga,tt,e);const Ne=tt+la;s.text(O,Ne,e),s.line(Ne,e+x,Ne+ee,e+x),h.value=Ne+ee,console.log(h.value),e=e+10;const at=s.getTextWidth(ma),fe=s.getTextWidth(J),pe=m;s.text(ma,pe,e);const q=pe+at;s.text(J,q,e),s.line(q,e+x,q+fe,e+x),h.value=q+fe,console.log(h.value);const hl=s.getTextWidth(Ta),Ya=s.getTextWidth(We),Aa=h.value+3;s.text(Ta,Aa,e);const He=Aa+hl;s.text(We,He,e),s.line(He,e+x,He+Ya,e+x),h.value=He+Ya,console.log(h.value)}else{console.log("Entered sbs line 509",V.$state);const X=a((Bt=(ft=V.$state.systeminput[0])==null?void 0:ft.systemData)==null?void 0:Bt.noa),G=a((It=($t=V.$state.systeminput[0])==null?void 0:$t.systemData)==null?void 0:It.manufacturer),O=a(V.$state.systeminput.pdfSystemValue),J=a(($=(Ut=V.$state.systeminput[0])==null?void 0:Ut.systemData)==null?void 0:$.material),We=a((Ot=(St=V.$state.systeminput[0])==null?void 0:St.systemData)==null?void 0:Ot.description),te=s.getTextWidth(Oa),et=s.getTextWidth(`${X.value}`),ae=m;s.text(Oa,ae,e);const ce=ae+te;s.text(`${X.value}`,ce,e),s.line(ce,e+x,ce+et,e+x),h.value=ce+et;const Xe=s.getTextWidth(Ha),Oe=s.getTextWidth(`${G.value}`),le=h.value+3;s.text(Ha,le,e);const L=le+Xe;s.text(`${G.value}`,L,e),s.line(L,e+x,L+Oe,e+x),h.value=L+Oe,console.log(h.value);const la=s.getTextWidth(ga),tt=s.getTextWidth(`${O.value}`),ee=h.value+3;s.text(ga,ee,e);const Ne=ee+la;s.text(`${O.value}`,Ne,e),s.line(Ne,e+x,Ne+tt,e+x),h.value=Ne+tt,e=e+10,console.log(h.value);const at=s.getTextWidth(ma),fe=s.getTextWidth(`${J.value}`),pe=m;s.text(ma,pe,e);const q=pe+at;s.text(`${J.value}`,q,e),s.line(q,e+x,q+fe,e+x),h.value=q+fe,h.value>xe&&(e=e+10),console.log(h.value);const hl=s.getTextWidth(Ta),Ya=s.getTextWidth(`${We.value}`),Aa=h.value+3;s.text(Ta,Aa,e);const He=Aa+hl;s.text(`${We.value}`,He,e),s.line(He,e+x,He+Ya,e+x),h.value=He+Ya,h.value>=xe&&(e=e+10),console.log(h.value)}const La="Shingle.pdf",ya=s.output("blob");(async(X,G)=>{const O=X;console.log(O);const J=O;console.log(J);const We=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${Q.value}/${J}`;try{const te=await fetch(We,{method:"PUT",headers:{"Content-Type":O.type},body:G});te.ok?(Gt.value=We,alert("Shingle File uploaded successfully!")):alert(`Failed to upload file. Status: ${te.status}`)}catch(te){console.error("Error uploading file:",te),alert("An error occurred while uploading the file.")}})(La,ya)}};return(m,e)=>(Ml(),Xl("div"))}},Io=ho(()=>{const ve=a([]),S=xo(()=>ve.value);function V(B){ve.value.push(B)}return{tilenoa:ve,getNumber:S,addNoa:V}}),Uo={__name:"TileAdhesive",setup(ve){const S=oo(),V=so(),{getUser:B}=Nl(),{tileInputvalues:A}=No(),{savedTileinput:W}=Eo(),g=Fl(),K=Tl(),E=a(K.$state.roofList);Io();const Q=Fo();let r=a(!1);const Z=bl(()=>{if(E.value.length===0)return"";for(let f=0;f<E.value.length;f++)E.value[f].item==="Adhesive Set Tile"&&(console.log(E.value[f].item),r.value=!0,o())});Dl(async()=>{await Al(Z).toBe(!0)});const o=()=>{var re,be,De,P,Ce,ke,Re,Be,I,T,Y,u,kt,Rt,pt,ut,vt,ht,xt,gt,p,mt,Tt,Wt,ft,Bt,$t,It,Ut,$,St,Ot,Ht,Vt,s,xe,i,rt,ia,h,$a,na,bt,M,Sa,Qe,Dt,Yt,Le,Gt,Ie,Jt,At,jt,Zt,qt,Kt,da,ge,t,c,C,se,Mt,x;console.log(A,(be=(re=W[0])==null?void 0:re.savedValues)==null?void 0:be.paddySelection);const f=a(((P=(De=W[0])==null?void 0:De.savedValues)==null?void 0:P.paddySelection)||""),Ve=a(!1),he=a(!1);if(console.log(f.value),f.value==="single"?(Ve.value=!0,console.log(Ve.value),he.value=!1):(he.value=!0,console.log(he.value)),A[0].length===0)console.log("lenghth is zero");else{const l=new Rl({orientation:"portrait",unit:"mm",format:"a4",compress:!0});let n=a(!1),Qt=a(!1);V.$state.tilesysEinput.length!==0&&(n=!0,console.log(n)),S.$state.tilefinput.length!==0&&(Qt=!0,console.log(Qt));const k=179,ie=725,Lt=l.getPageInfo(1);Lt.pageContext.mediaBox.topRightX;const ca=Lt.pageContext.mediaBox.topRightY,d=a(0),Fa=a(0);var m=595.28-585.28,e=ca-ie;d.value=m,Fa.value=e;const ye=Ve.value===!0?a(((Ce=A[0])==null?void 0:Ce.tileValues[0].singlepaddyData)||""):a(((ke=A[0])==null?void 0:ke.tileValues[0].doublepaddyData)||"");console.log(ye.value);const Ae=a(((Be=(Re=W[0])==null?void 0:Re.savedValues)==null?void 0:Be.height)||""),ne=a(((T=(I=W[0])==null?void 0:I.savedValues)==null?void 0:T.slope)||"");console.log(g.$state.permitapp[0].muniNum);const yt=a(((u=(Y=W[0])==null?void 0:Y.savedValues)==null?void 0:u.area)||""),pa=a(((Rt=(kt=W[0])==null?void 0:kt.savedValues)==null?void 0:Rt.Decktype)||""),ua=a(((ut=(pt=W[0])==null?void 0:pt.savedValues)==null?void 0:ut.perimeter)||""),Xt=a(((ht=(vt=g.$state.permitapp[0])==null?void 0:vt.formdt)==null?void 0:ht.address)||""),Ea=a(((gt=(xt=g.$state.permitapp[0])==null?void 0:xt.formdt)==null?void 0:gt.muni)||""),Me=a(((mt=(p=g.$state.permitapp[0])==null?void 0:p.formdt)==null?void 0:mt.muniProc)||""),_t=a(((Wt=(Tt=g.$state.permitapp[0])==null?void 0:Tt.formdt)==null?void 0:Wt.processNumber)||""),me=a(""),Ue=a(((ft=B.value[0])==null?void 0:ft.dba)||"");l.setGState(new l.GState({opacity:.8}));const _e="Approved";l.setFontSize(24),l.setTextColor(150,150,150),l.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const Te=new Image,va=new Image;Te.src="/demo/images/officepaper.jpeg",va.src="/demo/images/logo.jpeg",l.addImage(va,"JPEG",5,0,50,30),l.addImage(Te,"JPEG",0,0,210,297),l.setFontSize(18),l.setTextColor("green");var ct=new Date,Ke=ct.toLocaleDateString();l.text(_e,10,270,{align:"left"});const tl=l.getTextWidth(_e);l.text("on: "+Ke,tl+15,270),l.text(`${Me.value}`,10,280,{align:"left"});const al=l.getTextWidth(`${Me.value}`);l.text(`${Ea.value}`,al+15,280),l.setFontSize(12);const ja=()=>{l.setFontSize(12),l.setTextColor(0),l.text("The tile roof system and its components shall be installed in strict compliance with the FBC 2023 HVHZ portions of Chapter 15, the HVHZ Tile Application Standards: RAS-119, RAS-120 & RAS-127 and the submitted MDC Notice of Acceptance(s). The mePermit applicant agrees to comply with these installation requirements when obtaining this permit.",10,25,{maxWidth:"200"}),l.line(10,41,195,41)};l.setTextColor(0),l.circle(185,38,2,"FD"),l.text("I agree",165,39),ja(),l.setFontSize(12),l.setFontSize(12);const wa=[{category:"DBA",value:`${Ue.value}`},{category:"Municipality",value:`${Ea.value}`},{category:"Job Address",value:`${Xt.value}`},{category:"meProcess Number",value:`${_t.value}`}];let Za=10,za=60,ll=50;l.setFontSize(12),wa.forEach((b,z)=>{const D=ll+z*10;l.text(b.category,Za,D),l.text(b.value,za,D),l.getTextWidth(b.category);const R=l.getTextWidth(b.value)*2;l.line(za,D+2,za+R,D+2)}),l.setFontSize(12);const v=2,w=90,qa="Roof Area: ",ha="DeckType: ",Va="Mean Roof Height: ",Pa="Roof Slope: ",ol="Roof Perimeter: ";d.value=m;const vl=l.getTextWidth(qa),ea=l.getTextWidth(`${yt.value}`),Ca=d.value;l.text(qa,Ca,w);const ra=vl+Ca;l.text(`${yt.value}`,ra,w),l.line(ra,w+v,ra+ea,w+v),d.value=ra+ea,console.log(e,w);const ka=l.getTextWidth(Va),Ra=l.getTextWidth(`${Ae.value}`),xa=d.value+10;l.text(Va,xa,w);const Ba=ka+xa;l.text(`${Ae.value}`,Ba,w),l.line(Ba,w+v,Ba+Ra,w+v),d.value=Ba+Ra;const Nt=l.getTextWidth(Pa),ba=l.getTextWidth(`${ne.value}`),de=d.value+10;l.text(Pa,de,w);const ta=Nt+de;l.text(`${ne.value}`,ta,w),l.line(ta,w+v,ta+ba,w+v),d.value=ta+ba;const Ia=l.getTextWidth(ol),Ft=l.getTextWidth(`${ua.value}`),Ka=d.value+10;l.text(ol,Ka,w);const sl=Ia+Ka;l.text(`${ua.value}`,sl,w),l.line(sl,w+v,sl+Ft,w+v),console.log(w,e),e=w+10;const Wl=l.getTextWidth(ha),Qa=l.getTextWidth(`${pa.value}`),Ua=m;l.text(ha,Ua,e);const aa=Wl+Ua;l.text(`${pa.value}`,aa,e),l.line(aa,e+v,aa+Qa,e+v),e=e+10;const Da="Tile NOA Number: ",il="Tile Applicant: ",Oa="Tile Material: ",Ha="Tile Description: ",ga="Fastened Underlayment(UDL)NOA: ",ma="UDL NOA Applicant: ",Ta="Fastened UDL Material: ",La="Select System E: ",ya="Design psf: ",nl="Anchor Base Sheet: ",X="UDL Description: ",G="Select Underlayment: ",O="DripEdge Material: ",J="DripEdge Size: ",We=a(((Bt=Q.$state.dripinputadt[4])==null?void 0:Bt.dripTileMaterial)||""),te=a((($t=Q.$state.dripinputadt[6])==null?void 0:$t.dripTileMaterial)||""),et=l.getTextWidth(O),ae=l.getTextWidth(`${We.value}`),ce=m;l.text(O,ce,e);const Xe=et+ce;l.text(`${We.value}`,Xe,e),l.line(Xe,e+v,Xe+ae,e+v),e=e+10;const Oe=l.getTextWidth(J),le=l.getTextWidth(`${te.value}`),L=m;l.text(J,L,e);const la=Oe+L;l.text(`${te.value}`,la,e),l.line(la,e+v,la+le,e+v),e=e+10,console.log(W);const tt=a(((Ut=(It=W[0])==null?void 0:It.savedValues)==null?void 0:Ut.zoneone.mf1)||""),ee=a(((St=($=W[0])==null?void 0:$.savedValues)==null?void 0:St.zoneone.lambda1)||""),Ne=a(((Ht=(Ot=W[0])==null?void 0:Ot.savedValues)==null?void 0:Ht.zoneone.mg1)||""),at=a(((s=(Vt=W[0])==null?void 0:Vt.savedValues)==null?void 0:s.zoneone.mr1)||""),fe=a(((i=(xe=W[0])==null?void 0:xe.savedValues)==null?void 0:i.zoneone.zone1)||""),pe=a(((ia=(rt=W[0])==null?void 0:rt.savedValues)==null?void 0:ia.zonetwo.mf2)||""),q=a((($a=(h=W[0])==null?void 0:h.savedValues)==null?void 0:$a.zonetwo.lambda2)||""),hl=a(((bt=(na=W[0])==null?void 0:na.savedValues)==null?void 0:bt.zonetwo.mg2)||""),Ya=a(((Sa=(M=W[0])==null?void 0:M.savedValues)==null?void 0:Sa.zonetwo.mr2)||""),Aa=a(((Dt=(Qe=W[0])==null?void 0:Qe.savedValues)==null?void 0:Dt.zonetwo.zone2)||""),He=a(((Le=(Yt=W[0])==null?void 0:Yt.savedValues)==null?void 0:Le.zonethree.mf3)||""),fl=a(((Ie=(Gt=W[0])==null?void 0:Gt.savedValues)==null?void 0:Ie.zonethree.lambda3)||""),$l=a(((At=(Jt=W[0])==null?void 0:Jt.savedValues)==null?void 0:At.zonethree.mg3)||""),Sl=a((Zt=(jt=W[0])==null?void 0:jt.savedValues)==null?void 0:Zt.zonethree.mr3),Vl=a(((Kt=(qt=W[0])==null?void 0:qt.savedValues)==null?void 0:Kt.zonethree.zone3)||""),El=a((ge=(da=W[0])==null?void 0:da.savedValues)==null?void 0:ge.prescriptiveSelection.selectedBasesheet),wl=l.getTextWidth(El.value);console.log(El,wl);const Bl=m;l.text(G,Bl,e+v);const dl=m;if(e=e+10,l.text(`${El.value}`,dl,e),l.line(dl,e+v,dl+wl,e+v),e=e+10,V.$state.tilesysEinput.length===0){const b="n/a",z="n/a",D="n/a",R="n/a",je=l.getTextWidth(ga),we=l.getTextWidth(b),Ze=m;l.text(ga,Ze,e);const st=Ze+je+2;l.text(b,st,e),l.line(st,e+v,st+we,e+v),d.value=st+we,console.log(d.value);const it=l.getTextWidth(ma),zt=l.getTextWidth(z),nt=d.value+2;l.text(ma,nt,e);const dt=nt+it;l.text(z,dt,e),l.line(dt,e+v,dt+zt,e+v),d.value=dt+zt,console.log(d.value),d.value>k&&(e=e+10);const ze=d.value+2,sa=l.getTextWidth(Ta),Wa=l.getTextWidth(D);l.text(Ta,ze,e);const qe=ze+sa;l.text(D,qe,e),l.line(qe,e+v,qe+Wa,e+v),d.value=qe+Wa,console.log(d.value),d.value>k&&(e=e+10),console.log(d.value);const Pt=l.getTextWidth(X),el=l.getTextWidth(R),fa=m,Ct=fa+el;console.log(Ct),l.text(X,fa,e),Ct>k&&print(Ct);const Pe=fa+Pt;l.text(R,Pe,e),l.line(Pe,e+v,Pe+el,e+v),d.value=Pe+el,e=e+10}else{const b=a(V.$state.tilesysEinput[0].systemDataE.noa),z=a(V.$state.tilesysEinput[0].systemDataE.manufacturer),D=a(V.$state.tilesysEinput[0].systemDataE.material),R=a(V.$state.tilesysEinput[0].systemDataE.systemSelected),je=a(V.$state.tilesysEinput[0].systemDataE.dP),we=a(V.$state.tilesysEinput[0].systemDataE.Anchor_Base),Ze=a(V.$state.tilesysEinput[0].systemDataE.tileCap),st=l.getTextWidth(ma),it=l.getTextWidth(`${z.value}`),zt=m;l.text(ma,zt,e);const nt=zt+st;l.text(`${z.value}`,nt,e),l.line(nt,e+v,nt+it,e+v);const dt=l.getTextWidth(`${D.value}`);d.value=nt+dt;const ze=l.getTextWidth(ga),sa=l.getTextWidth(`${b.value}`),Wa=d.value+40;l.text(ga,Wa,e),d.value=Wa,console.log(d.value,Wa);const qe=ze+d.value;console.log(qe),l.text(`${b.value}`,qe,e),l.line(qe,e+v,qe+sa,e+v),d.value=qe+sa,e=e+10;const Pt=m,el=l.getTextWidth(Ta),fa=l.getTextWidth(`${D.value}`);l.text(Ta,Pt,e);const Ct=Pt+el;l.text(`${D.value}`,Ct,e),l.line(Ct,e+v,Ct+fa,e+v),d.value=Ct+fa,d.value>k&&(e=e+10);const Pe=d.value+5,Cl=l.getTextWidth(La),cl=l.getTextWidth(`${R.value}`);l.text(La,Pe,e);const Ga=Pe+Cl;l.text(`${R.value}`,Ga,e),l.line(Ga,e+v,Ga+cl,e+v),d.value=Ga+cl,d.value>k&&(e=e+10);const Na=l.getTextWidth(ya),ql=l.getTextWidth(`${je.value}`),Kl=d.value+3;l.text(ya,Kl,e);const Ul=Kl+Na;l.text(`${je.value}`,Ul,e),l.line(Ul,e+v,Ul+ql,e+v),d.value=Ul+ql,console.log(d.value),e=e+10,l.getTextWidth(nl);const Ql=l.getTextWidth(`${we.value}`),io=m;l.text(nl,io,e),e=e+10;const Ol=m;l.text(`${we.value}`,Ol,e),l.line(Ol,e+v,Ol+Ql,e+v),d.value=Ol+Ql,e=e+10;const no=l.getTextWidth(X),Ll=l.getTextWidth(`${Ze.value}`),yl=m;l.text(X,yl,e);const Hl=yl+no;l.text(`${Ze.value}`,Hl,e),l.line(Hl,e+v,Hl+Ll,e+v),d.value=Hl+Ll,console.log(d.value),e=e+10}const rl="Self Adhered NOA: ",xl="S/A NOA Applicant: ",gl="S/A System F: ",_a="S/A Material: ",oa="S/A Description: ";if(S.$state.tilefinput.length===0){const b="n/a",z="n/a",D="n/a",R="n/a",je="n/a",we=l.getTextWidth(rl),Ze=l.getTextWidth(b),st=m;l.text(rl,st,e);const it=st+we;l.text(b,it,e),l.line(it,e+v,it+Ze,e+v),d.value=it+Ze,console.log(d.value);const zt=l.getTextWidth(xl),nt=l.getTextWidth(z),dt=d.value+3;l.text(xl,dt,e);const ze=dt+zt;l.text(z,ze,e),l.line(ze,e+v,ze+nt,e+v),d.value=ze+nt,console.log(d.value);const sa=l.getTextWidth(gl),Wa=d.value+3,qe=l.getTextWidth(D);l.text(gl,Wa,e);const Pt=Wa+sa;l.text(D,Pt,e),l.line(Pt,e+v,Pt+qe,e+v),d.value=Pt+qe,console.log(d.value),e=e+10;const el=l.getTextWidth(_a),fa=l.getTextWidth(R),Ct=m;l.text(_a,Ct,e);const Pe=Ct+el;l.text(R,Pe,e),l.line(Pe,e+v,Pe+fa,e+v),d.value=Pe+fa,console.log(d.value);const Cl=l.getTextWidth(oa),cl=l.getTextWidth(je),Ga=d.value+3;l.text(oa,Ga,e);const Na=Ga+Cl;l.text(je,Na,e),l.line(Na,e+v,Na+cl,e+v),d.value=Na+cl,console.log(d.value)}else{console.log("Entered sbs line 455",S.$state);const b=a(S.$state.tilefinput[0].systemData.noa),z=a(S.$state.tilefinput[0].systemData.manufacturer),D=a(S.$state.tilefinput[0].systemData.pressure),R=a(S.$state.tilefinput[0].systemData.material),je=a(S.$state.tilefinput[0].systemData.description),we=l.getTextWidth(rl),Ze=l.getTextWidth(`${b.value}`),st=m;l.text(rl,st,e);const it=st+we;l.text(`${b.value}`,it,e),l.line(it,e+v,it+Ze,e+v),d.value=it+Ze;const zt=l.getTextWidth(xl),nt=l.getTextWidth(`${z.value}`),dt=d.value+3;l.text(xl,dt,e);const ze=dt+zt;l.text(`${z.value}`,ze,e),l.line(ze,e+v,ze+nt,e+v),d.value=ze+nt,console.log(d.value);const sa=l.getTextWidth(gl),Wa=l.getTextWidth(`${D.value}`),qe=d.value+3;l.text(gl,qe,e);const Pt=qe+sa;l.text(`${D.value}`,Pt,e),l.line(Pt,e+v,Pt+Wa,e+v),d.value=Pt+Wa,e=e+10;const el=l.getTextWidth(_a),fa=l.getTextWidth(`${R.value}`),Ct=m;l.text(_a,Ct,e);const Pe=Ct+el;l.text(`${R.value}`,Pe,e),l.line(Pe,e+v,Pe+fa,e+v),d.value=Pe+fa,d.value>k&&(e=e+10);const Cl=l.getTextWidth(oa),cl=l.getTextWidth(`${je.value}`),Ga=d.value+3;l.text(oa,Ga,e);const Na=Ga+Cl;l.text(`${je.value}`,Na,e),l.line(Na,e+v,Na+cl,e+v),d.value=Na+cl,d.value>=k&&(e=e+10),console.log(d.value)}e=e+10;const ml=a(ye.value.noa),zl=a((c=(t=W[0])==null?void 0:t.savedValues)==null?void 0:c.applicant),Pl=a((se=(C=W[0])==null?void 0:C.savedValues)==null?void 0:se.material),Ma=a((x=(Mt=W[0])==null?void 0:Mt.savedValues)==null?void 0:x.description),jl=l.getTextWidth(il),Il=l.getTextWidth(`${zl.value}`),Zl=m;l.text(il,Zl,e);const N=Zl+jl;l.text(`${zl.value}`,N,e),l.line(N,e+v,N+Il,e+v),d.value=N+Il;const H=l.getTextWidth(Da),F=l.getTextWidth(`${ml.value}`),U=d.value+3;l.text(Da,U,e);const y=H+U;l.text(`${ml.value}`,y,e),l.line(y,e+v,y+F,e+v),e=e+10;const _=l.getTextWidth(`${Pl.value}`);d.value>k&&(e=e+10),d.value=y+_;const oe=m,j=l.getTextWidth(Oa),Ye=l.getTextWidth(`${Pl.value}`);l.text(Oa,oe,e);const Et=oe+j;l.text(`${Pl.value}`,Et,e),l.line(Et,e+v,Et+Ye,e+v),e=e+5;const lt=l.getTextWidth(`${Ma.value}`);d.value=Et+lt,d.value>k&&(e=e+5),console.log(d.value,k),e=e+5;const ue=l.getTextWidth(`${Ma.value}`),Fe=l.getTextWidth(Ha);console.log(ue,Fe);const Xa=m;if(l.text(Ha,Xa,e),ue>220){e=e+4;const b=m;l.text(`${Ma.value}`,b,e),l.line(b,e+v,b+ue,e+v),d.value=b+ue,e=e+8}else{const b=Xa+Fe;l.text(`${Ma.value}`,b,e),l.line(b,e+v,b+ue,e+v),d.value=b+ue,e=e+5}e=e+5,l.setFontSize(12);const $e=new Image;$e.src="/demo/images/lambda.png",console.log(d.value,e);const ot=[["Zone 1:",`${fe.value}`,"x",`${ee.value}`,"- Mg:",`${Ne.value}`,"= Mr1:",`${at.value}`,"NOA Mf:",`${tt.value}`],["Zone 2:",`${Aa.value}`,"x",`${q.value}`,"- Mg:",`${hl.value}`,"= Mr2:",`${Ya.value}`,"NOA Mf:",`${pe.value}`],["Zone 3:",`${Vl.value}`,"x",`${fl.value}`,"- Mg:",`${$l.value}`,"= Mr2:",`${Sl.value}`,"NOA Mf:",`${He.value}`]];console.log(ot);let Ge=m-1,Ee=e;ot.forEach(b=>{let z=Ge;b.forEach(D=>{console.log(z,Ee),l.text(String(D),z,Ee),z+=18}),l.addImage($e,"png",50,Ee-4,5,5),l.addImage($e,"png",50,Ee-4,5,5),l.addImage($e,"png",50,Ee-4,5,5),Ee+=5,console.log(z,Ee)});const wt="TileAdhesive.pdf",Je=l.output("blob");(async(b,z)=>{const D=b,R=D;console.log(R);const je=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${Me.value}/${R}`;try{const we=await fetch(je,{method:"PUT",headers:{"Content-Type":D.type},body:z});we.ok?(me.value=je,alert("TileAdhesive File uploaded successfully!")):alert(`Failed to upload file. Status: ${we.status}`)}catch(we){console.error("Error uploading file:",we),alert("An error occurred while uploading the file.")}})(wt,Je)}};return(f,Ve)=>(Ml(),Xl("div"))}};function Oo(){const ve=a(),S=a([]);let V=a([]);const B=wo(),A=a(),W=a("");let g="https://2dz45lw4aeav6valksiiquuwqq0ejsio.lambda-url.us-east-1.on.aws/";const{execute:K,then:E,data:Q}=Po(g,{method:"GET"},{immediate:!1}),r=ao({noa:"",manufacturer:"",material:"",description:"",Table2:[],Table3:[],expiration_date:"",resistance:[],selection:"",select_tile:[],tile_map:[],table2_map:[],two_ten_d_RS_Nails:null,one_number_eight_screw:null,two_number_eight_screw:null,mechanicaltilefastener:[],fastenerValues:[],height:null,area:null,slope:null,perimeter:null,decktype:null,expiration_date:""});function Z(f){ve.value=f,console.log(ve.value),A.value=Number(ve.value),o()}const o=async()=>{try{const f=await K({params:{NOA:A.value}}).then(Ve=>(S.value=Q.value,console.log(Q.value),S.value));console.log(f.length),f.length===0||(console.log(S.value),r.noa=S.value[0].NOA,r.manufacturer=S.value[0].applicant,r.material=S.value[0].material,r.selection=S.value[0].AdhesiveMaterials,r.description=S.value[0].description,r.select_tile=S.value[0].Select_Tile,r.tile_map=S.value[0].Tile_Map,r.table2_map=S.value[0].Table2_Map,r.expiration_date=S.value[0].expiration_date,r.Table2=S.value[0].Table2,r.Table3=S.value[0].Table3,r.resistance=S.value[0].Resistance,r.expiration_date=S.value[0].expiration_date,r.two_ten_d_RS_Nails=S.value[0].two_ten_d_RS_Nails,r.one_number_eight_screw=S.value[0].one_number_eight_screw,r.two_number_eight_screw=S.value[0].two_number_eight_screw,r.mechanicaltilefastener=S.value[0].mechanicaltilefastener,r.fastenerValues=S.value[0].fastenerValues,B.addNoa(r),console.log(r,"System added"))}catch(f){console.log("Error, fectching data",f)}return V};return{input:ve,fetchData:o,takeMechInput:Z,noaNum:S,error:W,results:V,...go(r),mechStore:B}}const Ho={__name:"TileMechanical",setup(ve){const{getUser:S}=Nl(),V=a(!1),B=Fl(),A=Tl(),W=a(A.$state.roofList),{mechStore:g}=Oo(),K=oo(),E=so(),Q=zo(),r=bl(()=>{if(W.value.length===0)return"";for(let o=0;o<W.value.length;o++)W.value[o].item==="Mechanical Fastened Tile"&&(console.log(W.value[o].item),V.value=!0,Z())});Dl(async()=>{await Al(r).toBe(!0),console.log(r)});const Z=()=>{var m,e,ct,Ke,re,be,De,P,Ce,ke,Re,Be,I,T,Y,u,kt,Rt,pt,ut,vt,ht,xt,gt,p,mt,Tt,Wt,ft,Bt,$t,It,Ut,$,St,Ot,Ht,Vt,s,xe,i,rt,ia,h,$a,na,bt,M,Sa,Qe,Dt,Yt,Le,Gt,Ie,Jt,At,jt,Zt,qt;if(g.tilemech.value.length===0)console.log("lenghth is   zero");else{let Kt=a(!1),da=a(!1),ge=a(!1);((e=(m=g.tilemech.value[0])==null?void 0:m.Table2)==null?void 0:e.content)==="multiple"&&(ge=!0),E.$state.tilesysEinput.length!==0&&(Kt=!0,console.log(Kt,E)),K.$state.tilefinput.length!==0&&(da=!0,console.log(da));const t=new Rl({orientation:"portrait",unit:"mm",format:"a4",compress:!0});console.log((ct=g.tilemech.value[0])==null?void 0:ct.Table2);const c=1,C=90,se=179,Mt=725,x=t.getPageInfo(1);console.log(x),x.pageContext.mediaBox.topRightX;const l=x.pageContext.mediaBox.topRightY,n=a(0),Qt=a(0);var o=l-Mt,f=595.28-585.28;n.value=f,Qt.value=o,console.log(B.$state.permitapp),console.log(g.tilemech.value[0]);const k=a(((Ke=g.tilemech.value[0])==null?void 0:Ke.height)||"N/A"),ie=a(((re=g.tilemech.value[0])==null?void 0:re.slope)||"N/A"),Lt=a(((be=g.tilemech.value[0])==null?void 0:be.decktype)||"N/A"),ca=a(((De=g.tilemech.value[0])==null?void 0:De.perimeter)||"N/A");a((Ce=(P=E.$state.tilesysEinput[0])==null?void 0:P.systemDataE)==null?void 0:Ce.prescriptiveSelection),console.log(g.tilemech.value[0].prescriptiveSelection);const d=a(((ke=g.tilemech.value[0])==null?void 0:ke.prescriptiveSelection)||"N/A"),Fa=a(((Re=g.tilemech.value[0])==null?void 0:Re.area)||""),ye=a(((I=(Be=B.$state.permitapp[0])==null?void 0:Be.formdt)==null?void 0:I.address)||""),Ae=a(((Y=(T=B.$state.permitapp[0])==null?void 0:T.formdt)==null?void 0:Y.muni)||"");a(((kt=(u=B.$state.permitapp[0])==null?void 0:u.formdt)==null?void 0:kt.processNumber)||"");const ne=a(((pt=(Rt=B.$state.permitapp[0])==null?void 0:Rt.formdt)==null?void 0:pt.muniProc)||""),yt=a(((ut=Q.$state.dripinputmecht[5])==null?void 0:ut.dripMTileMaterial)||""),pa=a(((vt=Q.$state.dripinputmecht[7])==null?void 0:vt.dripMTileMaterial)||"");console.log(g.tilemech.value[0]),o=o+10;const ua=a(((ht=g.tilemech.value[0])==null?void 0:ht.mf1)||""),Xt=a(((xt=g.tilemech.value[0])==null?void 0:xt.lambda1)||""),Ea=a(((gt=g.tilemech.value[0])==null?void 0:gt.mg1)||""),Me=a(((p=g.tilemech.value[0])==null?void 0:p.mr1)||""),_t=a(((mt=g.tilemech.value[0])==null?void 0:mt.zoneone)||""),me=a(((Tt=g.tilemech.value[0])==null?void 0:Tt.mf2)||""),Ue=a(((Wt=g.tilemech.value[0])==null?void 0:Wt.lambda2)||""),_e=a(((ft=g.tilemech.value[0])==null?void 0:ft.mg2)||""),Te=a(((Bt=g.tilemech.value[0])==null?void 0:Bt.mr2)||""),va=a((($t=g.tilemech.value[0])==null?void 0:$t.zonetwo)||""),tl=a(((It=g.tilemech.value[0])==null?void 0:It.mf3)||""),al=a(((Ut=g.tilemech.value[0])==null?void 0:Ut.lambda3)||""),ja=a((($=g.tilemech.value[0])==null?void 0:$.mg3)||""),wa=a(g.tilemech.value[0].mr3||""),Za=a(((St=g.tilemech.value[0])==null?void 0:St.zonethree)||""),za=a(""),ll=a(S.value[0].dba);t.setGState(new t.GState({opacity:.8}));const v="Approved";t.setFontSize(24),t.setTextColor(150,150,150),t.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const ul=new Image,w=new Image,qa=new Image;ul.src="/demo/images/officepaper.jpeg",w.src="/demo/images/logo.jpeg",qa.src="/demo/images/lambda.png",t.addImage(w,"JPEG",10,0,50,30),t.addImage(ul,"JPEG",0,0,210,297),t.setFontSize(15),t.setTextColor("green");var Ve=new Date,he=Ve.toLocaleDateString();t.text(v,10,270,{align:"left"});const ha=t.getTextWidth(v);t.text("on: "+he,ha+15,270),t.text(`${ne.value}`,10,280,{align:"left"});const Va=t.getTextWidth(`${ne.value}`);t.text(`${Ae.value}`,Va+15,280);const Pa=()=>{t.setFontSize(12),t.setTextColor(0),t.text("The tile roof system and its components shall be installed in strict compliance with the FBC 2023 HVHZ portions of Chapter 15, the HVHZ Tile Application Standards: RAS-119, RAS-120 & RAS-127 and the submitted MDC Notice of Acceptance(s).",10,29,{maxWidth:"200"}),t.line(10,41,195,41)};t.setTextColor(0),t.circle(189,38,2,"FD"),t.text("I agree",165,39),Pa(),t.setFontSize(12);const ol=[{category:"DBA",value:`${ll.value}`},{category:"Municipality",value:`${Ae.value}`},{category:"Job Address",value:`${ye.value}`},{category:"Process Number",value:`${ne.value}`}];let vl=10,ea=60,Ca=50;t.setFontSize(12),ol.forEach((N,H)=>{const F=Ca+H*10;t.text(N.category,vl,F),t.text(N.value,ea,F),t.getTextWidth(N.category);const U=t.getTextWidth(N.value)*2;t.line(ea,F+2,ea+U,F+2)}),t.setFontSize(12),console.log(o);const ra="Roof Perimeter: ",ka=t.getTextWidth("Roof Area: "),Ra=t.getTextWidth(`${Fa.value}`);t.text("Roof Area:",f,C);const xa=ka+10;t.text(`${Fa.value}`,xa,C),t.line(xa,C+c,xa+Ra,C+c),n.value=ka+Ra,console.log(n.value);const Ba=t.getTextWidth("Mean Roof Height:"),Nt=t.getTextWidth(`${k.value}`),ba=n.value+15;t.text("Mean Roof Height:",ba,C);const de=Ba+45;t.text(`${k.value}`,de,C),t.line(de,C+c,de+Nt,C+c),n.value=Ba+Nt,console.log(n.value),t.getTextWidth("Roof Slope: ");const ta=t.getTextWidth(`${ie.value}`),Ia=n.value+50;t.text("Roof Slope:",Ia,C);const Ft=Ia+25;t.text(`${ie.value}`,Ft,C),t.line(Ft,C+c,Ft+ta,C+c),n.value=n.value+Ft;const Ka=t.getTextWidth(ra),sl=t.getTextWidth(`${ca.value}`),Wl=n.value-30;t.text(ra,Wl,C);const Qa=Ka+Wl+2;t.text(`${ca.value}`,Qa,C),t.line(Qa,C+c,Qa+sl,C+c),o=C+30;const Ua=t.getTextWidth("Deck Type"),aa=t.getTextWidth(`${Lt.value}`);n.value=n.value+Ua-30,t.text("Decktype:",n.value,o);const Da=n.value+20;t.text(`${Lt.value}`,Da,o),t.line(Da,o+c,Da+aa,o+c),n.value=Da+aa;const il="Tile NOA Number: ",Oa="Tile Applicant: ",Ha="Tile Material: ",ga="Tile Type: ",ma="Tile Description: ",Ta="Select Mechanical Tile Fastener: ",La="Fastened (UDL) NOA: ",ya="(UDL) NOA Applicant: ",nl="Fastened (UDL) Material: ",X="Select System E: ",G="Design psf: ",O="Anchor Base Sheet: ",J="(UDL) Description: ",We="Prescriptive: ",te="DripEdge Material: ",et="DripEdge Size: ";console.log(g.tilemech.value[0]),console.log(g.tilemech.value[0]);const ae=a((Ot=g.tilemech.value[0])==null?void 0:Ot.noa),ce=a((Ht=g.tilemech.value[0])==null?void 0:Ht.manufacturer),Xe=a((Vt=g.tilemech.value[0])==null?void 0:Vt.material),Oe=ge===!0?a((s=g.tilemech.value[0])==null?void 0:s.tiletype):a((xe=g.tilemech.value[0])==null?void 0:xe.material),le=ge!==!0?a((i=g.tilemech.value[0])==null?void 0:i.savedfastener):a((rt=g.tilemech.value[0])==null?void 0:rt.description),L=ge===!0?a((ia=g.tilemech.value[0])==null?void 0:ia.savedfastener):a((h=g.tilemech.value[0])==null?void 0:h.description);console.log(($a=g.tilemech.value[0])==null?void 0:$a.description,(na=g.tilemech.value[0])==null?void 0:na.savedfastener),t.getTextWidth(We);const la=t.getTextWidth(`${d.value}`),tt=f;t.text(We,tt,o-15);const ee=f;o=o-9,t.text(`${d.value}`,ee,o),t.line(ee,o+c,ee+la,o+c),o=o+10;const Ne=t.getTextWidth(te),at=t.getTextWidth(`${yt.value}`),fe=f;t.text(te,fe,o);const pe=Ne+fe;t.text(`${yt.value}`,pe,o),t.line(pe,o+c,pe+at,o+c),o=o+8;const q=t.getTextWidth(et),hl=t.getTextWidth(`${pa.value}`),Ya=f;t.text(et,Ya,o);const Aa=q+Ya;if(t.text(`${pa.value}`,Aa,o),t.line(Aa,o+c,Aa+hl,o+c),o=o+10,t.setFontSize(12),E.$state.tilesysEinput.length===0){const N="n/a",H="n/a",F="n/a",U="n/a",y=t.getTextWidth(La),_=t.getTextWidth(N),oe=f;t.text(La,oe,o);const j=oe+y;t.text(N,j,o),t.line(j,o+c,j+_,o+c),n.value=j+_,console.log(n.value);const Ye=t.getTextWidth(ya),Et=t.getTextWidth(H),lt=n.value+2;t.text(ya,lt,o);const ue=lt+Ye;t.text(H,ue,o),t.line(ue,o+c,ue+Et,o+c),n.value=ue+Et,console.log(n.value),n.value>se&&(o=o+10);const Fe=n.value+2,Xa=t.getTextWidth(nl),$e=t.getTextWidth(F);t.text(nl,Fe,o);const ot=Fe+Xa;t.text(F,ot,o),t.line(ot,o+c,ot+$e,o+c),n.value=ot+$e,console.log(n.value),n.value>se&&(o=o+10),o=o+10;const Ge=t.getTextWidth(J),Ee=t.getTextWidth(U),wt=f,Je=wt+Ee;console.log(Je),t.text(J,wt,o),Je>se&&print(Je);const Se=wt+Ge;t.text(U,Se,o),t.line(Se,o+c,Se+Ee,o+c),n.value=Se+Ee,o=o+10}else{console.log(E.$state.tilesysEinput);const N=a(((M=(bt=E.$state.tilesysEinput[0])==null?void 0:bt.systemDataE)==null?void 0:M.noa)||"N/A"),H=a(((Qe=(Sa=E.$state.tilesysEinput[0])==null?void 0:Sa.systemDataE)==null?void 0:Qe.manufacturer)||"N/A"),F=a(((Yt=(Dt=E.$state.tilesysEinput[0])==null?void 0:Dt.systemDataE)==null?void 0:Yt.material)||"N/A"),U=a(((Gt=(Le=E.$state.tilesysEinput[0])==null?void 0:Le.systemDataE)==null?void 0:Gt.systemSelected)||"N/A"),y=a(((Jt=(Ie=E.$state.tilesysEinput[0])==null?void 0:Ie.systemDataE)==null?void 0:Jt.dP)||"N/A"),_=a(((jt=(At=E.$state.tilesysEinput[0])==null?void 0:At.systemDataE)==null?void 0:jt.Anchor_Base)||"N/A"),oe=a(((qt=(Zt=E.$state.tilesysEinput[0])==null?void 0:Zt.systemDataE)==null?void 0:qt.tileCap)||"N/A"),j=t.getTextWidth(La),Ye=t.getTextWidth(`${N.value}`),Et=f;t.text(La,Et,o);const lt=Et+j;t.text(`${N.value}`,lt,o),t.line(lt,o+c,lt+Ye,o+c),n.value=lt+Ye;const ue=t.getTextWidth(ya),Fe=t.getTextWidth(`${H.value}`),Xa=n.value+2;t.text(ya,Xa,o);const $e=Xa+ue;t.text(`${H.value}`,$e,o),t.line($e,o+c,$e+Fe,o+c);const ot=t.getTextWidth(`${F.value}`);n.value=$e+ot,o=o+10;const Ge=f,Ee=t.getTextWidth(nl),wt=t.getTextWidth(`${F.value}`);t.text(nl,Ge,o);const Je=Ge+Ee;t.text(`${F.value}`,Je,o),t.line(Je,o+c,Je+wt,o+c),n.value=Je+wt,n.value>se&&(o=o+10);const Se=n.value+5,b=t.getTextWidth(X),z=t.getTextWidth(`${U.value}`);t.text(X,Se,o);const D=Se+b;t.text(`${U.value}`,D,o),t.line(D,o+c,D+z,o+c),n.value=D+z,n.value>se&&(o=o+10);const R=t.getTextWidth(G),je=t.getTextWidth(`${y.value}`),we=n.value+3;t.text(G,we,o);const Ze=we+R;t.text(`${y.value}`,Ze,o),t.line(Ze,o+c,Ze+je,o+c),n.value=Ze+je,console.log(n.value),o=o+10,t.getTextWidth(O);const st=t.getTextWidth(`${_.value}`),it=f;t.text(O,it,o),o=o+10;const zt=f;t.text(`${_.value}`,zt,o),t.line(zt,o+c,zt+st,o+c),n.value=zt+st,o=o+10;const nt=t.getTextWidth(J),dt=t.getTextWidth(`${oe.value}`),ze=f;t.text(J,ze,o);const sa=ze+nt;t.text(`${oe.value}`,sa,o),t.line(sa,o+c,sa+dt,o+c),n.value=sa+dt,console.log(n.value),o=o+10}const He="Self Adhered NOA: ",fl="S/A NOA Applicant: ",$l="S/A System F: ",Sl="S/A Material: ",Vl="S/A Description: ";if(K.$state.tilefinput.length===0){const N="n/a",H="n/a",F="n/a",U="n/a",y="n/a",_=t.getTextWidth(He),oe=t.getTextWidth(N),j=f;t.text(He,j,o);const Ye=j+_;t.text(N,Ye,o),t.line(Ye,o+c,Ye+oe,o+c),n.value=Ye+oe,console.log(n.value);const Et=t.getTextWidth(fl);t.getTextWidth(H);const lt=n.value+3,ue=t.getTextWidth(F);t.text(fl,lt,o);const Fe=lt+Et;t.text(H,Fe,o),t.line(Fe,o+c,Fe+ue,o+c),n.value=Fe+ue,console.log(n.value);const Xa=t.getTextWidth($l),$e=t.getTextWidth(F),ot=n.value+3;t.text($l,ot,o);const Ge=ot+Xa;t.text(F,Ge,o),t.line(Ge,o+c,Ge+$e,o+c),n.value=Ge+$e,console.log(n.value),o=o+10;const Ee=t.getTextWidth(Sl),wt=t.getTextWidth(U),Je=f;t.text(Sl,Je,o);const Se=Je+Ee;t.text(U,Se,o),t.line(Se,o+c,Se+wt,o+c),n.value=Se+wt,console.log(n.value);const b=t.getTextWidth(Vl),z=t.getTextWidth(y),D=n.value+3;t.text(Vl,D,o);const R=D+b;t.text(y,R,o),t.line(R,o+c,R+z,o+c),n.value=R+z,console.log(n.value)}else{console.log("Entered sbs line 455",K.$state);const N=a(K.$state.tilefinput[0].systemData.noa),H=a(K.$state.tilefinput[0].systemData.manufacturer),F=a(K.$state.tilefinput[0].systemData.pressure),U=a(K.$state.tilefinput[0].systemData.material),y=a(K.$state.tilefinput[0].systemData.description),_=t.getTextWidth(He),oe=t.getTextWidth(`${N.value}`),j=f;t.text(He,j,o);const Ye=j+_;t.text(`${N.value}`,Ye,o),t.line(Ye,o+c,Ye+oe,o+c),n.value=Ye+oe;const Et=t.getTextWidth(fl),lt=t.getTextWidth(`${H.value}`),ue=n.value+3;t.text(fl,ue,o);const Fe=ue+Et;t.text(`${H.value}`,Fe,o),t.line(Fe,o+c,Fe+lt,o+c),n.value=Fe+lt,console.log(n.value);const Xa=t.getTextWidth($l),$e=t.getTextWidth(`${F.value}`),ot=n.value+3;t.text($l,ot,o);const Ge=ot+Xa;t.text(`${F.value}`,Ge,o),t.line(Ge,o+c,Ge+$e,o+c),n.value=Ge+$e,o=o+10;const Ee=t.getTextWidth(Sl),wt=t.getTextWidth(`${U.value}`),Je=f;t.text(Sl,Je,o);const Se=Je+Ee;t.text(`${U.value}`,Se,o),t.line(Se,o+c,Se+wt,o+c),n.value=Se+wt,n.value>se&&(o=o+10);const b=t.getTextWidth(Vl),z=t.getTextWidth(`${y.value}`),D=n.value+3;t.text(Vl,D,o);const R=D+b;t.text(`${y.value}`,R,o),t.line(R,o+c,R+z,o+c),n.value=R+z,n.value>=se&&(o=o+10),console.log(n.value)}o=o+10;const El=t.getTextWidth(`${ce.value}`),wl=t.getTextWidth(Oa),Bl=f;t.text(Oa,Bl,o);const dl=Bl+wl;t.text(`${ce.value}`,dl,o),t.line(dl,o+c,dl+El,o+c),n.value=dl+wl+10;const rl=t.getTextWidth(il),xl=t.getTextWidth(`${ae.value}`),gl=n.value+rl;t.text(il,gl,o);const _a=gl+38;t.text(`${ae.value}`,_a,o),t.line(_a,o+c,_a+xl,o+c),n.value=_a+xl,o=o+10;const oa=o;if(ge===!0){const N=t.getTextWidth(ga),H=t.getTextWidth(`${Oe.value}`),F=f;t.text(ga,F,oa);const U=F+N;n.value=N+H,t.text(`${Oe.value}`,U,oa),t.line(U,oa+c,U+H,oa+c),o=o+10;const y=t.getTextWidth(Ta),_=t.getTextWidth(`${L.value}`);console.log(L.value),n.value=f;const oe=n.value;t.text(Ta,oe,o),console.log(n.value);const j=oe+y;t.text(`${L.value}`,j,o),t.line(j,o+c,j+_,o+c),n.value=j+_,o=o+10}else{const N=t.getTextWidth(Ha),H=t.getTextWidth(`${Xe.value}`);n.value=f,console.log(Xe.value);const F=n.value;t.text(Ha,F,oa);const U=F+N;t.text(`${Xe.value}`,U,oa),t.line(U,oa+c,U+H,oa+c),n.value=N+H+20,console.log(n.value);const y=t.getTextWidth(ma),_=t.getTextWidth(`${le.value}`),oe=n.value+10;t.text(ma,oe,o);const j=oe+y;t.text(`${le.value}`,j,o),t.line(j,o+c,j+_,o+c),n.value=j+_}o=o+10;const ml=new Image;ml.src="/demo/images/lambda.png";const zl=[["Zone 1:",`${_t.value}`,"x",`${Xt.value}`,"- Mg:",`${Ea.value}`,"= Mr1:",`${Me.value}`,"NOA Mf:",`${ua.value}`],["Zone 2:",`${va.value}`,"x",`${Ue.value}`,"- Mg:",`${_e.value}`,"= Mr2:",`${Te.value}`,"NOA Mf:",`${me.value}`],["Zone 3:",`${Za.value}`,"x",`${al.value}`,"- Mg:",`${ja.value}`,"= Mr2:",`${wa.value}`,"NOA Mf:",`${tl.value}`]];console.log(zl);let Pl=f-1,Ma=o;zl.forEach(N=>{let H=Pl;N.forEach(F=>{t.text(String(F),H,Ma),H+=18}),t.addImage(ml,"png",50,Ma-4,5,5),t.addImage(ml,"png",50,Ma-4,5,5),t.addImage(ml,"png",50,Ma-4,5,5),Ma+=5,Ma+=5}),o=o+20;const jl="MechanicalTile.pdf",Il=t.output("blob");(async(N,H)=>{const F=N,U=F;console.log(U);const y=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${ne.value}/${U}`;try{const _=await fetch(y,{method:"PUT",headers:{"Content-Type":F.type},body:H});_.ok?(za.value=y,alert("Mechanical File uploaded successfully!")):alert(`Failed to upload file. Status: ${_.status}`)}catch(_){console.error("Error uploading file:",_),alert("An error occurred while uploading the file.")}})(jl,Il)}};return(o,f)=>(Ml(),Xl("div"))}},Yo=ve=>(So("data-v-6c029b9d"),ve=ve(),Vo(),ve),Go={class:"card-system"},Jo=Yo(()=>Ja("p",null,"The roof systems you selected",-1)),jo={class:"rounded border border-surface-200 dark:border-surface-700 p-6 bg-surface-0 dark:bg-surface-900"},Zo={__name:"Summarys",setup(ve){var ct,Ke,re,be,De;const{accountUsers:S}=Nl(),V=ro();a(!1),a(!1);let B=a(!1),A=a(!1),W=a(!1),g=a(!1),K=a(!1);const E=a("");a(""),a("");const Q=Fl(),r=Tl(),Z=a(r.$state.roofList);a(((Ke=(ct=Q.$state.permitapp[0])==null?void 0:ct.formdt)==null?void 0:Ke.processNumber)||"");const o=lo(),f=a(o.$state.generalpdfinput);a(((be=(re=Q.$state.permitapp[0])==null?void 0:re.formdt)==null?void 0:be.muniProc)||""),a(!1),a(((De=V.$state.countinput[0])==null?void 0:De.countData)||""),a(!1),a(!1),a(!1),a(!1);function Ve(){S.value.forEach((P,Ce)=>{E.value=P.dba})}const he=ao({dim:"",item:""}),m=bl(()=>{if(Z.value.length===0)return"";for(let P=0;P<Z.value.length;P++)Z.value[P].item==="Asphalt Shingle"?(g.value=!0,he.dim=Z.value[P].dim1,he.item=Z.value[P].item):Z.value[P].item==="Low Slope"?K.value=!0:Z.value[P].item==="Adhesive Set Tile"?(console.log(Z.value[P].item),A.value=!0):Z.value[P].item==="Mechanical Fastened Tile"?(console.log(Z.value[P].item),W.value=!0):f.value.length!==1&&(B.value=!0),console.log(Z.value)});mo(()=>{Ve()});const e=a([{status:"RoofSystems",date:"15/10/2020 10:30",icon:"pi pi-cog",color:"#9C27B0",image:"/src/assets/img/roofing_tile.jpg"},{status:"Processing",date:"15/10/2020 14:00",icon:"pi pi-cog",color:"#673AB7"},{status:he.item,date:"15/10/2020 14:00",icon:"pi pi-cog",color:"#673AB7"}]);return To(Ve,m,()=>{}),Dl(async()=>{await Al(m).toBe(!0)}),(P,Ce)=>{const ke=uo,Re=po,Be=co;return Ml(),Xl(Wo,null,[Ja("div",Go,[pl(Be,{value:e.value,align:"alternate",class:"customized-timeline",style:{"margin-top":"50px"}},{marker:kl(I=>[Ja("span",{class:"flex w-8 h-8 items-center justify-center text-white rounded-full z-10 shadow-sm",style:fo({backgroundColor:I.item.color})},[Ja("i",{class:$o(I.item.icon)},null,2)],4)]),content:kl(I=>[pl(Re,{class:"mt-4"},{title:kl(()=>[_l(eo(I.item.status),1)]),subtitle:kl(()=>[_l(eo(I.item.date),1)]),content:kl(()=>[Jo,pl(ke,{label:"Read more",text:""})]),_:2},1024)]),_:1},8,["value"])]),Ja("div",jo,[Ja("div",null,[pl(ko)]),Yl(Ja("div",null,[pl(Bo)],512),[[Gl,Jl(g)]]),Yl(Ja("div",null,[pl(Uo)],512),[[Gl,Jl(A)]]),Yl(Ja("div",null,[pl(Ho)],512),[[Gl,Jl(W)]]),Yl(Ja("div",null,[pl(Ro)],512),[[Gl,Jl(K)]])])],64)}}},xs=Co(Zo,[["__scopeId","data-v-6c029b9d"]]);export{xs as default};
