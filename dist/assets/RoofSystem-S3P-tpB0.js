import{_ as E}from"./FileSaver-BTME3xX7.js";import{J as I,e as p,f as $,H as q,h as U,o as S,c as y,i as e,F as N,C as P,t as k,n as H,L as T,k as b,Z as J,_ as Z,j as c,v as K,p as Q,q as W,x as z,A as X}from"./index-PV4IfQic.js";import{s as Y}from"./index-BD0PUhAn.js";import{u as ee}from"./usePostGeneralpageLambda-B61fdesF.js";import{u as te}from"./generalpageStore-CcXRmT6k.js";import{u as L}from"./roofList-BJt5q0Ia.js";import{u as oe}from"./permitapp-CuLdRTV7.js";import{_ as M}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{s as O}from"./index-BJk3eT7L.js";import{s as se}from"./index-Ue8MmnOF.js";import{s as ae}from"./index-BQUCMka9.js";import"./index-BLN8vsjS.js";import"./useAxios-60L-vhiw.js";import"./index-CfmA0_12.js";import"./index-DX7tNq1N.js";import"./index-I5UmVvT9.js";import"./index-B5Jz2m5G.js";import"./index-B36NO_ZK.js";function le(){const r=L(),{roofList:h}=I(r),v=te(),{postGeneral:d}=ee(),_=p(null),g=p(v.$state.generalpdfinput),m=p(!1),i=$({mtile:!1,adtile:!1,shingle:!1,metal:!1,slope:!1}),s=$({steep1:0,steep2:0,steep3:0,steep4:0,low1:0}),t=$({steep:0,lowslope:0,total:0}),l=$({steepData:"",slopeData:"",totalData:"",mtileChk:!1,adtileChk:!1,shingleChk:!1,slopeChk:!1,metalChk:!1,roofCheck:"",area:""});function D(A){_.value=A.value[0],console.log(A);const R={"Asphalt Shingle":{dim:"dim1",flag:"shingle"},"Low Slope":{dim:"dim2",flag:"slope"},"Mechanical Fastened Tile":{dim:"dim3",flag:"mtile"},"Adhesive Set Tile":{dim:"dim4",flag:"adtile"},"Metal Panel":{dim:"dim5",flag:"metal"}};h.value.forEach(w=>{console.log(w);const u=R[w.item];if(console.log(u),u){const C=Number(w[u.dim])||0;i[u.flag]=!0,console.log(C),u.flag==="slope"?s.low1=C:s[`steep${Object.keys(i).indexOf(u.flag)}`]=C,l[`${u.flag}Chk`]=!0}}),V()}async function V(){t.steep=s.steep1+s.steep2+s.steep3+s.steep4,t.lowslope=s.low1,t.total=t.steep+t.lowslope,l.area=t.total,console.log(l,t),l.steepData=t.steep,l.slopeData=t.lowslope,l.totalData=t.total,l.roofCheck=_.value,v.addgeneralpdfData(l),await d(l),m.value=!0}return{addRoof:D,roofArea:V,dataGeneral:l,generalType:g,isGeneralPageValid:m}}const ne=q("roofinput",{state:()=>({roofinput:[],id:0}),actions:{addCheck(r){this.roofinput.push({roofCheckdata:r,completed:!1})},reset(){this.roofinput=[]},persist:!0}}),ie={class:"terminal"},re={class:"terminal-content"},de={class:"content"},ce=["onClick"],pe=15,me={__name:"RoofSystemList",setup(r){const h=L(),{roofList:v}=I(h),{toggleCompleted:d}=I(h),_=["Initializing system...","Loading modules...","Connecting to server...","Server connection established.","Awaiting Roof System Selection..."],g=p([]);function m(){let i=0;const s=setInterval(()=>{i<_.length?(g.value.length>=pe&&g.value.shift(),g.value.push(_[i]),i++):clearInterval(s)},500)}return U(()=>{m()}),(i,s)=>(S(),y("div",ie,[e("div",re,[(S(!0),y(N,null,P(g.value,(t,l)=>(S(),y("div",{key:l,class:"terminal-line"},k(t),1))),128)),(S(!0),y(N,null,P(b(v),t=>(S(),y("div",{key:t.id,class:"item"},[e("div",de,[e("span",{class:H({completed:t.completed}),style:{color:"green"}},k(t.item)+" "+k(t.dim1)+" "+k(t.dim2)+" "+k(t.dim3)+" "+k(t.dim4)+" "+k(t.dim5),3),e("span",{onClick:T(l=>b(d)(t.id),["stop"])},"âœ”",8,ce)])]))),128))])]))}},ue=M(me,[["__scopeId","data-v-66faea4b"]]),f=r=>(Q("data-v-1570e5a8"),r=r(),W(),r),fe={class:"layout"},he={class:"card glass"},ve=f(()=>e("i",{class:"pi pi-refresh"},null,-1)),_e=f(()=>e("h2",{class:"title"},"Roof System",-1)),ge={class:"field"},Se=f(()=>e("label",{for:"area"},"Square Footage",-1)),ye={class:"field"},ke=f(()=>e("label",{for:"system"},"Roof System",-1)),be={class:"flex flex-wrap mt-4 space-y-6 justify-center gap-8"},Ce={class:"flex items-center mt-4 space-y-6"},xe=f(()=>e("label",{for:"newroof",class:"ml-2",style:{color:"#122620"}},"New Roof ",-1)),we={class:"flex items-center mt-4 space-y-6"},$e=f(()=>e("label",{for:"reroof",class:"ml-2",style:{color:"#122620"}},"Re-Roof ",-1)),Ve={class:"footer"},Re=f(()=>e("br",null,null,-1)),Te=f(()=>e("p",{class:"dz-title"},"For Images documents",-1)),De=f(()=>e("p",{class:"dz-sub"},[z("Drag & drop files here"),e("br"),z("or click to upload")],-1)),Ae=2,Ie={__name:"RoofSystemForm",setup(r){var F;const h=oe(),v=ne(),d=L(),_=[{name:" "},{name:"Asphalt Shingle"},{name:"Low Slope"},{name:"Mechanical Fastened Tile"},{name:"Adhesive Set Tile"},{name:"Metal Panel"}],g=_.slice(1),m=p(""),i=p(null),s=p(!1),t=p(!1),l=p((F=h.$state.permitapp[0])==null?void 0:F.miamibeach),D=J(l.value);Z(()=>{t.value=D.value===Ae});const{addRoof:V,roofArea:A}=le(),R=$({roofCheck:""});p("");async function w(){var a,B,G;const n=(B=(a=i.value)==null?void 0:a.name)==null?void 0:B.trim();if(!n)return;const o=m.value,x={"Asphalt Shingle":()=>d.addSystemShingle(n,o),"Low Slope":()=>d.addSystemBur(n,o),"Mechanical Fastened Tile":()=>d.addSystemMTile(n,o),"Adhesive Set Tile":()=>d.addSystemATile(n,o),"Metal Panel":()=>d.addSystemMetal(n,o)};(G=x[n])==null||G.call(x),console.log(s.value),R.roofCheck=s.value,v.addCheck(R),C()}function u(){V(s),C()}function C(){m.value="",i.value=null}function j(){d.$reset()}return(n,o)=>{const x=Y;return S(),y("main",fe,[e("aside",he,[c(b(O),{class:"icon-btn",plain:"",text:"",onClick:j},{default:K(()=>[ve]),_:1}),_e,e("form",{class:"grid-form",onSubmit:o[4]||(o[4]=T(()=>{},["prevent"]))},[e("div",ge,[Se,c(b(se),{id:"area",modelValue:m.value,"onUpdate:modelValue":o[0]||(o[0]=a=>m.value=a),placeholder:"e.g. 1200"},null,8,["modelValue"])]),e("div",ye,[ke,c(b(ae),{id:"system",modelValue:i.value,"onUpdate:modelValue":o[1]||(o[1]=a=>i.value=a),options:t.value?b(g):_,optionLabel:"name",placeholder:"Select roof system",class:"w-full",onChange:w},null,8,["modelValue","options"])]),e("div",be,[e("div",Ce,[c(x,{modelValue:s.value,"onUpdate:modelValue":o[2]||(o[2]=a=>s.value=a),invalid:!s.value,inputId:"newroof",name:"checked",value:"newroof"},null,8,["modelValue","invalid"]),xe]),e("div",we,[c(x,{modelValue:s.value,"onUpdate:modelValue":o[3]||(o[3]=a=>s.value=a),invalid:!s.value,inputId:"reroof",name:"checked",value:"reroof"},null,8,["modelValue","invalid"]),$e])])],32),e("footer",Ve,[c(b(O),{label:"Submit",severity:"contrast",raised:"",as:"router-link",to:"/dynamicstepper",onClick:u})]),Re,c(ue)]),e("section",{class:"card dropzone",onDragover:o[6]||(o[6]=T(a=>n.dragOver=!0,["prevent"])),onDragleave:o[7]||(o[7]=a=>n.dragOver=!1),onDrop:o[8]||(o[8]=T((...a)=>n.handleDrop&&n.handleDrop(...a),["prevent"]))},[Te,De,e("input",{type:"file",accept:"application/pdf",multiple:"",class:"file-input",onChange:o[5]||(o[5]=(...a)=>n.handleFiles&&n.handleFiles(...a))},null,32)],32)])}}},Le=M(Ie,[["__scopeId","data-v-1570e5a8"]]),Me={id:"id",class:"grid grid-cols-3 gap-6"},Fe={class:"roof-app",style:{"margin-left":"250px","margin-top":"20px",border:"none","border-radius":"12px","box-shadow":"4px 4px 16px rgb(22, 183, 183)","padding-bottom":"10px",position:"center","max-height":"400px",width:"500px",top:"5vh"}},Be={__name:"RoofSystemApp",setup(r){return U(()=>{X.init({duration:4500,easing:"ease-in-out",once:!1})}),(h,v)=>(S(),y("div",Me,[e("div",Fe,[c(Le)])]))}},Ge=M(Be,[["__scopeId","data-v-d0495c4e"]]),Ne={class:"grid grid-cols-2 gap-0"},Pe={"data-aos":"fade-up-right","data-aos-delay":"500",style:{"margin-top":"90px"}},at={__name:"RoofSystem",setup(r){return(h,v)=>(S(),y("div",Ne,[c(Ge),e("div",Pe,[c(E)])]))}};export{at as default};
