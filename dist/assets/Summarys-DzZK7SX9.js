import{s as ds}from"./index-Bf2TX_60.js";import{s as cs}from"./index-CSPGipJI.js";import{s as ps}from"./index-m_bSlIO2.js";import{e as a,j as Gl,ab as ml,at as rl,au as bl,o as Dl,c as Al,N as us,aE as vs,O as hs,L as gs,f as xs,ap as ms,g as Qa,h as vl,l as wl,R as Ul,aq as Ol,p as Hl,F as Ts,a5 as Ws,n as fs,q as yl,t as _l,W as $s,X as Ss}from"./index-Bnryhjrw.js";import{u as Vs,c as rs}from"./pdfsignStore-BojtSOW6.js";import{u as ts}from"./useAxios-DnGMEpQO.js";import{u as Ml}from"./accountsStore-DOxgB2LT.js";import{u as as}from"./generalpageStore-FbZqEgny.js";import{u as Xl}from"./permitapp-DB_l6G76.js";import{u as Tl}from"./roofList-DUIvojj6.js";import{E as Pl}from"./jspdf.es.min-wZ2q58bY.js";import{a as es,u as bs}from"./dripEdgeStore-CmieSaFK.js";import{b as Ds,a as As,c as Ms,u as Xs}from"./systemfStore-IiBe3S2K.js";import{a as Ns,b as Fs,u as Es}from"./tilevalueStore-C2Ci2gjz.js";import{u as ls,a as ss}from"./tilesysfStore-BPUZpAhQ.js";import{u as ws,a as Ps}from"./dripEdgeMechTileStore-xtCONXR_.js";import{_ as zs}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-DndJvsRZ.js";import"./reset-store-CbApkWc_.js";function Cs(){const _=a(),$=a(""),V=a(""),A=a(""),b=Gl({status:"",message:"",isFinished:"",isLoading:""}),W=Gl({status:"",message:"",download_url:"",isFinished:"",isLoading:""}),x=a("");let H="https://4cgf7owinctxji4vx56hnisxh40iskps.lambda-url.us-east-1.on.aws/";const{execute:D,then:q,data:r}=ts(H,{method:"GET"},{immediate:!1});function Ye(g){if(_.value=g,V.value=_.value+"/",V.value==="undefined/")return""}const{confirmResponse:s,addResponse:f}=Vs();async function ve(g){console.log(g),A.value=g+"/",await ie()}const ie=async()=>{try{const g=await D({params:{processnumber:A.value}}).then(e=>{console.log(e),W.status=e.response.value.status,W.message=e.data.value,W.isFinished=e.isFinished,W.isLoading=e.isLoading});return f(res),res}catch(g){console.log("Error, fectching data",g)}};return{error:x,getNumbers:Ye,sendProc:A,getSignpdf:ve,fetchSignPdf:ie,sentInput:$,result:W,confirmResponse:s,results:b}}const ks={__name:"Generalpagepdf",setup(_){var ie,g,e,Ft,ze,re,Ce,be,De,Ae,Me,Xe,P;const{getUser:$}=Ml();let V=a(!1);const A=Xl();Tl();const b=as(),W=a(((g=(ie=A.$state.permitapp[0])==null?void 0:ie.formdt)==null?void 0:g.address)||""),x=a(((Ft=(e=A.$state.permitapp[0])==null?void 0:e.formdt)==null?void 0:Ft.permit)||"N|A"),H=a(((re=(ze=A.$state.permitapp[0])==null?void 0:ze.formdt)==null?void 0:re.processNumber)||""),D=a(((be=(Ce=A.$state.permitapp[0])==null?void 0:Ce.formdt)==null?void 0:be.muniProc)||""),q=a(((Ae=(De=A.$state.permitapp[0])==null?void 0:De.formdt)==null?void 0:Ae.muni)||"");a((Xe=(Me=b.$state.generalpdfinput[1])==null?void 0:Me.generalpdfData)==null?void 0:Xe.totalData);const r=a(((P=$.value[0])==null?void 0:P.dba)||""),Ye=a(""),s=a(b.$state.generalpdfinput);function f(){s.value.length!==1&&(V.value=!0)}ml(()=>{f()}),rl(async()=>{await bl(V).toBe(!0),ve()});const ve=()=>{var ne,Et,_e,et,tt,at,lt,st;if(b.$state.generalpdfinput.length===0)console.log("lenghth is   zero");else{const u=new Pl({orientation:"portrait",unit:"mm",format:"a4",compress:!0});u.setGState(new u.GState({opacity:.9}));const ot="Approved";u.setFontSize(24),u.setTextColor("black"),u.setFont("helvetica"),u.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const it=new Image,nt=new Image,dt=new Image;it.src="/demo/images/officepaper.jpeg",nt.src="/demo/images/logo.jpeg",dt.src="/demo/images/DragAndDrop.jpeg";const wt=725,ct=u.getPageInfo(1),Pt=ct.pageContext.mediaBox.topRightX,zt=ct.pageContext.mediaBox.topRightY;console.log(Pt);const S=a(0),pt=a(0);var G=595.28-585.28,T=zt-wt;S.value=G,pt.value=T,console.log(S.value,pt.value),u.addImage(nt,"JPEG",10,10,50,30),u.addImage(it,"JPEG",0,0,210,297),u.setFontSize(12),u.setTextColor("green");var R=new Date,p=R.toLocaleDateString();u.text(ot,10,270,{align:"left"});const Ct=u.getTextWidth(ot);u.text("on: "+p,Ct+15,270),u.text(`${D.value}`,10,280,{align:"left"});const kt=u.getTextWidth(`${D.value}`);u.text(`${q.value}`,kt+15,280);const ut=a(!1),o=a(!1),he=a(!1),i=a(!1),vt=a(!1);u.setFontSize(12);const ta=()=>{u.setFontSize(12),u.setTextColor(0),u.text("2023 HVHZ  mEPermit General Information Page",70,20,{maxWidth:"170"}),u.line(10,30,195,30)};u.setTextColor(0),ta(),u.setFontSize(12);const h=a((Et=(ne=b.$state.generalpdfinput[1])==null?void 0:ne.generalpdfData)==null?void 0:Et.totalData),Va=[{category:"DBA",value:`${r.value}`},{category:"Roof Area",value:`${h.value}`},{category:"Job Address",value:`${W.value}`},{category:"meProcess Number",value:`${H.value}`},{category:"Master Permit",value:`${x.value}`}];let je=10,t=60,n=50;u.setFontSize(12),Va.forEach((xe,Jt)=>{const me=n+Jt*10;u.text(xe.category,je,me),u.text(xe.value,t,me),u.getTextWidth(xe.category);const Be=u.getTextWidth(xe.value)*2;u.line(t,me+2,t+Be,me+2)}),u.setTextColor("black"),u.setFontSize(12);const ae=100,Rt=a(!1),ht=a(!1);S.value=G+40,b.$state.generalpdfinput[1].generalpdfData.roofCheck[0]==="reroof"?(Rt.value=!0,console.log(Rt.value)):ht.value=!0,S.value=G+50,T=ae,console.log(T),u.text("Re-Roof: ",S.value,T);const gt=T-3,d=Rt.value===!0?u.rect(S.value+20,gt,4,4,"FD"):u.rect(S.value+20,gt,4,4);S.value=G+100,T=ae,console.log(T),u.text("New Roof: ",S.value,T);const Je=ht.value===!0?u.rect(S.value+23,gt,4,4,"FD"):u.rect(S.value+23,gt,4,4);console.log(d,Je),T=T+10;const Bt="Total: ",xt="Low Slope: ",It="Steep Slope: ",Ut=a(((et=(_e=b.$state.generalpdfinput[1])==null?void 0:_e.generalpdfData)==null?void 0:et.totalData)||""),aa=a(((at=(tt=b.$state.generalpdfinput[1])==null?void 0:tt.generalpdfData)==null?void 0:at.slopeData)||""),Ot=a(((st=(lt=b.$state.generalpdfinput[1])==null?void 0:lt.generalpdfData)==null?void 0:st.steepData)||"");console.log(b.$state.generalpdfinput[1].generalpdfData),S.value=G+25,T=ae+10;const la=u.getTextWidth(xt),mt=u.getTextWidth(`${aa.value}`),Ht=S.value+5;u.text(xt,Ht,T);const Ne=la+Ht;u.text(`${aa.value}`,Ne,T),u.line(Ne,T,Ne+mt,T),S.value=Ne+mt;const Gt=u.getTextWidth(It),Tt=u.getTextWidth(`${Ot.value}`),Wt=S.value+5;u.text(It,Wt,T);const m=Gt+Wt;u.text(`${Ot.value}`,m,T),u.line(m,T,m+Tt,T),console.log(T,T),T=ae+10,S.value=m+Tt,console.log(S.value);const l=u.getTextWidth(Bt),Yt=u.getTextWidth(`${Ut.value}`),jt=S.value+5;u.text(Bt,jt,T);const z=l+jt;u.text(`${Ut.value}`,z,T),u.line(z,T,z+Yt,T),S.value=z+Yt,console.log(b.$state.generalpdfinput[1]),b.$state.generalpdfinput[1].generalpdfData.slopeChk===!0&&(vt.value=!0,console.log("Slope Checked")),b.$state.generalpdfinput[1].generalpdfData.adtileChk===!0&&(ut.value=!0),b.$state.generalpdfinput[1].generalpdfData.metalChk===!0&&(o.value=!0),b.$state.generalpdfinput[1].generalpdfData.mtileChk===!0&&(he.value=!0),b.$state.generalpdfinput[1].generalpdfData.shingleChk===!0&&(i.value=!0,console.log("Shingle Checked")),S.value=G-4,T=T+10,u.text("Low Slope: ",G,T);const ge=T-3,sa=vt.value===!0?u.rect(S.value+27,ge,4,4,"FD"):u.rect(S.value+27,ge,4,4);console.log(d,Je,sa),S.value=S.value+4;const ra=S.value+32;console.log(S.value);const c=ra;console.log(S.value),u.text("Adhesive Set Tile: ",c,T);const La=ut.value===!0?u.rect(c+36,ge,4,4,"FD"):u.rect(c+36,ge,4,4);console.log(d,Je,La),console.log(S.value);const Ze=c+43;console.log(S.value),u.text("Metal Panel: ",Ze,T),o.value===!0?u.rect(Ze+25,ge,4,4,"FD"):u.rect(Ze+25,ge,4,4);const ke=Ze+35;console.log(S.value),u.text("Shingle: ",ke,T);const Re=i.value===!0?u.rect(ke+17,ge,4,4,"FD"):u.rect(ke+17,ge,4,4);S.value=ke;const oa=ke+28;console.log(S.value),u.text("Mechanical Fastened Tile: ",oa,T);const ba=he.value===!0?u.rect(oa+51,ge,4,4,"FD"):u.rect(oa+51,ge,4,4);console.log(ba,Re),T=T+10,u.addImage(dt,"JPEG",G+40,T,100,100);const ia="GeneralPage.pdf",qe=u.output("blob");(async(xe,Jt)=>{const me=xe,Be=me;console.log(Be);const Ke=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${D.value}/${Be}`;try{const Te=await fetch(Ke,{method:"PUT",headers:{"Content-Type":me.type},body:Jt});Te.ok?(Ye.value=Ke,alert("GeneralPage File uploaded successfully!")):alert(`Failed to upload file. Status: ${Te.status}`)}catch(Te){console.error("Error uploading file:",Te),alert("An error occurred while uploading the file.")}})(ia,qe)}};return(G,T)=>(Dl(),Al("div"))}},Rs={__name:"LowSlopepdf",setup(_){var ze,re,Ce,be,De,Ae,Me,Xe,P,G;const{getUser:$}=Ml(),V=Xl(),A=Tl(),b=es(),W=a(((ze=A.$state.roofList[0])==null?void 0:ze.dim2)||""),x=a(((Ce=(re=V.$state.permitapp[0])==null?void 0:re.formdt)==null?void 0:Ce.address)||""),H=a(((De=(be=V.$state.permitapp[0])==null?void 0:be.formdt)==null?void 0:De.muni)||""),D=a(((Me=(Ae=V.$state.permitapp[0])==null?void 0:Ae.formdt)==null?void 0:Me.processNumber)||""),q=bs(),{dripedgeStore:r,dripinput:Ye}=us(q),s=a(((P=(Xe=V.$state.permitapp[0])==null?void 0:Xe.formdt)==null?void 0:P.muniProc)||""),f=a(((G=$.value[0])==null?void 0:G.dba)||""),ve=a(b.$state.burpdfinput);let ie=a(!1);const g=a("");function e(){ve.value.length!==1&&(ie.value=!0,Ft())}ml(()=>{e()}),rl(async()=>{await bl(ie).toBe(!0)});const Ft=()=>{var _e,et,tt,at,lt,st,u,ot,it,nt,dt,wt,ct,Pt,zt,S,pt,Ct;const T=es();if(T.$state.burpdfinput.length===0)console.log("lenghth is zero");else{const kt=a((et=(_e=T.$state.burpdfinput[0])==null?void 0:_e.burpdfData)==null?void 0:et.height),ut=a((at=(tt=T.$state.burpdfinput[0])==null?void 0:tt.burpdfData)==null?void 0:at.slope),o=a((st=(lt=T.$state.burpdfinput[0])==null?void 0:lt.burpdfData)==null?void 0:st.per),he=a((ot=(u=T.$state.burpdfinput[0])==null?void 0:u.burpdfData)==null?void 0:ot.deckType),i=new Pl({orientation:"portrait",unit:"mm",format:"a4",compress:!0});i.setGState(new i.GState({opacity:.9}));const vt="Approved";i.setFontSize(24),i.setTextColor("black"),i.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const ta=new Image,h=new Image;ta.src="/demo/images/officepaper.jpeg",h.src="/demo/images/logo.jpeg";const Va=725,je=i.getPageInfo(1);je.pageContext.mediaBox.topRightX;const t=je.pageContext.mediaBox.topRightY,n=a(0),B=a(0);var R=595.28-585.28,p=t-Va;n.value=R,B.value=p,console.log(n.value,B.value),i.addImage(h,"JPEG",10,2,50,30),i.addImage(ta,"JPEG",0,0,210,297),i.setFontSize(12),i.setTextColor("green");var ne=new Date,Et=ne.toLocaleDateString();i.text(vt,10,270,{align:"left"});const ae=i.getTextWidth(vt);i.text("on: "+Et,ae+15,270),i.text(`${s.value}`,10,280,{align:"left"});const Rt=i.getTextWidth(`${s.value}`);i.text(`${H.value}`,Rt+15,280),i.setFontSize(12);const ht=()=>{i.setFontSize(10),i.setTextColor(0),i.text('The low slope Built Up Roof (BUR) Assembly shall be installed in compliance with the HVHZ portions of Chapter 15 found in the 2023 Florida Building Code and the HVHZ Roofing Application Standards (RAS), RAS-111, RAS-117 and RAS-128. This roof assembly shall also comply with the listed requirements for a Class "A" fire rating including roof slope (incline), components and a fire barrier when required. The mePermit applicant agrees to comply with these installation requirements when obtaining this permit.',10,25,{maxWidth:"170"}),i.line(10,50,195,50)};i.setTextColor("black"),i.circle(185,45,2,"FD"),i.text("I agree",165,45),ht(),i.setFontSize(12);const gt=[{category:"DBA",value:`${f.value}`},{category:"Municipality",value:`${H.value}`},{category:"Job Address",value:`${x.value}`},{category:"meProcess Number",value:`${D.value}`}];let d=10,Je=60,Bt=72;i.setFontSize(12),gt.forEach(($t,pa)=>{const We=Bt+pa*10;i.text($t.category,d,We),i.text($t.value,Je,We),i.getTextWidth($t.category);const Ie=i.getTextWidth($t.value)*2;i.line(Je,We+2,Je+Ie,We+2)}),i.setFontSize(12);const xt="Roof Area: ",It="Decktype: ",Ut="Mean Roof Height: ",aa="Roof Slope: ",Ot="Roof Perimeter: ",la="Type of Low Slope BUR Material: ",mt="Type of Low Slope BUR System: ",Ht="Attach P(1') Prime using P(1) Field Prescriptive Basesheet: ",Ne="Attach P(2) Perimeter using P(3) Corner Prescriptive: ",Gt=a(((nt=(it=T.$state.burpdfinput[1])==null?void 0:it.burpdfData)==null?void 0:nt.burMaterial)||""),Tt=a(((wt=(dt=T.$state.burpdfinput[1])==null?void 0:dt.burpdfData)==null?void 0:wt.burSystem)||""),Wt=a(((Pt=(ct=T.$state.burpdfinput[1])==null?void 0:ct.burpdfData)==null?void 0:Pt.p1)||""),m=a(((S=(zt=T.$state.burpdfinput[1])==null?void 0:zt.burpdfData)==null?void 0:S.p3)||"");console.log(Wt),n.value=R;const l=i.getTextWidth(xt),Yt=i.getTextWidth(`${W.value}`),jt=n.value;i.text(xt,jt,p);const z=l+jt;i.text(`${W.value}`,z,p),i.line(z,p+2,z+Yt,p+2),n.value=z+Yt;const ge=i.getTextWidth(Ut),sa=i.getTextWidth(`${kt.value}`),ra=n.value+18;i.text(Ut,ra,p);const c=ge+ra;i.text(`${kt.value}`,c,p),i.line(c,p+2,c+sa,p+2),n.value=c+sa;const La=i.getTextWidth(aa),Ze=i.getTextWidth(`${ut.value}`),ke=n.value+18;i.text(aa,ke,p);const Re=La+ke;i.text(`${ut.value}`,Re,p),i.line(Re,p+2,Re+Ze,p+2),n.value=Re+Ze;const oa=i.getTextWidth(Ot),ba=i.getTextWidth(`${o.value}`),ia=n.value+18;i.text(Ot,ia,p);const qe=oa+ia;i.text(`${o.value}`,qe,p),i.line(qe,p+2,qe+ba,p+2),console.log(p,p),p=p+10,n.value=qe+ba;const Da=i.getTextWidth(It),xe=i.getTextWidth(`${he.value}`),Jt=R;i.text(It,Jt,p);const me=Da+Jt;i.text(`${he.value}`,me,p),i.line(me,p+2,me+xe,p+2),p=p+10,n.value=R;const Be="DripEdge Material: ",Ke="DripEdge Size: ";console.log(q,Ye);const Te=a(((pt=q.$state.dripinput[0])==null?void 0:pt.dripMaterial)||""),na=a(((Ct=q.$state.dripinput[2])==null?void 0:Ct.dripMaterial)||"");console.log(Te,na);const Ca=i.getTextWidth(Be),sl=i.getTextWidth(`${Te.value}`),ka=R;i.text(Be,ka,p);const Aa=Ca+ka;i.text(`${Te.value}`,Aa,p),i.line(Aa,p+2,Aa+sl,p+2),p=p+10;const Ra=i.getTextWidth(Ke),da=i.getTextWidth(`${na.value}`),ya=R;i.text(Ke,ya,p);const v=Ra+ya;i.text(`${na.value}`,v,p),i.line(v,p+2,v+da,p+2),p=p+10;const Wl=i.getTextWidth(la),N=i.getTextWidth(`${Gt.value}`),_a=n.value;i.text(la,_a,p);const Zt=Wl+12;i.text(`${Gt.value}`,Zt,p),i.line(Zt,p+2,Zt+N,p+2),n.value=Zt+N,p=p+10,n.value=R,i.setFontSize(12),i.getTextWidth(mt);const ft=i.getTextWidth(`${Tt.value}`),Ba=n.value;i.text(mt,Ba,p),p=p+10,i.setFontSize(8.5),n.value=R-3,i.text(`${Tt.value}`,n.value,p),i.setFontSize(12),i.line(ft,p+2,ft,p+2),p=p+10,i.setFontSize(10),i.getTextWidth(Ht);const ol=i.getTextWidth(`${Wt.value}`),il=R;i.text(Ht,il,p),p=p+10;const qt=R;i.setFontSize(10),i.text(Wt.value,qt,p),i.line(qt,p+2,qt+ol+70,p+2),p=p+10,n.value=R;const Ia=i.getTextWidth(`${m.value}`),Ma=n.value;i.text(Ne,Ma,p),p=p+7,n.value=R;const ca=n.value;i.text(m.value,ca,p),i.line(ca,p+2,ca+Ia+70,p+2),p=p+10;const Ua="LowSlope.pdf",Xa=i.output("blob");(async($t,pa)=>{const We=$t,Ie=We;console.log(Ie);const ua=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${s.value}/${Ie}`;try{const St=await fetch(ua,{method:"PUT",headers:{"Content-Type":We.type},body:pa});St.ok?(g.value=ua,alert("LowSlope File uploaded successfully!")):alert(`Failed to upload file. Status: ${St.status}`)}catch(St){console.error("Error uploading file:",St),alert("An error occurred while uploading the file.")}})(Ua,Xa)}};return(T,R)=>(Dl(),Al("div"))}},Bs={__name:"Shingle",setup(_){var ve,ie;const{getUser:$}=Ml(),V=Ds(),A=Xl(),b=Tl(),W=As(),x=Ms(),H=Tl(),D=Xs(),q=a(((ie=(ve=A.$state.permitapp[0])==null?void 0:ve.formdt)==null?void 0:ie.muniProc)||""),r=a(H.$state.roofList);let Ye=a(!1);const s=ml(()=>{if(r.value.length===0)return"";for(let g=0;g<r.value.length;g++)r.value[g].item==="Asphalt Shingle"&&(console.log(r.value[g].item),Ye.value=!0,f())});rl(async()=>{await bl(s).toBe(!0),console.log(s)});const f=()=>{var re,Ce,be,De,Ae,Me,Xe,P,G,T,R,p,ne,Et,_e,et,tt,at,lt,st,u,ot,it,nt,dt,wt,ct,Pt,zt,S,pt,Ct;if(W.$state.inputshingle.length===0)console.log("lenghth is zero");else{console.log(V,x);let kt=a(!1),ut=a(!1);V.$state.systeminput.length!==0&&(ut=!0,console.log(ut)),x.$state.polyinput.length!==0&&(kt=!0,console.log(kt));const o=new Pl({orientation:"portrait",unit:"mm",format:"a4",compress:!0}),he=179,i=725,vt=o.getPageInfo(1);vt.pageContext.mediaBox.topRightX;const ta=vt.pageContext.mediaBox.topRightY,h=a(0),Va=a(0);var g=595.28-585.28,e=ta-i;h.value=g,Va.value=e;const je=a((Ce=(re=A.$state.permitapp[0])==null?void 0:re.formdt)==null?void 0:Ce.address),t=a((De=(be=A.$state.permitapp[0])==null?void 0:be.formdt)==null?void 0:De.muni),n=a(((Me=(Ae=A.$state.permitapp[0])==null?void 0:Ae.formdt)==null?void 0:Me.processNumber)||""),B=a($.value[0].dba),ae=a(((P=(Xe=W.$state.inputshingle[0])==null?void 0:Xe.shingleData)==null?void 0:P.height)||""),Rt=a(((T=(G=W.$state.inputshingle[0])==null?void 0:G.shingleData)==null?void 0:T.slope)||""),ht=a(((p=(R=W.$state.inputshingle[0])==null?void 0:R.shingleData)==null?void 0:p.deckType)||""),gt=a(b.$state.roofList[0].dim1),d=a("");o.setGState(new o.GState({opacity:.8}));const Je="Approved";o.setFontSize(18),o.setTextColor(150,150,150),o.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const Bt=new Image,xt=new Image;Bt.src="/demo/images/officepaper.jpeg",xt.src="/demo/images/logo.jpeg",o.addImage(xt,"JPEG",10,0,50,30),o.addImage(Bt,"JPEG",0,0,210,297),o.setFontSize(15),o.setTextColor("green");var Ft=new Date,ze=Ft.toLocaleDateString();o.text(Je,10,270,{align:"left"});const It=o.getTextWidth(Je);o.text("on: "+ze,It+15,270),o.text(`${q.value}`,10,280,{align:"left"});const Ut=o.getTextWidth(`${q.value}`);o.text(`${t.value}`,Ut+15,280);const aa=()=>{o.setFontSize(10),o.setTextColor(0),o.text("The Shingle roof system and its components shall be installed in strict compliance  with the HVHZportions of Chapter 15 FBC, the HVHZ Roof Application Standards(RAS) 111 & 115, and the submitted MDC(NOA) Notice of Acceptance(s).The mePermit applicant agrees to comply with these installation requirements when obtaining this permit.",10,25,{maxWidth:"200"}),o.line(10,43,195,43)};o.setTextColor(0),o.circle(185,39,2,"FD"),o.text("I agree",165,40),aa(),o.setFontSize(12);const Ot=[{category:"DBA",value:`${B.value}`},{category:"Municipality",value:`${t.value}`},{category:"Job Address",value:`${je.value}`},{category:"meProcess Number",value:`${n.value}`}];let la=10,mt=60,Ht=50;o.setFontSize(12),Ot.forEach((M,Y)=>{const I=Ht+Y*10;o.text(M.category,la,I),o.text(M.value,mt,I),o.getTextWidth(M.category);const j=o.getTextWidth(M.value)*2;o.line(mt,I+2,mt+j,I+2)}),o.setFontSize(12);const Ne="Roof Area: ",Gt="Decktype: ",Tt="Mean Roof Height: ",Wt="Roof Slope: ",m=1;e=e+5;const l=o.getTextWidth(Ne),Yt=o.getTextWidth(`${gt.value}`),jt=h.value;o.text(Ne,jt,e);const z=l+jt;o.text(`${gt.value}`,z,e),o.line(z,e+2,z+Yt,e+2),h.value=z+Yt;const ge=o.getTextWidth(Tt),sa=o.getTextWidth(`${ae.value}`),ra=h.value+10;o.text(Tt,ra,e);const c=ge+ra;o.text(`${ae.value}`,c,e),o.line(c,e+2,c+sa,e+2),h.value=c+sa;const La=o.getTextWidth(Wt),Ze=o.getTextWidth(`${Rt.value}`),ke=h.value+10;o.text(Wt,ke,e);const Re=La+ke;o.text(`${Rt.value}`,Re,e),o.line(Re,e+2,Re+Ze,e+2),h.value=Re+Ze,e=e+10;const oa=o.getTextWidth(Gt),ba=o.getTextWidth(`${ht.value}`),ia=g;o.text(Gt,ia,e);const qe=oa+ia;o.text(`${ht.value}`,qe,e),o.line(qe,e+2,qe+ba,e+2),e=e+10;const Da="Shingle NOA Number: ",xe="Shingle Applicant: ",Jt="Shingle Material: ",me="Shingle Description: ",Be="Fastened (UDL)NOA: ",Ke="UDL NOA Applicant: ",Te="Fastened UDL Material: ",na="UDL Description: ",Ca="Perscriptive: ";console.log(W.$state.inputshingle[0]);const sl=a(((Et=(ne=W.$state.inputshingle[0])==null?void 0:ne.shingleData)==null?void 0:Et.noa)||""),ka=a((et=(_e=W.$state.inputshingle[0])==null?void 0:_e.shingleData)==null?void 0:et.applicant)||"",Aa=a(((at=(tt=W.$state.inputshingle[0])==null?void 0:tt.shingleData)==null?void 0:at.material)||""),Ra=a(((st=(lt=W.$state.inputshingle[0])==null?void 0:lt.shingleData)==null?void 0:st.description)||""),da=a(((ot=(u=W.$state.inputshingle[0])==null?void 0:u.shingleData)==null?void 0:ot.prescriptiveSelection)||""),ya=o.getTextWidth(Ca),v=o.getTextWidth(`${da.value}`),Wl=g;o.text(Ca,Wl,e);const N=ya+10;o.text(`${da.value}`,N,e),o.line(N,e+m,N+v,e+m),e=e+8;const _a="DripEdge Material: ",Zt="DripEdge Size: ";console.log(D);const ft=a(((it=D.$state.dripinputshin[1])==null?void 0:it.dripShinMaterial)||""),Ba=a(((nt=D.$state.dripinputshin[3])==null?void 0:nt.dripShinMaterial)||"");console.log(ft,Ba);const ol=o.getTextWidth(_a),il=o.getTextWidth(`${ft.value}`),qt=g;o.text(_a,qt,e);const Ia=ol+qt;o.text(`${ft.value}`,Ia,e),o.line(Ia,e+m,Ia+il,e+m),e=e+10;const Ma=o.getTextWidth(Zt),ca=o.getTextWidth(`${Ba.value}`),Ua=g;o.text(Zt,Ua,e);const Xa=Ma+Ua;o.text(`${Ba.value}`,Xa,e),o.line(Xa,e+m,Xa+ca,e+m),e=e+10;const Oa=o.getTextWidth(xe),$t=o.getTextWidth(`${ka.value}`),pa=g;o.text(xe,pa,e);const We=pa+Oa;o.text(`${ka.value}`,We,e),o.line(We,e+m,We+$t,e+m),h.value=We+$t;const Ie=o.getTextWidth(Da),ua=o.getTextWidth(`${sl.value}`),St=h.value+3;o.text(Da,St,e);const Ha=Ie+St;o.text(`${sl.value}`,Ha,e),o.line(Ha,e+m,Ha+ua,e+m),h.value=Ha+ua,e=e+10;const el=g,fl=o.getTextWidth(Jt),Ga=o.getTextWidth(`${Aa.value}`);o.text(Jt,el,e);const Na=el+fl;o.text(`${Aa.value}`,Na,e),o.line(Na,e+m,Na+Ga,e+m),h.value=Na+Ga,e=e+10,console.log(h.value,he);const Kt=o.getTextWidth(`${Ra.value}`),tl=o.getTextWidth(me);h.value=Na+Ga+Kt+tl+25,console.log(Kt,tl);const nl=g;if(o.text(me,nl,e),Kt>170){e=e+4;const Y=g;o.text(`${Ra.value}`,Y,e),o.line(Y,e+m,Y+Kt,e+m),e=e+8}else{const M=nl+tl;o.text(`${Ra.value}`,M,e),o.line(M,e+m,M+Kt,e+m),h.value=M+Kt}if(e=e+10,console.log(x.$state.polyinput.length),x.$state.polyinput.length===0){const M="n/a",Y="n/a",I="n/a",j="n/a",Fe=o.getTextWidth(Be),de=o.getTextWidth(M),Qe=g;o.text(Be,Qe,e);const ee=Qe+Fe;o.text(M,ee,e),o.line(ee,e+m,ee+de,e+m),h.value=ee+de,console.log(h.value);const te=o.getTextWidth(Ke),fe=o.getTextWidth(Y),$e=h.value+2;o.text(Ke,$e,e);const K=$e+te;o.text(Y,K,e),o.line(K,e+m,K+fe,e+m),h.value=K+fe,console.log(h.value),h.value>he&&(e=e+10);const J=h.value+2,Vt=o.getTextWidth(Te),Ee=o.getTextWidth(I);o.text(Te,J,e);const le=J+Vt;o.text(I,le,e),o.line(le,e+m,le+Ee,e+m),h.value=le+Ee,console.log(h.value),e=e+10,console.log(h.value);const se=o.getTextWidth(na),Le=o.getTextWidth(j),Se=g,Ve=Se+Le;console.log(Ve),o.text(na,Se,e),Ve>he&&print(Ve);const U=Se+se;o.text(j,U,e),o.line(U,e+m,U+Le,e+m),h.value=U+Le,e=e+8}else{const M=a(x.$state.polyinput[0].polyData.noa),Y=a(x.$state.polyinput[0].polyData.applicant),I=a(x.$state.polyinput[0].polyData.material),j=a(x.$state.polyinput[0].polyData.description),Fe=o.getTextWidth(Be),de=o.getTextWidth(`${M.value}`),Qe=g;o.text(Be,Qe,e);const ee=Fe+10;o.text(`${M.value}`,ee,e),o.line(ee,e+m,ee+de,e+m),h.value=ee+de;const te=o.getTextWidth(Ke),fe=o.getTextWidth(`${Y.value}`),$e=h.value+2;o.text(Ke,$e,e);const K=$e+te;o.text(`${Y.value}`,K,e),o.line(K,e+m,K+fe,e+m),h.value=K+fe,e=e+10;const J=g,Vt=o.getTextWidth(Te),Ee=o.getTextWidth(`${I.value}`);o.text(Te,J,e);const le=J+Vt;o.text(`${I.value}`,le,e),o.line(le,e+m,le+Ee,e+m),h.value=le+Ee,e=e+10,console.log(h.value);const se=o.getTextWidth(na),Le=o.getTextWidth(`${j.value}`),Se=g,Ve=Se+Le;console.log(Ve),o.text("UDL Description:",Se,e),Ve>he&&print(Ve);const U=Se+se;o.text(`${j.value}`,U,e),o.line(U,e+m,U+Le,e+m),h.value=U+Le,console.log(h.value),e=e+10}const Ya="Self Adhered NOA: ",ja="S/A NOA Applicant: ",va="S/A System F: ",ha="S/A Material: ",ga="S/A Description: ";if(console.log(V.$state.systeminput.length),V.$state.systeminput.length===0){const M="n/a",Y="n/a",I="n/a",j="n/a",Fe="n/a",de=o.getTextWidth(Ya),Qe=o.getTextWidth(M),ee=g;o.text(Ya,ee,e);const te=ee+de;o.text(M,te,e),o.line(te,e,te+Qe,e),h.value=te+Qe,console.log(h.value);const fe=o.getTextWidth(ja),$e=o.getTextWidth(Y),K=h.value+3;o.text(ja,K,e);const J=K+fe;o.text(Y,J,e),o.line(J,e+m,J+$e,e+m),h.value=J+$e,console.log(h.value);const Vt=o.getTextWidth(va),Ee=h.value+3,le=o.getTextWidth(I);o.text(va,Ee,e);const se=Ee+Vt;o.text(I,se,e),o.line(se,e+m,se+le,e+m),h.value=se+le,console.log(h.value),e=e+10;const Le=o.getTextWidth(ha),Se=o.getTextWidth(j),Ve=g;o.text(ha,Ve,e);const U=Ve+Le;o.text(j,U,e),o.line(U,e+m,U+Se,e+m),h.value=U+Se,console.log(h.value);const rt=o.getTextWidth(ga),xa=o.getTextWidth(Fe),Ja=h.value+3;o.text(ga,Ja,e);const Qt=Ja+rt;o.text(Fe,Qt,e),o.line(Qt,e+m,Qt+xa,e+m),h.value=Qt+xa,console.log(h.value)}else{console.log("Entered sbs line 509",V.$state);const M=a((wt=(dt=V.$state.systeminput[0])==null?void 0:dt.systemData)==null?void 0:wt.noa),Y=a((Pt=(ct=V.$state.systeminput[0])==null?void 0:ct.systemData)==null?void 0:Pt.manufacturer),I=a(V.$state.systeminput.pdfSystemValue),j=a((S=(zt=V.$state.systeminput[0])==null?void 0:zt.systemData)==null?void 0:S.material),Fe=a((Ct=(pt=V.$state.systeminput[0])==null?void 0:pt.systemData)==null?void 0:Ct.description),de=o.getTextWidth(Ya),Qe=o.getTextWidth(`${M.value}`),ee=g;o.text(Ya,ee,e);const te=ee+de;o.text(`${M.value}`,te,e),o.line(te,e+m,te+Qe,e+m),h.value=te+Qe;const fe=o.getTextWidth(ja),$e=o.getTextWidth(`${Y.value}`),K=h.value+3;o.text(ja,K,e);const J=K+fe;o.text(`${Y.value}`,J,e),o.line(J,e+m,J+$e,e+m),h.value=J+$e,console.log(h.value);const Vt=o.getTextWidth(va),Ee=o.getTextWidth(`${I.value}`),le=h.value+3;o.text(va,le,e);const se=le+Vt;o.text(`${I.value}`,se,e),o.line(se,e+m,se+Ee,e+m),h.value=se+Ee,e=e+10,console.log(h.value);const Le=o.getTextWidth(ha),Se=o.getTextWidth(`${j.value}`),Ve=g;o.text(ha,Ve,e);const U=Ve+Le;o.text(`${j.value}`,U,e),o.line(U,e+m,U+Se,e+m),h.value=U+Se,h.value>he&&(e=e+10),console.log(h.value);const rt=o.getTextWidth(ga),xa=o.getTextWidth(`${Fe.value}`),Ja=h.value+3;o.text(ga,Ja,e);const Qt=Ja+rt;o.text(`${Fe.value}`,Qt,e),o.line(Qt,e+m,Qt+xa,e+m),h.value=Qt+xa,h.value>=he&&(e=e+10),console.log(h.value)}const $l="Shingle.pdf",Sl=o.output("blob");(async(M,Y)=>{const I=M;console.log(I);const j=I;console.log(j);const Fe=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${q.value}/${j}`;try{const de=await fetch(Fe,{method:"PUT",headers:{"Content-Type":I.type},body:Y});de.ok?(d.value=Fe,alert("Shingle File uploaded successfully!")):alert(`Failed to upload file. Status: ${de.status}`)}catch(de){console.error("Error uploading file:",de),alert("An error occurred while uploading the file.")}})($l,Sl)}};return(g,e)=>(Dl(),Al("div"))}},Is=vs(()=>{const _=a([]),$=hs(()=>_.value);function V(A){_.value.push(A)}return{tilenoa:_,getNumber:$,addNoa:V}}),Us={__name:"TileAdhesive",setup(_){const $=ls(),V=ss(),{getUser:A}=Ml(),{tileInputvalues:b}=Ns(),{savedTileinput:W}=Fs(),x=Xl(),H=Tl(),D=a(H.$state.roofList);Is();const q=Es();let r=a(!1);const Ye=ml(()=>{if(D.value.length===0)return"";for(let f=0;f<D.value.length;f++)D.value[f].item==="Adhesive Set Tile"&&(console.log(D.value[f].item),r.value=!0,s())});rl(async()=>{await bl(Ye).toBe(!0)});const s=()=>{var re,Ce,be,De,Ae,Me,Xe,P,G,T,R,p,ne,Et,_e,et,tt,at,lt,st,u,ot,it,nt,dt,wt,ct,Pt,zt,S,pt,Ct,kt,ut,o,he,i,vt,ta,h,Va,je,t,n,B,ae,Rt,ht,gt,d,Je,Bt,xt,It,Ut,aa,Ot,la,mt,Ht,Ne,Gt,Tt,Wt,m;console.log(b,(Ce=(re=W[0])==null?void 0:re.savedValues)==null?void 0:Ce.paddySelection);const f=a(((De=(be=W[0])==null?void 0:be.savedValues)==null?void 0:De.paddySelection)||""),ve=a(!1),ie=a(!1);if(console.log(f.value),f.value==="single"?(ve.value=!0,console.log(ve.value)):(ie.value=!0,console.log(ie.value)),b[0].length===0)console.log("lenghth is zero");else{const l=new Pl({orientation:"portrait",unit:"mm",format:"a4",compress:!0});let Yt=a(!1),jt=a(!1);V.$state.tilesysEinput.length!==0&&(Yt=!0,console.log(Yt)),$.$state.tilefinput.length!==0&&(jt=!0,console.log(jt));const z=179,ge=725,sa=l.getPageInfo(1);sa.pageContext.mediaBox.topRightX;const ra=sa.pageContext.mediaBox.topRightY,c=a(0),La=a(0);var g=595.28-585.28,e=ra-ge;c.value=g,La.value=e;const Ze=ve.value===!0?a(((Ae=b[0])==null?void 0:Ae.tileValues[0].singlepaddyData)||""):a(((Me=b[0])==null?void 0:Me.tileValues[0].doublepaddyData)||"");console.log(Ze.value);const ke=a(((P=(Xe=W[0])==null?void 0:Xe.savedValues)==null?void 0:P.height)||""),Re=a(((T=(G=W[0])==null?void 0:G.savedValues)==null?void 0:T.slope)||"");console.log(x.$state.permitapp[0].muniNum);const oa=a(((p=(R=W[0])==null?void 0:R.savedValues)==null?void 0:p.area)||""),ba=a(((Et=(ne=W[0])==null?void 0:ne.savedValues)==null?void 0:Et.Decktype)||""),ia=a(((et=(_e=W[0])==null?void 0:_e.savedValues)==null?void 0:et.perimeter)||""),qe=a(((at=(tt=x.$state.permitapp[0])==null?void 0:tt.formdt)==null?void 0:at.address)||""),Da=a(((st=(lt=x.$state.permitapp[0])==null?void 0:lt.formdt)==null?void 0:st.muni)||""),xe=a(((ot=(u=x.$state.permitapp[0])==null?void 0:u.formdt)==null?void 0:ot.muniProc)||""),Jt=a(((nt=(it=x.$state.permitapp[0])==null?void 0:it.formdt)==null?void 0:nt.processNumber)||""),me=a(""),Be=a(((dt=A.value[0])==null?void 0:dt.dba)||"");l.setGState(new l.GState({opacity:.8}));const Ke="Approved";l.setFontSize(24),l.setTextColor(150,150,150),l.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const Te=new Image,na=new Image;Te.src="/demo/images/officepaper.jpeg",na.src="/demo/images/logo.jpeg",l.addImage(na,"JPEG",5,0,50,30),l.addImage(Te,"JPEG",0,0,210,297),l.setFontSize(18),l.setTextColor("green");var Ft=new Date,ze=Ft.toLocaleDateString();l.text(Ke,10,270,{align:"left"});const Ca=l.getTextWidth(Ke);l.text("on: "+ze,Ca+15,270),l.text(`${xe.value}`,10,280,{align:"left"});const sl=l.getTextWidth(`${xe.value}`);l.text(`${Da.value}`,sl+15,280),l.setFontSize(12);const ka=()=>{l.setFontSize(12),l.setTextColor(0),l.text("The tile roof system and its components shall be installed in strict compliance with the FBC 2023 HVHZ portions of Chapter 15, the HVHZ Tile Application Standards: RAS-119, RAS-120 & RAS-127 and the submitted MDC Notice of Acceptance(s). The mePermit applicant agrees to comply with these installation requirements when obtaining this permit.",10,25,{maxWidth:"200"}),l.line(10,41,195,41)};l.setTextColor(0),l.circle(185,38,2,"FD"),l.text("I agree",165,39),ka(),l.setFontSize(12),l.setFontSize(12);const Aa=[{category:"DBA",value:`${Be.value}`},{category:"Municipality",value:`${Da.value}`},{category:"Job Address",value:`${qe.value}`},{category:"meProcess Number",value:`${Jt.value}`}];let Ra=10,da=60,ya=50;l.setFontSize(12),Aa.forEach((E,oe)=>{const y=ya+oe*10;l.text(E.category,Ra,y),l.text(E.value,da,y),l.getTextWidth(E.category);const Ge=l.getTextWidth(E.value)*2;l.line(da,y+2,da+Ge,y+2)}),l.setFontSize(12);const v=2,N=90,_a="Roof Area: ",Zt="DeckType: ",ft="Mean Roof Height: ",Ba="Roof Slope: ",ol="Roof Perimeter: ";c.value=g;const il=l.getTextWidth(_a),qt=l.getTextWidth(`${oa.value}`),Ia=c.value;l.text(_a,Ia,N);const Ma=il+Ia;l.text(`${oa.value}`,Ma,N),l.line(Ma,N+v,Ma+qt,N+v),c.value=Ma+qt,console.log(e,N);const ca=l.getTextWidth(ft),Ua=l.getTextWidth(`${ke.value}`),Xa=c.value+10;l.text(ft,Xa,N);const Oa=ca+Xa;l.text(`${ke.value}`,Oa,N),l.line(Oa,N+v,Oa+Ua,N+v),c.value=Oa+Ua;const $t=l.getTextWidth(Ba),pa=l.getTextWidth(`${Re.value}`),We=c.value+10;l.text(Ba,We,N);const Ie=$t+We;l.text(`${Re.value}`,Ie,N),l.line(Ie,N+v,Ie+pa,N+v),c.value=Ie+pa;const ua=l.getTextWidth(ol),St=l.getTextWidth(`${ia.value}`),Ha=c.value+10;l.text(ol,Ha,N);const el=ua+Ha;l.text(`${ia.value}`,el,N),l.line(el,N+v,el+St,N+v),console.log(N,e),e=N+10;const fl=l.getTextWidth(Zt),Ga=l.getTextWidth(`${ba.value}`),Na=g;l.text(Zt,Na,e);const Kt=fl+Na;l.text(`${ba.value}`,Kt,e),l.line(Kt,e+v,Kt+Ga,e+v),e=e+10;const tl="Tile NOA Number: ",nl="Tile Applicant: ",Ya="Tile Material: ",ja="Tile Description: ",va="Fastened Underlayment(UDL)NOA: ",ha="UDL NOA Applicant: ",ga="Fastened UDL Material: ",$l="Select System E: ",Sl="Design psf: ",hl="Anchor Base Sheet: ",M="UDL Description: ",Y="Select Underlayment: ",I="DripEdge Material: ",j="DripEdge Size: ",Fe=a(((wt=q.$state.dripinputadt[4])==null?void 0:wt.dripTileMaterial)||""),de=a(((ct=q.$state.dripinputadt[6])==null?void 0:ct.dripTileMaterial)||""),Qe=l.getTextWidth(I),ee=l.getTextWidth(`${Fe.value}`),te=g;l.text(I,te,e);const fe=Qe+te;l.text(`${Fe.value}`,fe,e),l.line(fe,e+v,fe+ee,e+v),e=e+10;const $e=l.getTextWidth(j),K=l.getTextWidth(`${de.value}`),J=g;l.text(j,J,e);const Vt=$e+J;l.text(`${de.value}`,Vt,e),l.line(Vt,e+v,Vt+K,e+v),e=e+10,console.log(W);const Ee=a(((zt=(Pt=W[0])==null?void 0:Pt.savedValues)==null?void 0:zt.zoneone.mf1)||""),le=a(((pt=(S=W[0])==null?void 0:S.savedValues)==null?void 0:pt.zoneone.lambda1)||""),se=a(((kt=(Ct=W[0])==null?void 0:Ct.savedValues)==null?void 0:kt.zoneone.mg1)||""),Le=a(((o=(ut=W[0])==null?void 0:ut.savedValues)==null?void 0:o.zoneone.mr1)||""),Se=a(((i=(he=W[0])==null?void 0:he.savedValues)==null?void 0:i.zoneone.zone1)||""),Ve=a(((ta=(vt=W[0])==null?void 0:vt.savedValues)==null?void 0:ta.zonetwo.mf2)||""),U=a(((Va=(h=W[0])==null?void 0:h.savedValues)==null?void 0:Va.zonetwo.lambda2)||""),rt=a(((t=(je=W[0])==null?void 0:je.savedValues)==null?void 0:t.zonetwo.mg2)||""),xa=a(((B=(n=W[0])==null?void 0:n.savedValues)==null?void 0:B.zonetwo.mr2)||""),Ja=a(((Rt=(ae=W[0])==null?void 0:ae.savedValues)==null?void 0:Rt.zonetwo.zone2)||""),Qt=a(((gt=(ht=W[0])==null?void 0:ht.savedValues)==null?void 0:gt.zonethree.mf3)||""),dl=a(((Je=(d=W[0])==null?void 0:d.savedValues)==null?void 0:Je.zonethree.lambda3)||""),Yl=a(((xt=(Bt=W[0])==null?void 0:Bt.savedValues)==null?void 0:xt.zonethree.mg3)||""),jl=a((Ut=(It=W[0])==null?void 0:It.savedValues)==null?void 0:Ut.zonethree.mr3),Jl=a(((Ot=(aa=W[0])==null?void 0:aa.savedValues)==null?void 0:Ot.zonethree.zone3)||""),F=a((mt=(la=W[0])==null?void 0:la.savedValues)==null?void 0:mt.prescriptiveSelection.selectedBasesheet),C=l.getTextWidth(F.value);console.log(F,C);const X=g;l.text(Y,X,e+v);const w=g;if(e=e+10,l.text(`${F.value}`,w,e),l.line(w,e+v,w+C,e+v),e=e+10,V.$state.tilesysEinput.length===0){const E="n/a",oe="n/a",y="n/a",Ge="n/a",yt=l.getTextWidth(va),Dt=l.getTextWidth(E),Pa=g;l.text(va,Pa,e);const Wa=Pa+yt+2;l.text(E,Wa,e),l.line(Wa,e+v,Wa+Dt,e+v),c.value=Wa+Dt,console.log(c.value);const At=l.getTextWidth(ha),cl=l.getTextWidth(oe),_t=c.value+2;l.text(ha,_t,e);const fa=_t+At;l.text(oe,fa,e),l.line(fa,e+v,fa+cl,e+v),c.value=fa+cl,console.log(c.value),c.value>z&&(e=e+10);const Mt=c.value+2,pl=l.getTextWidth(ga),ea=l.getTextWidth(y);l.text(ga,Mt,e);const $a=Mt+pl;l.text(y,$a,e),l.line($a,e+v,$a+ea,e+v),c.value=$a+ea,console.log(c.value),c.value>z&&(e=e+10),console.log(c.value);const Xt=l.getTextWidth(M),ll=l.getTextWidth(Ge),Sa=g,Nt=Sa+ll;console.log(Nt),l.text(M,Sa,e),Nt>z&&print(Nt);const Pe=Sa+Xt;l.text(Ge,Pe,e),l.line(Pe,e+v,Pe+ll,e+v),c.value=Pe+ll,e=e+10}else{const E=a(V.$state.tilesysEinput[0].systemDataE.noa),oe=a(V.$state.tilesysEinput[0].systemDataE.manufacturer),y=a(V.$state.tilesysEinput[0].systemDataE.material),Ge=a(V.$state.tilesysEinput[0].systemDataE.systemSelected),yt=a(V.$state.tilesysEinput[0].systemDataE.dP),Dt=a(V.$state.tilesysEinput[0].systemDataE.Anchor_Base),Pa=a(V.$state.tilesysEinput[0].systemDataE.tileCap),Wa=l.getTextWidth(va),At=l.getTextWidth(`${E.value}`),cl=g;l.text(va,cl,e);const _t=Fl+Wa;l.text(`${E.value}`,_t,e),l.line(_t,e+v,_t+At,e+v),c.value=_t+At;const fa=l.getTextWidth(ha),Mt=l.getTextWidth(`${oe.value}`),pl=c.value+2;l.text(ha,pl,e);const ea=pl+fa;l.text(`${oe.value}`,ea,e),l.line(ea,e+v,ea+Mt,e+v);const $a=l.getTextWidth(`${y.value}`);c.value=ea+$a,e=e+10;const Xt=g,ll=l.getTextWidth(ga),Sa=l.getTextWidth(`${y.value}`);l.text(ga,Xt,e);const Nt=Xt+ll;l.text(`${y.value}`,Nt,e),l.line(Nt,e+v,Nt+Sa,e+v),c.value=Nt+Sa,c.value>z&&(e=e+10);const Pe=c.value+5,El=l.getTextWidth($l),ul=l.getTextWidth(`${Ge.value}`);l.text($l,Pe,e);const Ka=Pe+El;l.text(`${Ge.value}`,Ka,e),l.line(Ka,e+v,Ka+ul,e+v),c.value=Ka+ul,c.value>z&&(e=e+10);const za=l.getTextWidth(Sl),Zl=l.getTextWidth(`${yt.value}`),ql=c.value+3;l.text(Sl,ql,e);const Rl=ql+za;l.text(`${yt.value}`,Rl,e),l.line(Rl,e+v,Rl+Zl,e+v),c.value=Rl+Zl,console.log(c.value),e=e+10,l.getTextWidth(hl);const Kl=l.getTextWidth(`${Dt.value}`),is=g;l.text(hl,is,e),e=e+10;const Bl=g;l.text(`${Dt.value}`,Bl,e),l.line(Bl,e+v,Bl+Kl,e+v),c.value=Bl+Kl,e=e+10;const ns=l.getTextWidth(M),Ql=l.getTextWidth(`${Pa.value}`),Ll=g;l.text(M,Ll,e);const Il=Ll+ns;l.text(`${Pa.value}`,Il,e),l.line(Il,e+v,Il+Ql,e+v),c.value=Il+Ql,console.log(c.value),e=e+10}const Z="Self Adhered NOA: ",O="S/A NOA Applicant: ",Q="S/A System F: ",k="S/A Material: ",ce="S/A Description: ";if($.$state.tilefinput.length===0){const E="n/a",oe="n/a",y="n/a",Ge="n/a",yt="n/a",Dt=l.getTextWidth(Z),Pa=l.getTextWidth(E),Wa=g;l.text(Z,Wa,e);const At=Wa+Dt;l.text(E,At,e),l.line(At,e+v,At+Pa,e+v),c.value=At+Pa,console.log(c.value);const cl=l.getTextWidth(O),_t=l.getTextWidth(oe),fa=c.value+3;l.text(O,fa,e);const Mt=fa+cl;l.text(oe,Mt,e),l.line(Mt,e+v,Mt+_t,e+v),c.value=Mt+_t,console.log(c.value);const pl=l.getTextWidth(Q),ea=c.value+3,$a=l.getTextWidth(y);l.text(Q,ea,e);const Xt=ea+pl;l.text(y,Xt,e),l.line(Xt,e+v,Xt+$a,e+v),c.value=Xt+$a,console.log(c.value),e=e+10;const ll=l.getTextWidth(k),Sa=l.getTextWidth(Ge),Nt=g;l.text(k,Nt,e);const Pe=Nt+ll;l.text(Ge,Pe,e),l.line(Pe,e+v,Pe+Sa,e+v),c.value=Pe+Sa,console.log(c.value);const El=l.getTextWidth(ce),ul=l.getTextWidth(yt),Ka=c.value+3;l.text(ce,Ka,e);const za=Ka+El;l.text(yt,za,e),l.line(za,e+v,za+ul,e+v),c.value=za+ul,console.log(c.value)}else{console.log("Entered sbs line 455",$.$state);const E=a($.$state.tilefinput[0].systemData.noa),oe=a($.$state.tilefinput[0].systemData.manufacturer),y=a($.$state.tilefinput[0].systemData.pressure),Ge=a($.$state.tilefinput[0].systemData.material),yt=a($.$state.tilefinput[0].systemData.description),Dt=l.getTextWidth(Z),Pa=l.getTextWidth(`${E.value}`),Wa=g;l.text(Z,Wa,e);const At=Wa+Dt;l.text(`${E.value}`,At,e),l.line(At,e+v,At+Pa,e+v),c.value=At+Pa;const cl=l.getTextWidth(O),_t=l.getTextWidth(`${oe.value}`),fa=c.value+3;l.text(O,fa,e);const Mt=fa+cl;l.text(`${oe.value}`,Mt,e),l.line(Mt,e+v,Mt+_t,e+v),c.value=Mt+_t,console.log(c.value);const pl=l.getTextWidth(Q),ea=l.getTextWidth(`${y.value}`),$a=c.value+3;l.text(Q,$a,e);const Xt=$a+pl;l.text(`${y.value}`,Xt,e),l.line(Xt,e+v,Xt+ea,e+v),c.value=Xt+ea,e=e+10;const ll=l.getTextWidth(k),Sa=l.getTextWidth(`${Ge.value}`),Nt=g;l.text(k,Nt,e);const Pe=Nt+ll;l.text(`${Ge.value}`,Pe,e),l.line(Pe,e+v,Pe+Sa,e+v),c.value=Pe+Sa,c.value>z&&(e=e+10);const El=l.getTextWidth(ce),ul=l.getTextWidth(`${yt.value}`),Ka=c.value+3;l.text(ce,Ka,e);const za=Ka+El;l.text(`${yt.value}`,za,e),l.line(za,e+v,za+ul,e+v),c.value=za+ul,c.value>=z&&(e=e+10),console.log(c.value)}e=e+10;const ma=a(Ze.value.noa),Ue=a((Ne=(Ht=W[0])==null?void 0:Ht.savedValues)==null?void 0:Ne.applicant),Oe=a((Tt=(Gt=W[0])==null?void 0:Gt.savedValues)==null?void 0:Tt.material),pe=a((m=(Wt=W[0])==null?void 0:Wt.savedValues)==null?void 0:m.description),Za=l.getTextWidth(nl),He=l.getTextWidth(`${Ue.value}`),ye=g;l.text(nl,ye,e);const ue=ye+Za;l.text(`${Ue.value}`,ue,e),l.line(ue,e+v,ue+He,e+v),c.value=ue+He;const Fa=l.getTextWidth(tl),bt=l.getTextWidth(`${ma.value}`),we=c.value+3;l.text(tl,we,e);const L=Fa+we;l.text(`${ma.value}`,L,e),l.line(L,e+v,L+bt,e+v),e=e+10;const gl=l.getTextWidth(`${Oe.value}`);c.value>z&&(e=e+10),c.value=L+gl;const Ea=g,Ta=l.getTextWidth(Ya),Lt=l.getTextWidth(`${Oe.value}`);l.text(Ya,Ea,e);const xl=Ea+Ta;l.text(`${Oe.value}`,xl,e),l.line(xl,e+v,xl+Lt,e+v),e=e+5;const zl=l.getTextWidth(`${pe.value}`);c.value=xl+zl,c.value>z&&(e=e+5),console.log(c.value,z),e=e+5;const wa=l.getTextWidth(`${pe.value}`),Nl=l.getTextWidth(ja);console.log(wa,Nl);const Fl=g;if(l.text(ja,Fl,e),wa>220){e=e+4;const E=g;l.text(`${pe.value}`,E,e),l.line(E,e+v,E+wa,e+v),c.value=E+wa,e=e+8}else{const E=Fl+Nl;l.text(`${pe.value}`,E,e),l.line(E,e+v,E+wa,e+v),c.value=E+wa,e=e+5}e=e+10,l.setFontSize(12);const al=new Image;al.src="/demo/images/lambda.png",console.log(c.value,e);const Cl=[["Zone 1:",`${Se.value}`,"x",`${le.value}`,"- Mg:",`${se.value}`,"= Mr1:",`${Le.value}`,"NOA Mf:",`${Ee.value}`],["Zone 2:",`${Ja.value}`,"x",`${U.value}`,"- Mg:",`${rt.value}`,"= Mr2:",`${xa.value}`,"NOA Mf:",`${Ve.value}`],["Zone 3:",`${Jl.value}`,"x",`${dl.value}`,"- Mg:",`${Yl.value}`,"= Mr2:",`${jl.value}`,"NOA Mf:",`${Qt.value}`]];console.log(Cl);let kl=g-1,qa=e;Cl.forEach(E=>{let oe=kl;E.forEach(y=>{console.log(oe,qa),l.text(String(y),oe,qa),oe+=18}),l.addImage(al,"png",50,qa-4,5,5),l.addImage(al,"png",50,qa-4,5,5),l.addImage(al,"png",50,qa-4,5,5),qa+=5,console.log(oe,qa)});const Vl="TileAdhesive.pdf",os=l.output("blob");(async(E,oe)=>{const y=E,Ge=y;console.log(Ge);const yt=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${xe.value}/${Ge}`;try{const Dt=await fetch(yt,{method:"PUT",headers:{"Content-Type":y.type},body:oe});Dt.ok?(me.value=yt,alert("TileAdhesive File uploaded successfully!")):alert(`Failed to upload file. Status: ${Dt.status}`)}catch(Dt){console.error("Error uploading file:",Dt),alert("An error occurred while uploading the file.")}})(Vl,os)}};return(f,ve)=>(Dl(),Al("div"))}};function Os(){const _=a(),$=a([]);let V=a([]);const A=ws(),b=a(),W=a("");let x="https://2dz45lw4aeav6valksiiquuwqq0ejsio.lambda-url.us-east-1.on.aws/";const{execute:H,then:D,data:q}=ts(x,{method:"GET"},{immediate:!1}),r=Gl({noa:"",manufacturer:"",material:"",description:"",Table2:[],Table3:[],expiration_date:"",resistance:[],selection:"",select_tile:[],tile_map:[],table2_map:[],two_ten_d_RS_Nails:null,one_number_eight_screw:null,two_number_eight_screw:null,mechanicaltilefastener:[],fastenerValues:[],height:null,area:null,slope:null,perimeter:null,decktype:null});function Ye(f){_.value=f,console.log(_.value),b.value=Number(_.value),s()}const s=async()=>{try{const f=await H({params:{NOA:b.value}}).then(ve=>($.value=q.value,console.log(q.value),$.value));console.log(f.length),f.length===0||(console.log($.value),r.noa=$.value[0].NOA,r.manufacturer=$.value[0].applicant,r.material=$.value[0].material,r.selection=$.value[0].AdhesiveMaterials,r.description=$.value[0].description,r.select_tile=$.value[0].Select_Tile,r.tile_map=$.value[0].Tile_Map,r.table2_map=$.value[0].Table2_Map,r.Table2=$.value[0].Table2,r.Table3=$.value[0].Table3,r.resistance=$.value[0].Resistance,r.expiration_date=$.value[0].expiration_date,r.two_ten_d_RS_Nails=$.value[0].two_ten_d_RS_Nails,r.one_number_eight_screw=$.value[0].one_number_eight_screw,r.two_number_eight_screw=$.value[0].two_number_eight_screw,r.mechanicaltilefastener=$.value[0].mechanicaltilefastener,r.fastenerValues=$.value[0].fastenerValues,A.addNoa(r),console.log(r,"System added"))}catch(f){console.log("Error, fectching data",f)}return V};return{input:_,fetchData:s,takeMechInput:Ye,noaNum:$,error:W,results:V,...gs(r),mechStore:A}}const Hs={__name:"TileMechanical",setup(_){const{getUser:$}=Ml(),V=a(!1),A=Xl(),b=Tl(),W=a(b.$state.roofList),{mechStore:x}=Os(),H=ls(),D=ss(),q=Ps(),r=ml(()=>{if(W.value.length===0)return"";for(let s=0;s<W.value.length;s++)W.value[s].item==="Mechanical Fastened Tile"&&(console.log(W.value[s].item),V.value=!0,Ye())});rl(async()=>{await bl(r).toBe(!0),console.log(r)});const Ye=()=>{var g,e,Ft,ze,re,Ce,be,De,Ae,Me,Xe,P,G,T,R,p,ne,Et,_e,et,tt,at,lt,st,u,ot,it,nt,dt,wt,ct,Pt,zt,S,pt,Ct,kt,ut,o,he,i,vt,ta;if(x.tilemech.value.length===0)console.log("lenghth is   zero");else{let h=a(!1),Va=a(!1),je=a(!1);((e=(g=x.tilemech.value[0])==null?void 0:g.Table2)==null?void 0:e.content)==="multiple"&&(je=!0),D.$state.tilesysEinput.length!==0&&(h=!0,console.log(h,D)),H.$state.tilefinput.length!==0&&(Va=!0,console.log(Va));const t=new Pl({orientation:"portrait",unit:"mm",format:"a4",compress:!0}),n=1,B=90,ae=179,Rt=725,ht=t.getPageInfo(1);console.log(ht),ht.pageContext.mediaBox.topRightX;const gt=ht.pageContext.mediaBox.topRightY,d=a(0),Je=a(0);var s=gt-Rt,f=595.28-585.28;d.value=f,Je.value=s,console.log(A.$state.permitapp),console.log(x.tilemech.value[0]);const Bt=a(((Ft=x.tilemech.value[0])==null?void 0:Ft.height)||"N/A"),xt=a(((ze=x.tilemech.value[0])==null?void 0:ze.slope)||"N/A"),It=a(((re=x.tilemech.value[0])==null?void 0:re.decktype)||"N/A"),Ut=a(((Ce=x.tilemech.value[0])==null?void 0:Ce.perimeter)||"N/A"),aa=a((De=(be=D.$state.tilesysEinput[0])==null?void 0:be.systemDataE)==null?void 0:De.prescriptiveSelection);console.log(x.tilemech.value[0].prescriptiveSelection);const Ot=h===!0?aa:a(((Ae=x.tilemech.value[0])==null?void 0:Ae.prescriptiveSelection)||"N/A"),la=a(((Me=x.tilemech.value[0])==null?void 0:Me.area)||""),mt=a(((P=(Xe=A.$state.permitapp[0])==null?void 0:Xe.formdt)==null?void 0:P.address)||""),Ht=a(((T=(G=A.$state.permitapp[0])==null?void 0:G.formdt)==null?void 0:T.muni)||"");a(((p=(R=A.$state.permitapp[0])==null?void 0:R.formdt)==null?void 0:p.processNumber)||"");const Ne=a(((Et=(ne=A.$state.permitapp[0])==null?void 0:ne.formdt)==null?void 0:Et.muniProc)||""),Gt=a(((_e=q.$state.dripinputmecht[5])==null?void 0:_e.dripMTileMaterial)||""),Tt=a(((et=q.$state.dripinputmecht[7])==null?void 0:et.dripMTileMaterial)||"");console.log(x.tilemech.value[0]),s=s+10;const Wt=a(x.tilemech.value[0].mf1||""),m=a(x.tilemech.value[0].lambda1||""),l=a(x.tilemech.value[0].mg1||""),Yt=a(x.tilemech.value[0].mr1||""),jt=a(x.tilemech.value[0].zoneone||""),z=a(x.tilemech.value[0].mf2||""),ge=a(x.tilemech.value[0].lambda2||""),sa=a(x.tilemech.value[0].mg2||""),ra=a(x.tilemech.value[0].mr2||""),c=a(x.tilemech.value[0].zonetwo||""),La=a(x.tilemech.value[0].mf3||""),Ze=a(x.tilemech.value[0].lambda3||""),ke=a(x.tilemech.value[0].mg3||""),Re=a(x.tilemech.value[0].mr3),oa=a(x.tilemech.value[0].zonethree||""),ba=a(""),ia=a($.value[0].dba);t.setGState(new t.GState({opacity:.8}));const qe="Approved";t.setFontSize(24),t.setTextColor(150,150,150),t.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const Da=new Image,xe=new Image,Jt=new Image;Da.src="/demo/images/officepaper.jpeg",xe.src="/demo/images/logo.jpeg",Jt.src="/demo/images/lambda.jpeg",t.addImage(xe,"JPEG",10,0,50,30),t.addImage(Da,"JPEG",0,0,210,297),t.setFontSize(15),t.setTextColor("green");var ve=new Date,ie=ve.toLocaleDateString();t.text(qe,10,270,{align:"left"});const me=t.getTextWidth(qe);t.text("on: "+ie,me+15,270),t.text(`${Ne.value}`,10,280,{align:"left"});const Be=t.getTextWidth(`${Ne.value}`);t.text(`${Ht.value}`,Be+15,280);const Ke=()=>{t.setFontSize(12),t.setTextColor(0),t.text("The tile roof system and its components shall be installed in strict compliance with the FBC 2023 HVHZ portions of Chapter 15, the HVHZ Tile Application Standards: RAS-119, RAS-120 & RAS-127 and the submitted MDC Notice of Acceptance(s).",10,29,{maxWidth:"200"}),t.line(10,41,195,41)};t.setTextColor(0),t.circle(189,38,2,"FD"),t.text("I agree",165,39),Ke(),t.setFontSize(12);const Te=[{category:"DBA",value:`${ia.value}`},{category:"Municipality",value:`${Ht.value}`},{category:"Job Address",value:`${mt.value}`},{category:"Process Number",value:`${Ne.value}`}];let na=10,Ca=60,sl=50;t.setFontSize(12),Te.forEach((F,C)=>{const X=sl+C*10;t.text(F.category,na,X),t.text(F.value,Ca,X),t.getTextWidth(F.category);const w=t.getTextWidth(F.value)*2;t.line(Ca,X+2,Ca+w,X+2)}),t.setFontSize(12),console.log(s);const ka="Roof Perimeter: ",Aa=t.getTextWidth("Roof Area: "),Ra=t.getTextWidth(`${la.value}`);t.text("Roof Area:",f,B);const da=Aa+10;t.text(`${la.value}`,da,B),t.line(da,B+n,da+Ra,B+n),d.value=Aa+Ra,console.log(d.value);const ya=t.getTextWidth("Mean Roof Height:"),v=t.getTextWidth(`${Bt.value}`),Wl=d.value+15;t.text("Mean Roof Height:",Wl,B);const N=ya+45;t.text(`${Bt.value}`,N,B),t.line(N,B+n,N+v,B+n),d.value=ya+v,console.log(d.value),t.getTextWidth("Roof Slope: ");const _a=t.getTextWidth(`${xt.value}`),Zt=d.value+50;t.text("Roof Slope:",Zt,B);const ft=Zt+25;t.text(`${xt.value}`,ft,B),t.line(ft,B+n,ft+_a,B+n),d.value=d.value+ft;const Ba=t.getTextWidth(ka),ol=t.getTextWidth(`${Ut.value}`),il=d.value-30;t.text(ka,il,B);const qt=Ba+il+2;t.text(`${Ut.value}`,qt,B),t.line(qt,B+n,qt+ol,B+n),s=B+30;const Ia=t.getTextWidth("Deck Type"),Ma=t.getTextWidth(`${It.value}`);d.value=d.value+Ia-30,t.text("Decktype:",d.value,s);const ca=d.value+20;t.text(`${It.value}`,ca,s),t.line(ca,s+n,ca+Ma,s+n),d.value=ca+Ma;const Ua="Tile NOA Number: ",Xa="Tile Applicant: ",Oa="Tile Material: ",$t="Tile Type: ",pa="Tile Description: ",We="Select Mechanical Tile Fastener: ",Ie="Fastened (UDL) NOA: ",ua="(UDL) NOA Applicant: ",St="Fastened (UDL) Material: ",Ha="Select System E: ",el="Design psf: ",fl="Anchor Base Sheet: ",Ga="(UDL) Description: ",Na="Prescriptive: ",Kt="DripEdge Material: ",tl="DripEdge Size: ";console.log(x.tilemech.value[0]),console.log(x.tilemech.value[0]);const nl=a((tt=x.tilemech.value[0])==null?void 0:tt.noa),Ya=a((at=x.tilemech.value[0])==null?void 0:at.manufacturer),ja=a((lt=x.tilemech.value[0])==null?void 0:lt.material),va=je===!0?a((st=x.tilemech.value[0])==null?void 0:st.tiletype):a((u=x.tilemech.value[0])==null?void 0:u.material),ha=je!==!0?a((ot=x.tilemech.value[0])==null?void 0:ot.savedfastener):a((it=x.tilemech.value[0])==null?void 0:it.description),ga=je===!0?a((nt=x.tilemech.value[0])==null?void 0:nt.savedfastener):a((dt=x.tilemech.value[0])==null?void 0:dt.description);console.log(s),t.getTextWidth(Na);const $l=t.getTextWidth(`${Ot.value}`),Sl=f;t.text(Na,Sl,s-15);const hl=f;s=s-9,t.text(`${Ot.value}`,hl,s),t.line(hl,s+n,hl+$l,s+n),s=s+10;const M=t.getTextWidth(Kt),Y=t.getTextWidth(`${Gt.value}`),I=f;t.text(Kt,I,s);const j=M+I;t.text(`${Gt.value}`,j,s),t.line(j,s+n,j+Y,s+n),s=s+8;const Fe=t.getTextWidth(tl),de=t.getTextWidth(`${Tt.value}`),Qe=f;t.text(tl,Qe,s);const ee=Fe+Qe;if(t.text(`${Tt.value}`,ee,s),t.line(ee,s+n,ee+de,s+n),s=s+10,t.setFontSize(12),D.$state.tilesysEinput.length===0){const F="n/a",C="n/a",X="n/a",w="n/a",Z=t.getTextWidth(Ie),O=t.getTextWidth(F),Q=f;t.text(Ie,Q,s);const k=Q+Z;t.text(F,k,s),t.line(k,s+n,k+O,s+n),d.value=k+O,console.log(d.value);const ce=t.getTextWidth(ua),ma=t.getTextWidth(C),Ue=d.value+2;t.text(ua,Ue,s);const Oe=Ue+ce;t.text(C,Oe,s),t.line(Oe,s+n,Oe+ma,s+n),d.value=Oe+ma,console.log(d.value),d.value>ae&&(s=s+10);const pe=d.value+2,Za=t.getTextWidth(St),He=t.getTextWidth(X);t.text(St,pe,s);const ye=pe+Za;t.text(X,ye,s),t.line(ye,s+n,ye+He,s+n),d.value=ye+He,console.log(d.value),d.value>ae&&(s=s+10),s=s+10;const ue=t.getTextWidth(Ga),Fa=t.getTextWidth(w),bt=f,we=bt+Fa;console.log(we),t.text(Ga,bt,s),we>ae&&print(we);const L=bt+ue;t.text(w,L,s),t.line(L,s+n,L+Fa,s+n),d.value=L+Fa,s=s+10}else{console.log(D.$state.tilesysEinput);const F=a(((ct=(wt=D.$state.tilesysEinput[0])==null?void 0:wt.systemDataE)==null?void 0:ct.noa)||"N/A"),C=a(((zt=(Pt=D.$state.tilesysEinput[0])==null?void 0:Pt.systemDataE)==null?void 0:zt.manufacturer)||"N/A"),X=a(((pt=(S=D.$state.tilesysEinput[0])==null?void 0:S.systemDataE)==null?void 0:pt.material)||"N/A"),w=a(((kt=(Ct=D.$state.tilesysEinput[0])==null?void 0:Ct.systemDataE)==null?void 0:kt.systemSelected)||"N/A"),Z=a(((o=(ut=D.$state.tilesysEinput[0])==null?void 0:ut.systemDataE)==null?void 0:o.dP)||"N/A"),O=a(((i=(he=D.$state.tilesysEinput[0])==null?void 0:he.systemDataE)==null?void 0:i.Anchor_Base)||"N/A"),Q=a(((ta=(vt=D.$state.tilesysEinput[0])==null?void 0:vt.systemDataE)==null?void 0:ta.tileCap)||"N/A"),k=t.getTextWidth(Ie),ce=t.getTextWidth(`${F.value}`),ma=f;t.text(Ie,ma,s);const Ue=ma+k;t.text(`${F.value}`,Ue,s),t.line(Ue,s+n,Ue+ce,s+n),d.value=Ue+ce;const Oe=t.getTextWidth(ua),pe=t.getTextWidth(`${C.value}`),Za=d.value+2;t.text(ua,Za,s);const He=Za+Oe;t.text(`${C.value}`,He,s),t.line(He,s+n,He+pe,s+n);const ye=t.getTextWidth(`${X.value}`);d.value=He+ye,s=s+10;const ue=f,Fa=t.getTextWidth(St),bt=t.getTextWidth(`${X.value}`);t.text(St,ue,s);const we=ue+Fa;t.text(`${X.value}`,we,s),t.line(we,s+n,we+bt,s+n),d.value=we+bt,d.value>ae&&(s=s+10);const L=d.value+5,gl=t.getTextWidth(Ha),Ea=t.getTextWidth(`${w.value}`);t.text(Ha,L,s);const Ta=L+gl;t.text(`${w.value}`,Ta,s),t.line(Ta,s+n,Ta+Ea,s+n),d.value=Ta+Ea,d.value>ae&&(s=s+10);const Lt=t.getTextWidth(el),xl=t.getTextWidth(`${Z.value}`),zl=d.value+3;t.text(el,zl,s);const wa=zl+Lt;t.text(`${Z.value}`,wa,s),t.line(wa,s+n,wa+xl,s+n),d.value=wa+xl,console.log(d.value),s=s+10,t.getTextWidth(fl);const Nl=t.getTextWidth(`${O.value}`),Fl=f;t.text(fl,Fl,s),s=s+10;const al=f;t.text(`${O.value}`,al,s),t.line(al,s+n,al+Nl,s+n),d.value=al+Nl,s=s+10;const Cl=t.getTextWidth(Ga),kl=t.getTextWidth(`${Q.value}`),qa=f;t.text(Ga,qa,s);const Vl=qa+Cl;t.text(`${Q.value}`,Vl,s),t.line(Vl,s+n,Vl+kl,s+n),d.value=Vl+kl,console.log(d.value),s=s+10}const te="Self Adhered NOA: ",fe="S/A NOA Applicant: ",$e="S/A System F: ",K="S/A Material: ",J="S/A Description: ";if(H.$state.tilefinput.length===0){const F="n/a",C="n/a",X="n/a",w="n/a",Z="n/a",O=t.getTextWidth(te),Q=t.getTextWidth(F),k=f;t.text(te,k,s);const ce=k+O;t.text(F,ce,s),t.line(ce,s+n,ce+Q,s+n),d.value=ce+Q,console.log(d.value);const ma=t.getTextWidth(fe);t.getTextWidth(C);const Ue=d.value+3,Oe=t.getTextWidth(X);t.text(fe,Ue,s);const pe=Ue+ma;t.text(C,pe,s),t.line(pe,s+n,pe+Oe,s+n),d.value=pe+Oe,console.log(d.value);const Za=t.getTextWidth($e),He=t.getTextWidth(X),ye=d.value+3;t.text($e,ye,s);const ue=ye+Za;t.text(X,ue,s),t.line(ue,s+n,ue+He,s+n),d.value=ue+He,console.log(d.value),s=s+10;const Fa=t.getTextWidth(K),bt=t.getTextWidth(w),we=f;t.text(K,we,s);const L=we+Fa;t.text(w,L,s),t.line(L,s+n,L+bt,s+n),d.value=L+bt,console.log(d.value);const gl=t.getTextWidth(J),Ea=t.getTextWidth(Z),Ta=d.value+3;t.text(J,Ta,s);const Lt=Ta+gl;t.text(Z,Lt,s),t.line(Lt,s+n,Lt+Ea,s+n),d.value=Lt+Ea,console.log(d.value)}else{console.log("Entered sbs line 455",H.$state);const F=a(H.$state.tilefinput[0].systemData.noa),C=a(H.$state.tilefinput[0].systemData.manufacturer),X=a(H.$state.tilefinput[0].systemData.pressure),w=a(H.$state.tilefinput[0].systemData.material),Z=a(H.$state.tilefinput[0].systemData.description),O=t.getTextWidth(te),Q=t.getTextWidth(`${F.value}`),k=f;t.text(te,k,s);const ce=k+O;t.text(`${F.value}`,ce,s),t.line(ce,s+n,ce+Q,s+n),d.value=ce+Q;const ma=t.getTextWidth(fe),Ue=t.getTextWidth(`${C.value}`),Oe=d.value+3;t.text(fe,Oe,s);const pe=Oe+ma;t.text(`${C.value}`,pe,s),t.line(pe,s+n,pe+Ue,s+n),d.value=pe+Ue,console.log(d.value);const Za=t.getTextWidth($e),He=t.getTextWidth(`${X.value}`),ye=d.value+3;t.text($e,ye,s);const ue=ye+Za;t.text(`${X.value}`,ue,s),t.line(ue,s+n,ue+He,s+n),d.value=ue+He,s=s+10;const Fa=t.getTextWidth(K),bt=t.getTextWidth(`${w.value}`),we=f;t.text(K,we,s);const L=we+Fa;t.text(`${w.value}`,L,s),t.line(L,s+n,L+bt,s+n),d.value=L+bt,d.value>ae&&(s=s+10);const gl=t.getTextWidth(J),Ea=t.getTextWidth(`${Z.value}`),Ta=d.value+3;t.text(J,Ta,s);const Lt=Ta+gl;t.text(`${Z.value}`,Lt,s),t.line(Lt,s+n,Lt+Ea,s+n),d.value=Lt+Ea,d.value>=ae&&(s=s+10),console.log(d.value)}s=s+10;const Vt=t.getTextWidth(`${Ya.value}`),Ee=t.getTextWidth(Xa),le=f;t.text(Xa,le,s);const se=le+Ee;t.text(`${Ya.value}`,se,s),t.line(se,s+n,se+Vt,s+n),d.value=se+Ee+10;const Le=t.getTextWidth(Ua),Se=t.getTextWidth(`${nl.value}`),Ve=d.value+Le;t.text(Ua,Ve,s);const U=Ve+38;t.text(`${nl.value}`,U,s),t.line(U,s+n,U+Se,s+n),d.value=U+Se,s=s+10;const rt=s;if(je===!0){const F=t.getTextWidth($t),C=t.getTextWidth(`${va.value}`),X=f;t.text($t,X,rt);const w=X+F;d.value=F+C,t.text(`${va.value}`,w,rt),t.line(w,rt+n,w+C,rt+n),s=s+10;const Z=t.getTextWidth(We),O=t.getTextWidth(`${ga.value}`);d.value=f;const Q=d.value;t.text(We,Q,s),console.log(d.value);const k=Q+Z;t.text(`${ga.value}`,k,s),t.line(k,s+n,k+O,s+n),d.value=k+O,s=s+10}else{const F=t.getTextWidth(Oa),C=t.getTextWidth(`${ja.value}`),X=d.value+5;t.text(Oa,X,rt);const w=X+F;d.value=d.value+C+F+Ee+Vt,s=s+10,t.text(`${ja.value}`,w,rt),t.line(w,rt+n,w+C,rt+n);const Z=t.getTextWidth(pa),O=t.getTextWidth(`${ha.value}`);d.value=w+Z,s=s+10;const Q=f;t.text(pa,Q,s),console.log(d.value);const k=Q+Z;t.text(`${ha.value}`,k,s),t.line(k,s+n,k+O,s+n),d.value=k+O}const xa=new Image;xa.src="/demo/images/lambda.png";const Ja=[["Zone 1:",`${jt.value}`,"x",`${m.value}`,"- Mg:",`${l.value}`,"= Mr1:",`${Yt.value}`,"NOA Mf:",`${Wt.value}`],["Zone 2:",`${c.value}`,"x",`${ge.value}`,"- Mg:",`${sa.value}`,"= Mr2:",`${ra.value}`,"NOA Mf:",`${z.value}`],["Zone 3:",`${oa.value}`,"x",`${Ze.value}`,"- Mg:",`${ke.value}`,"= Mr2:",`${Re.value}`,"NOA Mf:",`${La.value}`]];console.log(Ja);let Qt=f-1,dl=s;Ja.forEach(F=>{let C=Qt;F.forEach(X=>{t.text(String(X),C,dl),C+=18}),t.addImage(xa,"png",50,dl-4,5,5),t.addImage(xa,"png",50,dl-4,5,5),t.addImage(xa,"png",50,dl-4,5,5),dl+=5,dl+=5}),s=s+20;const Yl="MechanicalTile.pdf",jl=t.output("blob");(async(F,C)=>{const X=F,w=X;console.log(w);const Z=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${Ne.value}/${w}`;try{const O=await fetch(Z,{method:"PUT",headers:{"Content-Type":X.type},body:C});O.ok?(ba.value=Z,alert("Mechanical File uploaded successfully!")):alert(`Failed to upload file. Status: ${O.status}`)}catch(O){console.error("Error uploading file:",O),alert("An error occurred while uploading the file.")}})(Yl,jl)}};return(s,f)=>(Dl(),Al("div"))}},Gs=_=>($s("data-v-1d23eceb"),_=_(),Ss(),_),Ys={class:"card"},js=Gs(()=>Qa("p",null,"The roof systems you selected",-1)),Js={class:"rounded border border-surface-200 dark:border-surface-700 p-6 bg-surface-0 dark:bg-surface-900"},Zs={__name:"Summarys",setup(_){var be,De,Ae,Me,Xe;const{accountUsers:$}=Ml(),V=rs();a(!1);const A=a(!1);let b=a(!1),W=a(!1),x=a(!1),H=a(!1),D=a(!1);const q=a("");a(""),a("");const r=Xl(),Ye=Tl(),s=a(Ye.$state.roofList);a(((De=(be=r.$state.permitapp[0])==null?void 0:be.formdt)==null?void 0:De.processNumber)||"");const f=as(),ve=a(f.$state.generalpdfinput),ie=a(((Me=(Ae=r.$state.permitapp[0])==null?void 0:Ae.formdt)==null?void 0:Me.muniProc)||"");a(!1),a(((Xe=V.$state.countinput[0])==null?void 0:Xe.countData)||""),a(!1),a(!1),a(!1),a(!1);const{getSignpdf:g}=Cs();function e(){$.value.forEach((P,G)=>{q.value=P.dba})}const Ft=ml(()=>{g(ie.value),A.value=!0,setTimeout(()=>{A.value=!0},1e3),console.log(ie.value)}),ze=Gl({dim:"",item:""}),re=ml(()=>{if(s.value.length===0)return"";for(let P=0;P<s.value.length;P++)s.value[P].item==="Asphalt Shingle"?(H.value=!0,ze.dim=s.value[P].dim1,ze.item=s.value[P].item):s.value[P].item==="Low Slope"?D.value=!0:s.value[P].item==="Adhesive Set Tile"?(console.log(s.value[P].item),W.value=!0):s.value[P].item==="Mechanical Fastened Tile"?(console.log(s.value[P].item),x.value=!0):ve.value.length!==1&&(b.value=!0),console.log(s.value)});xs(()=>{e()});const Ce=a([{status:"RoofSystems",date:"15/10/2020 10:30",icon:"pi pi-cog",color:"#9C27B0",image:"/src/assets/img/roofing_tile.jpg"},{status:"Processing",date:"15/10/2020 14:00",icon:"pi pi-cog",color:"#673AB7"},{status:ze.item,date:"15/10/2020 14:00",icon:"pi pi-cog",color:"#673AB7"}]);return ms(e,re,Ft),rl(async()=>{await bl(re).toBe(!0)}),(P,G)=>{const T=ps,R=cs,p=ds;return Dl(),Al(Ts,null,[Qa("div",Ys,[vl(p,{value:Ce.value,align:"alternate",class:"customized-timeline",style:{"margin-top":"50px"}},{marker:wl(ne=>[Qa("span",{class:"flex w-8 h-8 items-center justify-center text-white rounded-full z-10 shadow-sm",style:Ws({backgroundColor:ne.item.color})},[Qa("i",{class:fs(ne.item.icon)},null,2)],4)]),content:wl(ne=>[vl(R,{class:"mt-4"},{title:wl(()=>[yl(_l(ne.item.status),1)]),subtitle:wl(()=>[yl(_l(ne.item.date),1)]),content:wl(()=>[js,vl(T,{label:"Read more",text:""})]),_:2},1024)]),_:1},8,["value"])]),Qa("div",Js,[Qa("div",null,[vl(ks)]),Ul(Qa("div",null,[vl(Bs)],512),[[Ol,Hl(H)]]),Ul(Qa("div",null,[vl(Us)],512),[[Ol,Hl(W)]]),Ul(Qa("div",null,[vl(Hs)],512),[[Ol,Hl(x)]]),Ul(Qa("div",null,[vl(Rs)],512),[[Ol,Hl(D)]])])],64)}}},xo=zs(Zs,[["__scopeId","data-v-1d23eceb"]]);export{xo as default};
