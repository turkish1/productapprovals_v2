import{s as pa}from"./index-BQKfJ254.js";import{s as ht}from"./index-Dlx0pFho.js";import{s as Ae}from"./index-DZxWNp9E.js";import{_ as _t}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{e as r,o as V,c as C,j as d,S as W,i as l,p as il,q as rl,H as me,f as X,I as A,g as Re,V as x,k as f,ae as ma,af as ol,am as Y,z as D,K as c,ai as S,a as Q,t as J,d as B,ak as fa,L as ga,J as nl,F as Te,x as va,aj as ya,as as L,Y as je,at as gt,ap as vt,an as ha,T as _a,aq as ba}from"./index-BYZ3DIEY.js";import{d as Sa,e as xa,f as Va,u as Da,a as Aa,b as Ta,_ as wa,c as Ua}from"./exposure_d-d11zTFEB.js";import{s as ka}from"./index-B4Y0s4b_.js";import{_ as Ke,s as Ma}from"./index-mz2Ilylf.js";import{u as Ea,a as Ca,d as Na,e as za,b as Pa,c as La,_ as Ba}from"./use-systemMechNumber-Bg0jN2s0.js";import{s as Fa}from"./index-G_4jJMUw.js";import{s as Oa}from"./index-D6rByCwb.js";import{s as Ia}from"./index-BnFsnG2S.js";import{a as $a}from"./use-tileMechanical-VknskII-.js";import{u as ul}from"./roofList-BneTJRam.js";import{s as yt}from"./index-Cg6bo9Z3.js";import"./useAxios-KrV_Z5je.js";import"./index-DhwP18GQ.js";import"./useDripedge-CP2ulz0E.js";import"./index-D5_LATtk.js";import"./index-D-t6j1aS.js";import"./index-LCYnHwbg.js";import"./index-CNRMJCwn.js";const fe=U=>(il("data-v-d98d2617"),U=U(),rl(),U),ja={class:"card-system flex justify-center"},Ka=fe(()=>l("div",{class:"grid grid-cols-1 gap-2 place-content-center h-8 ..."},[l("p",{class:"text-center text-red-600"},"mEPermit Application")],-1)),Ra=fe(()=>l("div",{class:"grid grid-cols-1 gap-2 place-content-center h-16 ..."},[l("p",{class:"text-center text-red-600"},"High Velocity Hurricane Zone (HVHZ)")],-1)),Ha=fe(()=>l("div",{class:"grid grid-cols-1 gap-2 place-content-center h-12 ..."},[l("p",{class:"text-center text-red-600"},"Concrete & Clay Roof Tiles")],-1)),Za=fe(()=>l("div",{class:"grid grid-cols-1 gap-2 place-content-center h-16 ..."},[l("p",{class:"text-center text-red-600"}," The tile roof system and its components shall be installed in strict compliance with the FBC 2023 HVHZ portions of Chapter 15, the HVHZ Tile Application Standards: RAS-119, RAS-120 & RAS-127 and the submitted MDC Notice of Acceptance(s). ")],-1)),qa=fe(()=>l("div",{class:"grid grid-cols-1 gap-2 place-content-center h-12 ..."},[l("p",{class:"text-center text-red-600"},"The mePermit applicant agrees to comply with these installation requirements when obtaining this permit.")],-1)),Ja={class:"flex justify-end gap-2"},Wa=fe(()=>l("label",{class:"ml-2"}," I Agree",-1)),Ga={__name:"AgreementsDialogMechTile",setup(U){const w=r(!0),ee=r(null);return(F,k)=>{const se=Ae,oe=ht,ne=pa;return V(),C("div",ja,[d(ne,{visible:w.value,"onUpdate:visible":k[2]||(k[2]=N=>w.value=N),modal:"",header:"Terms Of Use",style:{width:"70rem"}},{default:W(()=>[Ka,d(se),Ra,Ha,Za,qa,l("div",Ja,[Wa,d(oe,{modelValue:F.agreement,"onUpdate:modelValue":k[0]||(k[0]=N=>F.agreement=N),value:"1",invalid:ee.value===null,onClick:k[1]||(k[1]=N=>w.value=!1)},null,8,["modelValue","invalid"])])]),_:1},8,["visible"])])}}},Xa=_t(Ga,[["__scopeId","data-v-d98d2617"]]),Ya={class:"input-wrapper"},Qa=["for"],es=["id","type","value","placeholder","disabled"],ts={__name:"AnchorInputWrapper",props:{id:{type:String,required:!0},modelValue:{type:[String,Number],default:""},type:{type:String,default:"text"},placeholder:{type:String,default:""},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(U){return(w,ee)=>(V(),C("div",Ya,[l("label",{for:U.id,class:"label"},"Anchor Base Sheet",8,Qa),l("input",{id:U.id,type:U.type,value:U.modelValue,placeholder:U.placeholder,disabled:U.disabled,onInput:ee[0]||(ee[0]=F=>w.$emit("update:modelValue",F.target.value)),class:"input-text"},null,40,es)]))}},ls=_t(ts,[["__scopeId","data-v-2a216984"]]),p=U=>(il("data-v-59f78ed1"),U=U(),rl(),U),as={id:"tile",class:"inner mx-auto max-w-5xl p-6 dark:bg-gray-800 rounded-2xl shadow-lg grid grid-cols-1 md:grid-cols-2 gap-4",style:{"margin-left":"150px"}},ss={class:"w-64 gap-2 mt-3 space-y-2",style:{"margin-left":"20px","margin-top":"30px"}},os={class:"w-64 gap-2 mt-3 space-y-2",style:{"margin-left":"20px"}},ns=p(()=>l("label",{for:"slope"},"Roof Slope",-1)),is=p(()=>l("label",{class:"px-2",style:{color:"red"}},"*",-1)),rs={class:"w-64 gap-2 mt-3 space-y-2",style:{"margin-left":"20px"}},us=p(()=>l("label",{style:{color:"#122620"},for:"area"},"Area of Tile",-1)),ds={class:"w-64 mt-3 space-y-2",style:{"margin-left":"20px"}},cs=p(()=>l("label",{for:"height"},"Height",-1)),ps=p(()=>l("label",{class:"px-2",style:{color:"red"}},"*",-1)),ms={class:"w-64 mt-3 ...",style:{"margin-left":"20px"}},fs=p(()=>l("label",{for:"perimeter"},"Roof Perimeter(a) = 4h",-1)),gs={class:"min-w-[780px] flex flex-col mb-4 mt-6 gap-3 space-y-2",style:{"margin-left":"20px"}},vs=p(()=>l("label",{style:{color:"#122620"},for:"underlaymentType"},"Select Underlayment (UDL) and/or Tile Capsheet",-1)),ys={class:"grid grid-cols-1 md:grid-cols-1 gap-2"},hs={class:"w-128 mt-6 flex flex-col gap-2 border-2 border-gray-700 focus:border-orange-600",style:{"margin-left":"50px"}},_s=p(()=>l("label",{style:{color:"red"}},"Select Exposure *",-1)),bs={class:"flex items-center space-x-4"},Ss={class:"field-radiobutton space-x-4 gap-2 border-2 border-gray-700 focus:border-orange-600"},xs=p(()=>l("label",{for:"option3"},"C",-1)),Vs={class:"field-radiobutton space-x-4 gap-2 border-2 border-gray-700 focus:border-orange-600"},Ds=p(()=>l("label",{for:"option4"},"D",-1)),As=p(()=>l("div",null,null,-1)),Ts={class:"px-12"},ws={class:"grid grid-cols-2 md:grid-cols-3 gap-2",style:{"margin-left":"75px"}},Us={class:"border-2 border-gray-700 rounded-md p-4 flex flex-col justify-start gap-4"},ks=p(()=>l("label",{for:"tilenoa"},"Tile NOA: 00000000",-1)),Ms={key:0,class:"mt-2 max-h-48 overflow-auto border rounded-md divide-y bg-white"},Es=["onMousedown"],Cs={key:0,class:"absolute inset-0 bg-black/20 backdrop-blur-[1px] flex items-center justify-center rounded-lg"},Ns={key:0,class:"border-2 border-gray-700 rounded-md p-4 flex flex-col justify-start gap-4"},zs={class:"grid grid-cols-2 gap-2"},Ps={key:0,class:"col-span-2 flex items-center justify-center p-4"},Ls=p(()=>l("span",{class:"ml-2"},"Loading UDL data...",-1)),Bs={key:1,class:"grid grid-cols-2 md:grid-cols-2 gap-4",style:{"margin-left":"40px"}},Fs={class:"min-w-[30px] flex flex-col gap-2 border-2 border-gray-700 focus:border-orange-600"},Os=p(()=>l("label",{style:{color:"#122620"},for:"manufacturer"},"(UDL) NOA Applicant",-1)),Is={class:"w-1/2 border-2 p-2 border-gray-700 focus:border-orange-600"},$s=p(()=>l("label",{style:{color:"#122620"},for:"material"},"(UDL) Material",-1)),js={class:"w-1/2 border-2 p-2 border-gray-700 focus:border-orange-600"},Ks=p(()=>l("label",{style:{color:"red"}},"Select System E *",-1)),Rs={class:"w-1/2 border-2 p-2 border-gray-700 focus:border-orange-600"},Hs=p(()=>l("label",{style:{color:"#122620"},for:"designPressure"},"Design psf:",-1)),Zs={class:"grid grid-cols-1 gap-2 border-gray-700 focus:border-orange-600",style:{"margin-left":"2px"}},qs={class:"min-w-[1080px] flex flex-col gap-2 border-2 border-gray-700 focus:border-orange-600"},Js={class:"min-w-[480px] flex flex-col gap-2 border-2 border-gray-700 focus:border-orange-600"},Ws=p(()=>l("label",{style:{color:"#122620"},for:"description"},"(UDL) Description",-1)),Gs={class:"grid grid-cols-2 md:grid-cols-2 gap-4",style:{"margin-left":"50px"}},Xs={class:"w-1/2 border-2 p-2 border-gray-700 focus:border-orange-600"},Ys=p(()=>l("label",{style:{color:"#122620"},for:"saapplicant"},"S/A Applicant",-1)),Qs={class:"w-1/2 border-2 p-2 border-gray-700 focus:border-orange-600"},eo=p(()=>l("label",{style:{color:"#122620"},for:"samaterial"},"S/A Material Type",-1)),to={class:"w-1/2 border-2 p-2 border-gray-700 focus:border-orange-600"},lo=p(()=>l("label",{style:{color:"red"}},"Select System F * ",-1)),ao={class:"w-1/2 border-2 p-2 border-gray-700 focus:border-orange-600"},so=p(()=>l("label",{style:{color:"#122620"},for:"designpressure"},"Design psf: ",-1)),oo={class:"min-w-[490px] flex flex-col gap-2 border-2 border-gray-700 focus:border-orange-600"},no=p(()=>l("label",{style:{color:"#122620"},for:"sadescription"},"S/A Description",-1)),io={key:2,class:"w-2/3 flex flex-col border-2 p-2 gap-2 border-gray-700 focus:border-orange-600"},ro={class:"grid grid-cols-2 md:grid-cols-2 gap-2",style:{"margin-left":"30px"}},uo={class:"min-w-[350px] flex flex-col gap-2 border-2 border-gray-700 focus:border-orange-600"},co=p(()=>l("label",{style:{color:"#122620"},for:"manufacturer"},"Tile Applicant",-1)),po={class:"w-1/2 border-2 p-2 border-gray-700 focus:border-orange-600"},mo=p(()=>l("label",{style:{color:"#122620"},for:"material"},"Tile Material",-1)),fo={class:"w-1/2 border-2 p-2 border-gray-700 focus:border-orange-600"},go={class:"w-72 flex flex-col gap-2 border-2 border-gray-700 focus:border-orange-600"},vo=p(()=>l("label",{style:{color:"red"}},"Select Mechanical Tile Fastener *",-1)),yo=p(()=>l("div",null,null,-1)),ho={class:"w-3/4 border-2 p-2 gap-4 border-gray-700 focus:border-orange-600"},_o=p(()=>l("label",{style:{color:"#122620"},for:"description"},"Tile Description",-1)),bo={class:"w-full flex flex-row mt-8 space-x-10",style:{"margin-left":"30px"}},So={class:"min-w-[200px] flex flex-col gap-2 border-2 border-gray-700 focus:border-orange-600"},xo=p(()=>l("label",{style:{color:"#122620"},for:"selecttile"},"Tile Type",-1)),Vo={class:"w-72 flex flex-col gap-2 border-2 border-gray-700 focus:border-orange-600",style:{"margin-left":"30px"}},Do=p(()=>l("label",{style:{color:"red"}},"Select Mechanical Tiles Fastnener *",-1)),Ao={class:"grid grid-cols-2 md:grid-cols-2 gap-2",style:{"margin-left":"30px"}},To={class:"min-w-[350px] flex flex-col gap-2 border-2 border-gray-700 focus:border-orange-600"},wo=p(()=>l("label",{style:{color:"#122620"},for:"manufacturer"},"Tile Applicant",-1)),Uo={class:"w-1/2 border-2 p-2 border-gray-700 focus:border-orange-600"},ko=p(()=>l("label",{style:{color:"#122620"},for:"material"},"Tile Material",-1)),Mo={class:"w-1/2 border-2 p-2 border-gray-700 focus:border-orange-600"},Eo={class:"w-72 flex flex-col gap-2 border-2 border-gray-700 focus:border-orange-600"},Co=p(()=>l("label",{style:{color:"red"}},"Select Mechanical Tile Fastener *",-1)),No=p(()=>l("div",null,null,-1)),zo={class:"w-3/4 border-2 p-2 gap-4 border-gray-700 focus:border-orange-600"},Po=p(()=>l("label",{style:{color:"#122620"},for:"description"},"Tile Description",-1)),Lo={class:"w-full flex flex-row mt-8 space-x-10",style:{"margin-left":"30px"}},Bo={class:"min-w-[200px] flex flex-col gap-2 border-2 border-gray-700 focus:border-orange-600"},Fo=p(()=>l("label",{style:{color:"#122620"},for:"selecttile"},"Tile Type",-1)),Oo={class:"w-72 flex flex-col gap-2 border-2 border-gray-700 focus:border-orange-600",style:{"margin-left":"30px"}},Io=p(()=>l("label",{style:{color:"red"}},"Select Mechanical Tiles Fastnener *",-1)),$o={class:"flex flex-wrap gap-1 mt-10",style:{"margin-left":"1px"}},jo={width:"100%",align:"left"},Ko={valign:"middle"},Ro={style:{margin:"auto","font-size":"large","font-weight":"bold","font-family":"arial"}},Ho=p(()=>l("td",{style:{color:"#122620"}},"Zone 1:",-1)),Zo={style:{color:"#122620"}},qo={style:{color:"#122620"}},Jo={style:{color:"#122620"}},Wo={style:{color:"#122620"}},Go={style:{color:"#122620"}},Xo={class:"pi pi-check",style:{color:"green","font-size":"1.5rem"}},Yo={class:"pi pi-times",style:{color:"red","font-size":"1.5rem"}},Qo=p(()=>l("td",{style:{color:"#122620"}},"Zone 2:",-1)),en={style:{color:"#122620"}},tn={style:{color:"#122620"}},ln={style:{color:"#122620"}},an={style:{color:"#122620"}},sn={style:{color:"#122620"}},on={class:"pi pi-check",style:{color:"green","font-size":"1.5rem"}},nn={class:"pi pi-times",style:{color:"red","font-size":"1.5rem"}},rn=p(()=>l("td",{style:{color:"#122620"}},"Zone 3:",-1)),un={style:{color:"#122620"}},dn={style:{color:"#122620"}},cn={style:{color:"#122620"}},pn={style:{color:"#122620"}},mn={style:{color:"#122620"}},fn={class:"pi pi-check",style:{color:"green","font-size":"1.5rem"}},gn={class:"pi pi-times",style:{color:"red","font-size":"1.5rem"}},vn={key:0,class:"text-xs mt-2",style:{"margin-left":"350px"}},yn=p(()=>l("b",null,"λ (Direct_Deck):",-1)),hn=p(()=>l("b",null,"Mg by slope:",-1)),_n={__name:"InputMechTile",setup(U){const w=r(""),{tbd:ee,zoned:F}=Sa();r([]);const k=r(!1),{callNumber:se}=Ea(),{postMech:oe}=Ca(),ne=Na(),{takeMechInput:N,mechStore:bt}=$a(),dl=za(),cl=r(0),{tileMechInput:St}=me(dl),pl=(e,t)=>{var s;const a=Array.isArray(e.value)?e.value:[];for(let u=a.length-1;u>=0;u--){const y=(s=a[u])==null?void 0:s[t];if(y&&Object.keys(y).length)return y}return null},{zones:He}=xa(),i=X({mechIdentifier:"mechanicaltile",manufacturer:"",noa:"",material:"",description:"",Table2:[],Table3:[],expiration_date:"",resistance:"",selection:"",select_tile:[],tile_map:{},table2_map:{},fastenerValuesMap:[],two_ten_d_RS_Nails:null,one_number_eight_screw:null,two_number_eight_screw:null,mechanicaltilefastener:"",fastenerValues:"",slope:"",height:"",dripEdgeMaterial:"",dripEdgeSize:"",deckType:"",expiration_date:"",prescriptiveSelection:"",perimeter:"",tiletype:"",savedfastener:"",hittype:""}),m=X({noa:"",manufacturer:"",material:"",system:[],designpressure:"",pressure:"",prescriptiveSelection:"",description:"",Description_F1:"",Description_F2:"",Description_F3:"",Description_F4:"",Description_F5:"",Description_F6:"",Description_F7:"",Description_F8:"",Description_F9:"",Description_F10:"",Description_F11:"",Description_F12:"",Description_F13:"",Description_F14:"",Description_F15:"",arrDesignPressure:[],saIdentifier:"sa",hittype:""}),n=X({noa:"",manufacturer:"",material:"",system:[],designPressure:"",Anchor_Base_Sheet:"",TileCap_Sheet_Description:"",hittype:"",Anchor_Base_Sheet_E1:"",Anchor_Base_Sheet_E2:"",Anchor_Base_Sheet_E3:"",Anchor_Base_Sheet_E4:"",Anchor_Base_Sheet_E5:"",Anchor_Base_Sheet_E6:"",Anchor_Base_Sheet_E7:"",Anchor_Base_Sheet_E8:"",Anchor_Base_Sheet_E9:"",Anchor_Base_Sheet_E10:"",Anchor_Base_Sheet_E11:"",Anchor_Base_Sheet_E12:"",Anchor_Base_Sheet_E13:"",TileCap_Sheet_Description_E1:"",TileCap_Sheet_Description_E2:"",TileCap_Sheet_Description_E3:"",TileCap_Sheet_Description_E4:"",TileCap_Sheet_Description_E5:"",TileCap_Sheet_Description_E6:"",TileCap_Sheet_Description_E7:"",TileCap_Sheet_Description_E8:"",TileCap_Sheet_Description_E9:"",TileCap_Sheet_Description_E10:"",TileCap_Sheet_Description_E11:"",TileCap_Sheet_Description_E12:"",TileCap_Sheet_Description_E13:"",arrDesignPressure:[],udlIdentifier:"udl",tileCap:"",Anchor_Base:"",systemSelected:"",prescriptiveSelection:"",syst:"",pressure:""}),ml=ul(),{roofList:fl}=me(ml),xt=r(!1),$=r(null),Ze=r(!0),qe=r(!0);r([]);const M=r(null),R=r(!1),gl=r(!1),re=r(!1),ge=r(!1),H=r(!1);let ve=r("");const h=X({area:"",per:"",height:"",slope:""}),v=X({zone:"",lambda1:"",mg1:"",mr1:"",mf1:""}),_=X({zone:"",lambda2:"",mg2:"",mr2:"",mf2:""}),b=X({zone:"",lambda3:"",mg3:"",mr3:"",mf3:""}),Vt=A(()=>pl(St,"tileMechNumber"));Re(()=>{var e;se(),console.log((e=Vt.value)==null?void 0:e.noa)});const vl=()=>{cl.value++};Re(async()=>{await Promise.allSettled([se()])}),x([St],()=>vl(),{deep:!0}),Re(()=>{fl.value.forEach((e,t)=>{e.item==="Mechanical Fastened Tile"&&(h.area=e.dim3)})});const Dt=Va(),At=Da(),te=r(!1),we=r(!1),{tilefinput:yl}=me(At),{tilesysEinput:ue}=me(Dt);let Tt=r(At.$state.tilefinput);r(Dt.$state.tilesysEinput);const z=r(null),hl=e=>Array.isArray(e)&&e.length?e[e.length-1]:null,wt=r(!1),G=r(""),O=r(""),{tilemech:_l}=me(bt),Z=_l;function bl(e){if(!e||typeof e!="object"||e.content!=="multiple")return{};const t={};for(const[a,s]of Object.entries(e)){if(a==="content")continue;const u=s&&typeof s=="object"?s.Direct_Deck??s.value??s[0]:s,y=Number(Array.isArray(u)?u[0]:u)||0;t[a]=[y]}return t}function Sl(e){if(!e||typeof e!="object"||e.content!=="multiple")return{};const t=["two","three","four","five","six","seven"],a={};for(const[s,u]of Object.entries(e))s!=="content"&&(a[s]=t.map(y=>Number(u==null?void 0:u[y])||0));return a}const xl={2:0,3:1,4:2,5:3,6:4,7:5},Vl=(e,t,a)=>Math.max(Math.min(e,Math.max(t,a)),Math.min(t,a));function Ut(e){const t=Vl(Number(e||0),2,12);return t<=3?2:t<4?3:t<=4?4:t<6?5:t<7?6:7}const ye=A(()=>{var e;return((e=hl(yl.value))==null?void 0:e.systemData)||null});x([ye,()=>te.value],()=>{if(!te.value)return;const e=ye.value;e&&(g.System.length||Je(e),Object.assign(m,{noa:e.noa||"",manufacturer:e.manufacturer||"",material:e.material||"",arrDesignPressure:g.Designpressure.slice()}),console.log(m.arrDesignPressure,g.Designpressure),!E.value&&g.System.length&&(z.value=g.System[0]))},{immediate:!0}),x(()=>m.noa,(e,t)=>{if(!e||e===t)return;z.value=null,g.System=[],g.Designpressure=[],m.designpressure="",m.description="";const a=ye.value;a&&Je(a)});const he=A(()=>g.System.map(e=>({label:e,value:e}))),kt=A(()=>{const e={};return g.System.forEach((t,a)=>{e[t]=g.Designpressure[a]}),e}),Dl=A(()=>{const e={};for(const t of g.System){const a=`Description_${t}`;e[t]=g[a]??g.Description??""}return e}),E=A(()=>{var e;return typeof z.value=="object"?(e=z.value)==null?void 0:e.value:z.value||""}),g=X({System:[],Maps:{},Description:"",Designpressure:[]});function Je(e){const t=Array.isArray(e.System)?e.System.slice():Array.isArray(e.system)?e.system.slice():e.System??e.system?[e.System??e.system]:[],a=Array.isArray(e.designPressure)?e.designPressure.slice():Array.isArray(e.pressure)?e.pressure.slice():e.designPressure??e.pressure?[e.designPressure??e.pressure]:[];g.System=t.filter(Boolean),g.Designpressure=a.filter(s=>s!=null&&String(s).trim()!==""),g.Description=e.Description||e.description||"",g.Maps=e.Maps||e.maps||{};for(const s of g.System){const u=`Description_${s}`;e[u]!=null&&(g[u]=e[u])}}const We=e=>e==null?"":typeof e=="string"?e:Array.isArray(e)?e.join(" | "):String(e),Ue=A(()=>{var t;const e={};for(const a of g.System){const s=`Description_${a}`;g[s]?e[a]=We(g[s]):(t=g.System)!=null&&t[a]?e[a]=We(g.System[a]):e[a]=We(g.Description)}return e}),Al=A({get:()=>E.value&&Ue.value[E.value]||"",set:e=>m.description=e});x(z,e=>{const t=typeof e=="object"?e==null?void 0:e.value:e;m.description=t&&Ue.value[t]||""}),x(z,e=>{m.description=e&&(Ue.value[e]||g.Description)||""}),x([ye,()=>he.value.length,E,()=>te.value],()=>{if(!te.value)return;const e=ye.value;e&&(g.System.length||Je(e),!E.value&&he.value.length&&(z.value=he.value[0].value),Object.assign(m,{sanoa:e.noa||"",samanufacturer:e.manufacturer||"",samaterial:e.material||"",sasystem:g.System.slice(),sadescription:Al.value||""}))},{immediate:!0});const Ge=r({}),Tl=r({}),Xe=A(()=>(Ct.value||[]).find(e=>e.key===ke.value)||null),Mt=A({get:()=>E.value?String(kt.value[E.value]??""):"",set:e=>{const t=String(e??"");if(m.designpressure=t,E.value){const a=g.System.indexOf(E.value);a!==-1&&(g.Designpressure[a]=t)}}});x([E,()=>g.Designpressure],()=>{const e=E.value;if(!e){m.designpressure="";return}const t=kt.value[e];m.designpressure=String(t??"")},{immediate:!0});function wl(e){return e?typeof e=="object"?e.value??e.label??String(e):String(e):""}const Et=A({get:()=>E.value?String(Dl.value[E.value]??""):"",set:e=>{m.description=String(e??"")}}),j=r(null),ke=r(0),Ul=[{match:["ASTM #90 Prescriptive hot mopped with Type IV Asphalt to a mechanically fastened ASTM #30"],flags:{isUDLNOAValid:!1,isSAValid:!1,isTileValid:!0},identifier:"astm"},{match:["System F: per the NOA (S/A) Tile Capsheet adhered diretly to a wood deck"],flags:{isUDLNOAValid:!1,isSAValid:!0,isTileValid:!0},identifier:"system_f"},{match:["System E: per the NOA (S/A) Tile Capsheet adhered to a mechanically fastened UDL/Anchor Sheet"],flags:{isUDLNOAValid:!0,isSAValid:!1,isTileValid:!0},identifier:"system_e"}],Ct=r([{selectedBasesheet:"-- Select Tile Capsheet/Underlayment --",key:0},{selectedBasesheet:"ASTM #90 Prescriptive hot mopped with Type IV Asphalt to a mechanically fastened ASTM #30",key:1},{selectedBasesheet:"System F: per the NOA (S/A) Tile Capsheet adhered diretly to a wood deck",key:2},{selectedBasesheet:"System E: per the NOA (S/A) Tile Capsheet adhered to a mechanically fastened UDL/Anchor Sheet",key:3}]);let le=r(null);const Ye=A(()=>{const e=((le==null?void 0:le.value)??"").toString().trim().toLowerCase();return e==="astm"||e==="atsm"}),Qe=r(!1);function kl(){if(console.log(Ye.value),!Qe.value){Qe.value=!0;try{ce.value=!1,Pe(),Ye.value&&ia()}finally{Qe.value=!1}}}function Ml(){console.log(Xe.value.selectedBasesheet);const e=s=>typeof s=="string"?s:(s==null?void 0:s.label)??(s==null?void 0:s.value)??(s==null?void 0:s.name)??"";console.log(e);const t=e(Xe.value.selectedBasesheet);if(console.log(t),!t)return;const a=Ul.find(s=>s.match.includes(t));console.log(a),a?(console.log(a),re.value=a.flags.isUDLNOAValid,ge.value=a.flags.isSAValid,H.value=a.flags.isTileValid,le.value=a.identifier,i.hittype=le.value,n.hittype=le.value,m.hittype=le.value,i.hittype&&(i.prescriptiveSelection=a.match[0]),n.hittype&&(n.prescriptiveSelection=a.match[0]),m.hittype&&(m.prescriptiveSelection=a.match[0])):le.value=null}function El(e){var a,s;if(!e)return;const t=((a=e==null?void 0:e.Table2)==null?void 0:a.content)==="multiple";if(i.noa=e.noa??"",i.manufacturer=e.manufacturer??"",i.material=e.material??"",i.description=e.description??"",i.expiration_date=e.expiration_date??"",t)i.table2_map=bl(e.Table2),i.tile_map=Sl(e.Table3),i.select_tile=Object.keys(i.table2_map),i.select_tile.includes($.value)||($.value=i.select_tile[0]??null),$.value&&xe({value:$.value});else{i.table2_map={},i.tile_map={},i.select_tile=[];const u=Number(((s=e==null?void 0:e.Table2)==null?void 0:s.Direct_Deck)??0)||0;v.lambda1=u,_.lambda2=u,b.lambda3=u;const y=(e==null?void 0:e.Table3)||{},T=Ut(h.slope),P={2:y.two,3:y.three,4:y.four,5:y.five,6:y.six,7:y.seven},K=Number(P[T]??0)||0;v.mg1=K,_.mg2=K,b.mg3=K,de()}i.mechanicaltilefastener=e.mechanicaltilefastener??i.mechanicaltilefastener,i.fastenerValues=e.fastenerValues??i.fastenerValues}function de(){const e=Number(v.zone||0)*Number(v.lambda1||0)-Number(v.mg1||0),t=Number(_.zone||0)*Number(_.lambda2||0)-Number(_.mg2||0),a=Number(b.zone||0)*Number(b.lambda3||0)-Number(b.mg3||0);v.mr1=e.toFixed(2),_.mr2=t.toFixed(2),b.mr3=a.toFixed(2)}x([()=>v.zone,()=>v.lambda1,()=>v.mg1,()=>_.zone,()=>_.lambda2,()=>_.mg2,()=>b.zone,()=>b.lambda3,()=>b.mg3],()=>{const e=t=>Number(t??0);v.mr1=(e(v.zone)*e(v.lambda1)-e(v.mg1)).toFixed(2),_.mr2=(e(_.zone)*e(_.lambda2)-e(_.mg2)).toFixed(2),b.mr3=(e(b.zone)*e(b.lambda3)-e(b.mg3)).toFixed(2)},{immediate:!1});const et=r([]),tt=r([]);async function Cl(){O.value||(O.value="d",G.value="d");const e=Number(h.slope),t=Number(h.height);Number.isFinite(e)&&Number.isFinite(t)&&e>=2&&t>0&&(G.value==="d"?await $t(e,t):await It(e,t)),await ol(()=>{const a=G.value==="d"?F.value:He.value,s=Array.isArray(a==null?void 0:a[0])?a[0]:a;return Array.isArray(s)&&s.length>=3&&s.every(u=>Number(u)>0)}).toBe(!0),Ve(),de()}const Nt=A(()=>{var s;if(!w.value)return[];et.value=(s=Vt.value)==null?void 0:s.noa,console.log(et.value),tt.value=et.value??[],console.log(tt.value);const e=JSON.stringify(tt.value).split("[").join();console.log(e);const t=JSON.stringify(e).split("]").join();console.log(t);const a=A(()=>t.split(",").map(u=>u.replace(/^\s*[-•*+▪▫►‣]\s*/g,"").trimStart()));return console.log(a.value.filter(u=>u.toString().includes(w.value))),a.value.filter(u=>u.toString().includes(w.value))}),zt=X(Object.fromEntries(Array.from({length:13},(e,t)=>[`Anchor_Base_Sheet_E${t+1}`,""]))),_e=A(()=>{var t;const e=Array.isArray(ue.value)?ue.value:[];for(let a=e.length-1;a>=0;a--){const s=(t=e[a])==null?void 0:t.systemDataE;if(s&&Object.keys(s).length)return s}return null});x(ue,e=>{var t;(t=e==null?void 0:e[0])!=null&&t.systemDataE&&lt(e[0].systemDataE)},{deep:!0});function lt(e){if(e){console.log("applyUDL called with:",e),n.noa=(e.noa??n.noa)||"",n.manufacturer=(e.manufacturer??n.manufacturer)||"",n.material=(e.material??n.material)||"",n.system=Array.isArray(e.system)?e.system.slice():e.system?[e.system]:[],n.arrDesignPressure=Array.isArray(e.designPressure)?e.designPressure.slice():Array.isArray(e.pressure)?e.pressure.slice():[];for(let t=1;t<=13;t++){const a=`E${t}`;zt[`Anchor_Base_Sheet_${a}`]=e[`Anchor_Base_Sheet_${a}`]??"",n[`TileCap_Sheet_Description_${a}`]=e[`TileCap_Sheet_Description_${a}`]??""}n.system.includes(M.value)||(M.value=n.system[0]??null,M.value&&pe(M)),console.log("UDL after apply:",n)}}const at=A(()=>{var t;const e=Array.isArray(f(Tt))?f(Tt):[];for(let a=e.length-1;a>=0;a--){const s=(t=e[a])==null?void 0:t.systemData;if(s&&Object.keys(s).length)return s}return null});async function Pt(){st(f(at))}function st(e){e&&(m.noa=e.noa??"",m.manufacturer=e.manufacturer??"",m.material=e.material??"",m.system=Array.isArray(e.system)?e.system.slice():e.system?[e.system]:[],m.arrDesignPressure=Array.isArray(e.designPressure)?e.designPressure.slice():Array.isArray(e.pressure)?e.pressure.slice():[],Object.keys(e).forEach(t=>{/^Description_F\d+$/.test(t)&&(m[t]=e[t]??"")}),m.system.includes(z.value)||(z.value=m.system[0]??null))}x(at,e=>st(e),{immediate:!0,deep:!0});const Nl=()=>{z.value=null,m.designpressure="",m.description=""};x(()=>m.noa,(e,t)=>{!e||e===t||(Nl(),st(f(at)))}),A(()=>z.value||"");const zl=e=>{w.value=String(e).replace(/\D/g,"").padStart(8,"0"),k.value=!1},Pl=()=>{k.value=!0},Ll=()=>{setTimeout(()=>{k.value=!1},1250)},ot=r(),Bl=r([{name:" Select Deck Type "},{name:' 5/8" Plywood  '},{name:' 3/4" Plywood  '},{name:' 1" x 6" T & G '},{name:' 1" x 8" T & G '},{name:' Existing 1/2" Plywood '}]),Me=r([]);function be(){G.value==="d"?$t(h.slope,h.height):It(h.slope,h.height),Ve(),de()}const Lt=r("");function Fl(e){ot._value.name===e.value.name&&(Lt.value=e.value.name,i.deckType=Lt.value,Ze.value=!1)}const nt=r("");async function Bt(){const e=String(w.value??"").replace(/\D/g,"");return console.log(e),e?e===it.value?(Kt(),!0):(nt.value=e,console.log(nt.value),await N(e)?(Kt(),!0):!1):!1}const Se=r(!1);async function Ol(){if(!Se.value){Se.value=!0;try{if(!await Bt())return;Qt.value={manufacturer:i.manufacturer??"",material:i.material??"",description:i.description??""},Fe.value++,await Cl(),Fe.value++,ce.value=!0}finally{Se.value=!1}}}const q=A(()=>{const e=Z.value;if(!Array.isArray(e)||!e.length)return null;const t=e.filter(a=>typeof(a==null?void 0:a.fetchedAt)=="number");return t.length?t.sort((a,s)=>s.fetchedAt-a.fetchedAt)[0]:e.at(-1)}),it=A(()=>{var e;return String(((e=q.value)==null?void 0:e.noa)??"").replace(/\D/g,"")});x(it,e=>{nt.value=e,e&&!w.value&&(w.value=e)},{immediate:!0});function xe(e){var P,K;const t=(e==null?void 0:e.value)??$.value;if(!t)return;const a=(P=i.table2_map)==null?void 0:P[t],s=Array.isArray(a)?Number(a[0])||0:typeof a=="object"&&a?Number(a.Direct_Deck??a.value??a[0])||0:Number(a)||0;v.lambda1=s,_.lambda2=s,b.lambda3=s;const u=((K=i.tile_map)==null?void 0:K[t])||[],y=xl[Ut(h.slope)]??0,T=Number(u[y]??0)||0;v.mg1=T,_.mg2=T,b.mg3=T,i.tiletype=t,de(),Array.isArray(Z.value)&&q.value&&(i.mechanicaltilefastener=q.value.mechanicaltilefastener,i.fastenerValues=q.value.fastenerValues)}x(()=>h.slope,()=>{R.value&&$.value?xe({value:$.value}):!R.value&&Array.isArray(Z.value)&&q.value&&Pe()}),x($,e=>{R.value&&e&&xe({value:e})});function Il(e){Me.value=Number.isFinite(e)?e:0;const t={0:{isTileValid:!1,isUDLValid:!1,isUDLNOAValid:!1,isSAValid:!1},1:{isTileValid:!0,isUDLValid:!1,isUDLNOAValid:!1,isSAValid:!1},2:{isTileValid:!0,isUDLValid:!1,isUDLNOAValid:!1,isSAValid:!0},3:{isTileValid:!0,isUDLValid:!0,isUDLNOAValid:!0,isSAValid:!1}},a=t[Me.value]||t[0];H.value=a.isTileValid,gl.value=a.isUDLValid,re.value=a.isUDLNOAValid,ge.value=a.isSAValid,Me.value===2&&Pt(),Me.value===3&&(ie.value=!0,console.log("Key=3 selected: Starting UDL population..."),lt(_e.value),setTimeout(()=>{ie.value=!1,console.log("UDL population complete. isUDLComplete:")},500),M.value&&!n.designPressure&&(Le(M.value),pe(M.value)))}x(ke,Il,{immediate:!0}),x(_e,e=>console.log("EPayload updated:",!!(e!=null&&e.noa)));const $l=r(!1);function Ve(){var y,T,P,K;const e=G.value==="d"?F.value:He.value,t=Array.isArray(e==null?void 0:e[0])?e[0]:e;if(!Array.isArray(t)||t.length<3)return;const[a,s,u]=t.map(Number);[a,s,u].every(Number.isFinite)&&(v.zone=a,_.zone=s,b.zone=u,console.log(ne.$state.inputselectedUserDripEdge),i.dripEdgeMaterial=(T=(y=ne.$state.inputselectedUserDripEdge[0])==null?void 0:y.dripSelection)==null?void 0:T.DripEdgeMaterial,i.dripEdgeSize=(K=(P=ne.$state.inputselectedUserDripEdge[0])==null?void 0:P.dripSelection)==null?void 0:K.DripEdgeSize,console.log(i.dripEdgeMaterial,i.dripEdgeSize))}x([()=>G.value,()=>He.value,()=>F.value],()=>{Ve(),de()},{deep:!0});let Ee=r(!1);const{errorMessage:Ft,validateNumber:jl}=Pa({min:4,max:12,required:!0}),{errorHeightMessage:Ot,validateTileHeight:Kl}=La({min:10,max:40,required:!0});function Rl(){h.slope>=4?(qe.value=!1,De(),console.log("entered slope")):qe.value=!1,Hl()}const Hl=()=>{jl(h.slope),console.log(h.slope)},Zl=()=>{Kl(h.height),console.log(h.height),xt.value=!0,De()};function De(){xt.value||Ze.value?(Ee.value=!0,console.log("Entered checkmarks")):Ee.value=!1}function ql(){Zl(),console.log(height.value)}const Jl=r(.4),{getData:It}=Aa(),{getDatas:$t}=Ta();function jt(){h.height=ve.value,h.per=(h.height*Jl.value).toFixed(2),i.height=h.height,i.perimeter=h.per,i.area=h.area,De()}const rt=r(!1),Wl=r(!1);function Kt(){var a;const e=q.value,t=((a=e==null?void 0:e.Table2)==null?void 0:a.content)==="multiple";Wl.value=!0,R.value=t,rt.value=!t,H.value=!0,El(e),ut(),be(),t||Pe()}ma(async()=>{await ol(H).toBe(!0),await ta()});async function ut(){var a,s;const t=(((s=(a=O==null?void 0:O.value)==null?void 0:a.toLowerCase)==null?void 0:s.call(a))??"")==="c";G.value=t?"c":"d",wt.value=!t,console.log({selectedExposures:O.value,isExposureC:wt.value}),be()}let Ce=r(!1),Ne=r(!1),ze=r(!1),Rt=r(!1),Ht=r(!1),Zt=r(!1);async function qt(){var e,t,a,s;((t=(e=q.value)==null?void 0:e.Table2)==null?void 0:t.content)==="multiple"&&(console.log("Entered multiple"),be()),G.value==="c"?(console.log("Else C exposure",G),Ve()):(console.log("D exposure"),Ve()),i.manufacturer=(a=q.value)==null?void 0:a.manufacturer,i.material=(s=q.value)==null?void 0:s.material}function Gl(e,t,a){return Math.max(Math.min(e,Math.max(t,a)),Math.min(t,a))}async function Pe(){const e=q.value||{},t=e.Table2||{},a=e.Table3||{};i.description=e.description||"";const s=Number(t.Direct_Deck)||0;v.lambda1=s,_.lambda2=s,b.lambda3=s;const u={2:"two",3:"three",4:"four",5:"five",6:"six",7:"seven"},y=Gl(Number(h.slope),2,12),T=u[Math.floor(y)]||"seven",P=Number(a[T])||0;v.mg1=P,_.mg2=P,b.mg3=P,de()}x(it,e=>{e&&!w.value&&(w.value=e)},{immediate:!0});const ce=r(!1);x(ce,e=>{if(e&&!j.value&&Wt.value.length){const t=Wt.value[0];j.value=t.key??t,ae(j.value)}});function Jt(e=""){return String(e).replace(/[_\-]+/g," ").replace(/\b\w/g,t=>t.toUpperCase())}const Wt=A(()=>{const e=i.mechanicaltilefastener;return Array.isArray(e)?typeof e[0]=="string"?e.map(t=>({key:t,label:Jt(t)})):e:e&&typeof e=="object"?Object.keys(e).map(t=>({key:t,label:Jt(t)})):[]}),Xl=A(()=>{const e=i.fastenerValues,t=i.mechanicaltilefastener;return console.log(e,t),Array.isArray(t)&&Array.isArray(e)?Object.fromEntries(t.map((a,s)=>[a,e[s]])):e&&typeof e=="object"?e:{}});function ae(e){const t=e??j.value;if(console.log(t),!t)return;i.savedfastener=t;const a=Xl.value[t];if(a==null)return;v.mf1=a,_.mf2=a,b.mf3=a,Pe();const s=je(v.mr1).value,u=je(_.mr2).value,y=je(b.mr3).value,T=je(a).value;Ce.value=s<T,Rt.value=!Ce.value,Ne.value=u<T,Ht.value=!Ne.value,ze.value=y<T,Zt.value=!ze.value}function Le(e){const t=n.system||[],a=n.arrDesignPressure||[];Ge.value=Object.fromEntries(t.map((u,y)=>[u,a[y]||""])),Tl.value=Object.fromEntries(t.map((u,y)=>[u,t[y]||""]));const s=e==null?void 0:e.value;s&&Ge.value[s]!==null&&pe(e)}const dt=A(()=>{const{noa:e,manufacturer:t,material:a,designPressure:s,systemSelected:u}=n;return console.log(e,t,a,s,u),e&&t&&a&&s&&u});x(_e,e=>{e&&(lt(e),M.value&&!n.designPressure&&pe(M.value))},{immediate:!0});const Gt=r(!1),Xt=r(!1),Be=r(0),Yt=r(null),Yl=r(null),Fe=r(0),ct=r(0),Qt=r(null),el=r(null);x(()=>Gt.value,e=>{console.log("Exposure Modal changed:",e)},{immediate:!0}),x(()=>we.value,e=>{console.log("UDLModal changed:",e)},{immediate:!0}),x(()=>te.value,e=>{console.log("SAModal changed:",e)},{immediate:!0});function tl(e){const t=f(e);return console.log(t),gt(t)?vt(t):t}function Ql(e){const t=f(e);return console.log(t),gt(t)?vt(t):t}function ea(e){const t=f(e);return console.log(t),gt(t)?vt(t):t}async function ta(){await Y();const e=Ql(O);console.log(e),Yl.value={manufacturer:(e==null?void 0:e.manufacturer)??"",material:(e==null?void 0:e.material)??"",description:(e==null?void 0:e.description)??""},Xt.value,await Y(),Xt.value,Gt.value=!0}const ie=r(!1),Oe=r(!1);async function la(){if(!ie.value){ie.value=!0,Oe.value=!1,Be.value++;try{await Y();const e=tl(n);Yt.value={udlmanufacturer:(e==null?void 0:e.manufacturer)??"",udlmaterial:(e==null?void 0:e.material)??"",udldescription:(e==null?void 0:e.udldescription)??"",udlsystem:(e==null?void 0:e.system)??[]},Oe.value=!!n.noa&&n.system.length,Be.value++,await Y(),we.value=!0}catch(e){console.error("UDL modal open failed:",e)}finally{ie.value=!1}}}async function aa(){await Y(),Pt();const e=ea(m);el.value={samanufacturer:(e==null?void 0:e.manufacturer)??"",samaterial:(e==null?void 0:e.material)??"",sasystem:(e==null?void 0:e.system)??""},ct.value++,await Y(()=>{te.value=!0})}async function sa(){te.value=!1,await Y(()=>{ct.value++}),ua()}async function oa(){we.value=!1,await Y(()=>{Be.value++})}function pe(e){var u,y;const t=(e==null?void 0:e.value)||e||"";if(!t)return;const a=`TileCap_Sheet_Description_${t}`,s=`Anchor_Base_Sheet_${t}`;if(n.TileCap_Sheet_Description=n[a]||"",n.Anchor_Base_Sheet=zt[s]||"",n.designPressure=Ge.value[t]||"",n.systemSelected=t,((u=ue[0])==null?void 0:u.length)>0){const T=ue[0].systemDataE;T.Anchor_Base=n.Anchor_Base_Sheet,T.tileCap=n.TileCap_Sheet_Description,T.dP=n.designPressure,T.systemSelected=t,T.prescriptiveSelection=((y=Xe.value)==null?void 0:y.selectedBasesheet)??""}n.udldescription=n.TileCap_Sheet_Description,n.pressure=n.designPressure,console.log("udlDescPressure updated udlTile:",n)}x(M,e=>{e&&(Le(e),pe(e))},{immediate:!0});const na=async()=>{var a,s;const e=(s=(a=ue.value)==null?void 0:a[0])==null?void 0:s.systemDataE;if(console.log("Store eInput in staging:",e),!e){console.error("No eInput in staging - check store update");return}if(n.Anchor_Base=e.Anchor_Base||n.Anchor_Base_Sheet||"",n.noa||(n.noa=e.noa||""),n.manufacturer||(n.manufacturer=e.manufacturer||""),n.material||(n.material=e.material||""),!n.designPressure&&M.value&&(pe(M.value),await Y()),console.log("Is UDL Complete",dt.value,_e.value,ie.value),console.log("udlTile after population:",tl(n)),!dt.value){console.warn("UDL incomplete, skipping post. Missing:",{noa:!n.noa,manufacturer:!n.manufacturer,material:!n.material,designPressure:!n.designPressure,systemSelected:!n.systemSelected});return}const t={...mt(),udlapplicant:n.manufacturer||"",udlnoa:n.noa||"",udlmaterial:n.material||"",udldescription:e.tileCap||n.TileCap_Sheet_Description||n.udldescription||"",systemeselection:n.systemSelected||e.systemSelected||"",designpressure:n.designPressure||e.dP||"",anchorbasesheet:n.Anchor_Base_Sheet||e.Anchor_Base||n.Anchor_Base||"",hittype:"system_e",udlIdentifier:"udl"};console.log("UDL Body Debug:",t),await oe(t)},pt=e=>JSON.parse(JSON.stringify(f(e))),Ie=e=>{const t=Number(e);return Number.isFinite(t)?t:0},ia=async()=>{const e={...mt(),hittype:i.hittype};await oe(e)},ra=A(()=>Ce.value&&Ne.value&&ze.value),mt=()=>({mechIdentifier:"mechanicalTile",noa:i.noa??"",applicant:i.manufacturer??"",description:i.description??"",material:i.material??"",decktype:i.deckType??"",area:Ie(h.area),height:Ie(h.height),slope:Ie(h.slope),dripEdgeMaterial:i.dripEdgeMaterial,dripEdgeSize:i.dripEdgeSize,perimeter:Ie(i.perimeter),fastenervalues:i.savedfastener??"",hittype:"astm",zoneone:pt(v),zonetwo:pt(_),zonethree:pt(b),checkvalues:ra.value,prescriptiveSelection:n.prescriptiveSelection||m.prescriptiveSelection||i.prescriptiveSelection||""}),ua=async()=>{const e=wl(z.value||m.system[0]||""),t=g.System.indexOf(e),a=t!==-1&&g.Designpressure[t]?g.Designpressure[t]:m.designpressure||"",s={...mt(),samanufacturer:m.manufacturer||"",sanoa:m.noa||"",sasystem:e||"",samaterial:m.material||"",sadescription:e&&(Ue.value[e]||"")||m.description||"",designpressure:a,hittype:"system_f",saIdentifier:"sa"};console.log("mechSAStaging payload:",s),await oe(s)};return(e,t)=>{var al,sl;const a=Ia,s=Oa,u=Fa,y=Ba,T=Ma,P=ka,K=wa,da=Ua,ll=_a,ca=ha;return V(),C(Te,null,[l("div",as,[l("div",ss,[d(a,{modelValue:ot.value,"onUpdate:modelValue":t[0]||(t[0]=o=>ot.value=o),options:Bl.value,optionLabel:"name",placeholder:"Select a Deck Type",class:"w-full md:w-56",onChange:Fl},null,8,["modelValue","options"])]),l("div",os,[ns,is,D(),c(l("i",{class:"pi pi-check",style:{color:"green","font-size":"1.2rem"},onChange:De},null,544),[[S,f(Ee)]]),D("  "),c(d(s,{id:"slope",placeholder:"slope",modelValue:h.slope,"onUpdate:modelValue":t[1]||(t[1]=o=>h.slope=o),modelModifiers:{number:!0},disabled:Ze.value,onChange:Rl},null,8,["modelValue","disabled"]),[[ll,"Press Tab after value",void 0,{bottom:!0}]]),f(Ft)?(V(),Q(u,{key:0,class:"w-96 mt-1 ...",severity:"error",life:6e3,style:{"margin-left":"2px"}},{default:W(()=>[D(J(f(Ft)),1)]),_:1})):B("",!0)]),l("div",rs,[us,d(s,{id:"area",modelValue:h.area,"onUpdate:modelValue":t[2]||(t[2]=o=>h.area=o),type:"text",placeholder:"area",readonly:""},null,8,["modelValue"])]),l("div",ds,[cs,ps,D(),c(l("i",{class:"pi pi-check",style:{color:"green","font-size":"1.2rem"},onChange:De},null,544),[[S,f(Ee)]]),D("  "),c(d(s,{ref:"heightInputRef",id:"height",modelValue:f(ve),"onUpdate:modelValue":t[3]||(t[3]=o=>fa(ve)?ve.value=o:ve=o),modelModifiers:{number:!0},type:"text",placeholder:"height",onInput:jt,disabled:qe.value,onChange:ql},null,8,["modelValue","disabled"]),[[ll,"Press Tab after value",void 0,{bottom:!0}]]),f(Ot)?(V(),Q(u,{key:0,class:"w-96 mt-1",severity:"error",life:6e3,style:{"margin-left":"2px"}},{default:W(()=>[D(J(f(Ot)),1)]),_:1})):B("",!0)]),d(y),l("div",ms,[fs,d(s,{id:"perimeter",modelValue:h.per,"onUpdate:modelValue":t[4]||(t[4]=o=>h.per=o),type:"text",placeholder:" ",onChange:jt,readonly:""},null,8,["modelValue"])]),l("div",gs,[vs,d(a,{modelValue:ke.value,"onUpdate:modelValue":t[5]||(t[5]=o=>ke.value=o),options:Ct.value,optionLabel:"selectedBasesheet",optionValue:"key",placeholder:"make selection",onChange:Ml},null,8,["modelValue","options"])]),d(f(Ae)),l("div",ys,[c(l("div",hs,[_s,l("div",bs,[l("div",Ss,[d(f(ht),{inputId:"option3",name:"option",value:"c",variant:"filled",invalid:O.value===null,modelValue:O.value,"onUpdate:modelValue":t[6]||(t[6]=o=>O.value=o),onUpdate:ut},null,8,["invalid","modelValue"]),xs]),l("div",Vs,[d(f(ht),{inputId:"option4",name:"option",value:"d",variant:"filled",invalid:O.value===null,modelValue:O.value,"onUpdate:modelValue":t[7]||(t[7]=o=>O.value=o),onUpdate:ut},null,8,["invalid","modelValue"]),Ds])])],512),[[S,H.value]])])]),As,d(f(Ae)),l("div",Ts,[l("div",ws,[c((V(),C("div",Us,[d(T,{class:"w-72"},{default:W(()=>[d(s,{id:"tilenoa",modelValue:w.value,"onUpdate:modelValue":t[8]||(t[8]=o=>w.value=o),class:"h-8",onInput:Pl,onFocus:t[9]||(t[9]=o=>k.value=!0),onBlur:Ll,onKeydown:ga(nl(Bt,["prevent"]),["enter"])},null,8,["modelValue","onKeydown"]),ks]),_:1}),d(P,{label:"Submit",class:"w-28",severity:"contrast",disabled:String(w.value??"").replace(/\D/g,"").length<6,loading:Se.value,onClick:Ol},null,8,["disabled","loading"]),k.value&&Nt.value.length?(V(),C("ul",Ms,[(V(!0),C(Te,null,va(Nt.value,(o,$e)=>(V(),C("li",{key:$e,class:"px-3 py-2 hover:bg-gray-50 cursor-pointer",onMousedown:nl(ft=>zl(o),["left"])},J(o),41,Es))),128))])):B("",!0),d(ya,{name:"fade"},{default:W(()=>[Se.value?(V(),C("div",Cs,[d(f(yt),{style:{width:"40px",height:"40px"},strokeWidth:"4"})])):B("",!0)]),_:1})])),[[S,H.value],[ca,{enterClass:"animate-flipup",leaveClass:"animate-fadeout"}]]),re.value||ge.value?(V(),C("div",Ns,[re.value?(V(),C(Te,{key:0},[d(K),d(P,{label:"Submit",class:"w-28",severity:"contrast",disabled:!_e.value||!dt.value,loading:ie.value,onClick:la,style:{"margin-left":"25px","margin-bottom":"5px"}},null,8,["disabled","loading"])],64)):ge.value?(V(),C(Te,{key:1},[d(da),d(P,{label:"Submit",class:"w-28",severity:"contrast",onClick:aa,style:{"margin-left":"25px","margin-bottom":"5px"}})],64)):B("",!0)])):B("",!0)])]),d(f(Ae)),d(f(Ae)),we.value&&Oe.value?(V(),Q(Ke,{key:Be.value,initialData:Yt.value,onClosePopup:t[17]||(t[17]=()=>{M.value.value&&Le(M.value),oa(),na()})},{default:W(()=>{var o,$e,ft;return[c(l("div",zs,[Oe.value?(V(),C("div",Bs,[l("div",Fs,[Os,d(s,{id:"manufacturer",value:n.manufacturer||((o=e.initialData)==null?void 0:o.udlmanufacturer)||"",onInput:t[10]||(t[10]=I=>n.manufacturer=I.target.value)},null,8,["value"])]),l("div",Is,[$s,d(s,{id:"material",value:n.material||(($e=e.initialData)==null?void 0:$e.udlmaterial)||"",onInput:t[11]||(t[11]=I=>n.material=I.target.value)},null,8,["value"])]),l("div",js,[Ks,d(a,{modelValue:M.value,"onUpdate:modelValue":t[12]||(t[12]=I=>M.value=I),options:n.system,placeholder:"Select System",onChange:t[13]||(t[13]=I=>Le(I.value))},null,8,["modelValue","options"])]),l("div",Rs,[Hs,d(s,{id:"designPressure",modelValue:n.designPressure,"onUpdate:modelValue":t[14]||(t[14]=I=>n.designPressure=I)},null,8,["modelValue"])]),c(l("div",Zs,[l("div",qs,[d(ls,{id:"anchor",modelValue:n.Anchor_Base_Sheet,"onUpdate:modelValue":t[15]||(t[15]=I=>n.Anchor_Base_Sheet=I),placeholder:"Enter anchor base sheet"},null,8,["modelValue"])]),l("div",Js,[Ws,d(s,{id:"description",value:n.TileCap_Sheet_Description||((ft=e.initialData)==null?void 0:ft.udldescription)||"",onInput:t[16]||(t[16]=I=>n.TileCap_Sheet_Description=I.target.value)},null,8,["value"])])],512),[[S,re.value]])])):(V(),C("div",Ps,[d(f(yt),{style:{width:"24px",height:"24px"},strokeWidth:"4"}),Ls]))],512),[[S,re.value]])]}),_:1},8,["initialData"])):B("",!0),te.value?(V(),Q(Ke,{key:ct.value,initialData:el.value,onClosePopup:t[23]||(t[23]=o=>sa())},{default:W(()=>[c(l("div",Gs,[l("div",Xs,[Ys,d(s,{id:"saapplicant",modelValue:m.manufacturer,"onUpdate:modelValue":t[18]||(t[18]=o=>m.manufacturer=o)},null,8,["modelValue"])]),l("div",Qs,[eo,d(s,{id:"saaterial",modelValue:m.material,"onUpdate:modelValue":t[19]||(t[19]=o=>m.material=o)},null,8,["modelValue"])]),l("div",to,[lo,d(a,{modelValue:z.value,"onUpdate:modelValue":t[20]||(t[20]=o=>z.value=o),options:he.value,optionLabel:"label",optionValue:"value",placeholder:"Select System"},null,8,["modelValue","options"]),he.value.length?B("",!0):(V(),Q(f(yt),{key:0,style:{width:"24px",height:"24px"},strokeWidth:"4"}))]),l("div",ao,[so,d(s,{id:"designpressure",modelValue:Mt.value,"onUpdate:modelValue":t[21]||(t[21]=o=>Mt.value=o),disabled:!E.value},null,8,["modelValue","disabled"])]),c(l("div",oo,[no,d(s,{id:"capsheetdescription",modelValue:Et.value,"onUpdate:modelValue":t[22]||(t[22]=o=>Et.value=o),disabled:!E.value},null,8,["modelValue","disabled"])],512),[[S,!!E.value]])],512),[[S,ge.value]])]),_:1},8,["initialData"])):B("",!0),Ye.value?B("",!0):(V(),C("div",io,[ce.value?(V(),Q(Ke,{key:Fe.value,onClosePopup:t[30]||(t[30]=o=>ce.value=!1)},{default:W(()=>[c(l("div",ro,[l("div",uo,[co,d(s,{id:"manufacturer",modelValue:i.manufacturer,"onUpdate:modelValue":t[24]||(t[24]=o=>i.manufacturer=o)},null,8,["modelValue"])]),l("div",po,[mo,d(s,{id:"description",modelValue:i.material,"onUpdate:modelValue":t[25]||(t[25]=o=>i.material=o)},null,8,["modelValue"])]),c(l("div",fo,[c(l("div",go,[vo,d(a,{modelValue:j.value,"onUpdate:modelValue":[t[26]||(t[26]=o=>j.value=o),ae],options:i.mechanicaltilefastener},null,8,["modelValue","options"])],512),[[S,rt.value]])],512),[[S,H.value]]),yo,c(l("div",ho,[_o,d(s,{class:"min-w-[500px] flex flex-col gap-2 border-2",id:"description",modelValue:i.description,"onUpdate:modelValue":[t[27]||(t[27]=o=>i.description=o),qt]},null,8,["modelValue"])],512),[[S,!R.value]])],512),[[S,H.value]]),c(l("div",bo,[l("div",So,[xo,d(a,{modelValue:$.value,"onUpdate:modelValue":[t[28]||(t[28]=o=>$.value=o),be],options:i.select_tile,placeholder:"make a selection",onChange:xe},null,8,["modelValue","options"])]),c(l("div",Vo,[Do,d(a,{modelValue:j.value,"onUpdate:modelValue":[t[29]||(t[29]=o=>j.value=o),ae],options:i.mechanicaltilefastener},null,8,["modelValue","options"])],512),[[S,R.value]])],512),[[S,R.value]])]),_:1})):B("",!0)])),ce.value?(V(),Q(Ke,{key:Fe.value,initialData:Qt.value,onClosePopup:kl},{default:W(()=>[c(l("div",Ao,[l("div",To,[wo,d(s,{id:"manufacturer",modelValue:i.manufacturer,"onUpdate:modelValue":t[31]||(t[31]=o=>i.manufacturer=o)},null,8,["modelValue"])]),l("div",Uo,[ko,d(s,{id:"description",modelValue:i.material,"onUpdate:modelValue":t[32]||(t[32]=o=>i.material=o)},null,8,["modelValue"])]),c(l("div",Mo,[c(l("div",Eo,[Co,d(a,{modelValue:j.value,"onUpdate:modelValue":[t[33]||(t[33]=o=>j.value=o),ae],options:i.mechanicaltilefastener},null,8,["modelValue","options"])],512),[[S,rt.value]])],512),[[S,H.value]]),No,c(l("div",zo,[Po,d(s,{class:"min-w-[500px] flex flex-col gap-2 border-2",id:"description",modelValue:i.description,"onUpdate:modelValue":[t[34]||(t[34]=o=>i.description=o),qt]},null,8,["modelValue"])],512),[[S,!R.value]])],512),[[S,H.value]]),c(l("div",Lo,[l("div",Bo,[Fo,d(a,{modelValue:$.value,"onUpdate:modelValue":[t[35]||(t[35]=o=>$.value=o),be],options:i.select_tile,placeholder:"make a selection",onChange:xe},null,8,["modelValue","options"])]),c(l("div",Oo,[Io,d(a,{modelValue:j.value,"onUpdate:modelValue":[t[36]||(t[36]=o=>j.value=o),ae],options:i.mechanicaltilefastener},null,8,["modelValue","options"])],512),[[S,R.value]])],512),[[S,R.value]])]),_:1},8,["initialData"])):B("",!0),l("div",$o,[l("table",jo,[l("tbody",null,[l("tr",null,[l("td",Ko,[l("table",Ro,[l("tbody",null,[l("tr",null,[Ho,l("td",Zo,[c(l("input",{"onUpdate:modelValue":t[37]||(t[37]=o=>v.zone=o),readonly:"",size:"4",name:"zone1",value:""},null,512),[[L,v.zone]]),D(" x λ  ")]),l("td",qo,[c(l("input",{"onUpdate:modelValue":t[38]||(t[38]=o=>v.lambda1=o),readonly:"",size:"4",name:"lambda1",value:""},null,512),[[L,v.lambda1]]),D(" - Mg: ")]),l("td",Jo,[c(l("input",{"onUpdate:modelValue":t[39]||(t[39]=o=>v.mg1=o),readonly:"",size:"4",name:"mg1",value:""},null,512),[[L,v.mg1]]),D(" = Mr1: ")]),l("td",Wo,[c(l("input",{"onUpdate:modelValue":t[40]||(t[40]=o=>v.mr1=o),readonly:"",size:"4",name:"mr1",value:""},null,512),[[L,v.mr1]]),D(" NOA Mf: ")]),l("td",Go,[c(l("input",{"onUpdate:modelValue":t[41]||(t[41]=o=>v.mf1=o),readonly:"false",size:"6",name:"mf1",value:"",onChange:ae},null,544),[[L,v.mf1]]),D("  ")]),c(l("i",Xo,null,512),[[S,f(Ce)]]),c(l("i",Yo,null,512),[[S,f(Rt)]])]),l("tr",null,[Qo,l("td",en,[c(l("input",{"onUpdate:modelValue":t[42]||(t[42]=o=>_.zone=o),readonly:"",size:"4",name:"zone2",value:""},null,512),[[L,_.zone]]),D(" x λ  ")]),l("td",tn,[c(l("input",{"onUpdate:modelValue":t[43]||(t[43]=o=>_.lambda2=o),readonly:"",size:"4",name:"lambda2",value:""},null,512),[[L,_.lambda2]]),D(" - Mg: ")]),l("td",ln,[c(l("input",{"onUpdate:modelValue":t[44]||(t[44]=o=>_.mg2=o),readonly:"",size:"4",name:"mg2",value:""},null,512),[[L,_.mg2]]),D(" = Mr2: ")]),l("td",an,[c(l("input",{"onUpdate:modelValue":t[45]||(t[45]=o=>_.mr2=o),readonly:"",size:"4",name:"mr2",value:""},null,512),[[L,_.mr2]]),D(" NOA Mf: ")]),l("td",sn,[c(l("input",{"onUpdate:modelValue":t[46]||(t[46]=o=>_.mf2=o),readonly:"false",size:"6",name:"mf2",value:"",onChange:ae},null,544),[[L,_.mf2]]),D(" ")]),c(l("i",on,null,512),[[S,f(Ne)]]),c(l("i",nn,null,512),[[S,f(Ht)]])]),l("tr",null,[rn,l("td",un,[c(l("input",{"onUpdate:modelValue":t[47]||(t[47]=o=>b.zone=o),readonly:"",size:"4",name:"zone3",value:""},null,512),[[L,b.zone]]),D(" x λ")]),l("td",dn,[c(l("input",{"onUpdate:modelValue":t[48]||(t[48]=o=>b.lambda3=o),readonly:"",size:"4",name:"lambda3",value:""},null,512),[[L,b.lambda3]]),D(" - Mg: ")]),l("td",cn,[c(l("input",{"onUpdate:modelValue":t[49]||(t[49]=o=>b.mg3=o),readonly:"",size:"4",name:"mg5",value:""},null,512),[[L,b.mg3]]),D(" = Mr3: ")]),l("td",pn,[c(l("input",{"onUpdate:modelValue":t[50]||(t[50]=o=>b.mr3=o),readonly:"",size:"4",name:"mr3",value:""},null,512),[[L,b.mr3]]),D(" NOA Mf: ")]),l("td",mn,[c(l("input",{"onUpdate:modelValue":t[51]||(t[51]=o=>b.mf3=o),readonly:"false",size:"6",name:"mf3",value:"",onChange:ae},null,544),[[L,b.mf3]]),D(" ")]),c(l("i",fn,null,512),[[S,f(ze)]]),c(l("i",gn,null,512),[[S,f(Zt)]])]),$l.value?(V(),Q(u,{key:0,severity:"error",life:3e3},{default:W(()=>[D("Select Another Material")]),_:1})):B("",!0)])])])])])]),(sl=(al=f(Z))==null?void 0:al[0])!=null&&sl.Table3?(V(),C("div",vn,[l("div",null,[yn,D(" "+J(v.lambda1),1)]),l("div",null,[hn,D(" 2: "+J(f(Z)[0].Table3.two)+", 3: "+J(f(Z)[0].Table3.three)+", 4: "+J(f(Z)[0].Table3.four)+", 5: "+J(f(Z)[0].Table3.five)+", 6: "+J(f(Z)[0].Table3.six)+", 7: "+J(f(Z)[0].Table3.seven),1)])])):B("",!0)])],64)}}},bn=_t(_n,[["__scopeId","data-v-59f78ed1"]]),Sn={id:"tile",class:"w-md space-y-1",style:{"margin-left":"20px"}},Rn={__name:"TileMech",setup(U){const w=ba(),ee=ul();me(ee);const F=r(!1),k=r(ee.$state.roofList);let se=r(null);function oe(){console.log(se)}x(F,N=>{N?(console.log("Dialog is now visible"),console.log(w)):console.log("Dialog has been closed")});function ne(){for(let N=0;N<k.value.length;N++)console.log(k.value[N].item),k.value[N].item==="Mechanical Fastened Tile"&&(console.log("I am in",k.value[N].item),F.value=!0,console.log(F.value))}return Re(()=>{ne()}),(N,bt)=>(V(),C(Te,null,[F.value===!0?(V(),Q(Xa,{key:0})):B("",!0),l("div",Sn,[d(bn,{slopeEntered:f(se),style:{"margin-left":"2px"},onChange:oe},null,8,["slopeEntered"])])],64))}};export{Rn as default};
