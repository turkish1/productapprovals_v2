import{e,ab as S,ao as x,v as C,o as k,a as Y,l as D,q as F,p as u,M as E,N as O,f as T,ap as V,c as Q,R,aq as Z,h as w,g as _,ar as $}from"./index-DiLV2A4v.js";import{u as N,a as A}from"./use-downloadpdf-Bdqlg2Af.js";import{u as P}from"./permitapp-D0uxhxeH.js";import{c as L,u as M}from"./pdfsignStore-BV5rJYLg.js";import"./useAxios-DedZSP6m.js";const U={__name:"BuyButton",setup(l){var r,c;const i=P(),t=e(((c=(r=i.$state.permitapp[0])==null?void 0:r.formdt)==null?void 0:c.muniProc)||""),p="pk_test_51PDPFeE9FsYF7D6YfBrV7kYvnDYIAR5QQfaR8ba5TGnoQAbEQgSeY7DLwhOZafrl8ZXJOPsbZN9tYl5HMLlhkxB100cmCtoWo7",{secondFetch:s}=N(),d="buy_btn_1QidgHE9FsYF7D6Yb3ycAXZZ",a=e(!1);S(()=>{setTimeout(()=>{a.value=!0},1e3),s(t.value),a.value=!1,n()}),x("my-storage",{processNumber:t.value});const n=async o=>{console.log("Entered CaptureSession",o),new URL(window.location.href)};return(o,b)=>{const h=C("stripe-buy-button");return k(),Y(h,{"buy-button-id":u(d),"publishable-key":u(p),onUpdate:n},{default:D(()=>[F("Pay")]),_:1},8,["buy-button-id","publishable-key"])}}},q=E("sessioninput",{state:()=>({sessioninput:[],id:0}),actions:{addSession(l){this.sessioninput.push({sessionData:l,completed:!1})}}}),G={class:"card"},H={class:"flex flex-col w-1/3 gap-2 shadow-lg shadow-cyan-800",style:{"margin-left":"550px","margin-top":"440px"}},I={class:"payment-widget"},X=_("h2",{style:{color:"black"}},"Credit Card Payment",-1),ee={__name:"Paymentgateway",setup(l){var v,g;const i=P();q();const t=L(),p=e(0),s=e(((g=(v=i.$state.permitapp[0])==null?void 0:v.formdt)==null?void 0:g.muniProc)||"");e(!1);const d=e(!1),a=e(!1),n=e(!1),r=e(!1),c=A();O(c.$state);const{resp:o}=M();T(()=>{var m,f;p.value=1,((f=(m=o.value)==null?void 0:m.status)==null?void 0:f.status)===200&&(n.value=!0,console.log(o.value.status.status))});const b=x("my-storage",{processNumber:s.value}),{getNumber:h,secondFetch:B}=N(),y=S(()=>{B(b.value.processNumber),t.addCount(s.value),console.log(t.$state),setTimeout(()=>{r.value=!0},1e3),console.log(s.value),a.value=!0});return V(y,()=>{}),(m,f)=>(k(),Q("div",G,[R(w(u($),{color:"#784EA7",size:"100px",style:{"margin-top":"500px","margin-left":"850px"}},null,512),[[Z,d.value]]),_("div",H,[_("div",I,[X,w(U,{onClick:u(y)},null,8,["onClick"])])])]))}};export{ee as default};
