import{s as Y}from"./index-DFpFeCFD.js";import{r as t,s as G,o as j,a8 as A,ao as F,b as k,c as C,f as n,ap as U,d as B,j as R,e,y as H,aq as u,t as M,z as I,V as J}from"./index-slwn1_v8.js";import{u as K,a as L}from"./use-downloadpdf-BKg1iGKE.js";import{u as Q}from"./pdfsignStore-FzRUa5tp.js";import{u as W}from"./permitapp-C2V0WFgV.js";import"./index-KgFXam4S.js";import"./useAxios-ClMGMq4U.js";const X={class:"card"},Z={class:"flex flex-col w-1/3 gap-2 shadow-lg shadow-cyan-800",style:{"margin-left":"550px","margin-top":"440px"}},ee={class:"payment-widget"},ae=e("h2",{style:{color:"black"}},"Credit Card Payment",-1),oe={class:"form-group"},te=e("label",{for:"cardholder-name"},"Cardholder Name",-1),le={class:"form-group"},se=e("label",{for:"card-number"},"Card Number",-1),re={class:"form-group small-inputs"},ne=e("label",{for:"expiry-date"},"Expiry Date",-1),de=e("label",{for:"cvv"},"CVV",-1),ue=e("button",{type:"submit"},"Pay",-1),ie={key:0,class:"confirmation"},ce=49.99,ge={__name:"Paymentgateway",setup(me){var _,w,y,g;const T=W(),p=t(((w=(_=T.$state.permitapp[0])==null?void 0:_.formdt)==null?void 0:w.processNumber)||"");t(null),t(null);const q=t(!1),i=t(!1);t(!1);const v=t(!1),P=t(!1),z=t(!1),c=t(!1);t(null);const a=t({cardholderName:"",cardNumber:"",expiryDate:"",cvv:""});t(!1),t(!1);const{getNumber:E}=K(p.value),r=L();G(r.$state),console.log((g=(y=r.$state.downloadinput[0])==null?void 0:y.downloadData)==null?void 0:g.download_url);const{resp:f}=Q();j(()=>{var l,o;((o=(l=f.value)==null?void 0:l.status)==null?void 0:o.status)===200&&(P.value=!0,console.log(f.value.status.status))});const $=A(()=>{var l,o;E(),setTimeout(()=>{z.value=!0},1e3),console.log(p.value),console.log((o=(l=r.downloadinput[0])==null?void 0:l.downloadData)==null?void 0:o.message)}),O=l=>{if(!a.value.cardholderName||!a.value.cardNumber||!a.value.expiryDate||!a.value.cvv){alert("Please fill out all fields.");return}c.value=!0,i.value=!0,setTimeout(()=>{a.value.cardholderName="",a.value.cardNumber="",a.value.expiryDate="",a.value.cvv="",c.value=!1,i.value=!1},2e3),h()};F($,()=>{});const h=async()=>{var b,x,N,D,V,S;console.log((x=(b=r.downloadinput[0])==null?void 0:b.downloadData)==null?void 0:x.download_url);const l=(D=(N=r.downloadinput[0])==null?void 0:N.downloadData)==null?void 0:D.download_url;if(console.log(l),!l||l.length===0)return;console.log(l);const o=(S=(V=r.downloadinput[0])==null?void 0:V.downloadData)==null?void 0:S.download_url;if(!o)return;q.value=!0;const m=o,s="processnumber.zip",d=document.createElement("a");d.href=m,d.download=s,d.click(),d.remove(),v.value=!0};return(l,o)=>{const m=Y;return k(),C("div",X,[n(B(R(J),{color:"#784EA7",size:"100px",style:{"margin-top":"500px","margin-left":"850px"}},null,512),[[U,i.value]]),e("div",Z,[n(B(m,{icon:"pi pi-arrow-circle-down",severity:"info","aria-label":"User",onClick:h},null,512),[[U,v.value]]),e("div",ee,[ae,e("form",{onSubmit:H(O,["prevent"])},[e("div",oe,[te,n(e("input",{type:"text",id:"cardholder-name","onUpdate:modelValue":o[0]||(o[0]=s=>a.value.cardholderName=s),placeholder:"Boris Gomez",required:""},null,512),[[u,a.value.cardholderName]])]),e("div",le,[se,n(e("input",{type:"text",id:"card-number","onUpdate:modelValue":o[1]||(o[1]=s=>a.value.cardNumber=s),maxlength:"19",placeholder:"1234 5678 9012 3456",required:""},null,512),[[u,a.value.cardNumber]])]),e("div",re,[e("div",null,[ne,n(e("input",{type:"text",id:"expiry-date","onUpdate:modelValue":o[2]||(o[2]=s=>a.value.expiryDate=s),maxlength:"5",placeholder:"MM/YY",required:""},null,512),[[u,a.value.expiryDate]])]),e("div",null,[de,n(e("input",{type:"text",id:"cvv","onUpdate:modelValue":o[3]||(o[3]=s=>a.value.cvv=s),maxlength:"4",placeholder:"123",required:""},null,512),[[u,a.value.cvv]])])]),ue],32),c.value?(k(),C("div",ie,[e("p",null,"Thank you, "+M(a.value.cardholderName)+"! Your payment of $"+M(ce)+" was processed.",1)])):I("",!0)])])])}}};export{ge as default};
