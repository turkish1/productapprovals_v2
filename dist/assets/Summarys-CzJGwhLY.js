import{E as Ql,P as Ll,b as Pa,c as Ca,D as yl,r as l,a as wl,a8 as wa,as as Ya,at as Oa,s as _l,e as Pt,o as eo,ao as to,d as la,h as ja,f as Ja,ap as Za,j as qa,F as ao,a2 as lo,a1 as oo,am as zl,t as El,V as so,p as io,i as no}from"./index-Cac1vkDI.js";import{s as co}from"./index-CiZpj46D.js";import{s as po}from"./index-DOOSqMMR.js";import{s as uo}from"./index-DbbAfzKs.js";import{u as ho}from"./pdfsignStore-DNzsrxZh.js";import{u as vo}from"./useAxios-Dv0K3XMS.js";import{u as Ha}from"./accountsStore-dTRJxZTL.js";import{u as kl}from"./generalpageStore-6J_RQjTx.js";import{u as Ga}from"./permitapp-2bxsz3oF.js";import{u as ka}from"./roofList-BhJX2UyW.js";import{E as Ka}from"./jspdf.es.min-5XwU4jTN.js";import{a as Nl,u as xo}from"./dripEdgeStore-DDyOsvL5.js";import{b as go,a as mo,c as To,u as Wo}from"./systemfStore-CkDuDQcL.js";import{b as ro,a as fo,u as $o}from"./tilevalueStore-CXV0Rx3y.js";import{u as Pl,a as Cl}from"./tilesysfStore-2IR7vUef.js";import{u as So,a as Vo}from"./dripEdgeMechTileStore-BgpIoEYb.js";import{_ as bo}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-D9_d6dr_.js";import"./reset-store-CiOxI-Gu.js";var Do=function(H){var W=H.dt;return`
.p-skeleton {
    overflow: hidden;
    background: `.concat(W("skeleton.background"),`;
    border-radius: `).concat(W("skeleton.border.radius"),`;
}

.p-skeleton::after {
    content: "";
    animation: p-skeleton-animation 1.2s infinite;
    height: 100%;
    left: 0;
    position: absolute;
    right: 0;
    top: 0;
    transform: translateX(-100%);
    z-index: 1;
    background: linear-gradient( 90deg, rgba(255, 255, 255, 0), `).concat(W("skeleton.animation.background"),`, rgba(255, 255, 255, 0) );
}

.p-skeleton-circle {
    border-radius: 50%;
}

.p-skeleton-animation-none::after {
    animation: none;
}

@keyframes p-skeleton-animation {
    from {
        transform: translateX(-100%);
    }
    to {
        transform: translateX(100%);
    }
}
`)},Ao={root:{position:"relative"}},Mo={root:function(H){var W=H.props;return["p-skeleton p-component",{"p-skeleton-circle":W.shape==="circle","p-skeleton-animation-none":W.animation==="none"}]}},Fo=Ql.extend({name:"skeleton",theme:Do,classes:Mo,inlineStyles:Ao}),Xo={name:"BaseSkeleton",extends:Ll,props:{shape:{type:String,default:"rectangle"},size:{type:String,default:null},width:{type:String,default:"100%"},height:{type:String,default:"1rem"},borderRadius:{type:String,default:null},animation:{type:String,default:"wave"}},style:Fo,provide:function(){return{$pcSkeleton:this,$parentInstance:this}}},Rl={name:"Skeleton",extends:Xo,inheritAttrs:!1,computed:{containerStyle:function(){return this.size?{width:this.size,height:this.size,borderRadius:this.borderRadius}:{width:this.width,height:this.height,borderRadius:this.borderRadius}}}};function zo(ue,H,W,_,D,g){return Pa(),Ca("div",yl({class:ue.cx("root"),style:[ue.sx("root"),g.containerStyle],"aria-hidden":"true"},ue.ptmi("root")),null,16)}Rl.render=zo;function Eo(ue){const H=l(),W=l(ue),_=l(""),D=wl({status:"",message:"",isFinished:"",isLoading:""}),g=l(),m=l("");let C="https://681byz7j80.execute-api.us-east-1.amazonaws.com/sendmenumber/sendmenumber";const{execute:N,then:Q,data:Oe}=vo(C,{method:"GET"},{immediate:!1});function He(e){console.log(e),H.value=e,console.log(W.value),_.value=H.value+"/",x()}const{confirmResponse:z,addResponse:L}=ho(),x=async()=>{try{const e=await N({params:{processnumber:_.value}}).then(s=>{g.value=Oe.value,D.status=s.response.value.status,D.message=s.data.value,D.isFinished=s.isFinished,D.isLoading=s.isLoading,console.log(D.status)});return L(D),D}catch(e){console.log("Error, fectching data",e)}};return{error:m,getNumbers:He,procNum:g,sentInput:W,fetchData:x,confirmResponse:z,results:D}}const No={__name:"Generalpagepdf",setup(ue){var L,x,e,s,Ce,be,ge;const{getUser:H}=Ha();let W=l(!1);const _=Ga();ka();const D=kl(),g=l(((x=(L=_.$state.permitapp[0])==null?void 0:L.formdt)==null?void 0:x.address)||""),m=l(((s=(e=_.$state.permitapp[0])==null?void 0:e.formdt)==null?void 0:s.permit)||""),C=l(((be=(Ce=_.$state.permitapp[0])==null?void 0:Ce.formdt)==null?void 0:be.processNumber)||""),N=l(((ge=H.value[0])==null?void 0:ge.dba)||""),Q=l(""),Oe=l(D.$state.generalpdfinput);function He(){Oe.value.length!==1&&(W.value=!0)}wa(()=>{He(),z()}),Ya(async()=>{await Oa(W).toBe(!0),z()});const z=()=>{var R,Me,y,I,v,fe,he,Ge;if(D.$state.generalpdfinput.length===0)console.log("lenghth is   zero");else{const n=new Ka({orientation:"portrait",unit:"mm",format:"a4",compress:!0});n.setGState(new n.GState({opacity:.9}));const vt="Approved";n.setFontSize(24),n.setTextColor("black"),n.setFont("helvetica"),n.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const je=new Image,Je=new Image,Ze=new Image;je.src="/demo/images/officepaper.jpeg",Je.src="/demo/images/logo.jpeg",Ze.src="/demo/images/DragAndDrop.jpeg";const Ct=725,xt=n.getPageInfo(1),gt=xt.pageContext.mediaBox.topRightX,Re=xt.pageContext.mediaBox.topRightY;console.log(gt);const T=l(0),qe=l(0);var ee=595.28-585.28,S=Re-Ct;T.value=ee,qe.value=S,console.log(T.value,qe.value),n.addImage(Je,"JPEG",10,10,50,30),n.addImage(je,"JPEG",0,0,210,297),n.setFontSize(12),n.setTextColor("green");var De=new Date,Ae=De.toLocaleDateString();n.text(vt,10,270,{align:"left"});const Rt=n.getTextWidth(vt);n.text("on: "+Ae,Rt+15,270),n.text(`${C.value}`,10,258,{align:"left"}),n.getTextWidth(`${C.value}`),console.log(g,m,C,N);const mt=l(!1),Bt=l(!1),Tt=l(!1),Be=l(!1),It=l(!1);n.setFontSize(12);const oa=()=>{n.setFontSize(10),n.setTextColor(0),n.text("2023 HVHZ  mEPermit General Information Page",70,20,{maxWidth:"170"}),n.line(10,41,195,41)};n.setTextColor(0),n.circle(185,38,2,"FD"),n.text("I agree",165,39),oa(),n.setFontSize(12),n.setFontSize(10);const Ut=[{category:"DBA",value:`${N.value}`},{category:"Job Address",value:`${g.value}`},{category:"meProcess Number",value:`${C.value}`},{category:"Master Permit",value:`${m.value}`}];let Yt=10,Wt=60,i=50;n.setFontSize(10),Ut.forEach((ve,bt)=>{const ae=i+bt*10;n.text(ve.category,Yt,ae),n.text(ve.value,Wt,ae),n.getTextWidth(ve.category);const Ee=n.getTextWidth(ve.value)*2;n.line(Wt,ae+2,Wt+Ee,ae+2)}),n.setTextColor("black"),n.setFontSize(10);const U=100,Ke=l(!1),Ot=l(!1);console.log(D.$state.generalpdfinput[0].generalpdfData.roofCheck[0]),D.$state.generalpdfinput[0].generalpdfData.roofCheck[0]==="reroof"?(Ke.value=!0,console.log(Ke.value)):Ot.value=!0,T.value=ee+70,S=U-15,console.log(S),n.text("Re-Roof: ",T.value,S);const Qe=S-3,Ht=Ke.value===!0?n.rect(T.value+20,Qe,4,4,"FD"):n.rect(T.value+20,Qe,4,4);T.value=ee+120,S=U-15,console.log(S),n.text("New Roof: ",T.value,S);const t=Ot.value===!0?n.rect(T.value+20,Qe,4,4,"FD"):n.rect(T.value+20,Qe,4,4);console.log(Ht,t);const rt="Total: ",Gt="Low Slope: ",Le="Steep Slope: ";(Me=(R=_.$state.permitapp[0])==null?void 0:R.formdt)!=null&&Me.muni;const sa=l(((I=(y=D.$state.generalpdfinput[0])==null?void 0:y.generalpdfData)==null?void 0:I.totalData)||""),Fe=l(((fe=(v=D.$state.generalpdfinput[0])==null?void 0:v.generalpdfData)==null?void 0:fe.slopeData)||""),te=l(((Ge=(he=D.$state.generalpdfinput[0])==null?void 0:he.generalpdfData)==null?void 0:Ge.steepData)||"");console.log(D.$state.generalpdfinput[0].generalpdfData),T.value=ee+25;const ye=n.getTextWidth(Gt),ft=n.getTextWidth(`${Fe.value}`),ia=T.value+2;n.text(Gt,ia,U);const $=ye+ia;n.text(`${Fe.value}`,$,U),n.line($,U,$+ft,U),T.value=$+ft;const $t=n.getTextWidth(Le),c=n.getTextWidth(`${te.value}`),j=T.value+2;n.text(Le,j,U);const $e=$t+j;n.text(`${te.value}`,$e,U),n.line($e,U,$e+c,U),console.log(U,S),S=U+10,T.value=$e+c,console.log(T.value);const _e=n.getTextWidth(rt),a=n.getTextWidth(`${sa.value}`),Se=T.value+2;n.text(rt,Se,U);const de=_e+Se;n.text(`${sa.value}`,de,U),n.line(de,U,de+a,U),T.value=de+a,console.log(D.$state.generalpdfinput[0]),D.$state.generalpdfinput[0].generalpdfData.slopeChk===!0&&(It.value=!0,console.log("Slope Checked")),D.$state.generalpdfinput[0].generalpdfData.adtileChk===!0&&(mt.value=!0),D.$state.generalpdfinput[0].generalpdfData.metalChk===!0&&(Bt.value=!0),D.$state.generalpdfinput[0].generalpdfData.mtileChk===!0&&(Tt.value=!0),D.$state.generalpdfinput[0].generalpdfData.shingleChk===!0&&(Be.value=!0,console.log("Shingle Checked")),T.value=ee,console.log(T.value),n.text("Low Slope: ",ee,S);const w=S-3,St=It.value===!0?n.rect(T.value+20,w,4,4,"FD"):n.rect(T.value+20,w,4,4);console.log(Ht,t,St),T.value=T.value+10,console.log(T.value);const Xe=T.value+18;console.log(T.value),n.text("Adhesive Set Tile: ",Xe,S);const le=mt.value===!0?n.rect(Xe+30,w,4,4,"FD"):n.rect(Xe+30,w,4,4);console.log(Ht,t,le),console.log(T.value);const d=Xe+40;console.log(T.value),n.text("Metal Panel: ",d,S);const et=Bt.value===!0?n.rect(d+25,w,4,4,"FD"):n.rect(d+25,w,4,4);T.value=d+10;const me=T.value+25;console.log(T.value),n.text("Shingle: ",me,S);const u=Be.value===!0?n.rect(me+15,w,4,4,"FD"):n.rect(me+15,w,4,4);T.value=me;const ze=me+35;console.log(T.value),n.text("Mechanical Fastened Tile: ",ze,S);const jt=Tt.value===!0?n.rect(ze+45,w,4,4,"FD"):n.rect(ze+45,w,4,4);console.log(jt,u,et),S=S+10,n.addImage(Ze,"JPEG",ee+40,S,120,120);const Vt="GeneralPage.pdf",tt=n.output("blob");(async(ve,bt)=>{const ae=ve,Ee=ae;console.log(Ee);const Ie=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${C.value}/${Ee}`;try{const Ue=await fetch(Ie,{method:"PUT",headers:{"Content-Type":ae.type},body:bt});Ue.ok?(Q.value=Ie,alert("File uploaded successfully!")):alert(`Failed to upload file. Status: ${Ue.status}`)}catch(Ue){console.error("Error uploading file:",Ue),alert("An error occurred while uploading the file.")}})(Vt,tt)}};return(ee,S)=>(Pa(),Ca("div"))}},wo={__name:"LowSlopepdf",setup(ue){var be,ge,ee,S,De,Ae,R,Me;const{getUser:H}=Ha(),W=Ga(),_=ka(),D=Nl(),g=l(((be=_.$state.roofList[0])==null?void 0:be.dim2)||""),m=l(((ee=(ge=W.$state.permitapp[0])==null?void 0:ge.formdt)==null?void 0:ee.address)||""),C=l(((De=(S=W.$state.permitapp[0])==null?void 0:S.formdt)==null?void 0:De.muni)||""),N=l(((R=(Ae=W.$state.permitapp[0])==null?void 0:Ae.formdt)==null?void 0:R.processNumber)||""),Q=xo(),{dripedgeStore:Oe,dripinput:He}=_l(Q),z=l(((Me=H.value[0])==null?void 0:Me.dba)||""),L=l(D.$state.burpdfinput);let x=l(!1);const e=l("");function s(){L.value.length!==1&&(x.value=!0,Ce())}wa(()=>{s()}),Ya(async()=>{await Oa(x).toBe(!0)});const Ce=()=>{var Ge,n,vt,je,Je,Ze,Ct,xt,gt,Re,T,qe,Rt,mt,Bt,Tt,Be,It;const y=Nl();if(y.$state.burpdfinput.length===0)console.log("lenghth is zero");else{const oa=l((n=(Ge=y.$state.burpdfinput[0])==null?void 0:Ge.burpdfData)==null?void 0:n.height),Ut=l((je=(vt=y.$state.burpdfinput[0])==null?void 0:vt.burpdfData)==null?void 0:je.slope),Yt=l((Ze=(Je=y.$state.burpdfinput[0])==null?void 0:Je.burpdfData)==null?void 0:Ze.per),Wt=l((xt=(Ct=y.$state.burpdfinput[0])==null?void 0:Ct.burpdfData)==null?void 0:xt.deckType),i=new Ka({orientation:"portrait",unit:"mm",format:"a4",compress:!0});i.setGState(new i.GState({opacity:.9}));const o="Approved";i.setFontSize(24),i.setTextColor("black"),i.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const U=new Image,Ke=new Image;U.src="/demo/images/officepaper.jpeg",Ke.src="/demo/images/logo.jpeg";const Ot=725,Qe=i.getPageInfo(1);Qe.pageContext.mediaBox.topRightX;const Ht=Qe.pageContext.mediaBox.topRightY,t=l(0),rt=l(0);var I=595.28-585.28,v=Ht-Ot;t.value=I,rt.value=v,console.log(t.value,rt.value),i.addImage(Ke,"JPEG",10,2,50,30),i.addImage(U,"JPEG",0,0,210,297),i.setFontSize(14),i.setTextColor("green");var fe=new Date,he=fe.toLocaleDateString();i.text(o,10,270,{align:"left"});const Gt=i.getTextWidth(o);i.text("on: "+he,Gt+15,270),i.text(`${N.value}`,10,280,{align:"left"});const Le=i.getTextWidth(`${N.value}`);i.text(`${C.value}`,Le+15,280),i.setFontSize(12);const sa=()=>{i.setFontSize(10),i.setTextColor(0),i.text('The low slope Built Up Roof (BUR) Assembly shall be installed in compliance with the HVHZ portions of Chapter 15 found in the 2023 Florida Building Code and the HVHZ Roofing Application Standards (RAS), RAS-111, RAS-117 and RAS-128. This roof assembly shall also comply with the listed requirements for a Class "A" fire rating including roof slope (incline), components and a fire barrier when required. The mePermit applicant agrees to comply with these installation requirements when obtaining this permit.',10,25,{maxWidth:"170"}),i.line(10,45,195,45)};i.setTextColor("black"),i.circle(185,40,2,"FD"),i.text("I agree",165,41),sa(),i.setFontSize(12),i.setFontSize(10);const Fe=[{category:"DBA",value:`${z.value}`},{category:"Municipality",value:`${C.value}`},{category:"Job Address",value:`${m.value}`},{category:"meProcess Number",value:`${N.value}`}];let te=10,ye=60,ft=50;i.setFontSize(10),Fe.forEach((Ne,E)=>{const F=ft+E*10;i.text(Ne.category,te,F),i.text(Ne.value,ye,F),i.getTextWidth(Ne.category);const M=i.getTextWidth(Ne.value)*2;i.line(ye,F+2,ye+M,F+2)}),i.setFontSize(10);const $=100,$t="Roof Area: ",c="Decktype: ",j="Mean Roof Height: ",$e="Roof Slope: ",_e="Roof Perimeter: ",a="Type of Low Slope BUR Material: ",Se="Type of Low Slope BUR System: ",de="Attach P(1') Prime using P(1) Field Prescriptive Basesheet: ",w="Attach P(2) Perimeter using P(3) Corner Prescriptive: ",St=l(((Re=(gt=y.$state.burpdfinput[1])==null?void 0:gt.burpdfData)==null?void 0:Re.burMaterial)||""),Xe=l(((qe=(T=y.$state.burpdfinput[1])==null?void 0:T.burpdfData)==null?void 0:qe.burSystem)||""),le=l(((mt=(Rt=y.$state.burpdfinput[1])==null?void 0:Rt.burpdfData)==null?void 0:mt.p1)||""),d=l(((Tt=(Bt=y.$state.burpdfinput[1])==null?void 0:Bt.burpdfData)==null?void 0:Tt.p3)||"");t.value=I;const et=i.getTextWidth($t),me=i.getTextWidth(`${g.value}`),u=t.value;i.text($t,u,$);const ze=et+u;i.text(`${g.value}`,ze,$),i.line(ze,$,ze+me,$),t.value=ze+me;const jt=i.getTextWidth(j),Vt=i.getTextWidth(`${oa.value}`),tt=t.value+2;i.text(j,tt,$);const at=jt+tt;i.text(`${oa.value}`,at,$),i.line(at,$,at+Vt,$),t.value=at+Vt;const ve=i.getTextWidth($e),bt=i.getTextWidth(`${Ut.value}`),ae=t.value+2;i.text($e,ae,$);const Ee=ve+ae;i.text(`${Ut.value}`,Ee,$),i.line(Ee,$,Ee+bt,$),t.value=Ee+bt;const Ie=i.getTextWidth(_e),Ue=i.getTextWidth(`${Yt.value}`),h=t.value+2;i.text(_e,h,$);const Jt=Ie+h;i.text(`${Yt.value}`,Jt,$),i.line(Jt,$,Jt+Ue,$),console.log($,v),v=$+10,t.value=Jt+Ue;const ha=i.getTextWidth(c),Da=i.getTextWidth(`${Wt.value}`),Va=I;i.text(c,Va,v);const Dt=ha+Va;i.text(`${Wt.value}`,Dt,v),i.line(Dt,v,Dt+Da,v),v=v+10,t.value=I;const va="DripEdge Material: ",p="DripEdge Size: ";console.log(Q,He);const xa=l(((Be=Q.$state.dripinput[0])==null?void 0:Be.dripMaterial)||""),B=l(((It=Q.$state.dripinput[2])==null?void 0:It.dripMaterial)||"");console.log(xa,B);const ga=i.getTextWidth(va),ba=i.getTextWidth(`${xa.value}`),Zt=I;i.text(va,Zt,v);const na=ga+Zt;i.text(`${xa.value}`,na,v),i.line(na,v,na+ba,v),v=v+10;const da=i.getTextWidth(p),Aa=i.getTextWidth(`${B.value}`),qt=I;i.text(p,qt,v);const Kt=da+qt;i.text(`${B.value}`,Kt,v),i.line(Kt,v,Kt+Aa,v),v=v+10;const At=i.getTextWidth(a),ma=i.getTextWidth(`${St.value}`),ca=t.value;i.text(a,ca,v);const Mt=At+12;i.text(`${St.value}`,Mt,v),i.line(Mt,v,Mt+ma,v),t.value=Mt+ma,v=v+10,t.value=I,i.setFontSize(9),i.getTextWidth(de);const Ye=i.getTextWidth(`${Xe.value}`),Qt=t.value;i.text(Se,Qt,v),v=v+10,t.value=I;const lt=t.value;i.text(`${Xe.value}`,lt,v),i.line(lt,v,lt+Ye,v),v=v+10,i.setFontSize(10),i.getTextWidth(de);const Ta=i.getTextWidth(`${le.value}`),ot=I;i.text(de,ot,v),v=v+7;const Ft=I;i.text(`${le.value}`,Ft,v),i.line(Ft,v,Ft+Ta+70,v),v=v+10,t.value=I;const Xt=i.getTextWidth(`${d.value}`),zt=t.value;i.text(w,zt,v),v=v+7,t.value=I;const st=t.value;i.text(`${d.value}`,st,v),i.line(st,v,st+Xt+70,v),v=v+10;const Lt="LowSlope.pdf",Wa=i.output("blob");(async(Ne,E)=>{const F=Ne,M=F;console.log(M);const J=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${N.value}/${M}`;try{const Z=await fetch(J,{method:"PUT",headers:{"Content-Type":F.type},body:E});Z.ok?(e.value=J,alert("File uploaded successfully!")):alert(`Failed to upload file. Status: ${Z.status}`)}catch(Z){console.error("Error uploading file:",Z),alert("An error occurred while uploading the file.")}})(Lt,Wa)}};return(y,I)=>(Pa(),Ca("div"))}},ko={__name:"Shingle",setup(ue){const{getUser:H}=Ha(),W=go(),_=Ga(),D=ka(),g=mo(),m=To(),C=ka(),N=Wo(),Q=l(C.$state.roofList);let Oe=l(!1);const He=wa(()=>{if(console.log(Q),Q.value.length===0)return"";for(let L=0;L<Q.value.length;L++)Q.value[L].item==="Asphalt Shingle"&&(console.log(Q.value[L].item),Oe.value=!0,z())});Ya(async()=>{await Oa(He).toBe(!0),console.log(He)});const z=()=>{var Ce,be,ge,ee,S,De,Ae,R,Me,y,I,v,fe,he,Ge,n,vt,je,Je,Ze,Ct,xt,gt,Re,T,qe;if(g.$state.inputshingle.length===0)console.log("lenghth is zero");else{console.log(W,m);let Rt=l(!1),mt=l(!1);W.$state.systeminput.length!==0&&(mt=!0,console.log(mt)),m.$state.polyinput.length!==0&&(Rt=!0,console.log(Rt));const Bt=l(_.$state.permitapp[0].formdt.address),Tt=l(_.$state.permitapp[0].formdt.muni),Be=l(((be=(Ce=_.$state.permitapp[0])==null?void 0:Ce.formdt)==null?void 0:be.processNumber)||""),It=l(H.value[0].dba),oa=l(((ee=(ge=g.$state.inputshingle[0])==null?void 0:ge.shingleData)==null?void 0:ee.height)||""),Ut=l(((De=(S=g.$state.inputshingle[0])==null?void 0:S.shingleData)==null?void 0:De.slope)||""),Yt=l(((R=(Ae=g.$state.inputshingle[0])==null?void 0:Ae.shingleData)==null?void 0:R.deckType)||""),Wt=l(D.$state.roofList[0].dim1),i=l(""),o=new Ka({orientation:"portrait",unit:"mm",format:"a4",compress:!0});o.setGState(new o.GState({opacity:.8}));const U="Approved";o.setFontSize(24),o.setTextColor(150,150,150),o.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const Ke=new Image,Ot=new Image;Ke.src="/demo/images/officepaper.jpeg",Ot.src="/demo/images/logo.jpeg",o.addImage(Ot,"JPEG",10,0,50,30),o.addImage(Ke,"JPEG",0,0,210,297),o.setFontSize(20),o.setTextColor(190,190,190);var L=new Date,x=L.toLocaleDateString();o.text(U,10,270,{align:"left"});const Qe=o.getTextWidth(U);o.text("on: "+x,Qe+15,270),o.text(`${Be.value}`,10,280,{align:"left"});const Ht=o.getTextWidth(`${Be.value}`);o.text(`${Tt.value}`,Ht+15,280),o.setFontSize(12);const t=()=>{o.setFontSize(12),o.setTextColor(0),o.text("The Shingle roof system and its components shall be installed in strict compliance  with the HVHZportions of Chapter 15 FBC, the HVHZ Roof Application Standards(RAS) 111 & 115, and the submitted MDC(NOA) Notice of Acceptance(s).The mePermit applicant agrees to comply with these installation requirements when obtaining this permit.",10,25,{maxWidth:"200"}),o.line(10,41,195,41)};o.setTextColor(0),o.circle(185,38,2,"FD"),o.text("I agree",165,39),t(),o.setFontSize(12),o.setFontSize(14);const rt=[{category:"DBA",value:`${It.value}`},{category:"Municipality",value:`${Tt.value}`},{category:"Job Address",value:`${Bt.value}`},{category:"meProcess Number",value:`${Be.value}`}];let Gt=10,Le=60,sa=50;o.setFontSize(12),rt.forEach((E,F)=>{const M=sa+F*10;o.text(E.category,Gt,M),o.text(E.value,Le,M),o.getTextWidth(E.category);const J=o.getTextWidth(E.value)*2;o.line(Le,M+2,Le+J,M+2)}),o.setFontSize(12);const Fe=2,te=100;o.text("Roof Area:",10,te),o.text(`${Wt.value}`,35,te),o.line(35,te+Fe,45,te+Fe),o.text("Mean Roof Height:",50,te);const ye=o.getTextWidth("Mean Roof Height:");o.text(`${oa.value}`,te,te),o.line(90,te+Fe,70+ye,te+Fe),o.text("Roof Slope:",80+ye,te);const ft=105+ye;o.text(`${Ut.value}`,ft,te);const ia=o.getTextWidth(`${Ut.value}`)*2;o.line(ft,te+Fe,ft+ia,te+Fe);const $=108;o.text("Decktype:",10,$);const $t=30+ia;o.text(`${Yt.value}`,$t,$);const c=o.getTextWidth(`${Yt.value}`)*2;o.line($t,$,$t+c,$);const j="Shingle NOA Number: ",$e="Shingle Applicant: ",_e="Shingle Material: ",a="Shingle Description: ",Se="Fastened (UDL)NOA: ",de="UDL NOA Applicant: ",w="Fastened UDL Material: ",St="UDL Description: ",Xe="Perscriptive: ",le=179,d=725,et=o.getPageInfo(1);console.log(et),et.pageContext.mediaBox.topRightX;const me=et.pageContext.mediaBox.topRightY,u=l(0),ze=l(0);var e=595.28-585.28,s=me-d;u.value=e,ze.value=s,console.log(g.$state.inputshingle[0]);const jt=l(((y=(Me=g.$state.inputshingle[0])==null?void 0:Me.shingleData)==null?void 0:y.noa)||""),Vt=l((v=(I=g.$state.inputshingle[0])==null?void 0:I.shingleData)==null?void 0:v.applicant),tt=l((he=(fe=g.$state.inputshingle[0])==null?void 0:fe.shingleData)==null?void 0:he.material),at=l((n=(Ge=g.$state.inputshingle[0])==null?void 0:Ge.shingleData)==null?void 0:n.description),ve=l((je=(vt=g.$state.inputshingle[0])==null?void 0:vt.shingleData)==null?void 0:je.prescriptiveSelection),bt=o.getTextWidth(Xe),ae=o.getTextWidth(`${ve.value}`),Ee=e;o.text(Xe,Ee,s);const Ie=bt+10;o.text(`${ve.value}`,Ie,s),o.line(Ie,s,Ie+ae,s),s=s+10;const Ue="DripEdge Material: ",h="DripEdge Size: ";console.log(N);const Jt=l(((Je=N.$state.dripinputshin[1])==null?void 0:Je.dripShinMaterial)||""),ha=l(((Ze=N.$state.dripinputshin[3])==null?void 0:Ze.dripShinMaterial)||"");console.log(Jt,ha);const Da=o.getTextWidth(Ue),Va=o.getTextWidth(`${Jt.value}`),Dt=e;o.text(Ue,Dt,s);const va=Da+Dt;o.text(`${Jt.value}`,va,s),o.line(va,s,va+Va,s),s=s+10;const p=o.getTextWidth(h),xa=o.getTextWidth(`${ha.value}`),B=e;o.text(h,B,s);const ga=p+B;o.text(`${ha.value}`,ga,s),o.line(ga,s,ga+xa,s),s=s+10;const ba=o.getTextWidth($e),Zt=o.getTextWidth(`${Vt.value}`),na=e;o.text($e,na,s);const da=na+ba;o.text(`${Vt.value}`,da,s),o.line(da,s,da+Zt,s),u.value=da+Zt;const Aa=o.getTextWidth(j),qt=o.getTextWidth(`${jt.value}`),Kt=u.value+3;o.text(j,Kt,s);const At=Aa+Kt;o.text(`${jt.value}`,At,s),o.line(At,s,At+qt,s),u.value=At+qt,s=s+10;const ma=e,ca=o.getTextWidth(_e),Mt=o.getTextWidth(`${tt.value}`);o.text(_e,ma,s);const Ye=ma+ca;o.text(`${tt.value}`,Ye,s),o.line(Ye,s,Ye+Mt,s),u.value=Ye+Mt,u.value>le&&(s=s+10),console.log(u.value,le),l(!1);const Qt=o.getTextWidth(`${at.value}`),lt=o.getTextWidth(a);u.value=Ye+Mt+Qt+lt+25,u.value>le&&(s=s+10),console.log(u.value,le);const Ta=e;o.text(a,Ta,s);const ot=Ta+lt;if(o.text(`${at.value}`,ot,s),o.line(ot,s,ot+Qt,s),u.value=ot+Qt,s=s+10,console.log(m.$state.polyinput.length),m.$state.polyinput.length===0){const E="n/a",F="n/a",M="n/a",J="n/a",Z=o.getTextWidth(Se),oe=o.getTextWidth(E),ce=e;o.text(Se,ce,s);const Ve=ce+Z;o.text(E,Ve,s),o.line(Ve,s,Ve+oe,s),u.value=Ve+oe,console.log(u.value);const Te=o.getTextWidth(de),A=o.getTextWidth(F),r=u.value+2;o.text(de,r,s);const f=r+Te;o.text(F,f,s),o.line(f,s,f+A,s),u.value=f+A,console.log(u.value),u.value>le&&(s=s+10);const V=u.value+2,Y=o.getTextWidth(w),X=o.getTextWidth(M);o.text(w,V,s);const k=V+Y;o.text(M,k,s),o.line(k,s,k+X,s),u.value=k+X,console.log(u.value),s=s+10,console.log(u.value);const O=o.getTextWidth(St),P=o.getTextWidth(J),q=e,b=q+P;console.log(b),o.text(St,q,s),b>le&&print(b);const G=q+O;o.text(J,G,s),o.line(G,s,G+P,s),u.value=G+P,s=s+10}else{const E=l(m.$state.polyinput[0].polyData.noa),F=l(m.$state.polyinput[0].polyData.applicant),M=l(m.$state.polyinput[0].polyData.material),J=l(m.$state.polyinput[0].polyData.description);o.getTextWidth(Se);const Z=o.getTextWidth(`${E.value}`),oe=e;o.text(Se,oe,s);const ce=Ta-23;o.text(`${E.value}`,ce,s),o.line(ce,s,ce+Z,s),u.value=ce+Z;const Ve=o.getTextWidth(de),Te=o.getTextWidth(`${F.value}`),A=u.value+2;o.text(de,A,s);const r=A+Ve;o.text(`${F.value}`,r,s),o.line(r,s,r+Te,s),u.value=r+Te,u.value>le&&(s=s+10);const f=e,V=o.getTextWidth(w),Y=o.getTextWidth(`${M.value}`);o.text(w,f,s);const X=f+V;o.text(`${M.value}`,X,s),o.line(X,s,X+Y,s),u.value=X+Y,u.value>le&&(s=s+10),console.log(u.value);const k=o.getTextWidth(St),O=o.getTextWidth(`${J.value}`),P=u.value+2,q=P+O;console.log(q),o.text("UDL Description:",P,s),q>le&&print(q);const b=P+k;o.text(`${J.value}`,b,s),o.line(b,s,b+O,s),u.value=b+O,console.log(u.value),s=s+10}const Ft="Self Adhered NOA: ",Xt="S/A NOA Applicant: ",zt="S/A System F: ",st="S/A Material: ",Lt="S/A Description: ";if(console.log(W.$state.systeminput.length),W.$state.systeminput.length===0){const E="n/a",F="n/a",M="n/a",J="n/a",Z="n/a",oe=o.getTextWidth(Ft),ce=o.getTextWidth(E),Ve=e;o.text(Ft,Ve,s);const Te=Ve+oe;o.text(E,Te,s),o.line(Te,s,Te+ce,s),u.value=Te+ce,console.log(u.value);const A=o.getTextWidth(Xt),r=o.getTextWidth(F),f=u.value+3;o.text(Xt,f,s);const V=f+A;o.text(F,V,s),o.line(V,s,V+r,s),u.value=V+r,console.log(u.value);const Y=o.getTextWidth(zt),X=u.value+3;o.text(zt,X,s);const k=X+Y;o.text(M,k,s),o.line(k,s,k+Y,s),u.value=k+Y,console.log(u.value),s=s+10;const O=o.getTextWidth(st),P=o.getTextWidth(J),q=e;o.text(st,q,s);const b=q+O;o.text(J,b,s),o.line(b,s,b+P,s),u.value=b+P,console.log(u.value);const G=o.getTextWidth(Lt),se=o.getTextWidth(Z),xe=u.value+3;o.text(Lt,xe,s);const K=xe+G;o.text(Z,K,s),o.line(K,s,K+se,s),u.value=K+se,console.log(u.value)}else{console.log("Entered sbs line 509",W.$state);const E=l((xt=(Ct=W.$state.systeminput[0])==null?void 0:Ct.systemData)==null?void 0:xt.noa),F=l((Re=(gt=W.$state.systeminput[0])==null?void 0:gt.systemData)==null?void 0:Re.manufacturer),M=l(W.$state.systeminput.pdfSystemValue),J=l((qe=(T=W.$state.systeminput[0])==null?void 0:T.systemData)==null?void 0:qe.material),Z=l(W.$state.systeminput.description),oe=o.getTextWidth(Ft),ce=o.getTextWidth(`${E.value}`),Ve=e;o.text(Ft,Ve,s);const Te=Ve+oe;o.text(`${E.value}`,Te,s),o.line(Te,s,Te+ce,s),u.value=Te+ce;const A=o.getTextWidth(Xt),r=o.getTextWidth(`${F.value}`),f=u.value+3;o.text(Xt,f,s);const V=f+A;o.text(`${F.value}`,V,s),o.line(V,s,V+r,s),u.value=V+r,console.log(u.value);const Y=o.getTextWidth(zt),X=o.getTextWidth(`${M.value}`),k=u.value+3;o.text(zt,k,s);const O=k+Y;o.text(`${M.value}`,O,s),o.line(O,s,O+X,s),u.value=O+X,s=s+10,console.log(u.value);const P=o.getTextWidth(st),q=o.getTextWidth(`${J.value}`),b=e;o.text(st,b,s);const G=b+P;o.text(`${J.value}`,G,s),o.line(G,s,G+q,s),u.value=G+q,u.value>le&&(s=s+10),console.log(u.value);const se=o.getTextWidth(Lt),xe=o.getTextWidth(`${Z.value}`),K=u.value+3;o.text(Lt,K,s);const ie=K+se;o.text(`${Z.value}`,ie,s),o.line(ie,s,ie+xe,s),u.value=ie+xe,u.value>=le&&(s=s+10),console.log(u.value)}const Wa="Shingle.pdf",ra=o.output("blob");(async(E,F)=>{const M=E;console.log(M);const J=M;console.log(J);const Z=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${Be.value}/${J}`;try{const oe=await fetch(Z,{method:"PUT",headers:{"Content-Type":M.type},body:F});oe.ok?(i.value=Z,alert("File uploaded successfully!")):alert(`Failed to upload file. Status: ${oe.status}`)}catch(oe){console.error("Error uploading file:",oe),alert("An error occurred while uploading the file.")}})(Wa,ra)}};return(L,x)=>(Pa(),Ca("div"))}},Po=Pt("h1",null,"Generate PDF with Columns and Underlined Text",-1),Co={__name:"TileAdhesive",setup(ue){const H=Pl(),W=Cl(),{getUser:_}=Ha(),{addSystemvalue:D,tileInputvalues:g,tileValues:m}=ro(),C=Ga(),N=ka(),Q=l(N.$state.roofList);fo();const Oe=$o();let He=l(!1);const z=wa(()=>{if(Q.value.length===0)return"";for(let x=0;x<Q.value.length;x++)Q.value[x].item==="Adhesive Set Tile"&&(console.log(Q.value[x].item),He.value=!0,L())});Ya(async()=>{await Oa(z).toBe(!0)});const L=()=>{var be,ge,ee,S,De,Ae,R,Me,y,I,v,fe,he,Ge,n,vt,je,Je,Ze,Ct,xt,gt,Re,T,qe,Rt,mt,Bt,Tt,Be,It,oa,Ut,Yt,Wt,i,o,U,Ke,Ot,Qe,Ht,t,rt,Gt,Le,sa,Fe,te,ye,ft,ia,$,$t,c,j,$e,_e;if(console.log(g[0].tileValues),g[0].length===0)console.log("lenghth is zero");else{const a=new Ka({orientation:"portrait",unit:"mm",format:"a4",compress:!0});let Se=l(!1),de=l(!1);W.$state.tilesysEinput.length!==0&&(Se=!0,console.log(Se)),H.$state.tilefinput.length!==0&&(de=!0,console.log(de));const w=179,St=725,Xe=a.getPageInfo(1);Xe.pageContext.mediaBox.topRightX;const le=Xe.pageContext.mediaBox.topRightY,d=l(0),et=l(0);var x=595.28-585.28,e=le-St;d.value=x,et.value=e;const me=l(((ge=(be=g[0])==null?void 0:be.tileValues)==null?void 0:ge.height)||""),u=l(((S=(ee=g[0])==null?void 0:ee.tileValues)==null?void 0:S.slope)||""),ze=l(((Ae=(De=g[0])==null?void 0:De.tileValues)==null?void 0:Ae.area)||""),jt=l(((Me=(R=g[0])==null?void 0:R.tileValues)==null?void 0:Me.Decktype)||""),Vt=l(((I=(y=g[0])==null?void 0:y.tileValues)==null?void 0:I.perimeter)||""),tt=l(((fe=(v=C.$state.permitapp[0])==null?void 0:v.formdt)==null?void 0:fe.address)||""),at=l(((Ge=(he=C.$state.permitapp[0])==null?void 0:he.formdt)==null?void 0:Ge.muni)||""),ve=l(((vt=(n=C.$state.permitapp[0])==null?void 0:n.formdt)==null?void 0:vt.processNumber)||""),bt=l(""),ae=l(((je=_.value[0])==null?void 0:je.dba)||"");a.setGState(new a.GState({opacity:.8}));const Ee="Approved";a.setFontSize(24),a.setTextColor(150,150,150),a.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const Ie=new Image,Ue=new Image;Ie.src="/demo/images/officepaper.jpeg",Ue.src="/demo/images/logo.jpeg",a.addImage(Ue,"JPEG",5,0,50,30),a.addImage(Ie,"JPEG",0,0,210,297),a.setFontSize(18),a.setTextColor("green");var s=new Date,Ce=s.toLocaleDateString();a.text(Ee,10,270,{align:"left"});const h=a.getTextWidth(Ee);a.text("on: "+Ce,h+15,270),a.text(`${ve.value}`,10,280,{align:"left"});const Jt=a.getTextWidth(`${ve.value}`);a.text(`${at.value}`,Jt+15,280),a.setFontSize(12);const ha=()=>{a.setFontSize(12),a.setTextColor(0),a.text("The tile roof system and its components shall be installed in strict compliance with the FBC 2023 HVHZ portions of Chapter 15, the HVHZ Tile Application Standards: RAS-119, RAS-120 & RAS-127 and the submitted MDC Notice of Acceptance(s). The mePermit applicant agrees to comply with these installation requirements when obtaining this permit.",10,25,{maxWidth:"200"}),a.line(10,41,195,41)};a.setTextColor(0),a.circle(185,38,2,"FD"),a.text("I agree",165,39),ha(),a.setFontSize(12),a.setFontSize(14);const Da=[{category:"DBA",value:`${ae.value}`},{category:"Municipality",value:`${at.value}`},{category:"Job Address",value:`${tt.value}`},{category:"meProcess Number",value:`${ve.value}`}];let Va=10,Dt=60,va=50;a.setFontSize(12),Da.forEach((pe,re)=>{const ne=va+re*10;a.text(pe.category,Va,ne),a.text(pe.value,Dt,ne),a.getTextWidth(pe.category);const ke=a.getTextWidth(pe.value)*2;a.line(Dt,ne+2,Dt+ke,ne+2)}),a.setFontSize(12);const p=2,B=90,ga="Roof Area: ",ba="DeckType: ",Zt="Mean Roof Height: ",na="Roof Slope: ",da="Roof Perimeter: ";d.value=x;const Aa=a.getTextWidth(ga),qt=a.getTextWidth(`${ze.value}`),Kt=d.value;a.text(ga,Kt,B);const At=Aa+Kt;a.text(`${ze.value}`,At,B),a.line(At,B+p,At+qt,B+p),d.value=At+qt,console.log(e,B);const ma=a.getTextWidth(Zt),ca=a.getTextWidth(`${me.value}`),Mt=d.value+2;a.text(Zt,Mt,B);const Ye=ma+Mt;a.text(`${me.value}`,Ye,B),a.line(Ye,B+p,Ye+ca,B+p),d.value=Ye+ca;const Qt=a.getTextWidth(na),lt=a.getTextWidth(`${u.value}`),Ta=d.value+2;a.text(na,Ta,B);const ot=Qt+Ta;a.text(`${u.value}`,ot,B),a.line(ot,B+p,ot+lt,B+p),d.value=ot+lt;const Ft=a.getTextWidth(da),Xt=a.getTextWidth(`${Vt.value}`),zt=d.value+2;a.text(da,zt,B);const st=Ft+zt;a.text(`${Vt.value}`,st,B),a.line(st,B+p,st+Xt,B+p),console.log(B,e),e=B+10;const Lt=a.getTextWidth(ba),Wa=a.getTextWidth(`${jt.value}`),ra=x;a.text(ba,ra,e);const Ne=Lt+ra;a.text(`${jt.value}`,Ne,e),a.line(Ne,e+p,Ne+Wa,e+p),e=e+10;const E="Tile NOA Number: ",F="Tile Applicant: ",M="Tile Material: ",J="Tile Description: ",Z="Fastened Underlayment(UDL)NOA: ",oe="UDL NOA Applicant: ",ce="Fastened UDL Material: ",Ve="Select System E: ",Te="Design psf: ",A="Anchor Base Sheet: ",r="UDL Description: ",f="Prescriptive: ",V="DripEdge Material: ",Y="DripEdge Size: ",X=l(((Je=Oe.$state.dripinputadt[4])==null?void 0:Je.dripTileMaterial)||""),k=l(((Ze=Oe.$state.dripinputadt[6])==null?void 0:Ze.dripTileMaterial)||""),O=a.getTextWidth(V),P=a.getTextWidth(`${X.value}`),q=x;a.text(V,q,e);const b=O+q;a.text(`${X.value}`,b,e),a.line(b,e+p,b+P,e+p),e=e+10;const G=a.getTextWidth(Y),se=a.getTextWidth(`${k.value}`),xe=x;a.text(Y,xe,e);const K=G+xe;a.text(`${k.value}`,K,e),a.line(K,e+p,K+se,e+p),e=e+10,console.log(g[0].tilevalues);const ie=l(((Ct=g[0])==null?void 0:Ct.tileValues.zoneone.mf1)||""),Et=l(((gt=(xt=g[0])==null?void 0:xt.tileValues)==null?void 0:gt.zoneone.lambda1)||""),yt=l(((T=(Re=g[0])==null?void 0:Re.tileValues)==null?void 0:T.zoneone.mg1)||""),it=l(((Rt=(qe=g[0])==null?void 0:qe.tileValues)==null?void 0:Rt.zoneone.mr1)||""),We=l(((Bt=(mt=g[0])==null?void 0:mt.tileValues)==null?void 0:Bt.zoneone.zone1)||""),we=l(((Be=(Tt=g[0])==null?void 0:Tt.tileValues)==null?void 0:Be.zonetwo.mf2)||""),Ma=l(((oa=(It=g[0])==null?void 0:It.tilevalues)==null?void 0:oa.zonetwo.lambda2)||""),fa=l(((Yt=(Ut=g[0])==null?void 0:Ut.tileValues)==null?void 0:Yt.zonetwo.mg2)||""),nt=l(((i=(Wt=g[0])==null?void 0:Wt.tileValues)==null?void 0:i.zonetwo.mr2)||""),Fa=l(((U=(o=g[0])==null?void 0:o.tileValues)==null?void 0:U.zonetwo.zone2)||""),Qa=l(((Ot=(Ke=g[0])==null?void 0:Ke.tileValues)==null?void 0:Ot.zonethree.mf3)||""),La=l(((Ht=(Qe=g[0])==null?void 0:Qe.tileValues)==null?void 0:Ht.zonethree.lambda3)||""),Ra=l(((rt=(t=g[0])==null?void 0:t.tileValues)==null?void 0:rt.zonethree.mg3)||""),ya=l((Le=(Gt=g[0])==null?void 0:Gt.tileValues)==null?void 0:Le.zonethree.mr3),ul=l(((Fe=(sa=g[0])==null?void 0:sa.tileValues)==null?void 0:Fe.zonethree.zone3)||""),Ea=l((ye=(te=g[0])==null?void 0:te.tileValues)==null?void 0:ye.prescriptiveSelection.selectedBasesheet),hl=a.getTextWidth(`${Ea.value.selectedBasesheet}`),_a=x;a.text(f,_a,e+p);const Ba=x;e=e+10,a.text(`${Ea.value}`,Ba,e),a.line(Ba,e+p,Ba+hl,e+p),e=e+10;const Na=l((ia=(ft=g[0])==null?void 0:ft.tileValues)==null?void 0:ia.noa),Tl=l(($t=($=g[0])==null?void 0:$.tileValues)==null?void 0:$t.applicant),vl=l((j=(c=g[0])==null?void 0:c.tileValues)==null?void 0:j.material),xl=l((_e=($e=g[0])==null?void 0:$e.tileValues)==null?void 0:_e.description),Bl=a.getTextWidth(F),Wl=a.getTextWidth(`${Tl.value}`),rl=x;a.text(F,rl,e);const el=rl+Bl;a.text(`${Tl.value}`,el,e),a.line(el,e+p,el+Wl,e+p),d.value=el+Wl;const Il=a.getTextWidth(E),Ul=a.getTextWidth(`${Na.value}`),fl=d.value+3;a.text(E,fl,e);const gl=Il+fl;a.text(`${Na.value}`,gl,e),a.line(gl,e+p,gl+Ul,e+p),e=e+10,a.getTextWidth(`${vl.value}`);const $l=x,Yl=a.getTextWidth(M),Ol=a.getTextWidth(`${vl.value}`);a.text(M,$l,e);const tl=$l+Yl;a.text(`${vl.value}`,tl,e),a.line(tl,e+p,tl+Ol,e+p);const Hl=a.getTextWidth(`${xl.value}`);d.value=tl+Hl,d.value>w&&(e=e+10),console.log(d.value,w),e=e+10;const Sl=a.getTextWidth(`${xl.value}`),Gl=a.getTextWidth(J),ml=x;a.text(J,ml,e);const al=ml+Gl;if(a.text(`${xl.value}`,al,e),a.line(al,e+p,al+Sl,e+p),d.value=al+Sl,console.log(W),e=e+10,W.$state.tilesysEinput.length===0){const pe="n/a",re="n/a",ne="n/a",ke="n/a",Nt=a.getTextWidth(Z),dt=a.getTextWidth(pe),pa=x;a.text(Z,pa,e);const _t=pa+Nt;a.text(pe,_t,e),a.line(_t,e+p,_t+dt,e+p),d.value=_t+dt,console.log(d.value);const ct=a.getTextWidth(oe),Xa=a.getTextWidth(re),wt=d.value+2;a.text(oe,wt,e);const ea=wt+ct;a.text(re,ea,e),a.line(ea,e+p,ea+Xa,e+p),d.value=ea+Xa,console.log(d.value),d.value>w&&(e=e+10);const pt=d.value+2,$a=a.getTextWidth(ce),kt=a.getTextWidth(ne);a.text(ce,pt,e);const ut=pt+$a;a.text(ne,ut,e),a.line(ut,e+p,ut+kt,e+p),d.value=ut+kt,console.log(d.value),d.value>w&&(e=e+10),console.log(d.value);const ua=a.getTextWidth(r),Sa=a.getTextWidth(ke),ta=x,Pe=ta+Sa;console.log(Pe),a.text(r,ta,e),Pe>w&&print(Pe);const ht=ta+ua;a.text(ke,ht,e),a.line(ht,e+p,ht+Sa,e+p),d.value=ht+Sa,e=e+10}else{const pe=l(W.$state.tilesysEinput[0].systemDataE.noa),re=l(W.$state.tilesysEinput[0].systemDataE.manufacturer),ne=l(W.$state.tilesysEinput[0].systemDataE.material),ke=l(W.$state.tilesysEinput[0].systemDataE.systemSelected),Nt=l(W.$state.tilesysEinput[0].systemDataE.dP),dt=l(W.$state.tilesysEinput[0].systemDataE.Anchor_Base),pa=l(W.$state.tilesysEinput[0].systemDataE.tileCap),_t=a.getTextWidth(Z),ct=a.getTextWidth(`${pe.value}`),Xa=x;a.text(Z,Xa,e);const wt=ml+_t;a.text(`${pe.value}`,wt,e),a.line(wt,e+p,wt+ct,e+p),d.value=wt+ct;const ea=a.getTextWidth(oe),pt=a.getTextWidth(`${re.value}`),$a=d.value+2;a.text(oe,$a,e);const kt=$a+ea;a.text(`${re.value}`,kt,e),a.line(kt,e+p,kt+pt,e+p);const ut=a.getTextWidth(`${ne.value}`);d.value=kt+ut,e=e+10;const ua=x,Sa=a.getTextWidth(ce),ta=a.getTextWidth(`${ne.value}`);a.text(ce,ua,e);const Pe=ua+Sa;a.text(`${ne.value}`,Pe,e),a.line(Pe,e+p,Pe+ta,e+p),d.value=Pe+ta,d.value>w&&(e=e+10);const ht=d.value+5,Ia=a.getTextWidth(Ve),za=a.getTextWidth(`${ke.value}`);a.text(Ve,ht,e);const aa=ht+Ia;a.text(`${ke.value}`,aa,e),a.line(aa,e+p,aa+za,e+p),d.value=aa+za,d.value>w&&(e=e+10);const Ua=a.getTextWidth(Te),Dl=a.getTextWidth(`${Nt.value}`),Al=d.value+3;a.text(Te,Al,e);const dl=Al+Ua;a.text(`${Nt.value}`,dl,e),a.line(dl,e+p,dl+Dl,e+p),d.value=dl+Dl,console.log(d.value),e=e+10,a.getTextWidth(A);const Ml=a.getTextWidth(`${dt.value}`),ql=x;a.text(A,ql,e),e=e+10;const cl=x;a.text(`${dt.value}`,cl,e),a.line(cl,e+p,cl+Ml,e+p),d.value=cl+Ml,e=e+10;const Kl=a.getTextWidth(r),Fl=a.getTextWidth(`${pa.value}`),Xl=x;a.text(r,Xl,e);const pl=Xl+Kl;a.text(`${pa.value}`,pl,e),a.line(pl,e+p,pl+Fl,e+p),d.value=pl+Fl,console.log(d.value),e=e+10}const ll="Self Adhered NOA: ",ol="S/A NOA Applicant: ",sl="S/A System F: ",il="S/A Material: ",nl="S/A Description: ";if(H.$state.tilefinput.length===0){const pe="n/a",re="n/a",ne="n/a",ke="n/a",Nt="n/a",dt=a.getTextWidth(ll),pa=a.getTextWidth(pe),_t=x;a.text(ll,_t,e);const ct=_t+dt;a.text(pe,ct,e),a.line(ct,e+p,ct+pa,e+p),d.value=ct+pa,console.log(d.value);const Xa=a.getTextWidth(ol),wt=a.getTextWidth(re),ea=d.value+3;a.text(ol,ea,e);const pt=ea+Xa;a.text(re,pt,e),a.line(pt,e+p,pt+wt,e+p),d.value=pt+wt,console.log(d.value);const $a=a.getTextWidth(sl),kt=d.value+3;a.text(sl,kt,e);const ut=kt+$a;a.text(ne,ut,e),a.line(ut,e+p,ut+$a,e+p),d.value=ut+$a,console.log(d.value),e=e+10;const ua=a.getTextWidth(il),Sa=a.getTextWidth(ke),ta=x;a.text(il,ta,e);const Pe=ta+ua;a.text(ke,Pe,e),a.line(Pe,e+p,Pe+Sa,e+p),d.value=Pe+Sa,console.log(d.value);const ht=a.getTextWidth(nl),Ia=a.getTextWidth(Nt),za=d.value+3;a.text(nl,za,e);const aa=za+ht;a.text(Nt,aa,e),a.line(aa,e+p,aa+Ia,e+p),d.value=aa+Ia,console.log(d.value)}else{console.log("Entered sbs line 455",H.$state);const pe=l(H.$state.tilefinput[0].systemData.noa),re=l(H.$state.tilefinput[0].systemData.manufacturer),ne=l(H.$state.tilefinput[0].systemData.pressure),ke=l(H.$state.tilefinput[0].systemData.material),Nt=l(H.$state.tilefinput[0].systemData.description),dt=a.getTextWidth(ll),pa=a.getTextWidth(`${pe.value}`),_t=x;a.text(ll,_t,e);const ct=_t+dt;a.text(`${pe.value}`,ct,e),a.line(ct,e+p,ct+pa,e+p),d.value=ct+pa;const Xa=a.getTextWidth(ol),wt=a.getTextWidth(`${re.value}`),ea=d.value+3;a.text(ol,ea,e);const pt=ea+Xa;a.text(`${re.value}`,pt,e),a.line(pt,e+p,pt+wt,e+p),d.value=pt+wt,console.log(d.value);const $a=a.getTextWidth(sl),kt=a.getTextWidth(`${ne.value}`),ut=d.value+3;a.text(sl,ut,e);const ua=ut+$a;a.text(`${ne.value}`,ua,e),a.line(ua,e+p,ua+kt,e+p),d.value=ua+kt,e=e+10;const Sa=a.getTextWidth(il),ta=a.getTextWidth(`${ke.value}`),Pe=x;a.text(il,Pe,e);const ht=Pe+Sa;a.text(`${ke.value}`,ht,e),a.line(ht,e+p,ht+ta,e+p),d.value=ht+ta,d.value>w&&(e=e+10);const Ia=a.getTextWidth(nl),za=a.getTextWidth(`${Nt.value}`),aa=d.value+3;a.text(nl,aa,e);const Ua=aa+Ia;a.text(`${Nt.value}`,Ua,e),a.line(Ua,e+p,Ua+za,e+p),d.value=Ua+za,d.value>=w&&(e=e+10),console.log(d.value),e=e+10}e=e+10,a.setFont("times","normal");const Vl=[["Zone 1:",`${We.value}`,"x λ",`${Et.value}`,"- Mg:",`${yt.value}`,"= Mr1:",`${it.value}`,"NOA Mf:",`${ie.value}`],["Zone 2:",`${Fa.value}`,"x λ",`${Ma.value}`,"- Mg:",`${fa.value}`,"= Mr2:",`${nt.value}`,"NOA Mf:",`${we.value}`],["Zone 3:",`${ul.value}`,"x λ",`${La.value}`,"- Mg:",`${Ra.value}`,"= Mr2:",`${ya.value}`,"NOA Mf:",`${Qa.value}`]];console.log(Vl);let jl=x-1,bl=e;Vl.forEach(pe=>{let re=jl;pe.forEach(ne=>{a.text(String(ne),re,bl),re+=18}),bl+=5});const Jl="TileAdhesive.pdf",Zl=a.output("blob");(async(pe,re)=>{const ne=pe,ke=ne;console.log(ke);const Nt=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${ve.value}/${ke}`;try{const dt=await fetch(Nt,{method:"PUT",headers:{"Content-Type":ne.type},body:re});dt.ok?(bt.value=Nt,alert("File uploaded successfully!")):alert(`Failed to upload file. Status: ${dt.status}`)}catch(dt){console.error("Error uploading file:",dt),alert("An error occurred while uploading the file.")}})(Jl,Zl)}};return(x,e)=>(Pa(),Ca("div",null,[Po,Pt("button",{onClick:L},"Download PDF")]))}},Ro={__name:"TileMechanical",setup(ue){const{getUser:H}=Ha();let W=l(!1);const _=Ga(),D=ka(),g=l(D.$state.roofList),{mechStore:m}=So(),C=Pl(),N=Cl(),Q=Vo(),Oe=wa(()=>{if(g.value.length===0)return"";for(let z=0;z<g.value.length;z++)g.value[z].item==="Mechanical Fastened Tile"&&(console.log(g.value[z].item),W.value=!0,He())});Ya(async()=>{await Oa(Oe).toBe(!0),console.log(Oe)});const He=()=>{var s,Ce,be,ge,ee,S,De,Ae,R,Me,y,I,v,fe,he;if(m.tilemech.value.length===0)console.log("lenghth is   zero");else{let Ge=l(!1),n=l(!1);N.$state.tilesysEinput.length!==0&&(Ge=!0,console.log(Ge)),C.$state.tilefinput.length!==0&&(n=!0,console.log(n)),console.log(m.tilemech.value[0]);const vt=l(((s=m.tilemech.value[0])==null?void 0:s.height)||""),je=l(((Ce=m.tilemech.value[0])==null?void 0:Ce.slope)||""),Je=l(((be=m.tilemech.value[0])==null?void 0:be.deckType)||"");l(((ge=m.tilemech.value[0])==null?void 0:ge.perimeter)||"");const Ze=l(((S=(ee=m.tilemech.value[0])==null?void 0:ee.prescriptiveSelection)==null?void 0:S.selectedBasesheet)||""),Ct=l(((De=m.tilemech.value[0])==null?void 0:De.area)||""),xt=l(((R=(Ae=_.$state.permitapp[0])==null?void 0:Ae.formdt)==null?void 0:R.address)||""),gt=l(((y=(Me=_.$state.permitapp[0])==null?void 0:Me.formdt)==null?void 0:y.muni)||""),Re=l(((v=(I=_.$state.permitapp[0])==null?void 0:I.formdt)==null?void 0:v.processNumber)||"");console.log(Q.$state);const T=l(((fe=Q.$state.dripinputmecht[5])==null?void 0:fe.dripMTileMaterial)||""),qe=l(((he=Q.$state.dripinputmecht[7])==null?void 0:he.dripMTileMaterial)||"");console.log(m.tilemech.value[0]),e=e+10;const Rt=l(m.tilemech.value[0].mf1||""),mt=l(m.tilemech.value[0].lambda1||""),Bt=l(m.tilemech.value[0].mg1||""),Tt=l(m.tilemech.value[0].mr1||""),Be=l(m.tilemech.value[0].zoneone||""),It=l(m.tilemech.value[0].mf2||""),oa=l(m.tilemech.value[0].lambda2||""),Ut=l(m.tilemech.value[0].mg2||""),Yt=l(m.tilemech.value[0].mr2||""),Wt=l(m.tilemech.value[0].zonetwo||""),i=l(m.tilemech.value[0].mf3||""),o=l(m.tilemech.value[0].lambda3||""),U=l(m.tilemech.value[0].mg3||""),Ke=l(m.tilemech.value[0].mr3),Ot=l(m.tilemech.value[0].zonethree||""),Qe=l(""),Ht=l(H.value[0].dba),t=new Ka({orientation:"portrait",unit:"mm",format:"a4",compress:!0});t.setGState(new t.GState({opacity:.8}));const rt="Approved";t.setFontSize(24),t.setTextColor(150,150,150),t.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const Gt=new Image,Le=new Image,sa=new Image;Gt.src="/demo/images/officepaper.jpeg",Le.src="/demo/images/logo.jpeg",sa.src="/demo/images/lambda.jpeg",t.addImage(Le,"JPEG",10,0,50,30),t.addImage(Gt,"JPEG",0,0,210,297),t.setFontSize(18),t.setTextColor("green");var z=new Date,L=z.toLocaleDateString();t.text(rt,10,270,{align:"left"});const Fe=t.getTextWidth(rt);t.text("on: "+L,Fe+15,270),t.text(`${Re.value}`,10,280,{align:"left"});const te=t.getTextWidth(`${Re.value}`);t.text(`${gt.value}`,te+15,280),t.setFontSize(12);const ye=()=>{t.setFontSize(12),t.setTextColor(0),t.text("The tile roof system and its components shall be installed in strict compliance with the FBC 2023 HVHZ portions of Chapter 15, the HVHZ Tile Application Standards: RAS-119, RAS-120 & RAS-127 and the submitted MDC Notice of Acceptance(s).",10,29,{maxWidth:"200"}),t.line(10,41,195,41)};t.setTextColor(0),t.circle(185,38,2,"FD"),t.text("I agree",165,39),ye(),t.setFontSize(12),t.setFontSize(14);const ft=[{category:"DBA",value:`${Ht.value}`},{category:"Municipality",value:`${gt.value}`},{category:"Job Address",value:`${xt.value}`},{category:"meProcess Number",value:`${Re.value}`}];let ia=10,$=60,$t=50;t.setFontSize(12),ft.forEach((A,r)=>{const f=$t+r*10;t.text(A.category,ia,f),t.text(A.value,$,f),t.getTextWidth(A.category);const V=t.getTextWidth(A.value)*2;t.line($,f+2,$+V,f+2)}),t.setFontSize(12);const c=1,j=100;t.text("Roof Area:",10,j),t.text(`${Ct.value}`,35,j),t.line(35,j+c,45,j+c),t.text("Mean Roof Height:",50,j);const $e=t.getTextWidth("Mean Roof Height:");t.text(`${vt.value}`,j,j),t.line(90,j+c,70+$e,j+c),t.text("Roof Slope:",80+$e,j);const _e=105+$e;t.text(`${je.value}`,_e,j);const a=t.getTextWidth(`${je.value}`)*2;t.line(_e,j+c,_e+a,j+c);const Se=108;t.text("Decktype:",10,Se);const de=30+a;t.text(`${Je.value}`,de,Se);const w=t.getTextWidth(`${Je.value}`)*2;t.line(de,Se+c,de+w,Se+c);const St="Tile NOA Number: ",Xe="Tile Applicant: ",le="Tile Material: ",d="Tile Description: ",et="Fastened (UDL) NOA: ",me="(UDL) NOA Applicant: ",u="Fastened (UDL) Material: ",ze="Select System E: ",jt="Design psf: ",Vt="Anchor Base Sheet: ",tt="(UDL) Description: ",at="Prescriptive: ",ve="DripEdge Material: ",bt="DripEdge Size: ",ae=179,Ee=725,Ie=t.getPageInfo(1);console.log(Ie),Ie.pageContext.mediaBox.topRightX;const Ue=Ie.pageContext.mediaBox.topRightY,h=l(0),Jt=l(0);var x=595.28-585.28,e=Ue-Ee;h.value=x,Jt.value=e,console.log(m.tilemech.value[0]);const ha=l(m.tilemech.value[0].noa),Da=l(m.tilemech.value[0].manufacturer),Va=l(m.tilemech.value[0].material),Dt=l(m.tilemech.value[0].description);t.getTextWidth(at);const va=t.getTextWidth(`${Ze.value}`),p=x;t.text(at,p,e);const xa=x;e=e+10,t.text(`${Ze.value}`,xa,e),t.line(xa,e+c,xa+va,e+c),e=e+10;const B=t.getTextWidth(ve),ga=t.getTextWidth(`${T.value}`),ba=x;t.text(ve,ba,e);const Zt=B+ba;t.text(`${T.value}`,Zt,e),t.line(Zt,e+c,Zt+ga,e+c),e=e+10;const na=t.getTextWidth(bt),da=t.getTextWidth(`${qe.value}`),Aa=x;t.text(bt,Aa,e);const qt=na+Aa;t.text(`${qe.value}`,qt,e),t.line(qt,e+c,qt+da,e+c),e=e+10,t.setFontSize(10);const Kt=t.getTextWidth(`${Da.value}`),At=t.getTextWidth(Xe),ma=x;t.text(Xe,ma,e);const ca=ma+At;t.text(`${Da.value}`,ca,e),t.line(ca,e+c,ca+Kt,e+c),h.value=ca+Kt;const Mt=t.getTextWidth(St),Ye=t.getTextWidth(`${ha.value}`),Qt=h.value+Mt;t.text(St,h.value+2,e),t.text(`${ha.value}`,Qt+2,e),t.line(Qt,e+c,Qt+Ye,e+c),h.value=Qt+Ye;const lt=e,Ta=t.getTextWidth(le),ot=t.getTextWidth(`${Va.value}`),Ft=h.value+5;t.text(le,Ft,lt);const Xt=Ft+Ta;t.text(`${Va.value}`,Xt,lt),t.line(Xt,lt+c,Xt+ot,lt+c),e=e+10;const zt=t.getTextWidth(`${Dt.value}`),st=t.getTextWidth(d),Lt=x;t.text(d,Lt,e),h.value=Xt+ot+zt+st,console.log(h.value),h.value>ae&&(e=e+10);const Wa=Lt;if(t.text(`${Dt.value}`,Wa,e),t.line(Wa,e+c,Wa+zt,e+c),h.value=Wa+zt,e=e+10,N.$state.tilesysEinput.length===0){const A="n/a",r="n/a",f="n/a",V="n/a",Y=t.getTextWidth(et),X=t.getTextWidth(A),k=x;t.text(et,k,e);const O=k+Y;t.text(A,O,e),t.line(O,e+c,O+X,e+c),h.value=O+X,console.log(h.value);const P=t.getTextWidth(me),q=t.getTextWidth(r),b=h.value+2;t.text(me,b,e);const G=b+P;t.text(r,G,e),t.line(G,e+c,G+q,e+c),h.value=G+q,console.log(h.value),h.value>ae&&(e=e+10);const se=h.value+2,xe=t.getTextWidth(u),K=t.getTextWidth(f);t.text(u,se,e);const ie=se+xe;t.text(f,ie,e),t.line(ie,e+c,ie+K,e+c),h.value=ie+K,console.log(h.value),h.value>ae&&(e=e+10),e=e+10;const Et=t.getTextWidth(tt),yt=t.getTextWidth(V),it=x,We=it+yt;console.log(We),t.text(tt,it,e),We>ae&&print(We);const we=it+Et;t.text(V,we,e),t.line(we,e+c,we+yt,e+c),h.value=we+yt,e=e+10}else{console.log(N.$state.tilesysEinput);const A=l(N.$state.tilesysEinput[0].systemDataE.noa),r=l(N.$state.tilesysEinput[0].systemDataE.manufacturer),f=l(N.$state.tilesysEinput[0].systemDataE.material),V=l(N.$state.tilesysEinput[0].systemDataE.systemSelected),Y=l(N.$state.tilesysEinput[0].systemDataE.dP),X=l(N.$state.tilesysEinput[0].systemDataE.Anchor_Base),k=l(N.$state.tilesysEinput[0].systemDataE.tileCap),O=t.getTextWidth(et),P=t.getTextWidth(`${A.value}`),q=x;t.text(et,q,e);const b=Lt+O;t.text(`${A.value}`,b,e),t.line(b,e+c,b+P,e+c),h.value=b+P;const G=t.getTextWidth(me),se=t.getTextWidth(`${r.value}`),xe=h.value+2;t.text(me,xe,e);const K=xe+G;t.text(`${r.value}`,K,e),t.line(K,e+c,K+se,e+c);const ie=t.getTextWidth(`${f.value}`);h.value=K+ie,e=e+10;const Et=x,yt=t.getTextWidth(u),it=t.getTextWidth(`${f.value}`);t.text(u,Et,e);const We=Et+yt;t.text(`${f.value}`,We,e),t.line(We,e+c,We+it,e+c),h.value=We+it,h.value>ae&&(e=e+10);const we=h.value+5,Ma=t.getTextWidth(ze),fa=t.getTextWidth(`${V.value}`);t.text(ze,we,e);const nt=we+Ma;t.text(`${V.value}`,nt,e),t.line(nt,e+c,nt+fa,e+c),h.value=nt+fa,h.value>ae&&(e=e+10);const Fa=t.getTextWidth(jt),Qa=t.getTextWidth(`${Y.value}`),La=h.value+3;t.text(jt,La,e);const Ra=La+Fa;t.text(`${Y.value}`,Ra,e),t.line(Ra,e+c,Ra+Qa,e+c),h.value=Ra+Qa,console.log(h.value),e=e+10,t.getTextWidth(Vt);const ya=t.getTextWidth(`${X.value}`),ul=x;t.text(Vt,ul,e),e=e+10;const Ea=x;t.text(`${X.value}`,Ea,e),t.line(Ea,e+c,Ea+ya,e+c),h.value=Ea+ya,e=e+10;const hl=t.getTextWidth(tt),_a=t.getTextWidth(`${k.value}`),Ba=x;t.text(tt,Ba,e);const Na=Ba+hl;t.text(`${k.value}`,Na,e),t.line(Na,e+c,Na+_a,e+c),h.value=Na+_a,console.log(h.value),e=e+10}const ra="Self Adhered NOA: ",Ne="S/A NOA Applicant: ",E="S/A System F: ",F="S/A Material: ",M="S/A Description: ";if(C.$state.tilefinput.length===0){const A="n/a",r="n/a",f="n/a",V="n/a",Y="n/a",X=t.getTextWidth(ra),k=t.getTextWidth(A),O=x;t.text(ra,O,e);const P=O+X;t.text(A,P,e),t.line(P,e+c,P+k,e+c),h.value=P+k,console.log(h.value);const q=t.getTextWidth(Ne),b=t.getTextWidth(r),G=h.value+3;t.text(Ne,G,e);const se=G+q;t.text(r,se,e),t.line(se,e+c,se+b,e+c),h.value=se+b,console.log(h.value);const xe=t.getTextWidth(E),K=h.value+3;t.text(E,K,e);const ie=K+xe;t.text(f,ie,e),t.line(ie,e+c,ie+xe,e+c),h.value=ie+xe,console.log(h.value),e=e+10;const Et=t.getTextWidth(F),yt=t.getTextWidth(V),it=x;t.text(F,it,e);const We=it+Et;t.text(V,We,e),t.line(We,e+c,We+yt,e+c),h.value=We+yt,console.log(h.value);const we=t.getTextWidth(M),Ma=t.getTextWidth(Y),fa=h.value+3;t.text(M,fa,e);const nt=fa+we;t.text(Y,nt,e),t.line(nt,e+c,nt+Ma,e+c),h.value=nt+Ma,console.log(h.value)}else{console.log("Entered sbs line 455",C.$state);const A=l(C.$state.tilefinput[0].systemData.noa),r=l(C.$state.tilefinput[0].systemData.manufacturer),f=l(C.$state.tilefinput[0].systemData.pressure),V=l(C.$state.tilefinput[0].systemData.material),Y=l(C.$state.tilefinput[0].systemData.description),X=t.getTextWidth(ra),k=t.getTextWidth(`${A.value}`),O=x;t.text(ra,O,e);const P=O+X;t.text(`${A.value}`,P,e),t.line(P,e+c,P+k,e+c),h.value=P+k;const q=t.getTextWidth(Ne),b=t.getTextWidth(`${r.value}`),G=h.value+3;t.text(Ne,G,e);const se=G+q;t.text(`${r.value}`,se,e),t.line(se,e+c,se+b,e+c),h.value=se+b,console.log(h.value);const xe=t.getTextWidth(E),K=t.getTextWidth(`${f.value}`),ie=h.value+3;t.text(E,ie,e);const Et=ie+xe;t.text(`${f.value}`,Et,e),t.line(Et,e+c,Et+K,e+c),h.value=Et+K,e=e+10;const yt=t.getTextWidth(F),it=t.getTextWidth(`${V.value}`),We=x;t.text(F,We,e);const we=We+yt;t.text(`${V.value}`,we,e),t.line(we,e+c,we+it,e+c),h.value=we+it,h.value>ae&&(e=e+10);const Ma=t.getTextWidth(M),fa=t.getTextWidth(`${Y.value}`),nt=h.value+3;t.text(M,nt,e);const Fa=nt+Ma;t.text(`${Y.value}`,Fa,e),t.line(Fa,e+c,Fa+fa,e+c),h.value=Fa+fa,h.value>=ae&&(e=e+10),console.log(h.value)}e=e+10;const J=[["Zone 1:",`${Be.value}`,"x λ",`${mt.value}`,"- Mg:",`${Bt.value}`,"= Mr1:",`${Tt.value}`,"NOA Mf:",`${Rt.value}`],["Zone 2:",`${Wt.value}`,"x λ",`${oa.value}`,"- Mg:",`${Ut.value}`,"= Mr2:",`${Yt.value}`,"NOA Mf:",`${It.value}`],["Zone 3:",`${Ot.value}`,"x λ",`${o.value}`,"- Mg:",`${U.value}`,"= Mr2:",`${Ke.value}`,"NOA Mf:",`${i.value}`]];console.log(J);let Z=x-1,oe=e;J.forEach(A=>{let r=Z;A.forEach(f=>{t.text(String(f),r,oe),r+=18}),oe+=5}),e=e+20;const ce="MechanicalTile.pdf",Ve=t.output("blob");(async(A,r)=>{const f=A,V=f;console.log(V);const Y=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${Re.value}/${V}`;try{const X=await fetch(Y,{method:"PUT",headers:{"Content-Type":f.type},body:r});X.ok?(Qe.value=Y,alert("File uploaded successfully!")):alert(`Failed to upload file. Status: ${X.status}`)}catch(X){console.error("Error uploading file:",X),alert("An error occurred while uploading the file.")}})(ce,Ve)}};return(z,L)=>(Pa(),Ca("div"))}},Bo=ue=>(io("data-v-c1803506"),ue=ue(),no(),ue),Io={class:"card"},Uo=Bo(()=>Pt("p",null,"The roof systems you selected",-1)),Yo={class:"rounded border border-surface-200 dark:border-surface-700 p-6 bg-surface-0 dark:bg-surface-900"},Oo={class:"flex justify-between mt-4"},Ho={__name:"Summarys",setup(ue){var De,Ae;const{accountUsers:H}=Ha(),W=l(!1),_=l(!1);let D=l(!1),g=l(!1),m=l(!1),C=l(!1),N=l(!1);const Q=l("");l(""),l(""),l("");const Oe=Ga(),He=ka(),z=l(He.$state.roofList),L=l(((Ae=(De=Oe.$state.permitapp[0])==null?void 0:De.formdt)==null?void 0:Ae.processNumber)||""),x=kl(),e=l(x.$state.generalpdfinput),{getNumbers:s}=Eo(L.value);function Ce(){H.value.forEach((R,Me)=>{Q.value=R.dba})}const be=wa(()=>{s(L.value),_.value=!0,setTimeout(()=>{_.value=!0},2e3),console.log(L.value)}),ge=wl({dim:"",item:""}),ee=wa(()=>{if(z.value.length===0)return"";for(let R=0;R<z.value.length;R++)z.value[R].item==="Asphalt Shingle"?(C.value=!0,ge.dim=z.value[R].dim1,ge.item=z.value[R].item):z.value[R].item==="Low Slope"?N.value=!0:z.value[R].item==="Adhesive Set Tile"?(console.log(z.value[R].item),g.value=!0):z.value[R].item==="Mechanical Fastened Tile"?(console.log(z.value[R].item),m.value=!0):e.value.length!==1&&(D.value=!0),console.log(z.value)});eo(()=>{Ce()}),to(Ce,ee,be);const S=l([{status:"RoofSystems",date:"15/10/2020 10:30",icon:"pi pi-cog",color:"#9C27B0",image:"/src/assets/img/roofing_tile.jpg"},{status:"Processing",date:"15/10/2020 14:00",icon:"pi pi-cog",color:"#673AB7"},{status:ge.item,date:"15/10/2020 14:00",icon:"pi pi-cog",color:"#673AB7"}]);return Ya(async()=>{await Oa(ee).toBe(!0)}),(R,Me)=>{const y=uo,I=po,v=co,fe=Rl;return Pa(),Ca(ao,null,[Pt("div",Io,[la(v,{value:S.value,align:"alternate",class:"customized-timeline"},{marker:ja(he=>[Pt("span",{class:"flex w-8 h-8 items-center justify-center text-white rounded-full z-10 shadow-sm",style:lo({backgroundColor:he.item.color})},[Pt("i",{class:oo(he.item.icon)},null,2)],4)]),content:ja(he=>[la(I,{class:"mt-4"},{title:ja(()=>[zl(El(he.item.status),1)]),subtitle:ja(()=>[zl(El(he.item.date),1)]),content:ja(()=>[Uo,la(y,{label:"Read more",text:""})]),_:2},1024)]),_:1},8,["value"])]),Ja(la(qa(so),{color:"#784EA7",size:"100px",style:{"margin-top":"400px","margin-left":"850px"}},null,512),[[Za,W.value]]),Pt("div",Yo,[la(fe,{width:"100%",height:"150px"}),Pt("div",Oo,[la(fe,{width:"4rem",height:"2rem"}),la(fe,{width:"4rem",height:"2rem"})]),Pt("div",null,[la(No)]),Ja(Pt("div",null,[la(ko)],512),[[Za,qa(C)]]),Ja(Pt("div",null,[la(Co)],512),[[Za,qa(g)]]),Ja(Pt("div",null,[la(Ro)],512),[[Za,qa(m)]]),Ja(Pt("div",null,[la(wo)],512),[[Za,qa(N)]])])],64)}}},ps=bo(Ho,[["__scopeId","data-v-c1803506"]]);export{ps as default};
