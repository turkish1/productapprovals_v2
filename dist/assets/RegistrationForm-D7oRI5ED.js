import{s as X,a as Y}from"./index-ChE335Fs.js";import{s as H,a as Z}from"./index-C9vfTFZs.js";import{k as $,l as O,r as n,c as w,d as y,e as l,i as I,f as e,t as C,F as R,m as E,n as T,s as q,a as M,q as Q,v as ee,_ as oe,x as ae,u as te,o as G,w as se,y as le,p as ne,j as de}from"./index-CVviCf6s.js";import{s as ie}from"./index-Dyslakp-.js";import{u as re,s as ce}from"./auth-Ciw4O39S.js";import{s as me}from"./index-C9xMkwy1.js";import{s as pe}from"./index-Y1neqAwE.js";import{s as ue}from"./index-Da2Oem19.js";import{u as fe}from"./accountsStore-Co2cf_G0.js";import{u as W}from"./useAxios-CcT5ccuG.js";import{h as _e,E as ve}from"./jspdf.es.min-DM2PbJLz.js";import{t as he}from"./index-CPv9Jsn-.js";import"./index-CkV9RtK6.js";import"./index-CUnTBheE.js";import"./index-CJdmxOQD.js";import"./index-DQYYybEa.js";const xe={class:"card object-cover h-128 w-128 ...",style:{"margin-right":"250px","margin-top":"1px"}},ge={class:"flex flex-wrap justify-between items-center flex-1 gap-4"},be={class:"flex gap-2"},we={class:"whitespace-nowrap"},ye={class:"flex flex-col gap-8 pt-4"},De={key:0},Ve=e("h5",null,"Pending",-1),Se={class:"flex flex-wrap gap-4"},Ue=["alt","src"],ke={class:"font-semibold text-ellipsis max-w-60 whitespace-nowrap overflow-hidden"},Ce={key:1},Ie=e("h5",null,"Completed",-1),Me={class:"flex flex-wrap gap-4"},Pe=["alt","src"],Be={class:"font-semibold text-ellipsis max-w-60 whitespace-nowrap overflow-hidden"},Fe={class:"flex items-center justify-center flex-col"},ze=e("i",{class:"pi pi-cloud-upload !border-2 !rounded-full !p-8 !text-4xl !text-muted-color"},null,-1),Ae={__name:"Drop",setup(r){const a=$(),g=O(),o=n(0),h=n(0),s=n([]),c=()=>{console.log(url),g.add({severity:"info",summary:"Success",detail:"File Uploaded",life:3e3})},_=(m,p,t)=>{p(t),o.value-=parseInt(f(m.size)),h.value=o.value/1},u=m=>{s.value=m.files,s.value.forEach(p=>{o.value+=parseInt(f(p.size))})},b=m=>{h.value=o.value/1,m()},D=()=>{g.add({severity:"info",summary:"Success",detail:"File Uploaded",life:3e3})},f=m=>{const x=a.config.locale.fileSizeTypes;if(m===0)return`0 ${x[0]}`;const U=Math.floor(Math.log(m)/Math.log(1024));return`${parseFloat((m/Math.pow(1024,U)).toFixed(3))} ${x[U]}`};return(m,p)=>{const t=q,x=H,U=X,P=Z,N=Y;return w(),y("div",xe,[l(t),l(N,{name:"demo[]",url:"https://digitalsolutionsroofs.s3.amazonaws.com/",onUpload:c,multiple:!0,accept:".xlsx,.pdf,.csv,.xls,image/*",maxFileSize:1e10,onSelect:u},{header:I(({chooseCallback:V,uploadCallback:k,clearCallback:B,files:S})=>[e("div",ge,[e("div",be,[l(x,{onClick:i=>V(),icon:"pi pi-images",rounded:"",outlined:"",severity:"secondary"},null,8,["onClick"]),l(x,{onClick:i=>b(k),icon:"pi pi-cloud-upload",rounded:"",outlined:"",severity:"success",disabled:!S||S.length===0},null,8,["onClick","disabled"]),l(x,{onClick:i=>B(),icon:"pi pi-times",rounded:"",outlined:"",severity:"danger",disabled:!S||S.length===0},null,8,["onClick","disabled"])]),l(U,{value:h.value,showValue:!1,class:"md:w-20rem h-1 w-full md:ml-auto"},{default:I(()=>[e("span",we,C(o.value)+"B / 1Mb",1)]),_:1},8,["value"])])]),content:I(({files:V,uploadedFiles:k,removeUploadedFileCallback:B,removeFileCallback:S})=>[e("div",ye,[V.length>0?(w(),y("div",De,[Ve,e("div",Se,[(w(!0),y(R,null,E(V,(i,F)=>(w(),y("div",{key:i.name+i.type+i.size,class:"p-8 rounded-border flex flex-col border border-surface items-center gap-4"},[e("div",null,[e("img",{role:"presentation",alt:i.name,src:i.objectURL,width:"100",height:"50"},null,8,Ue)]),e("span",ke,C(i.name),1),e("div",null,C(f(i.size)),1),l(P,{value:"Pending",severity:"warn"}),l(x,{icon:"pi pi-times",onClick:j=>_(i,S,F),outlined:"",rounded:"",severity:"danger"},null,8,["onClick"])]))),128))])])):T("",!0),k.length>0?(w(),y("div",Ce,[Ie,e("div",Me,[(w(!0),y(R,null,E(k,(i,F)=>(w(),y("div",{key:i.name+i.type+i.size,class:"p-8 rounded-border flex flex-col border border-surface items-center gap-4"},[e("div",null,[e("img",{role:"presentation",alt:i.name,src:i.objectURL,width:"100",height:"50"},null,8,Pe)]),e("span",Be,C(i.name),1),e("div",null,C(f(i.size)),1),l(P,{value:"Completed",class:"mt-4",severity:"success"}),l(x,{icon:"pi pi-times",onClick:j=>B(F),outlined:"",rounded:"",severity:"danger"},null,8,["onClick"])]))),128))])])):T("",!0)])]),empty:I(()=>[e("div",Fe,[ze,e("p",{class:"mt-6 mb-0",onUpload:p[0]||(p[0]=V=>D(V))},"Drag and drop files to here to upload.",32)])]),_:1})])}}};function Ne(){n([]);const r=n([]),a=n("");let g=n([]);const{accountUsers:o,getUser:h,addUser:s}=fe();let c=M({license:"",dba:"",name:"",username:"",password:"",secondary_status:"",expiration_date:"",address:"",projects:[],password:"",cphone:"",bphone:"",email:"",date:new Date});const _=n("");let u="https://us-east-1.aws.data.mongodb-api.com/app/data-aquwo/endpoint/accounts";const{execute:b,data:D}=W(u,{method:"POST"},{immediate:!1});let f=M({});function m(p){console.log(p),f=p,b({data:p}),a.value="Form submitted successfully!",s(f),console.log(f,"System added")}return{takp:m,noaNum:r,formData:c,error:_,accountUsers:o,getUser:h,addUser:s,accountUsers:o,results:g,responseMessage:a,...Q(f)}}const Le=ee("cccinput",{state:()=>({cccinput:[],id:0}),actions:{addData(r){this.cccinput.push({cccAccounts:r,completed:!1})}},getters:{cccData:r=>r.cccAccounts}});function Re(){const r=n(""),a=n(""),g=n("");n("");const o=n("");let h="https://us-east-1.aws.data.mongodb-api.com/app/data-aquwo/endpoint/contractors";const{execute:s,then:c,data:_}=W(h,{method:"GET"},{immediate:!1}),u=M({});let b=M({license:"",dba:"",name:"",license_status:"",expiration_date:"",address:""});return Le(),s().then(D=>(u.value=_.value,b=u.value,g)),{error:a,responseMessage:r,contractors:u,licenseNumbers:o,cccAccounts:b}}const Te={setup(){let r=M({});const{authStore:a}=re(),{message:g}=ae(a),o=te();let h=n(!1),s=M({license:"",dba:"",name:"",username:"",password:"",secondary_status:"",expiration_date:"",address:"",projects:[],password:"",cphone:"",bphone:"",email:"",date:new Date});const{contractors:c}=Re(),_=n("");G(()=>{r=c,console.log(r)});const u=n(""),{Data:b,takp:D}=Ne(),f=async()=>{D(s),s.license="",s.name="",s.secondary_status="",s.dba="",s.username="",s.password="",s.address="",s.cphone="",s.bphone="",s.email="",s.insurance="",s.carrier="",t()};function m(){r.value.forEach(v=>{_.value=s.license.toUpperCase(),_.value===v.alt_license&&(s.dba=v.DBA,s.name=v.name,s.expiration_date=v.expiration_date,s.address=v.address1,s.city=v.city,u.value=v.secondary_status,console.log(v.DBA,s.dba)),p()})}se(p,()=>{});function p(){u.value===""&&(s.secondary_status=""),u.value==="A"&&(s.secondary_status="Active"),u.value==="I"&&(s.secondary_status="Inactive")}const t=()=>{o.push("/")},x=O(),U=n(),P=()=>{U.value.upload()},N=()=>{x.add({severity:"constrast",summary:"Contrast",detail:"File Uploaded",life:3e3})},V=n([{name:"Florida",code:"Florida"},{name:"Georgia",code:"Georgia"}]),k=n([{name:"Miami",code:"Miami"},{name:"Homestead",code:"Homestead"},{name:"Miami Beach",code:"Miami Beach"},{name:"Miami Gardens",code:"Miami Gardens"}]),B=n([{name:"Roofing Contractor",code:"Roofing"},{name:"General Contractor",code:"General"}]),S=n(null),i=n(null),F=n(null);return he(()=>{const v=document.getElementById("shingle");console.log(v),_e(v).then(L=>{const A=L.toDataURL("image/png"),z=new ve;z.addImage(A,"PNG",10,10,190,0);const K=z.output("blob");J(K)});const J=async L=>{try{const z=await(await window.showSaveFilePicker({suggestedName:"permitapp.pdf",types:[{description:"PDF file",accept:{"application/pdf":[".pdf"]}}]})).createWritable();await z.write(L),await z.close(),console.log("PDF saved successfully without popping download dialog!")}catch(A){console.error("Error saving file:",A)}}},()=>{console.log("Called Unmounted")}),{formDatas:s,...Q(s),disabled:h,navigateNext:t,authStore:a,message:g,checkLicense:m,trade:B,trades:S,onSubmit:f,onUpload:N,onMounted:G,upload:P,dropdownItemCt:k,dropdownItemSt:V,dropdownItemct:F,dropdownItemst:i}}},d=r=>(ne("data-v-dfc58c1d"),r=r(),de(),r),je={class:"card flex flex-col gap-7"},Ee=d(()=>e("div",{class:"font-semibold text-xl"},"Contractor Information",-1)),Ge={class:"flex flex-col gap-2"},He=d(()=>e("label",{for:"lic1"},"State of Florida License No.",-1)),Oe={class:"flex flex-wrap gap-2"},qe=d(()=>e("label",{for:"trade"},"Trade",-1)),Qe={class:"flex flex-col gap-2"},We=d(()=>e("label",{for:"dba"},"DBA",-1)),Je={class:"flex flex-col gap-2"},Ke=d(()=>e("label",{for:"name"},"Qualifier Name",-1)),Xe={class:"flex flex-col gap-2"},Ye=d(()=>e("label",{for:"secondary_status"},"License Status",-1)),Ze={class:"flex flex-col gap-2"},$e=d(()=>e("label",{for:"license"},"License Expiration Date",-1)),eo={class:"flex flex-col gap-2"},oo=d(()=>e("label",{for:"license"},"Insurance Policy Number",-1)),ao={class:"flex flex-col gap-2"},to=d(()=>e("label",{for:"license"},"Insurance Carrier",-1)),so={class:"flex flex-col gap-2"},lo=d(()=>e("label",{for:"username"},"User Name",-1)),no={class:"flex flex-col gap-2"},io=d(()=>e("label",{for:"fname"},"Password",-1)),ro=d(()=>e("div",{class:"font-semibold text-xm mb-4"},"Pick a password",-1)),co=d(()=>e("ul",{class:"pl-2 ml-2 my-0 leading-normal"},[e("li",null,"At least one lowercase"),e("li",null,"At least one uppercase"),e("li",null,"At least one numeric"),e("li",null,"Minimum 8 characters")],-1)),mo=d(()=>e("div",{class:"font-semibold text-xl"},"Contact Info",-1)),po={class:"flex flex-wrap gap-4"},uo={class:"flex flex-col grow basis-0 gap-3"},fo=d(()=>e("label",{for:"addr"},"Business Address",-1)),_o={class:"flex flex-col grow basis-1 gap-3"},vo=d(()=>e("label",{for:"state"},"City",-1)),ho={class:"flex flex-wrap gap-2 w-full"},xo=d(()=>e("label",{for:"state"},"State",-1)),go={class:"flex flex-col grow basis-0 gap-3"},bo=d(()=>e("label",{for:"bphone"},"Business Phone",-1)),wo={class:"flex flex-col grow basis-0 gap-3"},yo=d(()=>e("label",{for:"cphone"},"Cell Phone Number",-1)),Do={class:"flex flex-col grow basis-0 gap-3"},Vo=d(()=>e("label",{for:"email1"},"Email",-1)),So={class:"card md:w-1/4 flex justify-center flex-wrap gap-4"},Uo=d(()=>e("div",{class:"flex flex-col items-center gap-2"},[e("span",{class:"text-xl font-medium"},"Scroll Down"),e("span",{class:"slidedown-icon h-8 w-8 bg-primary text-primary-contrast rounded-full inline-flex items-center justify-center"},[e("i",{class:"pi pi-arrow-down"})])],-1)),ko={class:"card md:w-1/3 flex flex-col gap-3"},Co=d(()=>e("label",{for:"addr"},"Upload Insurance Information",-1)),Io={key:0};function Mo(r,a,g,o,h,s){const c=ue,_=pe,u=me,b=ce,D=ie,f=H,m=q,p=Ae;return w(),y(R,null,[e("form",{class:"container w-1/2",onSubmit:a[16]||(a[16]=le((...t)=>o.onSubmit&&o.onSubmit(...t),["prevent"])),style:{"margin-left":"300px"}},[e("div",je,[Ee,e("div",Ge,[He,l(c,{type:"text",modelValue:o.formDatas.license,"onUpdate:modelValue":a[0]||(a[0]=t=>o.formDatas.license=t),placeholder:"CRC000000",invalid:o.formDatas.license==="",onInput:o.checkLicense},null,8,["modelValue","invalid","onInput"])]),e("div",Oe,[qe,l(_,{id:"trad",modelValue:o.trades,"onUpdate:modelValue":a[1]||(a[1]=t=>o.trades=t),options:o.trade,optionLabel:"name",placeholder:"Select One",class:"w-full"},null,8,["modelValue","options"])]),e("div",Qe,[We,l(c,{id:"dba",type:"text",modelValue:o.formDatas.dba,"onUpdate:modelValue":a[2]||(a[2]=t=>o.formDatas.dba=t),placeholder:" ",invalid:o.formDatas.dba===""},null,8,["modelValue","invalid"])]),e("div",Je,[Ke,l(c,{id:"name",type:"text",modelValue:o.formDatas.name,"onUpdate:modelValue":a[3]||(a[3]=t=>o.formDatas.name=t),placeholder:" ",invalid:o.formDatas.name===""},null,8,["modelValue","invalid"])]),e("div",Xe,[Ye,l(c,{id:"secondary_status",type:"text",modelValue:o.formDatas.secondary_status,"onUpdate:modelValue":a[4]||(a[4]=t=>o.formDatas.secondary_status=t),placeholder:" ",invalid:o.formDatas.secondary_status===""},null,8,["modelValue","invalid"])]),e("div",Ze,[$e,l(c,{id:"license",type:"text",modelValue:o.formDatas.expiration_date,"onUpdate:modelValue":a[5]||(a[5]=t=>o.formDatas.expiration_date=t),placeholder:" ",invalid:o.formDatas.expiration_date===""},null,8,["modelValue","invalid"])]),e("div",eo,[oo,l(c,{id:"license",type:"text",modelValue:o.formDatas.insurance,"onUpdate:modelValue":a[6]||(a[6]=t=>o.formDatas.insurance=t),placeholder:" ",invalid:o.formDatas.expiration_date===""},null,8,["modelValue","invalid"])]),e("div",ao,[to,l(c,{id:"license",type:"text",modelValue:o.formDatas.carrier,"onUpdate:modelValue":a[7]||(a[7]=t=>o.formDatas.carrier=t),placeholder:" ",invalid:o.formDatas.expiration_date===""},null,8,["modelValue","invalid"])]),e("div",so,[lo,l(c,{id:"username",type:"text",modelValue:o.formDatas.username,"onUpdate:modelValue":a[8]||(a[8]=t=>o.formDatas.username=t),placeholder:"user name",invalid:o.formDatas.username===""},null,8,["modelValue","invalid"])]),e("div",no,[io,l(b,{modelValue:o.formDatas.password,"onUpdate:modelValue":a[9]||(a[9]=t=>o.formDatas.password=t)},{header:I(()=>[ro]),footer:I(()=>[l(u),co]),_:1},8,["modelValue"]),mo,e("div",po,[e("div",uo,[fo,l(c,{id:"addr",type:"text",modelValue:o.formDatas.address,"onUpdate:modelValue":a[10]||(a[10]=t=>o.formDatas.address=t),placeholder:"address"},null,8,["modelValue"])]),e("div",_o,[vo,l(c,{id:"city",type:"text",modelValue:o.formDatas.city,"onUpdate:modelValue":a[11]||(a[11]=t=>o.formDatas.city=t),placeholder:"city"},null,8,["modelValue"])]),e("div",ho,[xo,l(_,{id:"state",modelValue:o.dropdownItemst,"onUpdate:modelValue":a[12]||(a[12]=t=>o.dropdownItemst=t),options:o.dropdownItemSt,optionLabel:"name",placeholder:"Select One",class:"w-full"},null,8,["modelValue","options"])]),e("div",go,[bo,l(D,{modelValue:o.formDatas.bphone,"onUpdate:modelValue":a[13]||(a[13]=t=>o.formDatas.bphone=t),mask:"(999) 999-9999",placeholder:"(999) 999-9999",invalid:o.formDatas.bphone===""},null,8,["modelValue","invalid"])]),e("div",wo,[yo,l(D,{modelValue:o.formDatas.cphone,"onUpdate:modelValue":a[14]||(a[14]=t=>o.formDatas.cphone=t),mask:"(999) 999-9999",placeholder:"(999) 999-9999",invalid:o.formDatas.cphone===""},null,8,["modelValue","invalid"])]),e("div",Do,[Vo,l(c,{id:"email1",modelValue:o.formDatas.email,"onUpdate:modelValue":a[15]||(a[15]=t=>o.formDatas.email=t),type:"text",placeholder:"email",invalid:o.formDatas.email===""},null,8,["modelValue","invalid"])])]),e("div",So,[l(f,{label:"Submit",severity:"contrast",raised:"",onClick:o.onSubmit,disabled:o.disabled},null,8,["onClick","disabled"])])]),Uo,e("div",ko,[Co,l(m),l(p)])])],32),r.responseMessage?(w(),y("p",Io,C(r.responseMessage),1)):T("",!0)],64)}const Wo=oe(Te,[["render",Mo],["__scopeId","data-v-dfc58c1d"]]);export{Wo as default};
