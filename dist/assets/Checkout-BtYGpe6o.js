import{E as ja,P as Ja,c as aa,d as la,D as Za,r as s,a8 as ca,ar as ua,as as pa,f as ot,o as qa,bh as Ka,e as Ge,i as da,a2 as Qa,a1 as La,am as Da,t as Aa,g as $a,ao as Sa,k as ba,F as ya,p as _a,j as el}from"./index-CewCcbPS.js";import{s as tl}from"./index-B8QWQwW6.js";import{s as al}from"./index-DDCETMQO.js";import{s as ll}from"./index-DuUeQiQe.js";import{u as ol}from"./useAxios-CHeHjr5c.js";import{u as va}from"./accountsStore-760D65sy.js";import{u as Ea}from"./generalpageStore-Ct64Ts6A.js";import{u as ha}from"./permitapp-pVLixpiG.js";import{u as ta}from"./roofList-z7MMgtLk.js";import{E as Mt}from"./jspdf.es.min-CbG4SH3S.js";import{u as Pa}from"./burpdfStore-DyM2iHtU.js";import{a as sl,u as il,b as nl}from"./systemfStore-B1MqqfqC.js";import{u as za}from"./dripEdgeStore-CI5jQJ8J.js";import{u as dl}from"./tilenoaStore-BvIgv2jf.js";import{u as Ba,a as Ra}from"./tilesysfStore-Bb2WCbE8.js";import{u as cl}from"./use-tileMechanical-BQFqGoYP.js";import{_ as ul}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-C0fFiqeS.js";var pl=function(B){var x=B.dt;return`
.p-skeleton {
    overflow: hidden;
    background: `.concat(x("skeleton.background"),`;
    border-radius: `).concat(x("skeleton.border.radius"),`;
}

.p-skeleton::after {
    content: "";
    animation: p-skeleton-animation 1.2s infinite;
    height: 100%;
    left: 0;
    position: absolute;
    right: 0;
    top: 0;
    transform: translateX(-100%);
    z-index: 1;
    background: linear-gradient( 90deg, rgba(255, 255, 255, 0), `).concat(x("skeleton.animation.background"),`, rgba(255, 255, 255, 0) );
}

.p-skeleton-circle {
    border-radius: 50%;
}

.p-skeleton-animation-none::after {
    animation: none;
}

@keyframes p-skeleton-animation {
    from {
        transform: translateX(-100%);
    }
    to {
        transform: translateX(100%);
    }
}
`)},vl={root:{position:"relative"}},hl={root:function(B){var x=B.props;return["p-skeleton p-component",{"p-skeleton-circle":x.shape==="circle","p-skeleton-animation-none":x.animation==="none"}]}},xl=ja.extend({name:"skeleton",theme:pl,classes:hl,inlineStyles:vl}),gl={name:"BaseSkeleton",extends:Ja,props:{shape:{type:String,default:"rectangle"},size:{type:String,default:null},width:{type:String,default:"100%"},height:{type:String,default:"1rem"},borderRadius:{type:String,default:null},animation:{type:String,default:"wave"}},style:xl,provide:function(){return{$pcSkeleton:this,$parentInstance:this}}},Oa={name:"Skeleton",extends:gl,inheritAttrs:!1,computed:{containerStyle:function(){return this.size?{width:this.size,height:this.size,borderRadius:this.borderRadius}:{width:this.width,height:this.height,borderRadius:this.borderRadius}}}};function ml(_,B,x,J,X,k){return aa(),la("div",Za({class:_.cx("root"),style:[_.sx("root"),k.containerStyle],"aria-hidden":"true"},_.ptmi("root")),null,16)}Oa.render=ml;function Tl(){const _=s(),B=s("");s([]);const x=s(),J=s("");let X="https://681byz7j80.execute-api.us-east-1.amazonaws.com/sendmenumber/sendmenumber";const{execute:k,then:V,data:p}=ol(X,{method:"GET"},{immediate:!1});function M(H){console.log(H),_.value=H,B.value=_.value+"/",be()}const be=async()=>{try{return await k({params:{processnumber:B.value}}).then(st=>{x.value=p.value,console.log(p)})}catch(H){console.log("Error, fectching data",H)}};return{error:J,getNumber:M,procNum:x,fetchData:be}}const Wl={__name:"Generalpagepdf",setup(_){const{getUser:B}=va();let x=s(!1);const J=ha();ta();const X=Ea(),k=s(J.$state.permitapp[0].formdt.address),V=s(J.$state.permitapp[0].formdt.permit),p=s(J.$state.permitapp[0].formdt.processNumber),M=p.value.length!==0?p.value:"files",be=s(B.value[0].dba),H=s(""),st=s(X.$state.generalpdfinput);function T(){st.value.length!==1&&(x.value=!0)}ca(()=>{T(),l()}),ua(async()=>{await pa(x).toBe(!0),l()});const l=()=>{if(X.$state.generalpdfinput.length===0)console.log("lenghth is   zero");else{const i=new Mt;i.setGState(new i.GState({opacity:.9}));const U="Approved";i.setFontSize(24),i.setTextColor("black"),i.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const oe=new Image,je=new Image,it=new Image;oe.src="/demo/images/officepaper.jpeg",je.src="/demo/images/logo.jpeg",it.src="/demo/images/DragAndDrop.jpeg";const d=725,Y=i.getPageInfo(1),n=Y.pageContext.mediaBox.topRightX,ft=Y.pageContext.mediaBox.topRightY;console.log(n);const g=s(0),o=s(0);var v=595.28-585.28,e=ft-d;g.value=v,o.value=e,console.log(g.value,o.value),i.addImage(je,"JPEG",10,10,50,30),i.addImage(oe,"JPEG",0,0,210,297),i.setFontSize(14),i.setTextColor("green");var t=new Date,I=t.toLocaleDateString();i.text(U,10,270,{align:"left"});const wt=i.getTextWidth(U);i.text("on: "+I,wt+15,270),i.text(`${p.value}`,10,258,{align:"left"}),i.getTextWidth(`${p.value}`),console.log(k,V,p,be);const a=s(!1),Je=s(!1),W=s(!1),nt=s(!1),dt=s(!1);i.setFontSize(12);const Jt=()=>{i.setFontSize(10),i.setTextColor(0),i.text("2023 HVHZ  mEPermit General Information Page",70,20,{maxWidth:"170"}),i.line(10,41,195,41)};i.setTextColor(0),i.circle(185,38,2,"FD"),i.text("I agree",165,39),Jt(),i.setFontSize(12),i.setFontSize(10);const Ut=[{category:"DBA",value:`${be.value}`},{category:"Job Address",value:`${k.value}`},{category:"meProcess Number",value:`${p.value}`},{category:"Master Permit",value:`${V.value}`}];let rt=10,$t=60,ne=50;i.setFontSize(10),Ut.forEach((q,Oe)=>{const ke=ne+Oe*10;i.text(q.category,rt,ke),i.text(q.value,$t,ke),i.getTextWidth(q.category);const ae=i.getTextWidth(q.value)*2;i.line($t,ke+2,$t+ae,ke+2)}),i.setFontSize(10);const D=100,h=s(!1);X.$state.generalpdfinput[0].generalpdfData.roofCheck[0]==="reroof"&&(h.value=!0,console.log(h.value)),g.value=v+70,e=D-15,console.log(e);const ve=new Mt.API.AcroFormCheckBox;i.text("Re-Roof: ",g.value,e);const he=e-3;ve.fieldName="CheckBox6",console.log(h.value),ve.Rect=[g.value+20,he,4,4],g.value=g.value+20,ve.value=h.value===!0?"On":"Off",ve.appearanceState=h.value===!0?"On":"Off",i.addField(ve),g.value=v+120,e=D-15,console.log(e);const xe=new Mt.API.AcroFormCheckBox;i.text("New Roof: ",g.value,e);const St=e-3;xe.fieldName="CheckBox7",xe.Rect=[g.value+20,St,4,4],xe.value=h.value===!0?"Off":"On",xe.appearanceState=h.value===!0?"Off":"On",g.value=g.value+20,i.addField(xe);const $="Total: ",ct="Low Slope: ",ut="Steep Slope: ",Pe=s(X.$state.generalpdfinput[0].generalpdfData.totalData),Ee=s(X.$state.generalpdfinput[0].generalpdfData.slopeData),Ve=s(X.$state.generalpdfinput[0].generalpdfData.steepData);console.log(X.$state.generalpdfinput[0].generalpdfData),g.value=v;const De=i.getTextWidth(ct),ge=i.getTextWidth(`${Ee.value}`),Ae=g.value+2;i.text(ct,Ae,D);const P=De+Ae;i.text(`${Ee.value}`,P,D),i.line(P,D,P+ge,D),g.value=P+ge;const Ct=i.getTextWidth(ut),ze=i.getTextWidth(`${Ve.value}`),me=g.value+2;i.text(ut,me,D);const c=Ct+me;i.text(`${Ve.value}`,c,D),i.line(c,D,c+ze,D),console.log(D,e),e=D+10,g.value=c+ze,console.log(g.value);const bt=i.getTextWidth($),Ze=i.getTextWidth(`${Pe.value}`),Z=g.value+2;i.text($,Z,D);const Fe=bt+Z;i.text(`${Pe.value}`,Fe,D),i.line(Fe,D,Fe+Ze,D),g.value=Fe+Ze,X.$state.generalpdfinput[0].generalpdfData.slopeChk===!0&&(dt.value=!0),X.$state.generalpdfinput[0].generalpdfData.adtileChk===!0&&(a.value=!0),X.$state.generalpdfinput[0].generalpdfData.metalChk===!0&&(Je.value=!0),X.$state.generalpdfinput[0].generalpdfData.mtileChk===!0&&(W.value=!0),X.$state.generalpdfinput[0].generalpdfData.shingleChk===!0&&(nt.value=!0),g.value=v,e=e+10,console.log(e);const Te=new Mt.API.AcroFormCheckBox;i.text("Low Slope: ",v,e);const Pt=e-3;Te.fieldName="CheckBox1",Te.Rect=[v+20,Pt,4,4],Te.value=dt.value===!0?"On":"Off",Te.appearanceState=dt.value===!0?"On":"Off",g.value=v+20,i.addField(Te);const u=g.value+10,Xe=new Mt.API.AcroFormCheckBox;i.text("Mechanical Fastened Tile: ",u,e);const Et=e-3;Xe.fieldName="CheckBox2",Xe.Rect=[u+45,Et,4,4],Xe.value=dt.value===!0?"On":"Off",Xe.appearanceState=dt.value===!0?"On":"Off",g.value=u+20,i.addField(Xe);const Be=g.value+30,de=new Mt.API.AcroFormCheckBox;i.text("Adhesive Set Tile: ",Be,e);const pt=e-3;de.fieldName="CheckBox3",de.Rect=[Be+35,pt,4,4],de.value=a.value===!0?"On":"Off",de.appearanceState=a.value===!0?"On":"Off",g.value=Be+10,i.addField(de);const vt=g.value+35,ce=new Mt.API.AcroFormCheckBox;i.text("Shingle: ",vt,e);const Vt=e-3;ce.fieldName="CheckBox4",ce.Rect=[vt+20,Vt,4,4],ce.value=nt.value===!0?"On":"Off",ce.appearanceState=nt.value===!0?"On":"Off",g.value=vt+20,i.addField(ce);const qe=g.value+25,te=new Mt.API.AcroFormCheckBox;i.text("Metal Panel: ",qe,e);const Re=e-3;te.fieldName="CheckBox5",te.Rect=[qe+20,Re,4,4],te.value=Je.value===!0?"on":"Off",te.appearanceState=Je.value===!0?"On":"Off",g.value=qe+20,i.addField(te),e=e+10,i.addImage(it,"JPEG",v+40,e,120,120);const Ne="GeneralPage.pdf",zt=i.output("blob");(async(q,Oe)=>{const ke=q,ae=ke;console.log(ae);const Ke=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${M}/${ae}`;try{const We=await fetch(Ke,{method:"PUT",headers:{"Content-Type":ke.type},body:Oe});We.ok?(H.value=Ke,alert("File uploaded successfully!")):alert(`Failed to upload file. Status: ${We.status}`)}catch(We){console.error("Error uploading file:",We),alert("An error occurred while uploading the file.")}})(Ne,zt)}};return(v,e)=>(aa(),la("div"))}},fl={__name:"LowSlopepdf",setup(_){const{getUser:B}=va(),x=ha(),J=ta(),X=Pa(),k=s(J.$state.roofList[0].dim2),V=s(x.$state.permitapp[0].formdt.address),p=s(x.$state.permitapp[0].formdt.muni),M=s(x.$state.permitapp[0].formdt.processNumber),be=s(B.value[0].dba),H=s(X.$state.burpdfinput);let st=s(!1);const T=M.value.length!==0?M.value:"files",l=s("");function v(){H.value.length!==1&&(st.value=!0,e())}ca(()=>{v()}),ua(async()=>{await pa(st).toBe(!0)});const e=()=>{const t=Pa();if(t.$state.burpdfinput.length===0)console.log("lenghth is zero");else{const je=s(t.$state.burpdfinput[0].burpdfData.height),it=s(t.$state.burpdfinput[0].burpdfData.slope),d=s(t.$state.burpdfinput[0].burpdfData.per),Y=s(t.$state.burpdfinput[0].burpdfData.deckType),n=new Mt;n.setGState(new n.GState({opacity:.9}));const ft="Approved";n.setFontSize(24),n.setTextColor("black"),n.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const g=new Image,o=new Image;g.src="/demo/images/officepaper.jpeg",o.src="/demo/images/logo.jpeg";const wt=725,a=n.getPageInfo(1);a.pageContext.mediaBox.topRightX;const Je=a.pageContext.mediaBox.topRightY,W=s(0),nt=s(0);var I=595.28-585.28,i=Je-wt;W.value=I,nt.value=i,console.log(W.value,nt.value),n.addImage(o,"JPEG",10,2,50,30),n.addImage(g,"JPEG",0,0,210,297),n.setFontSize(14),n.setTextColor("red");var U=new Date,oe=U.toLocaleDateString();n.text(ft,10,270,{align:"left"});const dt=n.getTextWidth(ft);n.text("on: "+oe,dt+15,270),n.text(`${M.value}`,10,280,{align:"left"});const Jt=n.getTextWidth(`${M.value}`);n.text(`${p.value}`,Jt+15,280),n.setFontSize(12);const Ut=()=>{n.setFontSize(10),n.setTextColor(0),n.text('The low slope Built Up Roof (BUR) Assembly shall be installed in compliance with the HVHZ portions of Chapter 15 found in the 2023 Florida Building Code and the HVHZ Roofing Application Standards (RAS), RAS-111, RAS-117 and RAS-128. This roof assembly shall also comply with the listed requirements for a Class "A" fire rating including roof slope (incline), components and a fire barrier when required. The mePermit applicant agrees to comply with these installation requirements when obtaining this permit.',10,25,{maxWidth:"170"}),n.line(10,45,195,45)};n.setTextColor("black"),n.circle(185,40,2,"FD"),n.text("I agree",165,41),Ut(),n.setFontSize(12),n.setFontSize(10);const rt=[{category:"DBA",value:`${be.value}`},{category:"Municipality",value:`${p.value}`},{category:"Job Address",value:`${V.value}`},{category:"meProcess Number",value:`${M.value}`}];let $t=10,ne=60,ee=50;n.setFontSize(10),rt.forEach((Ie,At)=>{const xt=ee+At*10;n.text(Ie.category,$t,xt),n.text(Ie.value,ne,xt),n.getTextWidth(Ie.category);const w=n.getTextWidth(Ie.value)*2;n.line(ne,xt+2,ne+w,xt+2)}),n.setFontSize(10);const h=100,ve="Roof Area: ",he="Decktype: ",xe="Mean Roof Height: ",St="Roof Slope: ",$="Roof Perimeter: ",ct="Type of Low Slope BUR Material: ",ut="Type of Low Slope BUR System: ",Pe="Attach P(1') Prime using P(1) Field Prescriptive Basesheet: ",Ee="Attach P(2) Perimeter using P(3) Corner Prescriptive: ",Ve=s(t.$state.burpdfinput[1].burpdfData.burMaterial),De=s(t.$state.burpdfinput[1].burpdfData.burSystem),ge=s(t.$state.burpdfinput[1].burpdfData.p1),Ae=s(t.$state.burpdfinput[1].burpdfData.p3);W.value=I;const P=n.getTextWidth(ve),Ct=n.getTextWidth(`${k.value}`),ze=W.value;n.text(ve,ze,h);const me=P+ze;n.text(`${k.value}`,me,h),n.line(me,h,me+Ct,h),W.value=me+Ct;const c=n.getTextWidth(xe),bt=n.getTextWidth(`${je.value}`),Ze=W.value+2;n.text(xe,Ze,h);const Z=c+Ze;n.text(`${je.value}`,Z,h),n.line(Z,h,Z+bt,h),W.value=Z+bt;const Fe=n.getTextWidth(St),Te=n.getTextWidth(`${it.value}`),Pt=W.value+2;n.text(St,Pt,h);const u=Fe+Pt;n.text(`${it.value}`,u,h),n.line(u,h,u+Te,h),W.value=u+Te;const Xe=n.getTextWidth($),Et=n.getTextWidth(`${d.value}`),Be=W.value+2;n.text($,Be,h);const de=Xe+Be;n.text(`${d.value}`,de,h),n.line(de,h,de+Et,h),console.log(h,i),i=h+10,W.value=de+Et;const pt=n.getTextWidth(he),vt=n.getTextWidth(`${Y.value}`),ce=I;n.text(he,ce,i);const Vt=pt+ce;n.text(`${Y.value}`,Vt,i),n.line(Vt,i,Vt+vt,i),i=i+10,W.value=I;const qe=n.getTextWidth(ct),te=n.getTextWidth(`${Ve.value}`),Re=W.value;n.text(ct,Re,i);const Ne=qe+12;n.text(`${Ve.value}`,Ne,i),n.line(Ne,i,Ne+te,i),W.value=Ne+te,i=i+10,W.value=I,n.setFontSize(9),n.getTextWidth(Pe);const zt=n.getTextWidth(`${De.value}`),Dt=W.value;n.text(ut,Dt,i),i=i+10,W.value=I;const q=W.value;n.text(`${De.value}`,q,i),n.line(q,i,q+zt,i),i=i+10,n.setFontSize(10),n.getTextWidth(Pe);const Oe=n.getTextWidth(`${ge.value}`),ke=I;n.text(Pe,ke,i),i=i+7;const ae=I;n.text(`${ge.value}`,ae,i),n.line(ae,i,ae+Oe+70,i),i=i+10,W.value=I;const Ke=n.getTextWidth(`${Ae.value}`),We=W.value;n.text(Ee,We,i),i=i+7,W.value=I;const Me=W.value;n.text(`${Ae.value}`,Me,i),n.line(Me,i,Me+Ke+70,i),i=i+10;const ht="LowSlope.pdf",Yt=n.output("blob");(async(Ie,At)=>{const xt=Ie,w=xt;console.log(w);const R=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${T}/${w}`;try{const A=await fetch(R,{method:"PUT",headers:{"Content-Type":xt.type},body:At});A.ok?(l.value=R,alert("File uploaded successfully!")):alert(`Failed to upload file. Status: ${A.status}`)}catch(A){console.error("Error uploading file:",A),alert("An error occurred while uploading the file.")}})(ht,Yt)}};return(t,I)=>(aa(),la("div"))}},rl={__name:"Shingle",setup(_){const{getUser:B}=va(),x=sl(),J=ha(),X=ta(),k=il(),V=nl(),p=ta(),M=s(p.$state.roofList);let be=s(!1);const H=ca(()=>{if(console.log(M),M.value.length===0)return"";M.value[0].item==="Asphalt Shingle"&&(be.value=!0,st())});ua(async()=>{await pa(H).toBe(!0),console.log(H)});const st=()=>{if(k.$state.inputshingle.length===0)console.log("lenghth is zero");else{console.log(x,V);let t=s(!1),I=s(!1);x.$state.systeminput.length!==0&&(I=!0,console.log(I)),V.$state.polyinput.length!==0&&(t=!0,console.log(t));const i=s(J.$state.permitapp[0].formdt.address),U=s(J.$state.permitapp[0].formdt.muni),oe=s(J.$state.permitapp[0].formdt.processNumber),je=s(B.value[0].dba),it=s(k.$state.inputshingle[0].shingleData.height),d=s(k.$state.inputshingle[0].shingleData.slope),Y=s(k.$state.inputshingle[0].shingleData.deckType),n=s(X.$state.roofList[0].dim1),ft=oe.value.length!==0?oe.value:"files",g=s(""),o=new Mt;o.setGState(new o.GState({opacity:.8}));const wt="Approved";o.setFontSize(24),o.setTextColor(150,150,150),o.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const a=new Image,Je=new Image;a.src="/demo/images/officepaper.jpeg",Je.src="/demo/images/logo.jpeg",o.addImage(Je,"JPEG",10,10,50,30),o.addImage(a,"JPEG",0,0,210,297),o.setFontSize(20),o.setTextColor(190,190,190);var T=new Date,l=T.toLocaleDateString();o.text(wt,10,270,{align:"left"});const W=o.getTextWidth(wt);o.text("on: "+l,W+15,270),o.text(`${oe.value}`,10,280,{align:"left"});const nt=o.getTextWidth(`${oe.value}`);o.text(`${U.value}`,nt+15,280),o.setFontSize(12);const dt=()=>{o.setFontSize(12),o.setTextColor(0),o.text("The Shingle roof system and its components shall be installed in strict compliance  with the HVHZportions of Chapter 15 FBC, the HVHZ Roof Application Standards(RAS) 111 & 115, and the submitted MDC(NOA) Notice of Acceptance(s).The mePermit applicant agrees to comply with these installation requirements when obtaining this permit.",10,20,{maxWidth:"200"}),o.line(10,41,195,41)};o.setTextColor(0),o.circle(185,38,2,"FD"),o.text("I agree",165,39),dt(),o.setFontSize(12),o.setFontSize(14);const Jt=[{category:"DBA",value:`${je.value}`},{category:"Municipality",value:`${U.value}`},{category:"Job Address",value:`${i.value}`},{category:"meProcess Number",value:`${oe.value}`}];let Ut=10,rt=60,$t=50;o.setFontSize(12),Jt.forEach((w,R)=>{const A=$t+R*10;o.text(w.category,Ut,A),o.text(w.value,rt,A),o.getTextWidth(w.category);const G=o.getTextWidth(w.value)*2;o.line(rt,A+2,rt+G,A+2)}),o.setFontSize(12);const ne=2,ee=100;o.text("Roof Area:",10,ee),o.text(`${n.value}`,35,ee),o.line(35,ee+ne,45,ee+ne),o.text("Mean Roof Height:",50,ee);const D=o.getTextWidth("Mean Roof Height:");o.text(`${it.value}`,ee,ee),o.line(90,ee+ne,70+D,ee+ne),o.text("Roof Slope:",80+D,ee);const h=105+D;o.text(`${d.value}`,h,ee);const ve=o.getTextWidth(`${d.value}`)*2;o.line(h,ee+ne,h+ve,ee+ne);const he=108;o.text("Decktype:",10,he);const xe=30+ve;o.text(`${Y.value}`,xe,he);const St=o.getTextWidth(`${Y.value}`)*2;o.line(xe,he,xe+St,he);const $="Shingle NOA Number: ",ct="Shingle Applicant: ",ut="Shingle Material: ",Pe="Shingle Description: ",Ee="Fastened Underlayment(UDL)NOA: ",Ve="UDL NOA Applicant: ",De="Fastened UDL Material: ",ge="UDL Description: ",Ae="Perscriptive: ",P=179,Ct=725,ze=o.getPageInfo(1);console.log(ze),ze.pageContext.mediaBox.topRightX;const me=ze.pageContext.mediaBox.topRightY,c=s(0),bt=s(0);var v=595.28-585.28,e=me-Ct;c.value=v,bt.value=e,console.log(c.value,bt.value);const Ze=s(k.$state.inputshingle[0].shingleData.noa),Z=s(k.$state.inputshingle[0].shingleData.applicant),Fe=s(k.$state.inputshingle[0].shingleData.material),Te=s(k.$state.inputshingle[0].shingleData.description),Pt=s(k.$state.inputshingle[0].shingleData.prescriptiveSelection),u=o.getTextWidth(Ae),Xe=o.getTextWidth(`${Pt.value}`),Et=v;o.text(Ae,Et,e);const Be=u+10;o.text(`${Pt.value}`,Be,e),o.line(Be,e,Be+Xe,e),e=e+10;const de=o.getTextWidth(ct),pt=o.getTextWidth(`${Z.value}`),vt=v;o.text(ct,vt,e);const ce=vt+de;o.text(`${Z.value}`,ce,e),o.line(ce,e,ce+pt,e),c.value=ce+pt;const Vt=o.getTextWidth($),qe=o.getTextWidth(`${Ze.value}`),te=c.value+3;o.text($,te,e);const Re=Vt+te;o.text(`${Ze.value}`,Re,e),o.line(Re,e,Re+qe,e),c.value=Re+qe,c.value>P&&(e=e+10),console.log(c.value,P);const Ne=c.value+2,zt=o.getTextWidth(ut),Dt=o.getTextWidth(`${Fe.value}`);o.text(ut,Ne,e);const q=Ne+zt;o.text(`${Fe.value}`,q,e),o.line(q,e,q+Dt,e),c.value=q+Dt,c.value>P&&(e=e+10),console.log(c.value,P);const Oe=o.getTextWidth(`${Te.value}`),ke=o.getTextWidth(Pe),ae=v;o.text(Pe,ae,e);const Ke=ae+ke;if(o.text(`${Te.value}`,Ke,e),o.line(Ke,e,Ke+Oe,e),c.value=Ke+Oe,e=e+10,console.log(V.$state.polyinput.length),V.$state.polyinput.length===0){const w="n/a",R="n/a",A="n/a",G="n/a",se=o.getTextWidth(Ee),K=o.getTextWidth(w),fe=v;o.text(Ee,fe,e);const j=fe+se;o.text(w,j,e),o.line(j,e,j+K,e),c.value=j+K,console.log(c.value);const re=o.getTextWidth(Ve),gt=o.getTextWidth(R),Qe=c.value+2;o.text(Ve,Qe,e);const m=Qe+re;o.text(R,m,e),o.line(m,e,m+gt,e),c.value=m+gt,console.log(c.value),c.value>P&&(e=e+10);const f=c.value+2,b=o.getTextWidth(De),F=o.getTextWidth(A);o.text(De,f,e);const r=f+b;o.text(A,r,e),o.line(r,e,r+F,e),c.value=r+F,console.log(c.value),c.value>P&&(e=e+10),console.log(c.value);const E=o.getTextWidth(ge),z=o.getTextWidth(G),C=v,S=C+z;console.log(S),o.text(ge,C,e),S>P&&print(S);const N=C+E;o.text(G,N,e),o.line(N,e,N+z,e),c.value=N+z,e=e+10}else{const w=s(V.$state.polyinput[0].polyData.noa),R=s(V.$state.polyinput[0].polyData.applicant),A=s(V.$state.polyinput[0].polyData.material),G=s(V.$state.polyinput[0].polyData.description),se=o.getTextWidth(Ee),K=o.getTextWidth(`${w.value}`),fe=v;o.text(Ee,fe,e);const j=ae+se;o.text(`${w.value}`,j,e),o.line(j,e,j+K,e),c.value=j+K;const re=o.getTextWidth(Ve),gt=o.getTextWidth(`${R.value}`),Qe=c.value+2;o.text(Ve,Qe,e);const m=Qe+re;o.text(`${R.value}`,m,e),o.line(m,e,m+gt,e),c.value=m+gt,c.value>P&&(e=e+10);const f=v,b=o.getTextWidth(De),F=o.getTextWidth(`${A.value}`);o.text(De,f,e);const r=f+b;o.text(`${A.value}`,r,e),o.line(r,e,r+F,e),c.value=r+F,c.value>P&&(e=e+10),console.log(c.value);const E=o.getTextWidth(ge),z=o.getTextWidth(`${G.value}`),C=c.value+2,S=C+z;console.log(S),o.text("UDL Description:",C,e),S>P&&print(S);const N=C+E;o.text(`${G.value}`,N,e),o.line(N,e,N+z,e),c.value=N+z,console.log(c.value),e=e+10}const We="Self Adhered NOA: ",Me="S/A NOA Applicant: ",ht="S/A System F: ",Yt="S/A Material: ",Bt="S/A Description: ";if(console.log(x.$state.systeminput.length),x.$state.systeminput.length===0){const w="n/a",R="n/a",A="n/a",G="n/a",se="n/a",K=o.getTextWidth(We),fe=o.getTextWidth(w),j=v;o.text(We,j,e);const re=j+K;o.text(w,re,e),o.line(re,e,re+fe,e),c.value=re+fe,console.log(c.value);const gt=o.getTextWidth(Me),Qe=o.getTextWidth(R),m=c.value+3;o.text(Me,m,e);const f=m+gt;o.text(R,f,e),o.line(f,e,f+Qe,e),c.value=f+Qe,console.log(c.value);const b=o.getTextWidth(ht),F=c.value+3;o.text(ht,F,e);const r=F+b;o.text(A,r,e),o.line(r,e,r+b,e),c.value=r+b,console.log(c.value),e=e+10;const E=o.getTextWidth(Yt),z=o.getTextWidth(G),C=v;o.text(Yt,C,e);const S=C+E;o.text(G,S,e),o.line(S,e,S+z,e),c.value=S+z,console.log(c.value);const N=o.getTextWidth(Bt),Q=o.getTextWidth(se),L=c.value+3;o.text(Bt,L,e);const O=L+N;o.text(se,O,e),o.line(O,e,O+Q,e),c.value=O+Q,console.log(c.value)}else{console.log("Entered sbs line 455",x.$state);const w=s(x.$state.systeminput[0].systemData.noa),R=s(x.$state.systeminput[0].systemData.manufacturer),A=s(x.$state.systeminput.pdfSystemValue),G=s(x.$state.systeminput[0].systemData.material),se=s(x.$state.systeminput[0].systemData.description),K=o.getTextWidth(We),fe=o.getTextWidth(`${w.value}`),j=v;o.text(We,j,e);const re=j+K;o.text(`${w.value}`,re,e),o.line(re,e,re+fe,e),c.value=re+fe;const gt=o.getTextWidth(Me),Qe=o.getTextWidth(`${R.value}`),m=c.value+3;o.text(Me,m,e);const f=m+gt;o.text(`${R.value}`,f,e),o.line(f,e,f+Qe,e),c.value=f+Qe,console.log(c.value);const b=o.getTextWidth(ht),F=o.getTextWidth(`${A.value}`),r=c.value+3;o.text(ht,r,e);const E=r+b;o.text(`${A.value}`,E,e),o.line(E,e,E+F,e),c.value=E+F,e=e+10,console.log(c.value);const z=o.getTextWidth(Yt),C=o.getTextWidth(`${G.value}`),S=v;o.text(Yt,S,e);const N=S+z;o.text(`${G.value}`,N,e),o.line(N,e,N+C,e),c.value=N+C,c.value>P&&(e=e+10),console.log(c.value);const Q=o.getTextWidth(Bt),L=o.getTextWidth(`${se.value}`),O=c.value+3;o.text(Bt,O,e);const ie=O+Q;o.text(`${se.value}`,ie,e),o.line(ie,e,ie+L,e),c.value=ie+L,c.value>=P&&(e=e+10),console.log(c.value)}const Ie="LowSlope.pdf",At=o.output("blob");(async(w,R)=>{const A=w,G=A;console.log(G);const se=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${ft}/${G}`;try{const K=await fetch(se,{method:"PUT",headers:{"Content-Type":A.type},body:R});K.ok?(g.value=se,alert("File uploaded successfully!")):alert(`Failed to upload file. Status: ${K.status}`)}catch(K){console.error("Error uploading file:",K),alert("An error occurred while uploading the file.")}})(Ie,At)}};return(T,l)=>(aa(),la("div"))}},$l=ot("h1",null,"Generate PDF with Columns and Underlined Text",-1),Sl=[$l],bl={__name:"TileAdhesive",setup(_){const B=Ba(),x=Ra(),{getUser:J}=va(),X=ha(),k=ta(),V=s(k.$state.roofList),p=dl(),M=za();let be=s(!1);const H=ca(()=>{if(V.value.length===0)return"";V.value[0].item==="Adhesive Set Tile"&&(be.value=!0,st())});ua(async()=>{await pa(H).toBe(!0)});const st=()=>{if(p.tilenoa.value[0].length===0)console.log("lenghth is zero");else{const t=new Mt;let I=s(!1),i=s(!1);x.$state.tilesysEinput.length!==0&&(I=!0,console.log(I)),B.$state.tilefinput.length!==0&&(i=!0,console.log(i));const U=179,oe=725,je=t.getPageInfo(1);je.pageContext.mediaBox.topRightX;const it=je.pageContext.mediaBox.topRightY,d=s(0),Y=s(0);var T=595.28-585.28,l=it-oe;d.value=T,Y.value=l;const n=s(p.tilenoa.value[0].height),ft=s(p.tilenoa.value[0].slope),g=s(p.tilenoa.value[0].area),o=s(p.tilenoa.value[0].deckType),wt=s(p.tilenoa.value[0].perimeter),a=s(X.$state.permitapp[0].formdt.address),Je=s(X.$state.permitapp[0].formdt.muni),W=s(X.$state.permitapp[0].formdt.processNumber),nt=W.value.length!==0?W.value:"files",dt=s(""),Jt=s(J.value[0].dba);t.setGState(new t.GState({opacity:.8}));const Ut="Approved";t.setFontSize(24),t.setTextColor(150,150,150),t.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const rt=new Image,$t=new Image;rt.src="/demo/images/officepaper.jpeg",$t.src="/demo/images/logo.jpeg",t.addImage($t,"JPEG",10,1,50,30),t.addImage(rt,"JPEG",0,0,210,297),t.setFontSize(20),t.setTextColor(190,190,190);var v=new Date,e=v.toLocaleDateString();t.text(Ut,10,270,{align:"left"});const ne=t.getTextWidth(Ut);t.text("on: "+e,ne+15,270),t.text(`${W.value}`,10,280,{align:"left"});const ee=t.getTextWidth(`${W.value}`);t.text(`${Je.value}`,ee+15,280),t.setFontSize(12);const D=()=>{t.setFontSize(12),t.setTextColor(0),t.text("The tile roof system and its components shall be installed in strict compliance with the FBC 2023 HVHZ portions of Chapter 15, the HVHZ Tile Application Standards: RAS-119, RAS-120 & RAS-127 and the submitted MDC Notice of Acceptance(s). The mePermit applicant agrees to comply with these installation requirements when obtaining this permit.",10,20,{maxWidth:"200"}),t.line(10,41,195,41)};t.setTextColor(0),t.circle(185,38,2,"FD"),t.text("I agree",165,39),D(),t.setFontSize(12),t.setFontSize(14);const h=[{category:"DBA",value:`${Jt.value}`},{category:"Municipality",value:`${Je.value}`},{category:"Job Address",value:`${a.value}`},{category:"meProcess Number",value:`${W.value}`}];let ve=10,he=60,xe=50;t.setFontSize(12),h.forEach((le,pe)=>{const y=xe+pe*10;t.text(le.category,ve,y),t.text(le.value,he,y),t.getTextWidth(le.category);const we=t.getTextWidth(le.value)*2;t.line(he,y+2,he+we,y+2)}),t.setFontSize(12);const $=90,ct="Roof Area: ",ut="Decktype: ",Pe="Mean Roof Height: ",Ee="Roof Slope: ",Ve="Roof Perimeter: ";d.value=T;const De=t.getTextWidth(ct),ge=t.getTextWidth(`${g.value}`),Ae=d.value;t.text(ct,Ae,$);const P=De+Ae;t.text(`${g.value}`,P,$),t.line(P,$,P+ge,$),d.value=P+ge,console.log(l,$);const Ct=t.getTextWidth(Pe),ze=t.getTextWidth(`${n.value}`),me=d.value+2;t.text(Pe,me,$);const c=Ct+me;t.text(`${n.value}`,c,$),t.line(c,$,c+ze,$),d.value=c+ze;const bt=t.getTextWidth(Ee),Ze=t.getTextWidth(`${ft.value}`),Z=d.value+2;t.text(Ee,Z,$);const Fe=bt+Z;t.text(`${ft.value}`,Fe,$),t.line(Fe,$,Fe+Ze,$),d.value=Fe+Ze;const Te=t.getTextWidth(Ve),Pt=t.getTextWidth(`${wt.value}`),u=d.value+2;t.text(Ve,u,$);const Xe=Te+u;t.text(`${wt.value}`,Xe,$),t.line(Xe,$,Xe+Pt,$),console.log($,l),l=$+10;const Et=t.getTextWidth(ut),Be=t.getTextWidth(`${o.value}`),de=T;t.text(ut,de,l);const pt=Et+de;t.text(`${o.value}`,pt,l),t.line(pt,l,pt+Be,l),l=l+10;const vt="Tile NOA Number: ",ce="Tile Applicant: ",Vt="Tile Material: ",qe="Tile Description: ",te="Fastened Underlayment(UDL)NOA: ",Re="UDL NOA Applicant: ",Ne="Fastened UDL Material: ",zt="Select System E: ",Dt="Design psf: ",q="Anchor Base Sheet: ",Oe="UDL Description: ",ke="Prescriptive: ",ae="DripEdge Materiall: ",Ke="DripEdge Size: ";console.log(p.tilenoa);const We=s(M.$state.dripinput[0].dripData),Me=s(M.$state.dripinput[3].dripData),ht=t.getTextWidth(ae),Yt=t.getTextWidth(`${We.value}`),Bt=T;t.text(ae,Bt,l);const Ie=ht+Bt;t.text(`${We.value}`,Ie,l),t.line(Ie,l,Ie+Yt,l),l=l+10;const At=t.getTextWidth(Ke),xt=t.getTextWidth(`${Me.value}`),w=T;t.text(Ke,w,l);const R=At+w;t.text(`${Me.value}`,R,l),t.line(R,l,R+xt,l),l=l+10;const A=s(p.tilenoa.value[0].mf1),G=s(p.tilenoa.value[0].lambda1),se=s(p.tilenoa.value[0].mg1),K=s(p.tilenoa.value[0].mr1),fe=s(p.tilenoa.value[0].zoneone),j=s(p.tilenoa.value[0].mf2),re=s(p.tilenoa.value[0].lambda2),gt=s(p.tilenoa.value[0].mg2),Qe=s(p.tilenoa.value[0].mr2),m=s(p.tilenoa.value[0].zonetwo),f=s(p.tilenoa.value[0].mf3),b=s(p.tilenoa.value[0].lambda3),F=s(p.tilenoa.value[0].mg3),r=s(p.tilenoa.value[0].mr3),E=s(p.tilenoa.value[0].zonethree),z=s(p.tilenoa.value[0].prescriptiveSelection.selectedBasesheet),C=t.getTextWidth(`${z.value.selectedBasesheet}`),S=T;t.text(ke,S,l);const N=T;l=l+10,t.text(`${z.value}`,N,l),t.line(N,l,N+C,l),l=l+10;const Q=s(p.tilenoa.value[0].noa),L=s(p.tilenoa.value[0].applicant),O=s(p.tilenoa.value[0].material),ie=s(p.tilenoa.value[0].description),Ue=t.getTextWidth(ce),$e=t.getTextWidth(`${L.value}`),Le=T;t.text(ce,Le,l);const Ye=Le+Ue;t.text(`${L.value}`,Ye,l),t.line(Ye,l,Ye+$e,l),d.value=Ye+$e;const ye=t.getTextWidth(vt),ue=t.getTextWidth(`${Q.value}`),Se=d.value+3;t.text(vt,Se,l);const Rt=ye+Se;t.text(`${Q.value}`,Rt,l),t.line(Rt,l,Rt+ue,l);const Ht=t.getTextWidth(`${O.value}`);d.value=Rt+Ht,d.value>U&&(l=l+10);const He=T,qt=t.getTextWidth(Vt),ga=t.getTextWidth(`${O.value}`);t.text(Vt,He,l);const yt=He+qt;t.text(`${O.value}`,yt,l),t.line(yt,l,yt+ga,l);const oa=t.getTextWidth(`${ie.value}`);d.value=yt+oa,d.value>U&&(l=l+10),console.log(d.value,U),l=l+10;const xa=t.getTextWidth(`${ie.value}`),Va=t.getTextWidth(qe),Kt=T;t.text(qe,Kt,l);const sa=Kt+Va;if(t.text(`${ie.value}`,sa,l),t.line(sa,l,sa+xa,l),d.value=sa+xa,console.log(x),l=l+10,x.$state.tilesysEinput.length===0){const le="n/a",pe="n/a",y="n/a",we="n/a",mt=t.getTextWidth(te),_e=t.getTextWidth(le),Ot=T;t.text(te,Ot,l);const Ft=Ot+mt;t.text(le,Ft,l),t.line(Ft,l,Ft+_e,l),d.value=Ft+_e,console.log(d.value);const et=t.getTextWidth(Re),Qt=t.getTextWidth(pe),Tt=d.value+2;t.text(Re,Tt,l);const Xt=Tt+et;t.text(pe,Xt,l),t.line(Xt,l,Xt+Qt,l),d.value=Xt+Qt,console.log(d.value),d.value>U&&(l=l+10);const tt=d.value+2,Gt=t.getTextWidth(Ne),Wt=t.getTextWidth(y);t.text(Ne,tt,l);const at=tt+Gt;t.text(y,at,l),t.line(at,l,at+Wt,l),d.value=at+Wt,console.log(d.value),d.value>U&&(l=l+10),console.log(d.value);const It=t.getTextWidth(Oe),jt=t.getTextWidth(we),Nt=T,Ce=Nt+jt;console.log(Ce),t.text(Oe,Nt,l),Ce>U&&print(Ce);const lt=Nt+It;t.text(we,lt,l),t.line(lt,l,lt+jt,l),d.value=lt+jt,l=l+10}else{const le=s(x.$state.tilesysEinput[0].systemDataE.noa),pe=s(x.$state.tilesysEinput[0].systemDataE.manufacturer),y=s(x.$state.tilesysEinput[0].systemDataE.material),we=s(x.$state.tilesysEinput[0].systemDataE.systemSelected),mt=s(x.$state.tilesysEinput[0].systemDataE.dP),_e=s(x.$state.tilesysEinput[0].systemDataE.Anchor_Base),Ot=s(x.$state.tilesysEinput[0].systemDataE.tileCap),Ft=t.getTextWidth(te),et=t.getTextWidth(`${le.value}`),Qt=T;t.text(te,Qt,l);const Tt=Kt+Ft;t.text(`${le.value}`,Tt,l),t.line(Tt,l,Tt+et,l),d.value=Tt+et;const Xt=t.getTextWidth(Re),tt=t.getTextWidth(`${pe.value}`),Gt=d.value+2;t.text(Re,Gt,l);const Wt=Gt+Xt;t.text(`${pe.value}`,Wt,l),t.line(Wt,l,Wt+tt,l);const at=t.getTextWidth(`${y.value}`);d.value=Wt+at,l=l+10;const It=T,jt=t.getTextWidth(Ne),Nt=t.getTextWidth(`${y.value}`);t.text(Ne,It,l);const Ce=It+jt;t.text(`${y.value}`,Ce,l),t.line(Ce,l,Ce+Nt,l),d.value=Ce+Nt,d.value>U&&(l=l+10);const lt=d.value+5,ia=t.getTextWidth(zt),Lt=t.getTextWidth(`${we.value}`);t.text(zt,lt,l);const kt=lt+ia;t.text(`${we.value}`,kt,l),t.line(kt,l,kt+Lt,l),d.value=kt+Lt,d.value>U&&(l=l+10);const na=t.getTextWidth(Dt),Na=t.getTextWidth(`${mt.value}`),ka=d.value+3;t.text(Dt,ka,l);const Wa=ka+na;t.text(`${mt.value}`,Wa,l),t.line(Wa,l,Wa+Na,l),d.value=Wa+Na,console.log(d.value),l=l+10,t.getTextWidth(q);const Ma=t.getTextWidth(`${_e.value}`),Ha=T;t.text(q,Ha,l),l=l+10;const fa=T;t.text(`${_e.value}`,fa,l),t.line(fa,l,fa+Ma,l),d.value=fa+Ma,l=l+10;const Ga=t.getTextWidth(Oe),wa=t.getTextWidth(`${Ot.value}`),Ca=T;t.text(Oe,Ca,l);const ra=Ca+Ga;t.text(`${Ot.value}`,ra,l),t.line(ra,l,ra+wa,l),d.value=ra+wa,console.log(d.value),l=l+10}const _t="Self Adhered NOA: ",ea="S/A NOA Applicant: ",Zt="S/A System F: ",ma="S/A Material: ",Ta="S/A Description: ";if(B.$state.tilefinput.length===0){const le="n/a",pe="n/a",y="n/a",we="n/a",mt="n/a",_e=t.getTextWidth(_t),Ot=t.getTextWidth(le),Ft=T;t.text(_t,Ft,l);const et=Ft+_e;t.text(le,et,l),t.line(et,l,et+Ot,l),d.value=et+Ot,console.log(d.value);const Qt=t.getTextWidth(ea),Tt=t.getTextWidth(pe),Xt=d.value+3;t.text(ea,Xt,l);const tt=Xt+Qt;t.text(pe,tt,l),t.line(tt,l,tt+Tt,l),d.value=tt+Tt,console.log(d.value);const Gt=t.getTextWidth(Zt),Wt=d.value+3;t.text(Zt,Wt,l);const at=Wt+Gt;t.text(y,at,l),t.line(at,l,at+Gt,l),d.value=at+Gt,console.log(d.value),l=l+10;const It=t.getTextWidth(ma),jt=t.getTextWidth(we),Nt=T;t.text(ma,Nt,l);const Ce=Nt+It;t.text(we,Ce,l),t.line(Ce,l,Ce+jt,l),d.value=Ce+jt,console.log(d.value);const lt=t.getTextWidth(Ta),ia=t.getTextWidth(mt),Lt=d.value+3;t.text(Ta,Lt,l);const kt=Lt+lt;t.text(mt,kt,l),t.line(kt,l,kt+ia,l),d.value=kt+ia,console.log(d.value)}else{console.log("Entered sbs line 455",B.$state);const le=s(B.$state.tilefinput[0].systemData.noa),pe=s(B.$state.tilefinput[0].systemData.manufacturer),y=s(B.$state.tilefinput[0].systemData.pressure),we=s(B.$state.tilefinput[0].systemData.material),mt=s(B.$state.tilefinput[0].systemData.description),_e=t.getTextWidth(_t),Ot=t.getTextWidth(`${le.value}`),Ft=T;t.text(_t,Ft,l);const et=Ft+_e;t.text(`${le.value}`,et,l),t.line(et,l,et+Ot,l),d.value=et+Ot;const Qt=t.getTextWidth(ea),Tt=t.getTextWidth(`${pe.value}`),Xt=d.value+3;t.text(ea,Xt,l);const tt=Xt+Qt;t.text(`${pe.value}`,tt,l),t.line(tt,l,tt+Tt,l),d.value=tt+Tt,console.log(d.value);const Gt=t.getTextWidth(Zt),Wt=t.getTextWidth(`${y.value}`),at=d.value+3;t.text(Zt,at,l);const It=at+Gt;t.text(`${y.value}`,It,l),t.line(It,l,It+Wt,l),d.value=It+Wt,l=l+10;const jt=t.getTextWidth(ma),Nt=t.getTextWidth(`${we.value}`),Ce=T;t.text(ma,Ce,l);const lt=Ce+jt;t.text(`${we.value}`,lt,l),t.line(lt,l,lt+Nt,l),d.value=lt+Nt,d.value>U&&(l=l+10);const ia=t.getTextWidth(Ta),Lt=t.getTextWidth(`${mt.value}`),kt=d.value+3;t.text(Ta,kt,l);const na=kt+ia;t.text(`${mt.value}`,na,l),t.line(na,l,na+Lt,l),d.value=na+Lt,d.value>=U&&(l=l+10),console.log(d.value),l=l+10}l=l+10,t.setFont("times","normal"),console.log(p.tilenoa.value[0]);const Fa=[["Zone 1:",`${fe.value}`,"x λ",`${G.value}`,"- Mg:",`${se.value}`,"= Mr1:",`${K.value}`,"NOA Mf:",`${A.value}`],["Zone 2:",`${m.value}`,"x λ",`${re.value}`,"- Mg:",`${gt.value}`,"= Mr2:",`${Qe.value}`,"NOA Mf:",`${j.value}`],["Zone 3:",`${E.value}`,"x λ",`${b.value}`,"- Mg:",`${F.value}`,"= Mr2:",`${r.value}`,"NOA Mf:",`${f.value}`]];console.log(Fa);let Ia=T-5,Xa=l;Fa.forEach(le=>{let pe=Ia;le.forEach(y=>{t.text(String(y),pe,Xa),pe+=18}),Xa+=5});const Ua="TileAdhesive.pdf",Ya=t.output("blob");(async(le,pe)=>{const y=le,we=y;console.log(we);const mt=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${nt}/${we}`;try{const _e=await fetch(mt,{method:"PUT",headers:{"Content-Type":y.type},body:pe});_e.ok?(dt.value=mt,alert("File uploaded successfully!")):alert(`Failed to upload file. Status: ${_e.status}`)}catch(_e){console.error("Error uploading file:",_e),alert("An error occurred while uploading the file.")}})(Ua,Ya)}};return(T,l)=>(aa(),la("div",null,Sl))}},Vl={__name:"TileMechanical",setup(_){const{getUser:B}=va();let x=s(!1);const J=ha(),X=ta(),k=s(X.$state.roofList),{mechStore:V}=cl(),p=Ba(),M=Ra(),be=za(),H=ca(()=>{if(k.value.length===0)return"";k.value[0].item==="Mechanical Fastened Tile"&&(x.value=!0,st())});ua(async()=>{await pa(H).toBe(!0),console.log(H)});const st=()=>{if(V.tilemech.value.length===0)console.log("lenghth is   zero");else{let t=s(!1),I=s(!1);M.$state.tilesysEinput.length!==0&&(t=!0,console.log(t)),p.$state.tilefinput.length!==0&&(I=!0,console.log(I)),console.log(V.tilemech.value[0]);const i=s(V.tilemech.value[0].height),U=s(V.tilemech.value[0].slope),oe=s(V.tilemech.value[0].deckType),je=s(X.$state.roofList[0].dim3),it=s(J.$state.permitapp[0].formdt.address),d=s(J.$state.permitapp[0].formdt.muni),Y=s(J.$state.permitapp[0].formdt.processNumber),n=s(be.$state.dripinput[0].dripData),ft=s(be.$state.dripinput[3].dripData),g=Y.value.length!==0?Y.value:"files",o=s(""),wt=s(B.value[0].dba),a=new Mt;a.setGState(new a.GState({opacity:.8}));const Je="Approved";a.setFontSize(24),a.setTextColor(150,150,150),a.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const W=new Image,nt=new Image;W.src="/demo/images/officepaper.jpeg",nt.src="/demo/images/logo.jpeg",a.addImage(nt,"JPEG",10,10,50,30),a.addImage(W,"JPEG",0,0,210,297),a.setFontSize(20),a.setTextColor(190,190,190);var T=new Date,l=T.toLocaleDateString();a.text(Je,10,270,{align:"left"});const dt=a.getTextWidth(Je);a.text("on: "+l,dt+15,270),a.text(`${Y.value}`,10,280,{align:"left"});const Jt=a.getTextWidth(`${Y.value}`);a.text(`${d.value}`,Jt+15,280),a.setFontSize(12);const Ut=()=>{a.setFontSize(12),a.setTextColor(0),a.text("The tile roof system and its components shall be installed in strict compliance with the FBC 2023 HVHZ portions of Chapter 15, the HVHZ Tile Application Standards: RAS-119, RAS-120 & RAS-127 and the submitted MDC Notice of Acceptance(s).",10,20,{maxWidth:"200"}),a.line(10,41,195,41)};a.setTextColor(0),a.circle(185,38,2,"FD"),a.text("I agree",165,39),Ut(),a.setFontSize(12),a.setFontSize(14);const rt=[{category:"DBA",value:`${wt.value}`},{category:"Municipality",value:`${d.value}`},{category:"Job Address",value:`${it.value}`},{category:"meProcess Number",value:`${Y.value}`}];let $t=10,ne=60,ee=50;a.setFontSize(12),rt.forEach((m,f)=>{const b=ee+f*10;a.text(m.category,$t,b),a.text(m.value,ne,b),a.getTextWidth(m.category);const F=a.getTextWidth(m.value)*2;a.line(ne,b+2,ne+F,b+2)}),a.setFontSize(12);const D=2,h=100;a.text("Roof Area:",10,h),a.text(`${je.value}`,35,h),a.line(35,h+D,45,h+D),a.text("Mean Roof Height:",50,h);const ve=a.getTextWidth("Mean Roof Height:");a.text(`${i.value}`,h,h),a.line(90,h+D,70+ve,h+D),a.text("Roof Slope:",80+ve,h);const he=105+ve;a.text(`${U.value}`,he,h);const xe=a.getTextWidth(`${U.value}`)*2;a.line(he,h+D,he+xe,h+D);const St=108;a.text("Decktype:",10,St);const $=30+xe;a.text(`${oe.value}`,$,St);const ct=a.getTextWidth(`${oe.value}`)*2;a.line($,St,$+ct,St);const ut="Tile NOA Number: ",Pe="Tile Applicant: ",Ee="Tile Material: ",Ve="Tile Description: ",De="Fastened (UDL) NOA: ",ge="(UDL) NOA Applicant: ",Ae="Fastened (UDL) Material: ",P="Select System E: ",Ct="Design psf: ",ze="Anchor Base Sheet: ",me="(UDL) Description: ",c="Prescriptive: ",bt="DripEdge Matetiral: ",Ze="DripEdge Size: ",Z=179,Fe=725,Te=a.getPageInfo(1);console.log(Te),Te.pageContext.mediaBox.topRightX;const Pt=Te.pageContext.mediaBox.topRightY,u=s(0),Xe=s(0);var v=595.28-585.28,e=Pt-Fe;u.value=v,Xe.value=e,console.log(u.value,Xe.value);const Et=s(V.tilemech.value[0].noa),Be=s(V.tilemech.value[0].manufacturer),de=s(V.tilemech.value[0].material),pt=s(V.tilemech.value[0].description);a.getTextWidth(c);const vt=v;a.text(c,vt,e),e=e+10,e=e+10;const ce=a.getTextWidth(bt),Vt=a.getTextWidth(`${n.value}`),qe=v;a.text(bt,qe,e);const te=ce+qe;a.text(`${n.value}`,te,e),a.line(te,e,te+Vt,e),e=e+10;const Re=a.getTextWidth(Ze),Ne=a.getTextWidth(`${ft.value}`),zt=v;a.text(Ze,zt,e);const Dt=Re+zt;a.text(`${ft.value}`,Dt,e),a.line(Dt,e,Dt+Ne,e),e=e+10;const q=a.getTextWidth(`${Be.value}`),Oe=a.getTextWidth(Pe),ke=v;a.text(Pe,ke,e);const ae=ke+Oe;a.text(`${Be.value}`,ae,e),a.line(ae,e,ae+q,e),u.value=ae+q;const Ke=a.getTextWidth(ut),We=a.getTextWidth(`${Et.value}`),Me=u.value+Ke;a.text(ut,u.value+2,e),a.text(`${Et.value}`,Me+2,e),a.line(Me,e,Me+We,e),u.value=Me+We;const ht=e,Yt=a.getTextWidth(Ee),Bt=a.getTextWidth(`${de.value}`),Ie=u.value+5;a.text(Ee,Ie,ht);const At=Ie+Yt;a.text(`${de.value}`,At,ht),a.line(At,ht,At+Bt,ht),u.value=At+Bt,e=e+10;const xt=a.getTextWidth(`${pt.value}`),w=a.getTextWidth(Ve),R=v;a.text(Ve,R,e);const A=R+w;if(a.text(`${pt.value}`,A,e),a.line(A,e,A+xt,e),u.value=A+xt,e=e+10,M.$state.tilesysEinput.length===0){const m="n/a",f="n/a",b="n/a",F="n/a",r=a.getTextWidth(De),E=a.getTextWidth(m),z=v;a.text(De,z,e);const C=z+r;a.text(m,C,e),a.line(C,e,C+E,e),u.value=C+E,console.log(u.value);const S=a.getTextWidth(ge),N=a.getTextWidth(f),Q=u.value+2;a.text(ge,Q,e);const L=Q+S;a.text(f,L,e),a.line(L,e,L+N,e),u.value=L+N,console.log(u.value),u.value>Z&&(e=e+10);const O=u.value+2,ie=a.getTextWidth(Ae),Ue=a.getTextWidth(b);a.text(Ae,O,e);const $e=O+ie;a.text(b,$e,e),a.line($e,e,$e+Ue,e),u.value=$e+Ue,console.log(u.value),u.value>Z&&(e=e+10),console.log(u.value);const Le=a.getTextWidth(me),Ye=a.getTextWidth(F),ye=v,ue=ye+Ye;console.log(ue),a.text(me,ye,e),ue>Z&&print(ue);const Se=ye+Le;a.text(F,Se,e),a.line(Se,e,Se+Ye,e),u.value=Se+Ye,e=e+10}else{const m=s(M.$state.tilesysEinput[0].systemDataE.noa),f=s(M.$state.tilesysEinput[0].systemDataE.manufacturer),b=s(M.$state.tilesysEinput[0].systemDataE.material),F=s(M.$state.tilesysEinput[0].systemDataE.systemSelected),r=s(M.$state.tilesysEinput[0].systemDataE.dP),E=s(M.$state.tilesysEinput[0].systemDataE.Anchor_Base),z=s(M.$state.tilesysEinput[0].systemDataE.tileCap),C=a.getTextWidth(De),S=a.getTextWidth(`${m.value}`),N=v;a.text(De,N,e);const Q=R+C;a.text(`${m.value}`,Q,e),a.line(Q,e,Q+S,e),u.value=Q+S;const L=a.getTextWidth(ge),O=a.getTextWidth(`${f.value}`),ie=u.value+2;a.text(ge,ie,e);const Ue=ie+L;a.text(`${f.value}`,Ue,e),a.line(Ue,e,Ue+O,e);const $e=a.getTextWidth(`${b.value}`);u.value=Ue+$e,e=e+10;const Le=v,Ye=a.getTextWidth(Ae),ye=a.getTextWidth(`${b.value}`);a.text(Ae,Le,e);const ue=Le+Ye;a.text(`${b.value}`,ue,e),a.line(ue,e,ue+ye,e),u.value=ue+ye,u.value>Z&&(e=e+10);const Se=u.value+5,Rt=a.getTextWidth(P),Ht=a.getTextWidth(`${F.value}`);a.text(P,Se,e);const He=Se+Rt;a.text(`${F.value}`,He,e),a.line(He,e,He+Ht,e),u.value=He+Ht,u.value>Z&&(e=e+10);const qt=a.getTextWidth(Ct),ga=a.getTextWidth(`${r.value}`),yt=u.value+3;a.text(Ct,yt,e);const oa=yt+qt;a.text(`${r.value}`,oa,e),a.line(oa,e,oa+ga,e),u.value=oa+ga,console.log(u.value),e=e+10,a.getTextWidth(ze);const xa=a.getTextWidth(`${E.value}`),Va=v;a.text(ze,Va,e),e=e+10;const Kt=v;a.text(`${E.value}`,Kt,e),a.line(Kt,e,Kt+xa,e),u.value=Kt+xa,e=e+10;const sa=a.getTextWidth(me),_t=a.getTextWidth(`${z.value}`),ea=v;a.text(me,ea,e);const Zt=ea+sa;a.text(`${z.value}`,Zt,e),a.line(Zt,e,Zt+_t,e),u.value=Zt+_t,console.log(u.value),e=e+10}const G="Self Adhered NOA: ",se="S/A NOA Applicant: ",K="S/A System F: ",fe="S/A Material: ",j="S/A Description: ";if(p.$state.tilefinput.length===0){const m="n/a",f="n/a",b="n/a",F="n/a",r="n/a",E=a.getTextWidth(G),z=a.getTextWidth(m),C=v;a.text(G,C,e);const S=C+E;a.text(m,S,e),a.line(S,e,S+z,e),u.value=S+z,console.log(u.value);const N=a.getTextWidth(se),Q=a.getTextWidth(f),L=u.value+3;a.text(se,L,e);const O=L+N;a.text(f,O,e),a.line(O,e,O+Q,e),u.value=O+Q,console.log(u.value);const ie=a.getTextWidth(K),Ue=u.value+3;a.text(K,Ue,e);const $e=Ue+ie;a.text(b,$e,e),a.line($e,e,$e+ie,e),u.value=$e+ie,console.log(u.value),e=e+10;const Le=a.getTextWidth(fe),Ye=a.getTextWidth(F),ye=v;a.text(fe,ye,e);const ue=ye+Le;a.text(F,ue,e),a.line(ue,e,ue+Ye,e),u.value=ue+Ye,console.log(u.value);const Se=a.getTextWidth(j),Rt=a.getTextWidth(r),Ht=u.value+3;a.text(j,Ht,e);const He=Ht+Se;a.text(r,He,e),a.line(He,e,He+Rt,e),u.value=He+Rt,console.log(u.value)}else{console.log("Entered sbs line 455",p.$state);const m=s(p.$state.tilefinput[0].systemData.noa),f=s(p.$state.tilefinput[0].systemData.manufacturer),b=s(p.$state.tilefinput[0].systemData.pressure),F=s(p.$state.tilefinput[0].systemData.material),r=s(p.$state.tilefinput[0].systemData.description),E=a.getTextWidth(G),z=a.getTextWidth(`${m.value}`),C=v;a.text(G,C,e);const S=C+E;a.text(`${m.value}`,S,e),a.line(S,e,S+z,e),u.value=S+z;const N=a.getTextWidth(se),Q=a.getTextWidth(`${f.value}`),L=u.value+3;a.text(se,L,e);const O=L+N;a.text(`${f.value}`,O,e),a.line(O,e,O+Q,e),u.value=O+Q,console.log(u.value);const ie=a.getTextWidth(K),Ue=a.getTextWidth(`${b.value}`),$e=u.value+3;a.text(K,$e,e);const Le=$e+ie;a.text(`${b.value}`,Le,e),a.line(Le,e,Le+Ue,e),u.value=Le+Ue,e=e+10;const Ye=a.getTextWidth(fe),ye=a.getTextWidth(`${F.value}`),ue=v;a.text(fe,ue,e);const Se=ue+Ye;a.text(`${F.value}`,Se,e),a.line(Se,e,Se+ye,e),u.value=Se+ye,u.value>Z&&(e=e+10);const Rt=a.getTextWidth(j),Ht=a.getTextWidth(`${r.value}`),He=u.value+3;a.text(j,He,e);const qt=He+Rt;a.text(`${r.value}`,qt,e),a.line(qt,e,qt+Ht,e),u.value=qt+Ht,u.value>=Z&&(e=e+10),console.log(u.value)}const re="MechanicalTile.pdf",gt=a.output("blob");(async(m,f)=>{const b=m,F=b;console.log(F);const r=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${g}/${F}`;try{const E=await fetch(r,{method:"PUT",headers:{"Content-Type":b.type},body:f});E.ok?(o.value=r,alert("File uploaded successfully!")):alert(`Failed to upload file. Status: ${E.status}`)}catch(E){console.error("Error uploading file:",E),alert("An error occurred while uploading the file.")}})(re,gt)}};return(T,l)=>(aa(),la("div"))}},Dl=_=>(_a("data-v-b3c2be32"),_=_(),el(),_),Al={class:"card"},Fl=Dl(()=>ot("p",null,"The roof systems you selected",-1)),Xl={class:"rounded border border-surface-200 dark:border-surface-700 p-6 bg-surface-0 dark:bg-surface-900"},Nl={class:"flex mb-4"},kl={class:"flex justify-between mt-4"},Ml={__name:"Checkout",setup(_){const{accountUsers:B}=va();let x=s(!1),J=s(!1),X=s(!1),k=s(!1),V=s(!1);const p=s("");s(""),s(""),s("");const M=ha(),be=ta(),H=s(be.$state.roofList),st=Ea(),T=s(st.$state.generalpdfinput),l=s(M.$state.permitapp[0].formdt.processNumber),{getNumber:v}=Tl();function e(){B.value.forEach((U,oe)=>{p.value=U.dba}),console.log(l.value)}s(0),s(2);function t(){v(l.value),console.log("called times"),v(l.value)}const I=ca(()=>{if(H.value.length===0)return"";H.value[0].item==="Asphalt Shingle"?k.value=!0:H.value[0].item==="Low Slope"?V.value=!0:H.value[0].item==="Adhesive Set Tile"?J.value=!0:H.value[0].item==="Mechanical Fastened Tile"?X.value=!0:T.value.length!==1&&(x.value=!0)});qa(()=>{e(),t()}),Ka(e,I,()=>{console.log(k.value)});const i=s([{status:"RoofSystems",date:"15/10/2020 10:30",icon:"pi pi-cog",color:"#9C27B0",image:"/src/assets/img/roofing_tile.jpg"},{status:"Processing",date:"15/10/2020 14:00",icon:"pi pi-cog",color:"#673AB7"}]);return ua(async()=>{await pa(I).toBe(!0)}),(U,oe)=>{const je=ll,it=al,d=tl,Y=Oa;return aa(),la(ya,null,[ot("div",Al,[Ge(d,{value:i.value,align:"alternate",class:"customized-timeline"},{marker:da(n=>[ot("span",{class:"flex w-8 h-8 items-center justify-center text-white rounded-full z-10 shadow-sm",style:Qa({backgroundColor:n.item.color})},[ot("i",{class:La(n.item.icon)},null,2)],4)]),content:da(n=>[Ge(it,{class:"mt-4"},{title:da(()=>[Da(Aa(n.item.status),1)]),subtitle:da(()=>[Da(Aa(n.item.date),1)]),content:da(()=>[Fl,Ge(je,{label:"Read more",text:""})]),_:2},1024)]),_:1},8,["value"])]),ot("div",Xl,[ot("div",Nl,[Ge(Y,{shape:"circle",size:"4rem",class:"mr-2"}),ot("div",null,[Ge(Y,{width:"10rem",class:"mb-2"}),Ge(Y,{width:"5rem",class:"mb-2"}),Ge(Y,{height:"2rem",width:"30rem",modelValue:p.value,"onUpdate:modelValue":oe[0]||(oe[0]=n=>p.value=n)},{default:da(()=>[Da(Aa(U.db),1)]),_:1},8,["modelValue"])])]),Ge(Y,{width:"100%",height:"150px"}),ot("div",kl,[Ge(Y,{width:"4rem",height:"2rem"}),Ge(Y,{width:"4rem",height:"2rem"})]),$a(ot("div",null,[Ge(rl)],512),[[Sa,ba(k)]]),$a(ot("div",null,[Ge(bl)],512),[[Sa,ba(J)]]),$a(ot("div",null,[Ge(Vl)],512),[[Sa,ba(X)]]),$a(ot("div",null,[Ge(fl)],512),[[Sa,ba(V)]]),ot("div",null,[Ge(Wl)])])],64)}}},Ll=ul(Ml,[["__scopeId","data-v-b3c2be32"]]);export{Ll as default};
