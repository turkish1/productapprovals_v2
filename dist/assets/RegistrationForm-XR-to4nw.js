import{e as n,j as D,y as P,z as q,C as z,u as J,f as Q,D as W,E as X,G as Y,o as C,c as A,g as o,H as M,h as r,I as Z,l as F,J as $,t as ee,d as oe,F as ae,K as te,L as le,M as se,T as ne}from"./index-CJ8DmkYC.js";import{_ as ie}from"./FileSaver-DRaPIw1H.js";import{s as re}from"./index-gGK8w2EW.js";import{s as de}from"./index-CiWsXmSP.js";import{s as ce}from"./index-vDuJ_iP8.js";import{s as me}from"./index-KjkCYNu0.js";import{s as ue}from"./index-C0TL2lF5.js";import{s as pe}from"./index-DTrTwZ9J.js";import{u as fe}from"./accountsStore-C7fvm77h.js";import{u as k}from"./useAxios-BgGh3pLQ.js";import{u as _e}from"./auth-B-rSWwwZ.js";import{E as ve}from"./jspdf.es.min-Iy_Kh5Kb.js";import{_ as he}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./permitapp-9rcjOWlP.js";import"./index-CxtpzN5o.js";import"./index-D4Uk8Lme.js";import"./index-t9DZm4W-.js";import"./index-Da1w-Q01.js";import"./index-Ds6C_Du4.js";import"./index-WtRQfoBf.js";function ge(){const s=n([]),a=n("");let v=n([]);const{accountUsers:e,getUser:x,addUser:l}=fe();let d=D({license:"",dba:"",name:"",username:"",password:"",secondary_status:"",expiration_date:"",address:"",projects:[],password:"",cphone:"",bphone:"",email:"",date:new Date});const h=n("");let b="https://us-east-1.aws.data.mongodb-api.com/app/data-aquwo/endpoint/accounts";const{execute:m,data:u}=k(b,{method:"POST"},{immediate:!1});let p=D({});function f(c){console.log(c),p=c,m({data:c}),a.value="Form submitted successfully!",l(p),console.log(p,"System added")}return{takp:f,noaNum:s,formData:d,error:h,accountUsers:e,getUser:x,addUser:l,accountUsers:e,results:v,responseMessage:a,...P(p)}}const xe=q("cccinput",{state:()=>({cccinput:[],id:0}),actions:{addData(s){this.cccinput.push({cccAccounts:s,completed:!1})}},getters:{cccData:s=>s.cccAccounts}});function be(){const s=n(""),a=n(""),v=n(""),e=n(""),x=n("");let l="https://us-east-1.aws.data.mongodb-api.com/app/data-aquwo/endpoint/contractors";const{execute:d,then:h,data:b}=k(l,{method:"GET"},{immediate:!1}),m=D({});let u=D({license:"",dba:"",name:"",city:"",license_status:"",expiration_date:"",address:""});d().then(t=>(m.value=b.value,v));function p(t){console.log(t),e.value=t,_(e.value)}const f=n(""),c=n([]);function _(t){console.log(t),f.value=t;for(let g=0;g<m.value.length-1;g++)f.value===m.value[g].alt_license&&c.value.push(m.value[g]);u.license=c.value[0].alt_license,u.dba=c.value[0].DBA,u.name=c.value[0].name,u.license_status=c.value[0].secondary_status,u.city=c.value[0].city,u.expiration_date=c.value[0].expiration_date,u.effective_date=c.value[0].effective_date,u.address=c.value[0].address1}return xe(),{error:a,retrieveAccount:p,responseMessage:s,results:v,fndContract:_,contractors:m,licenseNumbers:x,cccAccounts:u}}const ye={setup(){const s=n([]),a=_e(),{message:v}=z(a),e=J(),x=n(!1);n(!1);const l=D({license:"",dba:"",name:"",username:"",password:"",license_status:"",expiration_date:"",address:"",city:"",projects:[],cphone:"",bphone:"",email:"",insurance:"",carrier:"",date:new Date}),{cccAccounts:d,retrieveAccount:h,foundContrator:b}=be();n(""),Q(()=>{});const m=n(""),{Data:u,takp:p}=ge(),f=async()=>{_.value&&(p(l),l.license="",l.name="",l.license_status="",l.dba="",l.username="",l.password="",l.address="",l.cphone="",l.bphone="",l.email="",l.insurance="",l.carrier="",g())};function c(){h(l.license),s.value=d,console.log("Contractors:",s.value),l.dba=s.value.dba,l.name=s.value.name,l.expiration_date=s.value.expiration_date,l.address=s.value.address,l.city=s.value.city,l.expiration_date=s.value.expiration_date,l.license_status=s.value.license_status,m.value=s.value.license_status,console.log(l,m.value),t()}const _=W(()=>l.license_status.trim()!==""&&l.license_status.trim()!=="I"&&l.email.trim()!=="");function t(){m.value===""?l.license_status="":m.value==="A"?l.license_status="Active":m.value==="I"&&(l.license_status="Inactive")}const g=()=>{e.push("/")},B=X(),S=n(),N=()=>{S.value&&S.value.upload&&S.value.upload()},E=()=>{B.add({severity:"contrast",summary:"Contrast",detail:"File Uploaded",life:3e3})},G=n([{name:"Florida",code:"Florida"},{name:"Georgia",code:"Georgia"}]),R=n([{name:"Miami",code:"Miami"},{name:"Homestead",code:"Homestead"},{name:"Miami Beach",code:"Miami Beach"},{name:"Miami Gardens",code:"Miami Gardens"}]),T=n([{name:"Roofing Contractor",code:"Roofing"},{name:"General Contractor",code:"General"}]),L=n(null),H=n(null),j=n(null),I=()=>{const y=document.getElementById("shingle");if(console.log("Element to capture:",y),!y){console.error('Element with id "shingle" not found');return}html2canvas(y).then(w=>{const V=w.toDataURL("image/png"),U=new ve;U.addImage(V,"PNG",10,10,190,0);const O=U.output("blob");K(O)})},K=async y=>{try{const V=await(await window.showSaveFilePicker({suggestedName:"permitapp.pdf",types:[{description:"PDF file",accept:{"application/pdf":[".pdf"]}}]})).createWritable();await V.write(y),await V.close(),console.log("PDF saved successfully without popping download dialog!")}catch(w){console.error("Error saving file:",w)}};return Y(()=>{I(),console.log("Component unmounted: PDF generated.")}),{formDatas:l,...P(l),disabled:x,navigateNext:g,authStore:a,message:v,isFormValid:_,trade:T,trades:L,onSubmit:f,onUpload:E,upload:N,retriveContractor:c,dropdownItemCt:R,dropdownItemSt:G,dropdownItemct:j,dropdownItemst:H,generatePdf:I}}},i=s=>(te("data-v-baadb1b6"),s=s(),le(),s),De=i(()=>o("div",{class:"h-[10rem]"},null,-1)),we={class:"grid h-56 grid-cols-3 content-start gap-4",style:{"margin-left":"50px","margin-top":"50px","margin-right":"40px"}},Ve=i(()=>o("div",{class:"font-semibold text-xl"},"Contractor Information",-1)),Se={class:"flex flex-col gap-4"},Ie=i(()=>o("label",{for:"lic1",style:{color:"#122620"}},"State of Florida License No.",-1)),Ue={class:"flex flex-wrap gap-2"},Ce=i(()=>o("label",{for:"trade",style:{color:"#122620"}},"Trade",-1)),Ae={class:"flex flex-col gap-2"},Me=i(()=>o("label",{for:"dba",style:{color:"#122620"}},"DBA",-1)),Fe={class:"flex flex-col gap-2"},Pe=i(()=>o("label",{for:"name",style:{color:"#122620"}},"Qualifier Name",-1)),ke={class:"flex flex-col gap-2"},Be=i(()=>o("label",{for:"secondary_status",style:{color:"#122620"}},"License Status",-1)),Ne={class:"flex flex-col gap-2"},Ee=i(()=>o("label",{for:"license",style:{color:"#122620"}},"License Expiration Date",-1)),Ge={class:"flex flex-col gap-2"},Re=i(()=>o("label",{for:"license",style:{color:"#122620"}},"Insurance Policy Number",-1)),Te={class:"flex flex-col gap-2"},Le=i(()=>o("label",{for:"license",style:{color:"#122620"}},"Insurance Carrier",-1)),He={class:"flex flex-col gap-2"},je=i(()=>o("label",{for:"username",style:{color:"#122620"}},"User Name",-1)),Ke={class:"flex flex-col gap-2"},Oe=i(()=>o("label",{for:"fname",style:{color:"#122620"}},"Password",-1)),qe=i(()=>o("div",{class:"font-semibold text-xm mb-4"},"Pick a password",-1)),ze=i(()=>o("ul",{class:"pl-2 ml-2 my-0 leading-normal"},[o("li",null,"At least one lowercase"),o("li",null,"At least one uppercase"),o("li",null,"At least one numeric"),o("li",null,"Minimum 8 characters")],-1)),Je=i(()=>o("div",{class:"h-[10rem]"},null,-1)),Qe={class:"grid h-64 grid-cols-3 content-around gap-12 ...",style:{"margin-left":"250px","margin-right":"40px"}},We={class:"flex flex-col gap-4"},Xe=i(()=>o("label",{for:"addr",style:{color:"#122620"}},"Business Address",-1)),Ye={class:"flex flex-col gap-4"},Ze=i(()=>o("label",{for:"state",style:{color:"#122620"}},"City",-1)),$e={class:"flex flex-col gap-4"},eo=i(()=>o("label",{for:"state",style:{color:"#122620"}},"State",-1)),oo={class:"flex flex-col gap-4"},ao=i(()=>o("label",{for:"bphone",style:{color:"#122620"}},"Business Phone",-1)),to={class:"flex flex-col gap-4"},lo=i(()=>o("label",{for:"cphone",style:{color:"#122620"}},"Cell Phone Number",-1)),so={class:"flex flex-col gap-4"},no=i(()=>o("label",{for:"email1",style:{color:"#122620"}},"Gmail account",-1)),io={class:"md:w-1/4 flex justify-center flex-wrap gap-4",style:{"margin-left":"50px"}},ro={class:"md:w-2/3 flex flex-col gap-2",style:{"margin-top":"120px"}},co=i(()=>o("label",{for:"addr",style:{color:"#122620"}},"Upload Insurance Information",-1)),mo={key:0};function uo(s,a,v,e,x,l){const d=pe,h=ue,b=me,m=ce,u=de,p=re,f=se,c=ie,_=ne;return C(),A(ae,null,[o("form",{class:"container md:w-2/3",onSubmit:a[16]||(a[16]=$((...t)=>e.onSubmit&&e.onSubmit(...t),["prevent"])),style:{"margin-left":"350px","margin-top":"50px"}},[De,o("div",we,[Ve,o("div",Se,[Ie,M(r(d,{type:"text",modelValue:e.formDatas.license,"onUpdate:modelValue":a[0]||(a[0]=t=>e.formDatas.license=t),placeholder:"CRC000000",onChange:s.checkLicense,invalid:e.formDatas.license==="",onKeydown:Z(e.retriveContractor,["tab"])},null,8,["modelValue","onChange","invalid","onKeydown"]),[[_,"Enter your license and hit tab"]])]),o("div",Ue,[Ce,r(h,{id:"trad",modelValue:e.trades,"onUpdate:modelValue":a[1]||(a[1]=t=>e.trades=t),options:e.trade,optionLabel:"name",placeholder:"Select One",class:"w-full"},null,8,["modelValue","options"])]),o("div",Ae,[Me,r(d,{id:"dba",type:"text",modelValue:e.formDatas.dba,"onUpdate:modelValue":a[2]||(a[2]=t=>e.formDatas.dba=t),placeholder:" ",invalid:e.formDatas.dba===""},null,8,["modelValue","invalid"])]),o("div",Fe,[Pe,r(d,{id:"name",type:"text",modelValue:e.formDatas.name,"onUpdate:modelValue":a[3]||(a[3]=t=>e.formDatas.name=t),placeholder:" ",invalid:e.formDatas.name===""},null,8,["modelValue","invalid"])]),o("div",ke,[Be,r(d,{id:"secondary_status",type:"text",modelValue:e.formDatas.license_status,"onUpdate:modelValue":a[4]||(a[4]=t=>e.formDatas.license_status=t),placeholder:" ",invalid:e.formDatas.license_status===""},null,8,["modelValue","invalid"])]),o("div",Ne,[Ee,r(d,{id:"license",type:"text",modelValue:e.formDatas.expiration_date,"onUpdate:modelValue":a[5]||(a[5]=t=>e.formDatas.expiration_date=t),placeholder:" ",invalid:e.formDatas.expiration_date===""},null,8,["modelValue","invalid"])]),o("div",Ge,[Re,r(d,{id:"license",type:"text",modelValue:e.formDatas.insurance,"onUpdate:modelValue":a[6]||(a[6]=t=>e.formDatas.insurance=t),placeholder:" ",invalid:e.formDatas.insurance===""},null,8,["modelValue","invalid"])]),o("div",Te,[Le,r(d,{id:"license",type:"text",modelValue:e.formDatas.carrier,"onUpdate:modelValue":a[7]||(a[7]=t=>e.formDatas.carrier=t),placeholder:" ",invalid:e.formDatas.carrier===""},null,8,["modelValue","invalid"])]),o("div",He,[je,r(d,{id:"username",type:"text",modelValue:e.formDatas.username,"onUpdate:modelValue":a[8]||(a[8]=t=>e.formDatas.username=t),placeholder:"user name",invalid:e.formDatas.username===""},null,8,["modelValue","invalid"])]),o("div",Ke,[Oe,r(m,{modelValue:e.formDatas.password,"onUpdate:modelValue":a[9]||(a[9]=t=>e.formDatas.password=t),invalid:e.formDatas.pasword===""},{header:F(()=>[qe]),footer:F(()=>[r(b),ze]),_:1},8,["modelValue","invalid"])])]),Je,o("div",Qe,[o("div",We,[Xe,r(d,{id:"addr",type:"text",modelValue:e.formDatas.address,"onUpdate:modelValue":a[10]||(a[10]=t=>e.formDatas.address=t),placeholder:"address"},null,8,["modelValue"])]),o("div",Ye,[Ze,r(d,{id:"city",type:"text",modelValue:e.formDatas.city,"onUpdate:modelValue":a[11]||(a[11]=t=>e.formDatas.city=t),placeholder:"city"},null,8,["modelValue"])]),o("div",$e,[eo,r(h,{id:"state",modelValue:e.dropdownItemst,"onUpdate:modelValue":a[12]||(a[12]=t=>e.dropdownItemst=t),options:e.dropdownItemSt,optionLabel:"name",placeholder:"Select One",class:"w-full"},null,8,["modelValue","options"])]),o("div",oo,[ao,r(u,{modelValue:e.formDatas.bphone,"onUpdate:modelValue":a[13]||(a[13]=t=>e.formDatas.bphone=t),mask:"(999) 999-9999",placeholder:"(999) 999-9999",invalid:e.formDatas.bphone===""},null,8,["modelValue","invalid"])]),o("div",to,[lo,r(u,{modelValue:e.formDatas.cphone,"onUpdate:modelValue":a[14]||(a[14]=t=>e.formDatas.cphone=t),mask:"(999) 999-9999",placeholder:"(999) 999-9999",invalid:e.formDatas.cphone===""},null,8,["modelValue","invalid"])]),o("div",so,[no,M(r(d,{id:"email1",modelValue:e.formDatas.email,"onUpdate:modelValue":a[15]||(a[15]=t=>e.formDatas.email=t),type:"text",placeholder:"email",invalid:e.formDatas.email===""},null,8,["modelValue","invalid"]),[[_,"Enter your gmail account in order to submit"]])])]),o("div",io,[r(p,{label:"Submit",severity:"contrast",raised:"",onClick:e.onSubmit,disabled:!e.isFormValid},null,8,["onClick","disabled"])]),o("div",ro,[co,r(f),r(c,{class:"w-2/3"})])],32),s.responseMessage?(C(),A("p",mo,ee(s.responseMessage),1)):oe("",!0)],64)}const ko=he(ye,[["render",uo],["__scopeId","data-v-baadb1b6"]]);export{ko as default};
