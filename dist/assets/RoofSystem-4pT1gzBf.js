import{_ as Y}from"./FileSaver-CpfaZrdb.js";import{H as D,e as h,f as x,E as Q,h as F,o as i,c,i as e,F as M,z as I,t as b,n as H,J as B,k as y,I as E,X as W,y as Z,K as ee,a as te,v as N,j as _,d as q,T as se,p as oe,q as ae,A as le}from"./index-DOciaOSl.js";import{u as ne}from"./usePostGeneralpageLambda-CicLGNLl.js";import{u as ie}from"./generalpageStore-r7U6S079.js";import{u as K}from"./roofList-DQuFjusn.js";import{u as re}from"./permitapp-T3MCes2z.js";import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{s as U}from"./index-B_VSq3w-.js";import{s as j}from"./index-Cj3zSn-y.js";import{s as ce}from"./index-BS3XVbRj.js";import{s as de}from"./index-Dyk86X-J.js";import{s as pe}from"./index-9c3OSt3c.js";import"./useAxios-AykoiFZ3.js";import"./index-Bxd258oo.js";import"./index-Oj3S75le.js";import"./index-BTxuoOqm.js";import"./index-D1Pf_vUm.js";import"./index-BeMf6aF6.js";import"./index-CydqOqv5.js";function ue(){const d=K(),{roofList:S}=D(d);h(!1);const k=ie(),{postGeneral:v}=ne(),p=h(null),n=h(k.$state.generalpdfinput),u=h(!1),l=x({mtile:!1,adtile:!1,shingle:!1,metal:!1,slope:!1}),o=x({steep1:0,steep2:0,steep3:0,steep4:0,low1:0}),s=x({steep:0,lowslope:0,total:0}),a=x({steepData:"",slopeData:"",totalData:"",mtileChk:!1,adtileChk:!1,shingleChk:!1,slopeChk:!1,metalChk:!1,roofCheck:"",area:""});function R(V){p.value=V.value[0];const $={"Asphalt Shingle":{dim:"dim1",flag:"shingle",steepKey:"steep1"},"Adhesive Set Tile":{dim:"dim4",flag:"adtile",steepKey:"steep2"},"Mechanical Fastened Tile":{dim:"dim3",flag:"mtile",steepKey:"steep3"},"Metal Panel":{dim:"dim5",flag:"metal",steepKey:"steep4"},"Low Slope":{dim:"dim2",flag:"slope"}};Object.keys(l).forEach(C=>l[C]=!1),Object.keys(o).forEach(C=>o[C]=0),S.value.forEach(C=>{const g=$[C.item];if(g){const L=Number(C[g.dim])||0;l[g.flag]=!0,a[`${g.flag}Chk`]=!0,console.log(g.flag),g.flag==="slope"?o.low1=L:o[g.steepKey]=L}}),T()}async function T(){s.steep=o.steep1+o.steep2+o.steep3+o.steep4,s.lowslope=o.low1,s.total=s.steep+s.lowslope,a.area=s.total,a.steepData=s.steep,a.slopeData=s.lowslope,a.totalData=s.total,a.roofCheck=p.value,k.addgeneralpdfData(a),await v(a),u.value=!0}return{addRoof:R,roofArea:T,dataGeneral:a,generalType:n,isGeneralPageValid:u}}const me=Q("roofinput",{state:()=>({roofinput:[],id:0}),actions:{addCheck(d){this.roofinput.push({roofCheckdata:d,completed:!1})},reset(){this.roofinput=[]},persist:!0}}),fe={class:"terminal"},_e={class:"terminal-content"},he={class:"content"},ve=["onClick"],ge=20,ye={__name:"RoofSystemList",setup(d){const S=K(),{roofList:k}=D(S),{toggleCompleted:v}=D(S),p=["Initializing system...","Loading modules...","Connecting to server...","Server connection established.","Awaiting Roof System Selection..."],n=h([]);function u(){let l=0;const o=setInterval(()=>{l<p.length?(n.value.length>=ge&&n.value.shift(),n.value.push(p[l]),console.log(p[l]),l++):clearInterval(o)},500)}return F(()=>{u()}),(l,o)=>(i(),c("div",fe,[e("div",_e,[(i(!0),c(M,null,I(n.value,(s,a)=>(i(),c("div",{key:a,class:"terminal-line"},b(s),1))),128)),(i(!0),c(M,null,I(y(k),s=>(i(),c("div",{key:s.id,class:"item"},[e("div",he,[e("span",{class:H({completed:s.completed}),style:{color:"green"}},b(s.item)+" "+b(s.dim1)+" "+b(s.dim2)+" "+b(s.dim3)+" "+b(s.dim4)+" "+b(s.dim5),3),e("span",{onClick:B(a=>y(v)(s.id),["stop"])},"âœ”",8,ve)])]))),128))])]))}},Se=z(ye,[["__scopeId","data-v-779fb247"]]),w=d=>(oe("data-v-3d676c16"),d=d(),ae(),d),ke={class:"page"},Ce={class:"card"},be={class:"card__header"},we=w(()=>e("h2",null,"Roof System",-1)),$e=w(()=>e("i",{class:"pi pi-refresh"},null,-1)),xe={class:"form"},Re={class:"field"},Te=w(()=>e("label",{for:"sqft"},"Square Footage",-1)),Ve={class:"field"},Le=w(()=>e("label",{for:"system"},"Roof System",-1)),Ae={key:0,class:"hint"},De={class:"field row"},Me={class:"check"},Ie=w(()=>e("label",{for:"kind-new"},"New Roof",-1)),Be={class:"check"},Fe=w(()=>e("label",{for:"kind-reroof"},"Re-Roof",-1)),Ke={class:"actions"},ze={class:"side"},Ge=w(()=>e("p",{class:"dz-title"},"Blueprints & images",-1)),Pe=w(()=>e("p",{class:"dz-sub"},"Drag & drop files here, or click to select",-1)),Oe={key:0,class:"dz-list"},Ee={__name:"RoofSystemForm",setup(d){var G,P,O;const S=re(),k=me(),v=K(),p=h(""),n=h(null),u=h("newroof"),l=h(!1),o=h([]),{addRoof:s}=ue(),a=x({roofCheck:""}),R=[{name:"Asphalt Shingle"},{name:"Low Slope"},{name:"Mechanical Fastened Tile"},{name:"Adhesive Set Tile"},{name:"Metal Panel"}],T=h((O=(P=(G=S.$state.permitapp)==null?void 0:G[0])==null?void 0:P.formdt)==null?void 0:O.checkIfBeach),V=E(()=>W(T.value).value===2),$=E(()=>V.value?R.slice(1):R);function C(){var A;const m=n.value.name,t=Number(p.value),f={"Asphalt Shingle":()=>v.addSystemShingle(m,t),"Low Slope":()=>v.addSystemBur(m,t),"Mechanical Fastened Tile":()=>v.addSystemMTile(m,t),"Adhesive Set Tile":()=>v.addSystemATile(m,t),"Metal Panel":()=>v.addSystemMetal(m,t)};(A=f[m])==null||A.call(f),a.roofCheck=u.value,k.addCheck({...a}),p.value="",n.value=null}function g(){s(u)}function L(){v.$reset()}function J(m){var f;l.value=!1;const t=[...((f=m.dataTransfer)==null?void 0:f.files)||[]];t.length&&(o.value=t)}function X(m){var f;const t=[...((f=m.target)==null?void 0:f.files)||[]];t.length&&(o.value=t)}return F(()=>{!n.value&&$.value.length&&(n.value=$.value[0])}),(m,t)=>{const f=Z("RouterLink"),A=se;return i(),c("main",ke,[e("section",Ce,[e("header",be,[we,ee((i(),te(y(U),{class:"icon",text:"",plain:"",onClick:L},{default:N(()=>[$e]),_:1})),[[A,"Reset list",void 0,{bottom:!0}]])]),e("div",xe,[e("div",Re,[Te,_(y(de),{id:"sqft",modelValue:p.value,"onUpdate:modelValue":t[0]||(t[0]=r=>p.value=r),type:"number",inputmode:"numeric",placeholder:"e.g. 1200"},null,8,["modelValue"])]),e("div",Ve,[Le,_(y(pe),{id:"system",class:"w-full",options:$.value,optionLabel:"name",modelValue:n.value,"onUpdate:modelValue":t[1]||(t[1]=r=>n.value=r),placeholder:"Select roof system",onChange:C},null,8,["options","modelValue"]),V.value?(i(),c("small",Ae,"Miami Beach restrictions apply.")):q("",!0)]),e("div",De,[e("div",Me,[_(y(j),{inputId:"kind-new",severity:"contrast",name:"roofKind",value:"newroof",modelValue:u.value,"onUpdate:modelValue":t[2]||(t[2]=r=>u.value=r)},null,8,["modelValue"]),Ie]),e("div",Be,[_(y(j),{inputId:"kind-reroof",severity:"contrast",name:"roofKind",value:"reroof",modelValue:u.value,"onUpdate:modelValue":t[3]||(t[3]=r=>u.value=r)},null,8,["modelValue"]),Fe])]),e("div",Ke,[_(f,{to:"/dynamicstepper"},{default:N(()=>[_(y(U),{severity:"contrast",label:"Continue",onClick:g})]),_:1})])]),_(y(ce)),_(Se)]),e("section",ze,[e("div",{class:H(["dropzone",{over:l.value}]),onDragover:t[4]||(t[4]=B(r=>l.value=!0,["prevent"])),onDragleave:t[5]||(t[5]=r=>l.value=!1),onDrop:B(J,["prevent"])},[Ge,Pe,e("input",{type:"file",class:"dz-input",multiple:"",onChange:X},null,32),o.value.length?(i(),c("ul",Oe,[(i(!0),c(M,null,I(o.value,r=>(i(),c("li",{key:r.name},b(r.name),1))),128))])):q("",!0)],34)])])}}},Ne=z(Ee,[["__scopeId","data-v-3d676c16"]]),qe={id:"id",class:"grid grid-cols-3 gap-6"},Ue={class:"roof-app",style:{"margin-left":"250px","margin-top":"20px",border:"none","border-radius":"12px","box-shadow":"4px 4px 16px rgb(22, 183, 183)","padding-bottom":"10px",position:"center","max-height":"600px",width:"600px",top:"10vh"}},je={__name:"RoofSystemApp",setup(d){return F(()=>{le.init({duration:4500,easing:"ease-in-out",once:!1})}),(S,k)=>(i(),c("div",qe,[e("div",Ue,[_(Ne)])]))}},He=z(je,[["__scopeId","data-v-aebd1914"]]),Je={class:"grid grid-cols-2 gap-0"},Xe={"data-aos":"fade-up-right","data-aos-delay":"500",style:{"margin-top":"90px"}},_t={__name:"RoofSystem",setup(d){return(S,k)=>(i(),c("div",Je,[_(He),e("div",Xe,[_(Y)])]))}};export{_t as default};
