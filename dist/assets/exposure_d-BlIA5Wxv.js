import{E as j,e as r,f as k,I as N,ak as H,D as M,w as J,h as V,o as x,c as $,i as P,j as O,v as G,K as ne,F as K,z as L,t as U,d as Z,T as ae,p as R,q as Q,aA as W}from"./index-C9tkTkYY.js";import{s as X}from"./index-C4pF76By.js";import{s as Y}from"./index-Bl2NXHuA.js";import{u as q}from"./useAxios-C93ac-9_.js";import{_ as ee}from"./_plugin-vue_export-helper-DlAUqK2U.js";const re=j("sysEInput",{state:()=>({sysEInput:[],id:0}),actions:{addSystem(n){this.sysEInput.push({sysENumber:n,completed:!1})},reset(){this.$reset()}},getters:{sysENumber:n=>n.sysENumber}});function oe(){let n=r([]);const f=re(),h=r(""),c=k({noa:[]});function m(){b()}const _=N(()=>"https://5qygih823j.execute-api.us-east-1.amazonaws.com/systemEnumStaging"),{data:y}=H(_).get().json(),b=async()=>{c.noa=y,console.log(y),f.addSystem(c)};return{sysENumber:c,fetchData:b,callFunction:m,errors:h,results:n,...M(c),systemEStore:f}}const te=j("tilesysEinput",{state:()=>({tilesysEinput:[],id:0}),actions:{addData(n){this.tilesysEinput.push({systemDataE:n,completed:!1})},reset(){this.$reset()}},getters:{sysEData:n=>n.systemDataE}});function ie(){const n=r(),f=r(),h=r([]);r([]);const c=te(),m=r("");let _="https://wt43wiuu3mqdnixsgetrcjriqi0bzqdk.lambda-url.us-east-1.on.aws/";const{execute:y,then:b,data:S}=q(_,{method:"GET"},{immediate:!1}),i=k({noa:"",manufacturer:"",material:"",system:[],designPressure:[],Anchor_Base_Sheet:"",Anchor_Base_Sheet_E1:"",Anchor_Base_Sheet_E2:"",Anchor_Base_Sheet_E3:"",Anchor_Base_Sheet_E4:"",Anchor_Base_Sheet_E5:"",Anchor_Base_Sheet_E6:"",Anchor_Base_Sheet_E7:"",Anchor_Base_Sheet_E8:"",Anchor_Base_Sheet_E9:"",Anchor_Base_Sheet_E10:"",Anchor_Base_Sheet_E11:"",Anchor_Base_Sheet_E12:"",Anchor_Base_Sheet_E13:"",Anchor_Base_Sheet_E14:"",Anchor_Base_Sheet_E15:"",TileCap_Sheet_Description:"",TileCap_Sheet_Description_E1:"",TileCap_Sheet_Description_E2:"",TileCap_Sheet_Description_E3:"",TileCap_Sheet_Description_E4:"",TileCap_Sheet_Description_E5:"",TileCap_Sheet_Description_E6:"",TileCap_Sheet_Description_E7:"",TileCap_Sheet_Description_E8:"",TileCap_Sheet_Description_E9:"",TileCap_Sheet_Description_E10:"",TileCap_Sheet_Description_E11:"",TileCap_Sheet_Description_E12:"",TileCap_Sheet_Description_E13:"",TileCap_Sheet_Description_E14:"",TileCap_Sheet_Description_E15:"",arraySystem:[],Maps:[],systemCheck:[],expiration_date:""}),F=(u,o=null)=>{try{return JSON.parse(u)}catch{return o}},C=u=>{let o=(u==null?void 0:u.data)??u;if(typeof o=="string"&&(o=F(o,[])),Array.isArray(o))return o;if(o&&typeof o=="object"){if("body"in o){const l=typeof o.body=="string"?F(o.body,[]):o.body;return Array.isArray(l)?l:l?[l]:[]}return[o]}return[]};function w(u){n.value=u,f.value=Number(n.value),E()}const E=async()=>{var u,o,l,B,A;try{const T=await y({params:{NOA:f.value}}),d=C(T);if(!d.length)return[];const s=((o=(u=d[0])==null?void 0:u.value)==null?void 0:o.body)??((l=d[0])==null?void 0:l.body)??d[0],e=typeof s=="string"?F(s,[]):Array.isArray(s)?s:s?[s]:[];if(!e.length)return[];const t=e[0];console.log(t);const a={noa:t.NOA??t.noa,manufacturer:(A=(B=t.Manufacturer??t.applicant)==null?void 0:B.trim)==null?void 0:A.call(B),material:t.Material??t.material,designPressure:t.DesignPressure,system:t.System,maps:t.Maps};for(let v=1;v<=15;v++){const p=`TileCap_Sheet_Description_E${v}`,g=`Anchor_Base_Sheet_E${v}`;t[g]!=null&&t[g]!==""&&(a[g]=t[g]),t[p]!=null&&t[p]!==""&&(a[p]=t[p])}return console.log(a),c.addData(a),a}catch(T){return console.error("Error fetching data:",T),null}};return{inputsystem:n,fetchData:E,getV:w,noaNum:h,error:m,...M(i),store:c}}const le=n=>(R("data-v-65dcf4e6"),n=n(),Q(),n),ue={class:"autocomplete"},ce={class:"w-64 gap-2 space-y-2 mb-2",style:{"margin-left":"20px"}},_e=le(()=>P("label",{for:"ac"},"Fastened UDL NOA: 00000000",-1)),ye={key:0,class:"suggestions"},pe=["onMousedownPassive"],fe={__name:"systemENumber",emits:["update","cleared"],setup(n,{emit:f}){const h=f,{callFunction:c,systemEStore:m}=oe(),_=te(),y=r(""),{getV:b}=ie();J(y,t=>{(t==null||String(t).trim()==="")&&h("cleared")});let S=r(_.$state.tilesysEinput);const i=k({noa:"",manufacturer:"",material:"",system:[],designPressure:[],Anchor_Base_Sheet:[],TileCap_Sheet_Description:[],Anchor_Base_Sheet_E1:"",Anchor_Base_Sheet_E2:"",Anchor_Base_Sheet_E3:"",Anchor_Base_Sheet_E4:"",Anchor_Base_Sheet_E5:"",Anchor_Base_Sheet_E6:"",Anchor_Base_Sheet_E7:"",Anchor_Base_Sheet_E8:"",Anchor_Base_Sheet_E9:"",Anchor_Base_Sheet_E10:"",Anchor_Base_Sheet_E11:"",Anchor_Base_Sheet_E12:"",Anchor_Base_Sheet_E13:"",TileCap_Sheet_Description:[],TileCap_Sheet_Description_E1:"",TileCap_Sheet_Description_E2:"",TileCap_Sheet_Description_E3:"",TileCap_Sheet_Description_E4:"",TileCap_Sheet_Description_E5:"",TileCap_Sheet_Description_E6:"",TileCap_Sheet_Description_E7:"",TileCap_Sheet_Description_E8:"",TileCap_Sheet_Description_E9:"",TileCap_Sheet_Description_E10:"",TileCap_Sheet_Description_E11:"",TileCap_Sheet_Description_E12:"",TileCap_Sheet_Description_E13:"",arrDesignPressure:[],Maps:[]});let F=r(_.$state.tilesysEinput);const C=r(),w=r([]),E=r(!1);V(()=>{c(),w.value=m.$state});const u=r([]),o=N(()=>{var p,g;if(console.log((p=w.value.sysEInput)==null?void 0:p[0].sysENumber.noa.body),!y.value)return[];u.value=(g=w.value.sysEInput)==null?void 0:g[0].sysENumber.noa.body;const t=JSON.stringify(u.value).split("[").join(),a=JSON.stringify(t).split("]").join();console.log(a);const v=N(()=>a.split(",").map(D=>D.trim()));return console.log(v.value),v.value.filter(D=>D.toString().includes(y.value))});function l(){C.value=y.value,y.value!==null&&(console.log(udlInput.value),b(C.value)),B()}function B(){console.log(S.value),S.value.length!==null&&S.value.forEach((t,a)=>{i.manufacturer=t.systemDataE.manufacturer,i.material=t.systemDataE.material,i.system=t.systemDataE.system}),T()}const A=k({Anchor_Base_Sheet_E1:"",Anchor_Base_Sheet_E2:"",Anchor_Base_Sheet_E3:"",Anchor_Base_Sheet_E4:"",Anchor_Base_Sheet_E5:"",Anchor_Base_Sheet_E6:"",Anchor_Base_Sheet_E7:"",Anchor_Base_Sheet_E8:"",Anchor_Base_Sheet_E9:"",Anchor_Base_Sheet_E10:"",Anchor_Base_Sheet_E11:"",Anchor_Base_Sheet_E12:"",Anchor_Base_Sheet_E13:""});function T(){var v;const t=F==null?void 0:F.value;if(!Array.isArray(t)||t.length===0)return;const a=(v=t.find(p=>p&&p.systemDataE))==null?void 0:v.systemDataE;if(a){i.Maps=a.Maps??{},i.arrDesignPressure=Array.isArray(a.designPressure)?a.designPressure.slice():[],i.noa=a.noa??i.noa,i.manufacturer=a.manufacturer??i.manufacturer,i.material=a.material??i.material,i.system=Array.isArray(a.system)?a.system.slice():a.system?[a.system]:[];for(let p=1;p<=13;p++){const g=`Anchor_Base_Sheet_E${p}`,D=`TileCap_Sheet_Description_E${p}`;A[g]=a[g]??"",i[D]=a[D]??""}}}const d=t=>{y.value=t,E.value=!1},s=()=>{E.value=!0},e=()=>{setTimeout(()=>{E.value=!1},100)};return(t,a)=>{const v=Y,p=X,g=ae;return x(),$("div",ue,[P("div",ce,[O(p,null,{default:G(()=>[ne(O(v,{id:"udlInput",modelValue:y.value,"onUpdate:modelValue":a[0]||(a[0]=D=>y.value=D),inputId:"ac",onFocus:a[1]||(a[1]=D=>E.value=!0),onBlur:e,onInput:s,onChange:l},null,8,["modelValue"]),[[g,"Press Tab after value",void 0,{bottom:!0}]]),_e]),_:1})]),E.value&&o.value.length?(x(),$("ul",ye,[(x(!0),$(K,null,L(o.value,(D,I)=>(x(),$("li",{key:I,onMousedownPassive:z=>d(D)},U(D),41,pe))),128))])):Z("",!0)])}}},xe=ee(fe,[["__scopeId","data-v-65dcf4e6"]]),he=j("sysFInput",{state:()=>({sysFInput:[],id:0}),actions:{addSystem(n){this.sysFInput.push({sysFNumber:n,completed:!1})},reset(){this.$reset()}},getters:{sysFNumber:n=>n.sysFNumber}});function de(){let n=r([]);const f=he(),h=r(""),c=k({noa:[]});function m(){b()}const _=N(()=>"https://26lhch4lepyjqultfyzq6dqoju0jectd.lambda-url.us-east-1.on.aws/"),{data:y}=H(_).get().json(),b=async()=>{console.log(y),c.noa=y,f.addSystem(c)};return{sysFNumber:c,fetchData:b,callFunction:m,errors:h,results:n,...M(c),systemFStore:f}}const se=j("tilefinput",{state:()=>({tilefinput:[],id:0}),actions:{addData(n){this.tilefinput.push({systemData:n,completed:!1}),console.log(n,this.tilefinput)},reset(){this.$reset()}},getters:{sysData:n=>n.systemData}});function me(){const n=r(""),f=r([]),h=r(""),c=r([]),m=se(),_="https://43vqeorx5nvviet4vwvdewfcwe0tqdtt.lambda-url.us-east-1.on.aws/",{execute:y,data:b}=q(_,{method:"GET"},{immediate:!1}),S=k({noa:"",manufacturer:"",material:"",system:"",designPressure:"",description:"",Description_F1:"",Description_F2:"",Description_F3:"",Description_F4:"",Description_F5:"",Description_F6:"",Description_F7:"",Description_F8:"",Description_F9:"",Description_F10:"",Description_F11:"",Description_F12:"",Description_F13:"",arraySystem:[],systemCheck:[],maps:[],expiration_date:"",prescriptiveSelection:""});r([]);const i=(u,o=null)=>{try{return JSON.parse(u)}catch{return o}},F=r(0);async function C(u){n.value=u,F.value=Number(n.value),await E()}const w=u=>{let o=(u==null?void 0:u.data)??u;if(typeof o=="string"&&(o=i(o,[])),Array.isArray(o))return o;if(o&&typeof o=="object"){if("body"in o){const l=typeof o.body=="string"?i(o.body,[]):o.body;return Array.isArray(l)?l:l?[l]:[]}return[o]}return[]},E=async()=>{var u,o,l,B,A;try{const T=await y({params:{NOA:F.value}}),d=w(T);if(console.log(T,d),!d.length)return[];const s=((o=(u=d[0])==null?void 0:u.value)==null?void 0:o.body)??((l=d[0])==null?void 0:l.body)??d[0],e=typeof s=="string"?i(s,[]):Array.isArray(s)?s:s?[s]:[];if(console.log(s,e),!e.length)return[];console.log(e);const t=e[0];console.log(t);const a={noa:t.NOA??t.noa,manufacturer:(A=(B=t.Manufacturer??t.applicant)==null?void 0:B.trim)==null?void 0:A.call(B),material:t.Material??t.material,designPressure:t.DesignPressure,system:t.System,maps:t.Maps};for(let v=1;v<=15;v++){const p=`Description_F${v}`,g=`TileCap_Sheet_${p}`;t[g]!=null&&t[g]!==""?a[p]=t[g]:t[p]!=null&&t[p]!==""&&(a[p]=t[p])}return console.log(a),m.addData(a),a}catch(T){return console.error("Error fetching data:",T),null}};return{inputSystem:n,noaNum:f,toArray:w,error:h,results:c,takef:C,store:m,fetchData:E,...M(S)}}const ve=n=>(R("data-v-d799d654"),n=n(),Q(),n),ge={class:"autocomplete"},Se={class:"w-64 gap-2 space-y-2 mb-2",style:{"margin-left":"20px"}},Ee=ve(()=>P("label",{for:"ac"},"S/A Membrane NOA: 00000000",-1)),Ae={key:0,class:"suggestions"},De=["onMousedownPassive"],be={__name:"systemFNumber",emits:["update","cleared"],setup(n,{emit:f}){const h=f,{callFunction:c,systemFStore:m}=de(),_=se(),{takef:y}=me();let b=r(_.$state.tilefinput);const S=r(""),i=k({manufacturer:"",material:"",system:[],designpressure:[],description:[],Description_F1:"",Description_F2:"",Description_F3:"",Description_F4:"",Description_F5:"",Description_F6:"",Description_F7:"",Description_F8:"",Description_F9:"",Description_F10:"",Description_F11:"",Description_F12:"",Description_F13:"",Description_F14:"",Description_F15:"",arrDesignPressure:[],Maps:[]});J(S,d=>{(d==null||String(d).trim()==="")&&h("cleared")});const F=r(),C=r([]),w=r(!1);V(()=>{c(),console.log(m.$state),C.value=m.$state});const E=r([]),u=N(()=>{if(!S.value)return[];E.value=C.value.sysFInput[0].sysFNumber.noa;const d=JSON.stringify(E.value).split("[").join(),s=JSON.stringify(d).split("]").join(),e=N(()=>s.split(",").map(t=>t.trim()));return console.log(e.value),e.value.filter(t=>t.toString().includes(S.value))});function o(){F.value=S.value,S.value!==null&&y(F.value),l()}function l(){b.value.length!==null&&b.value.forEach((d,s)=>{console.log(d.systemData),i.manufacturer=d.systemData.manufacturer,i.material=d.systemData.material,i.system=d.systemData.system,i.designpressure=d.systemData.system})}const B=d=>{S.value=d,w.value=!1},A=()=>{w.value=!0},T=()=>{setTimeout(()=>{w.value=!1},100)};return(d,s)=>{const e=Y,t=X;return x(),$("div",ge,[P("div",Se,[O(t,null,{default:G(()=>[O(e,{id:"sanoa",modelValue:S.value,"onUpdate:modelValue":s[0]||(s[0]=a=>S.value=a),inputId:"ac",onFocus:s[1]||(s[1]=a=>w.value=!0),onBlur:T,onInput:A,onChange:o},null,8,["modelValue"]),Ee]),_:1})]),w.value&&u.value.length?(x(),$("ul",Ae,[(x(!0),$(K,null,L(u.value,(a,v)=>(x(),$("li",{key:v,onMousedownPassive:p=>B(a)},U(a),41,De))),128))])):Z("",!0)])}}},$e=ee(be,[["__scopeId","data-v-d799d654"]]),we=W(()=>{const n=r([]),f=r([]),h=r([]),c=N(()=>n.value),m=N(()=>f.value),_=N(()=>h.value);N(()=>tilenoa.value);function y(i){n.value.push(i)}function b(i){f.value.push(i)}function S(i){console.log(i),h.value.push(i)}return{slopes:n,heights:f,getSlopes:c,getZones:_,getHeight:m,zones:h,addDimzones:S,addDimslope:y,addDimheight:b}});function ke(){const n=r(!1),f=r(null),h=r(0),c=r(0),m=r(""),_=r(null),y=r([]),{addDimzones:b,addDimslope:S,addDimheight:i}=we(),F="https://omdu2tnzbwrm6v4ybp6nfr3gyi0tnoqk.lambda-url.us-east-1.on.aws/",{execute:C,data:w}=q(F,{method:"GET"},{immediate:!1,resetOnExecute:!1}),E=(s,e=null)=>{try{return JSON.parse(s)}catch{return e}},u=s=>{let e=s==null?void 0:s.data;if(Array.isArray(e))return e;if(e!=null&&e.value){if(Array.isArray(e.value))return e.value;if(typeof e.value.body=="string"){const t=E(e.value.body,[]);if(Array.isArray(t))return t}if(Array.isArray(e.value.body))return e.value.body}if(typeof e=="string"){const t=E(e,[]);return Array.isArray(t)?t:[]}if(e!=null&&e.body){if(typeof e.body=="string"){const t=E(e.body,[]);return Array.isArray(t)?t:[]}if(Array.isArray(e.body))return e.body}return e?[e]:[]},o=s=>s<4.5?1:s<6?2:(console.log(s),3),l=Object.freeze({fifteen:15,twenty:20,twentyfive:25,thirty:30,thirtyfive:35,forty:40}),B=s=>(console.log(s),s<l.fifteen?"lessfifteen":s<l.twenty?"fifteen":s<l.twentyfive?"twenty":s<l.thirty?"twentyfive":s<l.thirtyfive?"thirty":s<l.forty?"thirtyfive":(console.log(s,l.fifteen),null));let A=null;const T=async()=>{var s;if(A){try{await A}catch{}return w.value}try{n.value=!0,f.value=null,A=C();const e=await A,t=u(e),a=(Array.isArray(t)&&t.length?t[0]:null)||(Array.isArray((s=e==null?void 0:e.data)==null?void 0:s.value)?e.data.value[0]:null)||(Array.isArray(e==null?void 0:e.data)?e.data[0]:null);if(!a)throw new Error("No data payload from endpoint");const v=o(h.value);if(console.log(h.value),v===3?(m.value="table3",_.value=a.slp_six_twelve??null):v===2?(m.value="table2",_.value=a.slp_four_six??null):(m.value="table1",_.value=a.slp_two_four??null,console.log(_.value)),!_.value)throw new Error("Zone table missing for selected slope");const p=B(c.value),g=p?_.value[p]:null,D=Array.isArray(g)?g[0]:g;if(console.log(D),!D||typeof D!="object")throw new Error("Height bucket not supported or missing in zone table");const I=["zone1","zone2","zone3"].map(z=>Number(D[z]??0));return console.log(I),y.value=I,b(I),e}catch(e){throw f.value=e instanceof Error?e:new Error(String(e)),e}finally{n.value=!1,A=null}};async function d(s,e){h.value=Number(s??0),c.value=Number(e??0),S(h.value),i(c.value),await T()}return{loading:n,error:f,slope:h,height:c,tableType:m,zoneData:_,zonesRow:y,getData:d}}const Fe=W(()=>{const n=r([]),f=r([]),h=r([]),c=N(()=>n.value),m=N(()=>f.value),_=N(()=>h.value);N(()=>tilenoa.value);function y(i){n.value.push(i)}function b(i){f.value.push(i)}function S(i){h.value.push(i)}return{slopes:n,heights:f,getSlopes:c,getZoned:_,getHeight:m,zoned:h,addDimzoned:S,addDimsloped:y,addDimheightd:b}});function ze(){const n=r(!1),f=r(null),h=r(0),c=r(0),m=r(""),_=r(null),y=r([]),{addDimzoned:b,addDimsloped:S,addDimheightd:i}=Fe(),F="https://56loihllfj5w27ywslgbxlhp3a0uppfh.lambda-url.us-east-1.on.aws/",{execute:C,data:w}=q(F,{method:"GET"},{immediate:!1,resetOnExecute:!1}),E=(s,e=null)=>{try{return JSON.parse(s)}catch{return e}},u=s=>{let e=s==null?void 0:s.data;if(Array.isArray(e))return e;if(e!=null&&e.value){if(Array.isArray(e.value))return e.value;if(typeof e.value.body=="string"){const t=E(e.value.body,[]);if(Array.isArray(t))return t}if(Array.isArray(e.value.body))return e.value.body}if(typeof e=="string"){const t=E(e,[]);return Array.isArray(t)?t:[]}if(e!=null&&e.body){if(typeof e.body=="string"){const t=E(e.body,[]);return Array.isArray(t)?t:[]}if(Array.isArray(e.body))return e.body}return e?[e]:[]},o=s=>s<4.5?1:s<6?2:3,l=Object.freeze({fifteen:15,twenty:20,twentyfive:25,thirty:30,thirtyfive:35,forty:40}),B=s=>s<l.fifteen?"lessfifteen":s<l.twenty?"fifteen":s<l.twentyfive?"twenty":s<l.thirty?"twentyfive":s<l.thirtyfive?"thirty":s<l.forty?"thirtyfive":null;let A=null;const T=async()=>{var s;if(A){try{await A}catch{}return w.value}try{n.value=!0,f.value=null,A=C();const e=await A,t=u(e),a=(Array.isArray(t)&&t.length?t[0]:null)||(Array.isArray((s=e==null?void 0:e.data)==null?void 0:s.value)?e.data.value[0]:null)||(Array.isArray(e==null?void 0:e.data)?e.data[0]:null);if(!a)throw new Error("No data payload from endpoint");const v=o(h.value);if(v===3?(m.value="table3",_.value=a.slp_six_twelve??null):v===2?(m.value="table2",_.value=a.slp_four_six??null):(m.value="table1",_.value=a.slp_two_four??null),!_.value)throw new Error("Zone table missing for selected slope");const p=B(c.value),g=p?_.value[p]:null,D=Array.isArray(g)?g[0]:g;if(!D||typeof D!="object")throw new Error("Height bucket not supported or missing in zone table");const I=["zone1","zone2","zone3"].map(z=>Number(D[z]??0));return y.value=I,b(I),e}catch(e){throw f.value=e instanceof Error?e:new Error(String(e)),e}finally{n.value=!1,A=null}};async function d(s,e){return h.value=Number(s??0),c.value=Number(e??0),S(h.value),i(c.value),m.value="",_.value=null,y.value=[],await T(),y.value}return{loading:n,error:f,slope:h,height:c,tableType:m,zoneData:_,zonesRowdouble:y,getDatas:d}}export{xe as _,ke as a,ze as b,$e as c,Fe as d,we as e,te as f,ie as g,se as u};
