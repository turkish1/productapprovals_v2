import{s as po}from"./index-B8gf_tMM.js";import{s as uo}from"./index-CiV6X3qf.js";import{s as vo}from"./index-CyEBJ7uA.js";import{e as l,_ as Al,ae as Ml,ag as Xl,o as Nl,c as Fl,C as ho,au as xo,D as go,f as lo,y as mo,h as To,ad as Wo,i as Ha,j as vl,p as Rl,H as Yl,af as Gl,k as Jl,F as fo,V as $o,n as So,q as eo,t as to}from"./index-C0WIDgXm.js";import{u as El}from"./accountsStore-yJmIusLX.js";import{c as Vo}from"./countStore-C2d_fEo9.js";import{u as oo}from"./generalpageStore-C726If0r.js";import{u as wl}from"./permitapp-BDNp6hJK.js";import{u as Tl}from"./roofList-Cy0sgdV7.js";import{E as Bl}from"./jspdf.es.min-BTIcSvvV.js";import{a as ao,u as ro}from"./dripEdgeStore-IIw9GdDw.js";import{b as bo,a as Do,c as Ao,u as Mo}from"./systemfStore-elnbmPuE.js";import{a as Xo,b as No,u as Fo}from"./tilevalueStore-dHYBCM7Y.js";import{u as so,a as io}from"./tilesysfStore-DvuJSOi9.js";import{u as Eo,a as wo}from"./dripEdgeMechTileStore-BMJgZuhp.js";import{u as zo}from"./useAxios-B4eA0xuC.js";import"./index-CYIGVo-X.js";import"./reset-store-D4hJcVJ_.js";const Po={__name:"Generalpagepdf",setup(it){var ge,g,e,nt,_e,Me,Xe,Ne,z,Re,Be,Ie,Ue;const{getUser:$}=El();let V=l(!1);const k=wl();Tl();const D=oo(),T=l(((g=(ge=k.$state.permitapp[0])==null?void 0:ge.formdt)==null?void 0:g.address)||""),x=l(((nt=(e=k.$state.permitapp[0])==null?void 0:e.formdt)==null?void 0:nt.permit)||"N|A"),q=l(((Me=(_e=k.$state.permitapp[0])==null?void 0:_e.formdt)==null?void 0:Me.processNumber)||""),N=l(((Ne=(Xe=k.$state.permitapp[0])==null?void 0:Xe.formdt)==null?void 0:Ne.muniProc)||""),K=l(((Re=(z=k.$state.permitapp[0])==null?void 0:z.formdt)==null?void 0:Re.muni)||"");l((Ie=(Be=D.$state.generalpdfinput[1])==null?void 0:Be.generalpdfData)==null?void 0:Ie.totalData);const r=l(((Ue=$.value[0])==null?void 0:Ue.dba)||""),j=l(""),o=l(D.$state.generalpdfinput);function W(){o.value.length!==1&&(V.value=!0)}Al(()=>{W()}),Ml(async()=>{await Xl(V).toBe(!0),Ae()});const Ae=()=>{var Pt,Ct,dt,ct,pt,ut,vt,ht;if(D.$state.generalpdfinput.length===0)console.log("lenghth is   zero");else{const d=new Bl({orientation:"portrait",unit:"mm",format:"a4",compress:!0});d.setGState(new d.GState({opacity:.9}));const xt="Approved";d.setFontSize(24),d.setTextColor("black"),d.setFont("helvetica"),d.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const gt=new Image,mt=new Image,Tt=new Image;gt.src="/demo/images/officepaper.jpeg",mt.src="/demo/images/logo.jpeg",Tt.src="/demo/images/DragAndDrop.jpeg";const kt=725,Wt=d.getPageInfo(1),Rt=Wt.pageContext.mediaBox.topRightX,Bt=Wt.pageContext.mediaBox.topRightY;console.log(Rt);const f=l(0),ft=l(0);var R=595.28-585.28,m=Bt-kt;f.value=R,ft.value=m,console.log(f.value,ft.value),d.addImage(mt,"JPEG",10,10,50,30),d.addImage(gt,"JPEG",0,0,210,297),d.setFontSize(12),d.setTextColor("green");var G=new Date,p=G.toLocaleDateString();d.text(xt,10,270,{align:"left"});const It=d.getTextWidth(xt);d.text("on: "+p,It+15,270),d.text(`${N.value}`,10,280,{align:"left"});const Ut=d.getTextWidth(`${N.value}`);d.text(`${K.value}`,Ut+15,280);const $t=l(!1),s=l(!1),me=l(!1),i=l(!1),St=l(!1);d.setFontSize(12);const ea=()=>{d.setFontSize(12),d.setTextColor(0),d.text("2023 HVHZ  mEPermit General Information Page",70,20,{maxWidth:"170"}),d.line(10,30,195,30)};d.setTextColor(0),ea(),d.setFontSize(12);const v=l((Ct=(Pt=D.$state.generalpdfinput[1])==null?void 0:Pt.generalpdfData)==null?void 0:Ct.totalData),Ta=[{category:"DBA",value:`${r.value}`},{category:"Roof Area",value:`${v.value}`},{category:"Job Address",value:`${T.value}`},{category:"meProcess Number",value:`${q.value}`},{category:"Master Permit",value:`${x.value}`}];let ta=10,Vt=60,A=50;d.setFontSize(12),Ta.forEach((He,lt)=>{const We=A+lt*10;d.text(He.category,ta,We),d.text(He.value,Vt,We),d.getTextWidth(He.category);const Ye=d.getTextWidth(He.value)*2;d.line(Vt,We+2,Vt+Ye,We+2)}),d.setTextColor("black"),d.setFontSize(12);const et=100,rt=l(!1),Ot=l(!1);f.value=R+40,D.$state.generalpdfinput[1].generalpdfData.roofCheck[0]==="reroof"?(rt.value=!0,console.log(rt.value)):Ot.value=!0,f.value=R+50,m=et,console.log(m),d.text("Re-Roof: ",f.value,m);const tt=m-3,Ht=rt.value===!0?d.rect(f.value+20,tt,4,4,"FD"):d.rect(f.value+20,tt,4,4);f.value=R+120,m=et,console.log(m),d.text("New Roof: ",f.value,m);const Oe=Ot.value===!0?d.rect(f.value+25,tt,4,4,"FD"):d.rect(f.value+25,tt,4,4);console.log(Ht,Oe),m=m+10;const Yt="Total: ",bt="Low Slope: ",Gt="Steep Slope: ",Jt=l(((ct=(dt=D.$state.generalpdfinput[1])==null?void 0:dt.generalpdfData)==null?void 0:ct.totalData)||""),jt=l(((ut=(pt=D.$state.generalpdfinput[1])==null?void 0:pt.generalpdfData)==null?void 0:ut.slopeData)||""),Zt=l(((ht=(vt=D.$state.generalpdfinput[1])==null?void 0:vt.generalpdfData)==null?void 0:ht.steepData)||"");console.log(D.$state.generalpdfinput[1].generalpdfData),f.value=R+25,m=et+10;const aa=d.getTextWidth(bt),Te=d.getTextWidth(`${jt.value}`),a=f.value+5;d.text(bt,a,m);const n=aa+a;d.text(`${jt.value}`,n,m),d.line(n,m,n+Te,m),f.value=n+Te;const P=d.getTextWidth(Gt),se=d.getTextWidth(`${Zt.value}`),Dt=f.value+5;d.text(Gt,Dt,m);const h=P+Dt;d.text(`${Zt.value}`,h,m),d.line(h,m,h+se,m),console.log(m,m),m=et+10,f.value=h+se,console.log(f.value);const Xa=d.getTextWidth(Yt),t=d.getTextWidth(`${Jt.value}`),qt=f.value+5;d.text(Yt,qt,m);const _=Xa+qt;d.text(`${Jt.value}`,_,m),d.line(_,m,_+t,m),f.value=_+t,console.log(D.$state.generalpdfinput[1]),D.$state.generalpdfinput[1].generalpdfData.slopeChk===!0&&(St.value=!0,console.log("Slope Checked")),D.$state.generalpdfinput[1].generalpdfData.adtileChk===!0&&($t.value=!0),D.$state.generalpdfinput[1].generalpdfData.metalChk===!0&&(s.value=!0),D.$state.generalpdfinput[1].generalpdfData.mtileChk===!0&&(me.value=!0),D.$state.generalpdfinput[1].generalpdfData.shingleChk===!0&&(i.value=!0,console.log("Shingle Checked")),f.value=R-4,m=m+10,d.text("Low Slope: ",R,m);const C=m-3,la=St.value===!0?d.rect(f.value+27,C,4,4,"FD"):d.rect(f.value+27,C,4,4);console.log(Ht,Oe,la),f.value=f.value+4;const Kt=f.value+32;console.log(f.value);const ie=Kt;console.log(f.value),d.text("Adhesive Set Tile: ",ie,m);const c=$t.value===!0?d.rect(ie+36,C,4,4,"FD"):d.rect(ie+36,C,4,4);console.log(Ht,Oe,c),console.log(f.value);const At=ie+43;console.log(f.value),d.text("Metal Panel: ",At,m),s.value===!0?d.rect(At+25,C,4,4,"FD"):d.rect(At+25,C,4,4);const Fe=At+35;console.log(f.value),d.text("Shingle: ",Fe,m);const ne=i.value===!0?d.rect(Fe+17,C,4,4,"FD"):d.rect(Fe+17,C,4,4);f.value=Fe;const Qt=Fe+28;console.log(f.value),d.text("Mechanical Fastened Tile: ",Qt,m);const oa=me.value===!0?d.rect(Qt+51,C,4,4,"FD"):d.rect(Qt+51,C,4,4);console.log(oa,ne),m=m+10,d.addImage(Tt,"JPEG",R+40,m,100,100);const sa="GeneralPage.pdf",at=d.output("blob");(async(He,lt)=>{const We=He,Ye=We;console.log(Ye);const Mt=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${N.value}/${Ye}`;try{const fe=await fetch(Mt,{method:"PUT",headers:{"Content-Type":We.type},body:lt});fe.ok?(j.value=Mt,alert("GeneralPage File uploaded successfully!")):alert(`Failed to upload file. Status: ${fe.status}`)}catch(fe){console.error("Error uploading file:",fe),alert("An error occurred while uploading the file.")}})(sa,at)}};return(R,m)=>(Nl(),Fl("div"))}},Co={__name:"LowSlopepdf",setup(it){var _e,Me,Xe,Ne,z,Re,Be,Ie,Ue,R;const{getUser:$}=El(),V=wl(),k=Tl(),D=ao(),T=l(((_e=k.$state.roofList[0])==null?void 0:_e.dim2)||""),x=l(((Xe=(Me=V.$state.permitapp[0])==null?void 0:Me.formdt)==null?void 0:Xe.address)||""),q=l(((z=(Ne=V.$state.permitapp[0])==null?void 0:Ne.formdt)==null?void 0:z.muni)||""),N=l(((Be=(Re=V.$state.permitapp[0])==null?void 0:Re.formdt)==null?void 0:Be.processNumber)||""),K=ro(),{dripedgeStore:r,dripinput:j}=ho(K),o=l(((Ue=(Ie=V.$state.permitapp[0])==null?void 0:Ie.formdt)==null?void 0:Ue.muniProc)||""),W=l(((R=$.value[0])==null?void 0:R.dba)||""),Ae=l(D.$state.burpdfinput);let ge=l(!1);const g=l("");function e(){Ae.value.length!==1&&(ge.value=!0,nt())}Al(()=>{e()}),Ml(async()=>{await Xl(ge).toBe(!0)});const nt=()=>{var dt,ct,pt,ut,vt,ht,d,xt,gt,mt,Tt,kt,Wt,Rt,Bt,f,ft,It;const m=ao();if(m.$state.burpdfinput.length===0)console.log("lenghth is zero");else{const Ut=l((ct=(dt=m.$state.burpdfinput[0])==null?void 0:dt.burpdfData)==null?void 0:ct.height),$t=l((ut=(pt=m.$state.burpdfinput[0])==null?void 0:pt.burpdfData)==null?void 0:ut.slope),s=l((ht=(vt=m.$state.burpdfinput[0])==null?void 0:vt.burpdfData)==null?void 0:ht.per),me=l((xt=(d=m.$state.burpdfinput[0])==null?void 0:d.burpdfData)==null?void 0:xt.deckType),i=new Bl({orientation:"portrait",unit:"mm",format:"a4",compress:!0});i.setGState(new i.GState({opacity:.9}));const St="Approved";i.setFontSize(24),i.setTextColor("black"),i.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const ea=new Image,v=new Image;ea.src="/demo/images/officepaper.jpeg",v.src="/demo/images/logo.jpeg";const Ta=725,ta=i.getPageInfo(1);ta.pageContext.mediaBox.topRightX;const Vt=ta.pageContext.mediaBox.topRightY,A=l(0),Wa=l(0);var G=595.28-585.28,p=Vt-Ta;A.value=G,Wa.value=p,console.log(A.value,Wa.value),i.addImage(v,"JPEG",10,2,50,30),i.addImage(ea,"JPEG",0,0,210,297),i.setFontSize(12),i.setTextColor("green");var Pt=new Date,Ct=Pt.toLocaleDateString();i.text(St,10,270,{align:"left"});const et=i.getTextWidth(St);i.text("on: "+Ct,et+15,270),i.text(`${o.value}`,10,280,{align:"left"});const rt=i.getTextWidth(`${o.value}`);i.text(`${q.value}`,rt+15,280),i.setFontSize(12);const Ot=()=>{i.setFontSize(10),i.setTextColor(0),i.text('The low slope Built Up Roof (BUR) Assembly shall be installed in compliance with the HVHZ portions of Chapter 15 found in the 2023 Florida Building Code and the HVHZ Roofing Application Standards (RAS), RAS-111, RAS-117 and RAS-128. This roof assembly shall also comply with the listed requirements for a Class "A" fire rating including roof slope (incline), components and a fire barrier when required. The mePermit applicant agrees to comply with these installation requirements when obtaining this permit.',10,25,{maxWidth:"170"}),i.line(10,50,195,50)};i.setTextColor("black"),i.circle(185,45,2,"FD"),i.text("I agree",165,45),Ot(),i.setFontSize(12);const tt=[{category:"DBA",value:`${W.value}`},{category:"Municipality",value:`${q.value}`},{category:"Job Address",value:`${x.value}`},{category:"meProcess Number",value:`${N.value}`}];let Ht=10,Oe=60,Yt=72;i.setFontSize(12),tt.forEach((Ee,Ca)=>{const de=Yt+Ca*10;i.text(Ee.category,Ht,de),i.text(Ee.value,Oe,de),i.getTextWidth(Ee.category);const $a=i.getTextWidth(Ee.value)*2;i.line(Oe,de+2,Oe+$a,de+2)}),i.setFontSize(12);const bt="Roof Area: ",Gt="Decktype: ",Jt="Mean Roof Height: ",jt="Roof Slope: ",Zt="Roof Perimeter: ",aa="Type of Low Slope BUR Material: ",Te="Type of Low Slope BUR System: ",a="Attach P(1') Prime using P(1) Field Prescriptive Basesheet: ",n="Attach P(2) Perimeter using P(3) Corner Prescriptive: ",P=l(((mt=(gt=m.$state.burpdfinput[1])==null?void 0:gt.burpdfData)==null?void 0:mt.burMaterial)||""),se=l(((kt=(Tt=m.$state.burpdfinput[1])==null?void 0:Tt.burpdfData)==null?void 0:kt.burSystem)||""),Dt=l(((Rt=(Wt=m.$state.burpdfinput[1])==null?void 0:Wt.burpdfData)==null?void 0:Rt.p1)||""),h=l(((f=(Bt=m.$state.burpdfinput[1])==null?void 0:Bt.burpdfData)==null?void 0:f.p3)||"");console.log(Dt),A.value=G;const Xa=i.getTextWidth(bt),t=i.getTextWidth(`${T.value}`),qt=A.value;i.text(bt,qt,p);const _=Xa+qt;i.text(`${T.value}`,_,p),i.line(_,p+2,_+t,p+2),A.value=_+t;const C=i.getTextWidth(Jt),la=i.getTextWidth(`${Ut.value}`),Kt=A.value+18;i.text(Jt,Kt,p);const ie=C+Kt;i.text(`${Ut.value}`,ie,p),i.line(ie,p+2,ie+la,p+2),A.value=ie+la;const c=i.getTextWidth(jt),At=i.getTextWidth(`${$t.value}`),Fe=A.value+18;i.text(jt,Fe,p);const ne=c+Fe;i.text(`${$t.value}`,ne,p),i.line(ne,p+2,ne+At,p+2),A.value=ne+At;const Qt=i.getTextWidth(Zt),oa=i.getTextWidth(`${s.value}`),sa=A.value+18;i.text(Zt,sa,p);const at=Qt+sa;i.text(`${s.value}`,at,p),i.line(at,p+2,at+oa,p+2),console.log(p,p),p=p+10,A.value=at+oa;const Ya=i.getTextWidth(Gt),He=i.getTextWidth(`${me.value}`),lt=G;i.text(Gt,lt,p);const We=Ya+lt;i.text(`${me.value}`,We,p),i.line(We,p+2,We+He,p+2),p=p+10,A.value=G;const Ye="DripEdge Material: ",Mt="DripEdge Size: ";console.log(K,j);const fe=l(((ft=K.$state.dripinput[0])==null?void 0:ft.dripMaterial)||""),ia=l(((It=K.$state.dripinput[2])==null?void 0:It.dripMaterial)||"");console.log(fe,ia);const Ga=i.getTextWidth(Ye),tl=i.getTextWidth(`${fe.value}`),Ja=G;i.text(Ye,Ja,p);const Na=Ga+Ja;i.text(`${fe.value}`,Na,p),i.line(Na,p+2,Na+tl,p+2),p=p+10;const ja=i.getTextWidth(Mt),al=i.getTextWidth(`${ia.value}`),Fa=G;i.text(Mt,Fa,p);const Ea=ja+Fa;i.text(`${ia.value}`,Ea,p),i.line(Ea,p+2,Ea+al,p+2),p=p+10;const u=i.getTextWidth(aa),wa=i.getTextWidth(`${P.value}`),I=A.value;i.text(aa,I,p);const na=u+12;i.text(`${P.value}`,na,p),i.line(na,p+2,na+wa,p+2),A.value=na+wa,p=p+10,A.value=G,i.setFontSize(12),i.getTextWidth(Te);const fa=i.getTextWidth(`${se.value}`),za=A.value;i.text(Te,za,p),p=p+10,i.setFontSize(8.5),A.value=G-3,i.text(`${se.value}`,A.value,p),i.setFontSize(12),i.line(fa,p+2,fa,p+2),p=p+10,i.setFontSize(10),i.getTextWidth(a);const ll=i.getTextWidth(`${Dt.value}`),ol=G;i.text(a,ol,p),p=p+10;const da=G;i.setFontSize(10),i.text(Dt.value,da,p),i.line(da,p+2,da+ll+70,p+2),p=p+10,A.value=G;const Pa=i.getTextWidth(`${h.value}`),Za=A.value;i.text(n,Za,p),p=p+7,A.value=G;const Lt=A.value;i.text(h.value,Lt,p),i.line(Lt,p+2,Lt+Pa+70,p+2),p=p+10;const qa="LowSlope.pdf",ca=i.output("blob");(async(Ee,Ca)=>{const de=Ee,$a=de;console.log($a);const yt=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${o.value}/${$a}`;try{const Xt=await fetch(yt,{method:"PUT",headers:{"Content-Type":de.type},body:Ca});Xt.ok?(g.value=yt,alert("LowSlope File uploaded successfully!")):alert(`Failed to upload file. Status: ${Xt.status}`)}catch(Xt){console.error("Error uploading file:",Xt),alert("An error occurred while uploading the file.")}})(qa,ca)}};return(m,G)=>(Nl(),Fl("div"))}},ko={__name:"Shingle",setup(it){var Ae,ge;const{getUser:$}=El(),V=bo(),k=wl(),D=Tl(),T=Do(),x=Ao(),q=Tl(),N=Mo(),K=l(((ge=(Ae=k.$state.permitapp[0])==null?void 0:Ae.formdt)==null?void 0:ge.muniProc)||""),r=l(q.$state.roofList);let j=l(!1);const o=Al(()=>{if(r.value.length===0)return"";for(let g=0;g<r.value.length;g++)r.value[g].item==="Asphalt Shingle"&&(console.log(r.value[g].item),j.value=!0,W())});Ml(async()=>{await Xl(o).toBe(!0),console.log(o)});const W=()=>{var Me,Xe,Ne,z,Re,Be,Ie,Ue,R,m,G,p,Pt,Ct,dt,ct,pt,ut,vt,ht,d,xt,gt,mt,Tt,kt,Wt,Rt,Bt,f,ft,It;if(T.$state.inputshingle.length===0)console.log("lenghth is zero");else{console.log(V,x);let Ut=l(!1),$t=l(!1);V.$state.systeminput.length!==0&&($t=!0,console.log($t)),x.$state.polyinput.length!==0&&(Ut=!0,console.log(Ut));const s=new Bl({orientation:"portrait",unit:"mm",format:"a4",compress:!0}),me=179,i=725,St=s.getPageInfo(1);St.pageContext.mediaBox.topRightX;const ea=St.pageContext.mediaBox.topRightY,v=l(0),Ta=l(0);var g=595.28-585.28,e=ea-i;v.value=g,Ta.value=e;const ta=l((Xe=(Me=k.$state.permitapp[0])==null?void 0:Me.formdt)==null?void 0:Xe.address),Vt=l((z=(Ne=k.$state.permitapp[0])==null?void 0:Ne.formdt)==null?void 0:z.muni),A=l(((Be=(Re=k.$state.permitapp[0])==null?void 0:Re.formdt)==null?void 0:Be.processNumber)||""),Wa=l($.value[0].dba),et=l(((Ue=(Ie=T.$state.inputshingle[0])==null?void 0:Ie.shingleData)==null?void 0:Ue.height)||""),rt=l(((m=(R=T.$state.inputshingle[0])==null?void 0:R.shingleData)==null?void 0:m.slope)||""),Ot=l(((p=(G=T.$state.inputshingle[0])==null?void 0:G.shingleData)==null?void 0:p.deckType)||""),tt=l(D.$state.roofList[0].dim1),Ht=l("");s.setGState(new s.GState({opacity:.8}));const Oe="Approved";s.setFontSize(18),s.setTextColor(150,150,150),s.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const Yt=new Image,bt=new Image;Yt.src="/demo/images/officepaper.jpeg",bt.src="/demo/images/logo.jpeg",s.addImage(bt,"JPEG",10,0,50,30),s.addImage(Yt,"JPEG",0,0,210,297),s.setFontSize(15),s.setTextColor("green");var nt=new Date,_e=nt.toLocaleDateString();s.text(Oe,10,270,{align:"left"});const Gt=s.getTextWidth(Oe);s.text("on: "+_e,Gt+15,270),s.text(`${K.value}`,10,280,{align:"left"});const Jt=s.getTextWidth(`${K.value}`);s.text(`${Vt.value}`,Jt+15,280);const jt=()=>{s.setFontSize(10),s.setTextColor(0),s.text("The Shingle roof system and its components shall be installed in strict compliance  with the HVHZportions of Chapter 15 FBC, the HVHZ Roof Application Standards(RAS) 111 & 115, and the submitted MDC(NOA) Notice of Acceptance(s).The mePermit applicant agrees to comply with these installation requirements when obtaining this permit.",10,25,{maxWidth:"200"}),s.line(10,43,195,43)};s.setTextColor(0),s.circle(185,39,2,"FD"),s.text("I agree",165,40),jt(),s.setFontSize(12);const Zt=[{category:"DBA",value:`${Wa.value}`},{category:"Municipality",value:`${Vt.value}`},{category:"Job Address",value:`${ta.value}`},{category:"meProcess Number",value:`${A.value}`}];let aa=10,Te=60,a=50;s.setFontSize(12),Zt.forEach((F,B)=>{const O=a+B*10;s.text(F.category,aa,O),s.text(F.value,Te,O),s.getTextWidth(F.category);const J=s.getTextWidth(F.value)*2;s.line(Te,O+2,Te+J,O+2)}),s.setFontSize(12);const n="Roof Area: ",P="Decktype: ",se="Mean Roof Height: ",Dt="Roof Slope: ",h=1;e=e+5;const Xa=s.getTextWidth(n),t=s.getTextWidth(`${tt.value}`),qt=v.value;s.text(n,qt,e);const _=Xa+qt;s.text(`${tt.value}`,_,e),s.line(_,e+2,_+t,e+2),v.value=_+t;const C=s.getTextWidth(se),la=s.getTextWidth(`${et.value}`),Kt=v.value+10;s.text(se,Kt,e);const ie=C+Kt;s.text(`${et.value}`,ie,e),s.line(ie,e+2,ie+la,e+2),v.value=ie+la;const c=s.getTextWidth(Dt),At=s.getTextWidth(`${rt.value}`),Fe=v.value+10;s.text(Dt,Fe,e);const ne=c+Fe;s.text(`${rt.value}`,ne,e),s.line(ne,e+2,ne+At,e+2),v.value=ne+At,e=e+10;const Qt=s.getTextWidth(P),oa=s.getTextWidth(`${Ot.value}`),sa=g;s.text(P,sa,e);const at=Qt+sa;s.text(`${Ot.value}`,at,e),s.line(at,e+2,at+oa,e+2),e=e+10;const Ya="Shingle NOA Number: ",He="Shingle Applicant: ",lt="Shingle Material: ",We="Shingle Description: ",Ye="Fastened (UDL)NOA: ",Mt="UDL NOA Applicant: ",fe="Fastened UDL Material: ",ia="UDL Description: ",Ga="Prescriptive: ";console.log(T.$state.inputshingle[0]);const tl=l(((Ct=(Pt=T.$state.inputshingle[0])==null?void 0:Pt.shingleData)==null?void 0:Ct.noa)||""),Ja=l((ct=(dt=T.$state.inputshingle[0])==null?void 0:dt.shingleData)==null?void 0:ct.applicant)||"",Na=l(((ut=(pt=T.$state.inputshingle[0])==null?void 0:pt.shingleData)==null?void 0:ut.material)||""),ja=l(((ht=(vt=T.$state.inputshingle[0])==null?void 0:vt.shingleData)==null?void 0:ht.description)||""),al=l(((xt=(d=T.$state.inputshingle[0])==null?void 0:d.shingleData)==null?void 0:xt.prescriptiveSelection)||""),Fa=s.getTextWidth(Ga),Ea=s.getTextWidth(`${al.value}`),u=g;s.text(Ga,u,e);const wa=Fa+10;s.text(`${al.value}`,wa,e),s.line(wa,e+h,wa+Ea,e+h),e=e+8;const I="DripEdge Material: ",na="DripEdge Size: ";console.log(N);const fa=l(((gt=N.$state.dripinputshin[1])==null?void 0:gt.dripShinMaterial)||""),za=l(((mt=N.$state.dripinputshin[3])==null?void 0:mt.dripShinMaterial)||"");console.log(fa,za);const ll=s.getTextWidth(I),ol=s.getTextWidth(`${fa.value}`),da=g;s.text(I,da,e);const Pa=ll+da;s.text(`${fa.value}`,Pa,e),s.line(Pa,e+h,Pa+ol,e+h),e=e+10;const Za=s.getTextWidth(na),Lt=s.getTextWidth(`${za.value}`),qa=g;s.text(na,qa,e);const ca=Za+qa;s.text(`${za.value}`,ca,e),s.line(ca,e+h,ca+Lt,e+h),e=e+10;const sl=s.getTextWidth(He),Ee=s.getTextWidth(`${Ja.value}`),Ca=g;s.text(He,Ca,e);const de=Ca+sl;s.text(`${Ja.value}`,de,e),s.line(de,e+h,de+Ee,e+h),v.value=de+Ee;const $a=s.getTextWidth(Ya),yt=s.getTextWidth(`${tl.value}`),Xt=v.value+3;s.text(Ya,Xt,e);const il=$a+Xt;s.text(`${tl.value}`,il,e),s.line(il,e+h,il+yt,e+h),v.value=il+yt,e=e+10;const hl=g,nl=s.getTextWidth(lt),Ka=s.getTextWidth(`${Na.value}`);s.text(lt,hl,e);const Qa=hl+nl;s.text(`${Na.value}`,Qa,e),s.line(Qa,e+h,Qa+Ka,e+h),v.value=Qa+Ka,e=e+10,console.log(v.value,me);const pa=s.getTextWidth(`${ja.value}`),ua=s.getTextWidth(We);v.value=Qa+Ka+pa+ua+25,console.log(pa,ua);const dl=g;if(s.text(We,dl,e),pa>170){e=e+4;const B=g;s.text(`${ja.value}`,B,e),s.line(B,e+h,B+pa,e+h),e=e+8}else{const F=dl+ua;s.text(`${ja.value}`,F,e),s.line(F,e+h,F+pa,e+h),v.value=F+pa}if(e=e+10,console.log(x.$state.polyinput.length),x.$state.polyinput.length===0){const F="n/a",B="n/a",O="n/a",J="n/a",$e=s.getTextWidth(Ye),ee=s.getTextWidth(F),Ge=g;s.text(Ye,Ge,e);const te=Ge+$e;s.text(F,te,e),s.line(te,e+h,te+ee,e+h),v.value=te+ee,console.log(v.value);const Se=s.getTextWidth(Mt),Je=s.getTextWidth(B),Ve=v.value+2;s.text(Mt,Ve,e);const ae=Ve+Se;s.text(B,ae,e),s.line(ae,e+h,ae+Je,e+h),v.value=ae+Je,console.log(v.value),v.value>me&&(e=e+10);const Q=v.value+2,xa=s.getTextWidth(fe),we=s.getTextWidth(O);s.text(fe,Q,e);const L=Q+xa;s.text(O,L,e),s.line(L,e+h,L+we,e+h),v.value=L+we,console.log(v.value),e=e+10,console.log(v.value);const ze=s.getTextWidth(ia),ot=s.getTextWidth(J),re=g,ce=re+ot;console.log(ce),s.text(ia,re,e),ce>me&&print(ce);const Z=re+ze;s.text(J,Z,e),s.line(Z,e+h,Z+ot,e+h),v.value=Z+ot,e=e+8}else{const F=l(x.$state.polyinput[0].polyData.noa),B=l(x.$state.polyinput[0].polyData.applicant),O=l(x.$state.polyinput[0].polyData.material),J=l(x.$state.polyinput[0].polyData.description),$e=s.getTextWidth(Ye),ee=s.getTextWidth(`${F.value}`),Ge=g;s.text(Ye,Ge,e);const te=$e+10;s.text(`${F.value}`,te,e),s.line(te,e+h,te+ee,e+h),v.value=te+ee;const Se=s.getTextWidth(Mt),Je=s.getTextWidth(`${B.value}`),Ve=v.value+2;s.text(Mt,Ve,e);const ae=Ve+Se;s.text(`${B.value}`,ae,e),s.line(ae,e+h,ae+Je,e+h),v.value=ae+Je,e=e+10;const Q=g,xa=s.getTextWidth(fe),we=s.getTextWidth(`${O.value}`);s.text(fe,Q,e);const L=Q+xa;s.text(`${O.value}`,L,e),s.line(L,e+h,L+we,e+h),v.value=L+we,e=e+10,console.log(v.value);const ze=s.getTextWidth(ia),ot=s.getTextWidth(`${J.value}`),re=g,ce=re+ot;console.log(ce),s.text("UDL Description:",re,e),ce>me&&print(ce);const Z=re+ze;s.text(`${J.value}`,Z,e),s.line(Z,e+h,Z+ot,e+h),v.value=Z+ot,console.log(v.value),e=e+10}const ka="Self Adhered NOA: ",Ra="S/A NOA Applicant: ",Ba="S/A System F: ",va="S/A Material: ",ha="S/A Description: ";if(console.log(V.$state.systeminput.length),V.$state.systeminput.length===0){const F="n/a",B="n/a",O="n/a",J="n/a",$e="n/a",ee=s.getTextWidth(ka),Ge=s.getTextWidth(F),te=g;s.text(ka,te,e);const Se=te+ee;s.text(F,Se,e),s.line(Se,e,Se+Ge,e),v.value=Se+Ge,console.log(v.value);const Je=s.getTextWidth(Ra),Ve=s.getTextWidth(B),ae=v.value+3;s.text(Ra,ae,e);const Q=ae+Je;s.text(B,Q,e),s.line(Q,e+h,Q+Ve,e+h),v.value=Q+Ve,console.log(v.value);const xa=s.getTextWidth(Ba),we=v.value+3,L=s.getTextWidth(O);s.text(Ba,we,e);const ze=we+xa;s.text(O,ze,e),s.line(ze,e+h,ze+L,e+h),v.value=ze+L,console.log(v.value),e=e+10;const ot=s.getTextWidth(va),re=s.getTextWidth(J),ce=g;s.text(va,ce,e);const Z=ce+ot;s.text(J,Z,e),s.line(Z,e+h,Z+re,e+h),v.value=Z+re,console.log(v.value);const xl=s.getTextWidth(ha),Ia=s.getTextWidth($e),Va=v.value+3;s.text(ha,Va,e);const je=Va+xl;s.text($e,je,e),s.line(je,e+h,je+Ia,e+h),v.value=je+Ia,console.log(v.value)}else{console.log("Entered sbs line 509",V.$state);const F=l((kt=(Tt=V.$state.systeminput[0])==null?void 0:Tt.systemData)==null?void 0:kt.noa),B=l((Rt=(Wt=V.$state.systeminput[0])==null?void 0:Wt.systemData)==null?void 0:Rt.manufacturer),O=l(V.$state.systeminput.pdfSystemValue),J=l((f=(Bt=V.$state.systeminput[0])==null?void 0:Bt.systemData)==null?void 0:f.material),$e=l((It=(ft=V.$state.systeminput[0])==null?void 0:ft.systemData)==null?void 0:It.description),ee=s.getTextWidth(ka),Ge=s.getTextWidth(`${F.value}`),te=g;s.text(ka,te,e);const Se=te+ee;s.text(`${F.value}`,Se,e),s.line(Se,e+h,Se+Ge,e+h),v.value=Se+Ge;const Je=s.getTextWidth(Ra),Ve=s.getTextWidth(`${B.value}`),ae=v.value+3;s.text(Ra,ae,e);const Q=ae+Je;s.text(`${B.value}`,Q,e),s.line(Q,e+h,Q+Ve,e+h),v.value=Q+Ve,console.log(v.value);const xa=s.getTextWidth(Ba),we=s.getTextWidth(`${O.value}`),L=v.value+3;s.text(Ba,L,e);const ze=L+xa;s.text(`${O.value}`,ze,e),s.line(ze,e+h,ze+we,e+h),v.value=ze+we,e=e+10,console.log(v.value);const ot=s.getTextWidth(va),re=s.getTextWidth(`${J.value}`),ce=g;s.text(va,ce,e);const Z=ce+ot;s.text(`${J.value}`,Z,e),s.line(Z,e+h,Z+re,e+h),v.value=Z+re,v.value>me&&(e=e+10),console.log(v.value);const xl=s.getTextWidth(ha),Ia=s.getTextWidth(`${$e.value}`),Va=v.value+3;s.text(ha,Va,e);const je=Va+xl;s.text(`${$e.value}`,je,e),s.line(je,e+h,je+Ia,e+h),v.value=je+Ia,v.value>=me&&(e=e+10),console.log(v.value)}const Sa="Shingle.pdf",La=s.output("blob");(async(F,B)=>{const O=F;console.log(O);const J=O;console.log(J);const $e=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${K.value}/${J}`;try{const ee=await fetch($e,{method:"PUT",headers:{"Content-Type":O.type},body:B});ee.ok?(Ht.value=$e,alert("Shingle File uploaded successfully!")):alert(`Failed to upload file. Status: ${ee.status}`)}catch(ee){console.error("Error uploading file:",ee),alert("An error occurred while uploading the file.")}})(Sa,La)}};return(g,e)=>(Nl(),Fl("div"))}},Ro=xo(()=>{const it=l([]),$=go(()=>it.value);function V(k){it.value.push(k)}return{tilenoa:it,getNumber:$,addNoa:V}}),Bo={__name:"TileAdhesive",setup(it){const $=so(),V=io(),{getUser:k}=El(),{tileInputvalues:D}=Xo(),{savedTileinput:T}=No(),x=wl(),q=Tl(),N=l(q.$state.roofList);Ro();const K=Fo();let r=l(!1);const j=Al(()=>{if(N.value.length===0)return"";for(let W=0;W<N.value.length;W++)N.value[W].item==="Adhesive Set Tile"&&(console.log(N.value[W].item),r.value=!0,o())});Ml(async()=>{await Xl(j).toBe(!0)});const o=()=>{var Me,Xe,Ne,z,Re,Be,Ie,Ue,R,m,G,p,Pt,Ct,dt,ct,pt,ut,vt,ht,d,xt,gt,mt,Tt,kt,Wt,Rt,Bt,f,ft,It,Ut,$t,s,me,i,St,ea,v,Ta,ta,Vt,A,Wa,et,rt,Ot,tt,Ht,Oe,Yt,bt,Gt,Jt,jt,Zt,aa,Te,a,n,P,se,Dt,h,Xa;console.log(D,(Xe=(Me=T[0])==null?void 0:Me.savedValues)==null?void 0:Xe.paddySelection);const W=l(((z=(Ne=T[0])==null?void 0:Ne.savedValues)==null?void 0:z.paddySelection)||""),Ae=l(!1),ge=l(!1);if(console.log(W.value),W.value==="single"?(Ae.value=!0,console.log(Ae.value),ge.value=!1):(ge.value=!0,console.log(ge.value)),((Re=D[0])==null?void 0:Re.length)===0)console.log("lenghth is zero");else{const t=new Bl({orientation:"portrait",unit:"mm",format:"a4",compress:!0});let qt=l(!1),_=l(!1);V.$state.tilesysEinput.length!==0&&(qt=!0,console.log(qt)),$.$state.tilefinput.length!==0&&(_=!0,console.log(_));const C=179,la=725,Kt=t.getPageInfo(1);Kt.pageContext.mediaBox.topRightX;const ie=Kt.pageContext.mediaBox.topRightY,c=l(0),At=l(0);var g=595.28-585.28,e=ie-la;c.value=g,At.value=e;const Fe=Ae.value===!0?l(((Be=D[0])==null?void 0:Be.tileValues[0].singlepaddyData)||""):l(((Ie=D[0])==null?void 0:Ie.tileValues[0].doublepaddyData)||"");console.log(Fe.value);const ne=l(((R=(Ue=T[0])==null?void 0:Ue.savedValues)==null?void 0:R.height)||""),Qt=l(((G=(m=T[0])==null?void 0:m.savedValues)==null?void 0:G.slope)||"");console.log(x.$state.permitapp[0].muniNum);const oa=l(((Pt=(p=T[0])==null?void 0:p.savedValues)==null?void 0:Pt.area)||""),sa=l(((dt=(Ct=T[0])==null?void 0:Ct.savedValues)==null?void 0:dt.Decktype)||""),at=l(((pt=(ct=T[0])==null?void 0:ct.savedValues)==null?void 0:pt.perimeter)||""),Ya=l(((vt=(ut=x.$state.permitapp[0])==null?void 0:ut.formdt)==null?void 0:vt.address)||""),He=l(((d=(ht=x.$state.permitapp[0])==null?void 0:ht.formdt)==null?void 0:d.muni)||""),lt=l(((gt=(xt=x.$state.permitapp[0])==null?void 0:xt.formdt)==null?void 0:gt.muniProc)||""),We=l(((Tt=(mt=x.$state.permitapp[0])==null?void 0:mt.formdt)==null?void 0:Tt.processNumber)||""),Ye=l(""),Mt=l(((kt=k.value[0])==null?void 0:kt.dba)||"");t.setGState(new t.GState({opacity:.8}));const fe="Approved";t.setFontSize(24),t.setTextColor(150,150,150),t.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const ia=new Image,Ga=new Image;ia.src="/demo/images/officepaper.jpeg",Ga.src="/demo/images/logo.jpeg",t.addImage(Ga,"JPEG",5,0,50,30),t.addImage(ia,"JPEG",0,0,210,297),t.setFontSize(18),t.setTextColor("green");var nt=new Date,_e=nt.toLocaleDateString();t.text(fe,10,270,{align:"left"});const tl=t.getTextWidth(fe);t.text("on: "+_e,tl+15,270),t.text(`${lt.value}`,10,280,{align:"left"});const Ja=t.getTextWidth(`${lt.value}`);t.text(`${He.value}`,Ja+15,280),t.setFontSize(12);const Na=()=>{t.setFontSize(12),t.setTextColor(0),t.text("The tile roof system and its components shall be installed in strict compliance with the FBC 2023 HVHZ portions of Chapter 15, the HVHZ Tile Application Standards: RAS-119, RAS-120 & RAS-127 and the submitted MDC Notice of Acceptance(s). The mePermit applicant agrees to comply with these installation requirements when obtaining this permit.",10,25,{maxWidth:"200"}),t.line(10,41,195,41)};t.setTextColor(0),t.circle(185,38,2,"FD"),t.text("I agree",165,39),Na(),t.setFontSize(12),t.setFontSize(12);const ja=[{category:"DBA",value:`${Mt.value}`},{category:"Municipality",value:`${He.value}`},{category:"Job Address",value:`${Ya.value}`},{category:"meProcess Number",value:`${We.value}`}];let al=10,Fa=60,Ea=50;t.setFontSize(12),ja.forEach((S,X)=>{const b=Ea+X*10;t.text(S.category,al,b),t.text(S.value,Fa,b),t.getTextWidth(S.category);const ve=t.getTextWidth(S.value)*2;t.line(Fa,b+2,Fa+ve,b+2)}),t.setFontSize(12);const u=2,I=90,na="Roof Area: ",fa="DeckType: ",za="Mean Roof Height: ",ll="Roof Slope: ",ol="Roof Perimeter: ";c.value=g;const da=t.getTextWidth(na),Pa=t.getTextWidth(`${oa.value}`),Za=c.value;t.text(na,Za,I);const Lt=da+Za;t.text(`${oa.value}`,Lt,I),t.line(Lt,I+u,Lt+Pa,I+u),c.value=Lt+Pa,console.log(e,I);const qa=t.getTextWidth(za),ca=t.getTextWidth(`${ne.value}`),sl=c.value+10;t.text(za,sl,I);const Ee=qa+sl;t.text(`${ne.value}`,Ee,I),t.line(Ee,I+u,Ee+ca,I+u),c.value=Ee+ca;const Ca=t.getTextWidth(ll),de=t.getTextWidth(`${Qt.value}`),$a=c.value+10;t.text(ll,$a,I);const yt=Ca+$a;t.text(`${Qt.value}`,yt,I),t.line(yt,I+u,yt+de,I+u),c.value=yt+de;const Xt=t.getTextWidth(ol),il=t.getTextWidth(`${at.value}`),hl=c.value+10;t.text(ol,hl,I);const nl=Xt+hl;t.text(`${at.value}`,nl,I),t.line(nl,I+u,nl+il,I+u),console.log(I,e),e=I+10;const Ka=t.getTextWidth(fa),Qa=t.getTextWidth(`${sa.value}`),pa=g;t.text(fa,pa,e);const ua=Ka+pa;t.text(`${sa.value}`,ua,e),t.line(ua,e+u,ua+Qa,e+u),e=e+10;const dl="Tile NOA Number: ",ka="Tile Applicant: ",Ra="Tile Material: ",Ba="Tile Description: ",va="Fastened Underlayment(UDL)NOA: ",ha="UDL NOA Applicant: ",Sa="Fastened UDL Material: ",La="Select System E: ",cl="Design psf: ",F="Anchor Base Sheet: ",B="UDL Description: ",O="Select Underlayment: ",J="DripEdge Material: ",$e="DripEdge Size: ",ee=l(((Wt=K.$state.dripinputadt[4])==null?void 0:Wt.dripTileMaterial)||""),Ge=l(((Rt=K.$state.dripinputadt[6])==null?void 0:Rt.dripTileMaterial)||""),te=t.getTextWidth(J),Se=t.getTextWidth(`${ee.value}`),Je=g;t.text(J,Je,e);const Ve=te+Je;t.text(`${ee.value}`,Ve,e),t.line(Ve,e+u,Ve+Se,e+u),e=e+10;const ae=t.getTextWidth($e),Q=t.getTextWidth(`${Ge.value}`),xa=g;t.text($e,xa,e);const we=ae+xa;t.text(`${Ge.value}`,we,e),t.line(we,e+u,we+Q,e+u),e=e+10,console.log(T);const L=l(((f=(Bt=T[0])==null?void 0:Bt.savedValues)==null?void 0:f.zoneone.mf1)||""),ze=l(((It=(ft=T[0])==null?void 0:ft.savedValues)==null?void 0:It.zoneone.lambda1)||""),ot=l((($t=(Ut=T[0])==null?void 0:Ut.savedValues)==null?void 0:$t.zoneone.mg1)||""),re=l(((me=(s=T[0])==null?void 0:s.savedValues)==null?void 0:me.zoneone.mr1)||""),ce=l(((St=(i=T[0])==null?void 0:i.savedValues)==null?void 0:St.zoneone.zone1)||""),Z=l(((v=(ea=T[0])==null?void 0:ea.savedValues)==null?void 0:v.zonetwo.mf2)||""),xl=l(((ta=(Ta=T[0])==null?void 0:Ta.savedValues)==null?void 0:ta.zonetwo.lambda2)||""),Ia=l(((A=(Vt=T[0])==null?void 0:Vt.savedValues)==null?void 0:A.zonetwo.mg2)||""),Va=l(((et=(Wa=T[0])==null?void 0:Wa.savedValues)==null?void 0:et.zonetwo.mr2)||""),je=l(((Ot=(rt=T[0])==null?void 0:rt.savedValues)==null?void 0:Ot.zonetwo.zone2)||""),Wl=l(((Ht=(tt=T[0])==null?void 0:tt.savedValues)==null?void 0:Ht.zonethree.mf3)||""),fl=l(((Yt=(Oe=T[0])==null?void 0:Oe.savedValues)==null?void 0:Yt.zonethree.lambda3)||""),$l=l(((Gt=(bt=T[0])==null?void 0:bt.savedValues)==null?void 0:Gt.zonethree.mg3)||""),Sl=l((jt=(Jt=T[0])==null?void 0:Jt.savedValues)==null?void 0:jt.zonethree.mr3),jl=l(((aa=(Zt=T[0])==null?void 0:Zt.savedValues)==null?void 0:aa.zonethree.zone3)||""),Vl=l((a=(Te=T[0])==null?void 0:Te.savedValues)==null?void 0:a.prescriptiveSelection.selectedBasesheet),zl=t.getTextWidth(Vl.value);console.log(Vl,zl);const rl=g;t.text(O,rl,e+u);const Pl=g;if(e=e+10,t.text(`${Vl.value}`,Pl,e),t.line(Pl,e+u,Pl+zl,e+u),e=e+10,V.$state.tilesysEinput.length===0){const S="n/a",X="n/a",b="n/a",ve="n/a",Qe=t.getTextWidth(va),he=t.getTextWidth(S),Ft=g;t.text(va,Ft,e);const Et=Ft+Qe+2;t.text(S,Et,e),t.line(Et,e+u,Et+he,e+u),c.value=Et+he,console.log(c.value);const De=t.getTextWidth(ha),Aa=t.getTextWidth(X),Le=c.value+2;t.text(ha,Le,e);const st=Le+De;t.text(X,st,e),t.line(st,e+u,st+Aa,e+u),c.value=st+Aa,console.log(c.value),c.value>C&&(e=e+10);const xe=c.value+2,pl=t.getTextWidth(Sa),ga=t.getTextWidth(b);t.text(Sa,xe,e);const ye=xe+pl;t.text(b,ye,e),t.line(ye,e+u,ye+ga,e+u),c.value=ye+ga,console.log(c.value),c.value>C&&(e=e+10),console.log(c.value);const wt=t.getTextWidth(B),el=t.getTextWidth(ve),ma=g,zt=ma+el;console.log(zt),t.text(B,ma,e),zt>C&&print(zt);const ke=ma+wt;t.text(ve,ke,e),t.line(ke,e+u,ke+el,e+u),c.value=ke+el,e=e+10}else{const S=l(V.$state.tilesysEinput[0].systemDataE.noa),X=l(V.$state.tilesysEinput[0].systemDataE.manufacturer),b=l(V.$state.tilesysEinput[0].systemDataE.material),ve=l(V.$state.tilesysEinput[0].systemDataE.systemSelected),Qe=l(V.$state.tilesysEinput[0].systemDataE.dP),he=l(V.$state.tilesysEinput[0].systemDataE.Anchor_Base),Ft=l(V.$state.tilesysEinput[0].systemDataE.tileCap),Et=t.getTextWidth(ha),De=t.getTextWidth(`${X.value}`),Aa=g;t.text(ha,Aa,e);const Le=Aa+Et;t.text(`${X.value}`,Le,e),t.line(Le,e+u,Le+De,e+u);const st=t.getTextWidth(`${b.value}`);c.value=Le+st;const xe=t.getTextWidth(va),pl=t.getTextWidth(`${S.value}`),ga=c.value+40;t.text(va,ga,e),c.value=ga,console.log(c.value,ga);const ye=xe+c.value;console.log(ye),t.text(`${S.value}`,ye,e),t.line(ye,e+u,ye+pl,e+u),c.value=ye+pl,e=e+10;const wt=g,el=t.getTextWidth(Sa),ma=t.getTextWidth(`${b.value}`);t.text(Sa,wt,e);const zt=wt+el;t.text(`${b.value}`,zt,e),t.line(zt,e+u,zt+ma,e+u),c.value=zt+ma,c.value>C&&(e=e+10);const ke=c.value+5,kl=t.getTextWidth(La),ul=t.getTextWidth(`${ve.value}`);t.text(La,ke,e);const Oa=ke+kl;t.text(`${ve.value}`,Oa,e),t.line(Oa,e+u,Oa+ul,e+u),c.value=Oa+ul,c.value>C&&(e=e+10);const Ma=t.getTextWidth(cl),Kl=t.getTextWidth(`${Qe.value}`),Ql=c.value+3;t.text(cl,Ql,e);const Ul=Ql+Ma;t.text(`${Qe.value}`,Ul,e),t.line(Ul,e+u,Ul+Kl,e+u),c.value=Ul+Kl,console.log(c.value),e=e+10,t.getTextWidth(F);const Ll=t.getTextWidth(`${he.value}`),no=g;t.text(F,no,e),e=e+10;const Ol=g;t.text(`${he.value}`,Ol,e),t.line(Ol,e+u,Ol+Ll,e+u),c.value=Ol+Ll,e=e+10;const co=t.getTextWidth(B),yl=t.getTextWidth(`${Ft.value}`),_l=g;t.text(B,_l,e);const Hl=_l+co;t.text(`${Ft.value}`,Hl,e),t.line(Hl,e+u,Hl+yl,e+u),c.value=Hl+yl,console.log(c.value),e=e+10}const gl="Self Adhered NOA: ",ml="S/A NOA Applicant: ",ya="S/A System F: ",_t="S/A Material: ",_a="S/A Description: ";if($.$state.tilefinput.length===0){const S="n/a",X="n/a",b="n/a",ve="n/a",Qe="n/a",he=t.getTextWidth(gl),Ft=t.getTextWidth(S),Et=g;t.text(gl,Et,e);const De=Et+he;t.text(S,De,e),t.line(De,e+u,De+Ft,e+u),c.value=De+Ft,console.log(c.value);const Aa=t.getTextWidth(ml),Le=t.getTextWidth(X),st=c.value+3;t.text(ml,st,e);const xe=st+Aa;t.text(X,xe,e),t.line(xe,e+u,xe+Le,e+u),c.value=xe+Le,console.log(c.value);const pl=t.getTextWidth(ya),ga=c.value+3,ye=t.getTextWidth(b);t.text(ya,ga,e);const wt=ga+pl;t.text(b,wt,e),t.line(wt,e+u,wt+ye,e+u),c.value=wt+ye,console.log(c.value),e=e+10;const el=t.getTextWidth(_t),ma=t.getTextWidth(ve),zt=g;t.text(_t,zt,e);const ke=zt+el;t.text(ve,ke,e),t.line(ke,e+u,ke+ma,e+u),c.value=ke+ma,console.log(c.value);const kl=t.getTextWidth(_a),ul=t.getTextWidth(Qe),Oa=c.value+3;t.text(_a,Oa,e);const Ma=Oa+kl;t.text(Qe,Ma,e),t.line(Ma,e+u,Ma+ul,e+u),c.value=Ma+ul,console.log(c.value)}else{console.log("Entered sbs line 455",$.$state);const S=l($.$state.tilefinput[0].systemData.noa),X=l($.$state.tilefinput[0].systemData.manufacturer),b=l($.$state.tilefinput[0].systemData.pressure),ve=l($.$state.tilefinput[0].systemData.material),Qe=l($.$state.tilefinput[0].systemData.description),he=t.getTextWidth(gl),Ft=t.getTextWidth(`${S.value}`),Et=g;t.text(gl,Et,e);const De=Et+he;t.text(`${S.value}`,De,e),t.line(De,e+u,De+Ft,e+u),c.value=De+Ft;const Aa=t.getTextWidth(ml),Le=t.getTextWidth(`${X.value}`),st=c.value+3;t.text(ml,st,e);const xe=st+Aa;t.text(`${X.value}`,xe,e),t.line(xe,e+u,xe+Le,e+u),c.value=xe+Le,console.log(c.value);const pl=t.getTextWidth(ya),ga=t.getTextWidth(`${b.value}`),ye=c.value+3;t.text(ya,ye,e);const wt=ye+pl;t.text(`${b.value}`,wt,e),t.line(wt,e+u,wt+ga,e+u),c.value=wt+ga,e=e+10;const el=t.getTextWidth(_t),ma=t.getTextWidth(`${ve.value}`),zt=g;t.text(_t,zt,e);const ke=zt+el;t.text(`${ve.value}`,ke,e),t.line(ke,e+u,ke+ma,e+u),c.value=ke+ma,c.value>C&&(e=e+10);const kl=t.getTextWidth(_a),ul=t.getTextWidth(`${Qe.value}`),Oa=c.value+3;t.text(_a,Oa,e);const Ma=Oa+kl;t.text(`${Qe.value}`,Ma,e),t.line(Ma,e+u,Ma+ul,e+u),c.value=Ma+ul,c.value>=C&&(e=e+10),console.log(c.value)}e=e+10;const Cl=l(Fe.value.noa),Il=l((P=(n=T[0])==null?void 0:n.savedValues)==null?void 0:P.applicant),Ua=l((Dt=(se=T[0])==null?void 0:se.savedValues)==null?void 0:Dt.material),bl=l((Xa=(h=T[0])==null?void 0:h.savedValues)==null?void 0:Xa.description),Zl=t.getTextWidth(ka),ql=t.getTextWidth(`${Il.value}`),E=g;t.text(ka,E,e);const w=E+Zl;t.text(`${Il.value}`,w,e),t.line(w,e+u,w+ql,e+u),c.value=w+ql;const M=t.getTextWidth(dl),U=t.getTextWidth(`${Cl.value}`),le=c.value+3;t.text(dl,le,e);const H=M+le;t.text(`${Cl.value}`,H,e),t.line(H,e+u,H+U,e+u),e=e+10;const pe=t.getTextWidth(`${Ua.value}`);c.value>C&&(e=e+10),c.value=H+pe;const Y=g,Ze=t.getTextWidth(Ra),ra=t.getTextWidth(`${Ua.value}`);t.text(Ra,Y,e);const be=Y+Ze;t.text(`${Ua.value}`,be,e),t.line(be,e+u,be+ra,e+u),e=e+5;const Nt=t.getTextWidth(`${bl.value}`);c.value=be+Nt,c.value>C&&(e=e+5),console.log(c.value,C),e=e+5;const y=t.getTextWidth(`${bl.value}`),ba=t.getTextWidth(Ba);console.log(y,ba);const qe=g;if(t.text(Ba,qe,e),y>220){e=e+4;const S=g;t.text(`${bl.value}`,S,e),t.line(S,e+u,S+y,e+u),c.value=S+y,e=e+8}else{const S=qe+ba;t.text(`${bl.value}`,S,e),t.line(S,e+u,S+y,e+u),c.value=S+y,e=e+5}e=e+5,t.setFontSize(12);const Pe=new Image;Pe.src="/demo/images/lambda.png",console.log(c.value,e);const Ce=[["Zone 1:",`${ce.value}`,"x",`${ze.value}`,"- Mg:",`${ot.value}`,"= Mr1:",`${re.value}`,"NOA Mf:",`${L.value}`],["Zone 2:",`${je.value}`,"x",`${xl.value}`,"- Mg:",`${Ia.value}`,"= Mr2:",`${Va.value}`,"NOA Mf:",`${Z.value}`],["Zone 3:",`${jl.value}`,"x",`${fl.value}`,"- Mg:",`${$l.value}`,"= Mr3:",`${Sl.value}`,"NOA Mf:",`${Wl.value}`]];console.log(Ce);let Da=g-1,oe=e;Ce.forEach(S=>{let X=Da;S.forEach(b=>{console.log(X,oe),t.text(String(b),X,oe),X+=18}),t.addImage(Pe,"png",50,oe-4,5,5),t.addImage(Pe,"png",50,oe-4,5,5),t.addImage(Pe,"png",50,oe-4,5,5),oe+=5,console.log(X,oe)});const Ke="TileAdhesive.pdf",ue=t.output("blob");(async(S,X)=>{const b=S,ve=b;console.log(ve);const Qe=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${lt.value}/${ve}`;try{const he=await fetch(Qe,{method:"PUT",headers:{"Content-Type":b.type},body:X});he.ok?(Ye.value=Qe,alert("TileAdhesive File uploaded successfully!")):alert(`Failed to upload file. Status: ${he.status}`)}catch(he){console.error("Error uploading file:",he),alert("An error occurred while uploading the file.")}})(Ke,ue)}};return(W,Ae)=>(Nl(),Fl("div"))}};function Io(){const it=l(),$=l([]);let V=l([]);const k=Eo(),D=l(),T=l("");let x="https://2dz45lw4aeav6valksiiquuwqq0ejsio.lambda-url.us-east-1.on.aws/";const{execute:q,then:N,data:K}=zo(x,{method:"GET"},{immediate:!1}),r=lo({noa:"",manufacturer:"",material:"",description:"",Table2:[],Table3:[],expiration_date:"",resistance:[],selection:"",select_tile:[],tile_map:[],table2_map:[],two_ten_d_RS_Nails:null,one_number_eight_screw:null,two_number_eight_screw:null,mechanicaltilefastener:[],fastenerValues:[],height:null,area:null,slope:null,perimeter:null,decktype:null,expiration_date:""});function j(W){it.value=W,console.log(it.value),D.value=Number(it.value),o()}const o=async()=>{try{const W=await q({params:{NOA:D.value}}).then(Ae=>($.value=K.value,console.log(K.value),$.value));console.log(W.length),W.length===0||(console.log($.value),r.noa=$.value[0].NOA,r.manufacturer=$.value[0].applicant,r.material=$.value[0].material,r.selection=$.value[0].AdhesiveMaterials,r.description=$.value[0].description,r.select_tile=$.value[0].Select_Tile,r.tile_map=$.value[0].Tile_Map,r.table2_map=$.value[0].Table2_Map,r.expiration_date=$.value[0].expiration_date,r.Table2=$.value[0].Table2,r.Table3=$.value[0].Table3,r.resistance=$.value[0].Resistance,r.expiration_date=$.value[0].expiration_date,r.two_ten_d_RS_Nails=$.value[0].two_ten_d_RS_Nails,r.one_number_eight_screw=$.value[0].one_number_eight_screw,r.two_number_eight_screw=$.value[0].two_number_eight_screw,r.mechanicaltilefastener=$.value[0].mechanicaltilefastener,r.fastenerValues=$.value[0].fastenerValues,k.addNoa(r),console.log(r,"System added"))}catch(W){console.log("Error, fectching data",W)}return V};return{input:it,fetchData:o,takeMechInput:j,noaNum:$,error:T,results:V,...mo(r),mechStore:k}}const Uo={__name:"TileMechanical",setup(it){const{getUser:$}=El(),V=l(!1),k=wl(),D=Tl(),T=l(D.$state.roofList),{mechStore:x}=Io(),q=so(),N=io(),K=wo(),r=Al(()=>{if(T.value.length===0)return"";for(let o=0;o<T.value.length;o++)T.value[o].item==="Mechanical Fastened Tile"&&(console.log(T.value[o].item),V.value=!0,j())});Ml(async()=>{await Xl(r).toBe(!0),console.log(r)});const j=()=>{var g,e,nt,_e,Me,Xe,Ne,z,Re,Be,Ie,Ue,R,m,G,p,Pt,Ct,dt,ct,pt,ut,vt,ht,d,xt,gt,mt,Tt,kt,Wt,Rt,Bt,f,ft,It,Ut,$t,s,me,i,St,ea,v,Ta,ta,Vt,A,Wa,et,rt,Ot,tt,Ht,Oe,Yt,bt,Gt,Jt,jt;if(x.tilemech.value.length===0)console.log("lenghth is   zero");else{let Zt=l(!1),aa=l(!1),Te=l(!1);((e=(g=x.tilemech.value[0])==null?void 0:g.Table2)==null?void 0:e.content)==="multiple"&&(Te=!0),N.$state.tilesysEinput.length!==0&&(Zt=!0,console.log(Zt,N)),q.$state.tilefinput.length!==0&&(aa=!0,console.log(aa));const a=new Bl({orientation:"portrait",unit:"mm",format:"a4",compress:!0});console.log((nt=x.tilemech.value[0])==null?void 0:nt.Table2);const n=1,P=90,se=179,Dt=725,h=a.getPageInfo(1);console.log(h),h.pageContext.mediaBox.topRightX;const Xa=h.pageContext.mediaBox.topRightY,t=l(0),qt=l(0);var o=Xa-Dt,W=595.28-585.28;t.value=W,qt.value=o,console.log(k.$state.permitapp),console.log(x.tilemech.value[0]);const _=l(((_e=x.tilemech.value[0])==null?void 0:_e.height)||"N/A"),C=l(((Me=x.tilemech.value[0])==null?void 0:Me.slope)||"N/A"),la=l(((Xe=x.tilemech.value[0])==null?void 0:Xe.decktype)||"N/A"),Kt=l(((Ne=x.tilemech.value[0])==null?void 0:Ne.perimeter)||"N/A");l((Re=(z=N.$state.tilesysEinput[0])==null?void 0:z.systemDataE)==null?void 0:Re.prescriptiveSelection),console.log(x.tilemech.value[0].prescriptiveSelection);const ie=l(((Be=x.tilemech.value[0])==null?void 0:Be.prescriptiveSelection)||"N/A"),c=l(((Ie=x.tilemech.value[0])==null?void 0:Ie.area)||""),At=l(((R=(Ue=k.$state.permitapp[0])==null?void 0:Ue.formdt)==null?void 0:R.address)||""),Fe=l(((G=(m=k.$state.permitapp[0])==null?void 0:m.formdt)==null?void 0:G.muni)||"");l(((Pt=(p=k.$state.permitapp[0])==null?void 0:p.formdt)==null?void 0:Pt.processNumber)||"");const ne=l(((dt=(Ct=k.$state.permitapp[0])==null?void 0:Ct.formdt)==null?void 0:dt.muniProc)||""),Qt=l(((ct=K.$state.dripinputmecht[5])==null?void 0:ct.dripMTileMaterial)||""),oa=l(((pt=K.$state.dripinputmecht[7])==null?void 0:pt.dripMTileMaterial)||"");console.log(x.tilemech.value[0]),o=o+10;const sa=l(((ut=x.tilemech.value[0])==null?void 0:ut.mf1)||""),at=l(((vt=x.tilemech.value[0])==null?void 0:vt.lambda1)||""),Ya=l(((ht=x.tilemech.value[0])==null?void 0:ht.mg1)||""),He=l(((d=x.tilemech.value[0])==null?void 0:d.mr1)||""),lt=l(((xt=x.tilemech.value[0])==null?void 0:xt.zoneone)||""),We=l(((gt=x.tilemech.value[0])==null?void 0:gt.mf2)||""),Ye=l(((mt=x.tilemech.value[0])==null?void 0:mt.lambda2)||""),Mt=l(((Tt=x.tilemech.value[0])==null?void 0:Tt.mg2)||""),fe=l(((kt=x.tilemech.value[0])==null?void 0:kt.mr2)||""),ia=l(((Wt=x.tilemech.value[0])==null?void 0:Wt.zonetwo)||""),Ga=l(((Rt=x.tilemech.value[0])==null?void 0:Rt.mf3)||""),tl=l(((Bt=x.tilemech.value[0])==null?void 0:Bt.lambda3)||""),Ja=l(((f=x.tilemech.value[0])==null?void 0:f.mg3)||""),Na=l(x.tilemech.value[0].mr3||""),ja=l(((ft=x.tilemech.value[0])==null?void 0:ft.zonethree)||""),al=l(""),Fa=l($.value[0].dba);a.setGState(new a.GState({opacity:.8}));const Ea="Approved";a.setFontSize(24),a.setTextColor(150,150,150),a.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const u=new Image,wa=new Image,I=new Image;u.src="/demo/images/officepaper.jpeg",wa.src="/demo/images/logo.jpeg",I.src="/demo/images/lambda.png",a.addImage(wa,"JPEG",10,0,50,30),a.addImage(u,"JPEG",0,0,210,297),a.setFontSize(15),a.setTextColor("green");var Ae=new Date,ge=Ae.toLocaleDateString();a.text(Ea,10,270,{align:"left"});const na=a.getTextWidth(Ea);a.text("on: "+ge,na+15,270),a.text(`${ne.value}`,10,280,{align:"left"});const fa=a.getTextWidth(`${ne.value}`);a.text(`${Fe.value}`,fa+15,280);const za=()=>{a.setFontSize(12),a.setTextColor(0),a.text("The tile roof system and its components shall be installed in strict compliance with the FBC 2023 HVHZ portions of Chapter 15, the HVHZ Tile Application Standards: RAS-119, RAS-120 & RAS-127 and the submitted MDC Notice of Acceptance(s).",10,29,{maxWidth:"200"}),a.line(10,41,195,41)};a.setTextColor(0),a.circle(189,38,2,"FD"),a.text("I agree",165,39),za(),a.setFontSize(12);const ll=[{category:"DBA",value:`${Fa.value}`},{category:"Municipality",value:`${Fe.value}`},{category:"Job Address",value:`${At.value}`},{category:"Process Number",value:`${ne.value}`}];let ol=10,da=60,Pa=50;a.setFontSize(12),ll.forEach((E,w)=>{const M=Pa+w*10;a.text(E.category,ol,M),a.text(E.value,da,M),a.getTextWidth(E.category);const U=a.getTextWidth(E.value)*2;a.line(da,M+2,da+U,M+2)}),a.setFontSize(12),console.log(o);const Za="Roof Perimeter: ",Lt=a.getTextWidth("Roof Area: "),qa=a.getTextWidth(`${c.value}`);a.text("Roof Area:",W,P);const ca=Lt+10;a.text(`${c.value}`,ca,P),a.line(ca,P+n,ca+qa,P+n),t.value=Lt+qa,console.log(t.value);const sl=a.getTextWidth("Mean Roof Height:"),Ee=a.getTextWidth(`${_.value}`),Ca=t.value+15;a.text("Mean Roof Height:",Ca,P);const de=sl+45;a.text(`${_.value}`,de,P),a.line(de,P+n,de+Ee,P+n),t.value=sl+Ee,console.log(t.value),a.getTextWidth("Roof Slope: ");const $a=a.getTextWidth(`${C.value}`),yt=t.value+50;a.text("Roof Slope:",yt,P);const Xt=yt+25;a.text(`${C.value}`,Xt,P),a.line(Xt,P+n,Xt+$a,P+n),t.value=t.value+Xt;const il=a.getTextWidth(Za),hl=a.getTextWidth(`${Kt.value}`),nl=t.value-30;a.text(Za,nl,P);const Ka=il+nl+2;a.text(`${Kt.value}`,Ka,P),a.line(Ka,P+n,Ka+hl,P+n),o=P+30;const Qa=a.getTextWidth("Deck Type"),pa=a.getTextWidth(`${la.value}`);t.value=t.value+Qa-30,a.text("Decktype:",t.value,o);const ua=t.value+20;a.text(`${la.value}`,ua,o),a.line(ua,o+n,ua+pa,o+n),t.value=ua+pa;const dl="Tile NOA Number: ",ka="Tile Applicant: ",Ra="Tile Material: ",Ba="Tile Type: ",va="Tile Description: ",ha="Select Mechanical Tile Fastener: ",Sa="Fastened (UDL) NOA: ",La="(UDL) NOA Applicant: ",cl="Fastened (UDL) Material: ",F="Select System E: ",B="Design psf: ",O="Anchor Base Sheet: ",J="(UDL) Description: ",$e="Prescriptive: ",ee="DripEdge Material: ",Ge="DripEdge Size: ";console.log(x.tilemech.value[0]),console.log(x.tilemech.value[0]);const te=l((It=x.tilemech.value[0])==null?void 0:It.noa),Se=l((Ut=x.tilemech.value[0])==null?void 0:Ut.manufacturer),Je=l(($t=x.tilemech.value[0])==null?void 0:$t.material),Ve=Te===!0?l((s=x.tilemech.value[0])==null?void 0:s.tiletype):l((me=x.tilemech.value[0])==null?void 0:me.material),ae=Te!==!0?l((i=x.tilemech.value[0])==null?void 0:i.savedfastener):l((St=x.tilemech.value[0])==null?void 0:St.description),Q=Te===!0?l((ea=x.tilemech.value[0])==null?void 0:ea.savedfastener):l((v=x.tilemech.value[0])==null?void 0:v.description);console.log((Ta=x.tilemech.value[0])==null?void 0:Ta.description,(ta=x.tilemech.value[0])==null?void 0:ta.savedfastener),a.getTextWidth($e);const xa=a.getTextWidth(`${ie.value}`),we=W;a.text($e,we,o-15);const L=W;o=o-9,a.text(`${ie.value}`,L,o),a.line(L,o+n,L+xa,o+n),o=o+10;const ze=a.getTextWidth(ee),ot=a.getTextWidth(`${Qt.value}`),re=W;a.text(ee,re,o);const ce=ze+re;a.text(`${Qt.value}`,ce,o),a.line(ce,o+n,ce+ot,o+n),o=o+8;const Z=a.getTextWidth(Ge),xl=a.getTextWidth(`${oa.value}`),Ia=W;a.text(Ge,Ia,o);const Va=Z+Ia;if(a.text(`${oa.value}`,Va,o),a.line(Va,o+n,Va+xl,o+n),o=o+10,a.setFontSize(12),N.$state.tilesysEinput.length===0){const E="n/a",w="n/a",M="n/a",U="n/a",le=a.getTextWidth(Sa),H=a.getTextWidth(E),pe=W;a.text(Sa,pe,o);const Y=pe+le;a.text(E,Y,o),a.line(Y,o+n,Y+H,o+n),t.value=Y+H,console.log(t.value);const Ze=a.getTextWidth(La),ra=a.getTextWidth(w),be=t.value+2;a.text(La,be,o);const Nt=be+Ze;a.text(w,Nt,o),a.line(Nt,o+n,Nt+ra,o+n),t.value=Nt+ra,console.log(t.value),t.value>se&&(o=o+10);const y=t.value+2,ba=a.getTextWidth(cl),qe=a.getTextWidth(M);a.text(cl,y,o);const Pe=y+ba;a.text(M,Pe,o),a.line(Pe,o+n,Pe+qe,o+n),t.value=Pe+qe,console.log(t.value),t.value>se&&(o=o+10),o=o+10;const Ce=a.getTextWidth(J),Da=a.getTextWidth(U),oe=W,Ke=oe+Da;console.log(Ke),a.text(J,oe,o),Ke>se&&print(Ke);const ue=oe+Ce;a.text(U,ue,o),a.line(ue,o+n,ue+Da,o+n),t.value=ue+Da,o=o+10}else{console.log(N.$state.tilesysEinput);const E=l(((A=(Vt=N.$state.tilesysEinput[0])==null?void 0:Vt.systemDataE)==null?void 0:A.noa)||"N/A"),w=l(((et=(Wa=N.$state.tilesysEinput[0])==null?void 0:Wa.systemDataE)==null?void 0:et.manufacturer)||"N/A"),M=l(((Ot=(rt=N.$state.tilesysEinput[0])==null?void 0:rt.systemDataE)==null?void 0:Ot.material)||"N/A"),U=l(((Ht=(tt=N.$state.tilesysEinput[0])==null?void 0:tt.systemDataE)==null?void 0:Ht.systemSelected)||"N/A"),le=l(((Yt=(Oe=N.$state.tilesysEinput[0])==null?void 0:Oe.systemDataE)==null?void 0:Yt.dP)||"N/A"),H=l(((Gt=(bt=N.$state.tilesysEinput[0])==null?void 0:bt.systemDataE)==null?void 0:Gt.Anchor_Base)||"N/A"),pe=l(((jt=(Jt=N.$state.tilesysEinput[0])==null?void 0:Jt.systemDataE)==null?void 0:jt.tileCap)||"N/A"),Y=a.getTextWidth(Sa),Ze=a.getTextWidth(`${E.value}`),ra=W;a.text(Sa,ra,o);const be=ra+Y;a.text(`${E.value}`,be,o),a.line(be,o+n,be+Ze,o+n),t.value=be+Ze;const Nt=a.getTextWidth(La),y=a.getTextWidth(`${w.value}`),ba=t.value+2;a.text(La,ba,o);const qe=ba+Nt;a.text(`${w.value}`,qe,o),a.line(qe,o+n,qe+y,o+n);const Pe=a.getTextWidth(`${M.value}`);t.value=qe+Pe,o=o+10;const Ce=W,Da=a.getTextWidth(cl),oe=a.getTextWidth(`${M.value}`);a.text(cl,Ce,o);const Ke=Ce+Da;a.text(`${M.value}`,Ke,o),a.line(Ke,o+n,Ke+oe,o+n),t.value=Ke+oe,t.value>se&&(o=o+10);const ue=t.value+5,Dl=a.getTextWidth(F),S=a.getTextWidth(`${U.value}`);a.text(F,ue,o);const X=ue+Dl;a.text(`${U.value}`,X,o),a.line(X,o+n,X+S,o+n),t.value=X+S,t.value>se&&(o=o+10);const b=a.getTextWidth(B),ve=a.getTextWidth(`${le.value}`),Qe=t.value+3;a.text(B,Qe,o);const he=Qe+b;a.text(`${le.value}`,he,o),a.line(he,o+n,he+ve,o+n),t.value=he+ve,console.log(t.value),o=o+10,a.getTextWidth(O);const Ft=a.getTextWidth(`${H.value}`),Et=W;a.text(O,Et,o),o=o+10;const De=W;a.text(`${H.value}`,De,o),a.line(De,o+n,De+Ft,o+n),t.value=De+Ft,o=o+10;const Aa=a.getTextWidth(J),Le=a.getTextWidth(`${pe.value}`),st=W;a.text(J,st,o);const xe=st+Aa;a.text(`${pe.value}`,xe,o),a.line(xe,o+n,xe+Le,o+n),t.value=xe+Le,console.log(t.value),o=o+10}const je="Self Adhered NOA: ",Wl="S/A NOA Applicant: ",fl="S/A System F: ",$l="S/A Material: ",Sl="S/A Description: ";if(q.$state.tilefinput.length===0){const E="n/a",w="n/a",M="n/a",U="n/a",le="n/a",H=a.getTextWidth(je),pe=a.getTextWidth(E),Y=W;a.text(je,Y,o);const Ze=Y+H;a.text(E,Ze,o),a.line(Ze,o+n,Ze+pe,o+n),t.value=Ze+pe,console.log(t.value);const ra=a.getTextWidth(Wl);a.getTextWidth(w);const be=t.value+3,Nt=a.getTextWidth(M);a.text(Wl,be,o);const y=be+ra;a.text(w,y,o),a.line(y,o+n,y+Nt,o+n),t.value=y+Nt,console.log(t.value);const ba=a.getTextWidth(fl),qe=a.getTextWidth(M),Pe=t.value+3;a.text(fl,Pe,o);const Ce=Pe+ba;a.text(M,Ce,o),a.line(Ce,o+n,Ce+qe,o+n),t.value=Ce+qe,console.log(t.value),o=o+10;const Da=a.getTextWidth($l),oe=a.getTextWidth(U),Ke=W;a.text($l,Ke,o);const ue=Ke+Da;a.text(U,ue,o),a.line(ue,o+n,ue+oe,o+n),t.value=ue+oe,console.log(t.value);const Dl=a.getTextWidth(Sl),S=a.getTextWidth(le),X=t.value+3;a.text(Sl,X,o);const b=X+Dl;a.text(le,b,o),a.line(b,o+n,b+S,o+n),t.value=b+S,console.log(t.value)}else{console.log("Entered sbs line 455",q.$state);const E=l(q.$state.tilefinput[0].systemData.noa),w=l(q.$state.tilefinput[0].systemData.manufacturer),M=l(q.$state.tilefinput[0].systemData.pressure),U=l(q.$state.tilefinput[0].systemData.material),le=l(q.$state.tilefinput[0].systemData.description),H=a.getTextWidth(je),pe=a.getTextWidth(`${E.value}`),Y=W;a.text(je,Y,o);const Ze=Y+H;a.text(`${E.value}`,Ze,o),a.line(Ze,o+n,Ze+pe,o+n),t.value=Ze+pe;const ra=a.getTextWidth(Wl),be=a.getTextWidth(`${w.value}`),Nt=t.value+3;a.text(Wl,Nt,o);const y=Nt+ra;a.text(`${w.value}`,y,o),a.line(y,o+n,y+be,o+n),t.value=y+be,console.log(t.value);const ba=a.getTextWidth(fl),qe=a.getTextWidth(`${M.value}`),Pe=t.value+3;a.text(fl,Pe,o);const Ce=Pe+ba;a.text(`${M.value}`,Ce,o),a.line(Ce,o+n,Ce+qe,o+n),t.value=Ce+qe,o=o+10;const Da=a.getTextWidth($l),oe=a.getTextWidth(`${U.value}`),Ke=W;a.text($l,Ke,o);const ue=Ke+Da;a.text(`${U.value}`,ue,o),a.line(ue,o+n,ue+oe,o+n),t.value=ue+oe,t.value>se&&(o=o+10);const Dl=a.getTextWidth(Sl),S=a.getTextWidth(`${le.value}`),X=t.value+3;a.text(Sl,X,o);const b=X+Dl;a.text(`${le.value}`,b,o),a.line(b,o+n,b+S,o+n),t.value=b+S,t.value>=se&&(o=o+10),console.log(t.value)}o=o+10;const jl=a.getTextWidth(`${Se.value}`),Vl=a.getTextWidth(ka),zl=W;a.text(ka,zl,o);const rl=zl+Vl;a.text(`${Se.value}`,rl,o),a.line(rl,o+n,rl+jl,o+n),t.value=rl+Vl+10;const Pl=a.getTextWidth(dl),gl=a.getTextWidth(`${te.value}`),ml=t.value+Pl;a.text(dl,ml,o);const ya=ml+38;a.text(`${te.value}`,ya,o),a.line(ya,o+n,ya+gl,o+n),t.value=ya+gl,o=o+10;const _t=o;if(Te===!0){const E=a.getTextWidth(Ba),w=a.getTextWidth(`${Ve.value}`),M=W;a.text(Ba,M,_t);const U=M+E;t.value=E+w,a.text(`${Ve.value}`,U,_t),a.line(U,_t+n,U+w,_t+n),o=o+10;const le=a.getTextWidth(ha),H=a.getTextWidth(`${Q.value}`);console.log(Q.value),t.value=W;const pe=t.value;a.text(ha,pe,o),console.log(t.value);const Y=pe+le;a.text(`${Q.value}`,Y,o),a.line(Y,o+n,Y+H,o+n),t.value=Y+H,o=o+10}else{const E=a.getTextWidth(Ra),w=a.getTextWidth(`${Je.value}`);t.value=W,console.log(Je.value);const M=t.value;a.text(Ra,M,_t);const U=M+E;a.text(`${Je.value}`,U,_t),a.line(U,_t+n,U+w,_t+n),t.value=E+w+20,console.log(t.value);const le=a.getTextWidth(va),H=a.getTextWidth(`${ae.value}`),pe=t.value+10;a.text(va,pe,o);const Y=pe+le;a.text(`${ae.value}`,Y,o),a.line(Y,o+n,Y+H,o+n),t.value=Y+H}o=o+10;const _a=new Image;_a.src="/demo/images/lambda.png";const Cl=[["Zone 1:",`${lt.value}`,"x",`${at.value}`,"- Mg:",`${Ya.value}`,"= Mr1:",`${He.value}`,"NOA Mf:",`${sa.value}`],["Zone 2:",`${ia.value}`,"x",`${Ye.value}`,"- Mg:",`${Mt.value}`,"= Mr2:",`${fe.value}`,"NOA Mf:",`${We.value}`],["Zone 3:",`${ja.value}`,"x",`${tl.value}`,"- Mg:",`${Ja.value}`,"= Mr3:",`${Na.value}`,"NOA Mf:",`${Ga.value}`]];console.log(Cl);let Il=W-1,Ua=o;Cl.forEach(E=>{let w=Il;E.forEach(M=>{a.text(String(M),w,Ua),w+=18}),a.addImage(_a,"png",50,Ua-4,5,5),a.addImage(_a,"png",50,Ua-4,5,5),a.addImage(_a,"png",50,Ua-4,5,5),Ua+=5,Ua+=5}),o=o+20;const bl="MechanicalTile.pdf",Zl=a.output("blob");(async(E,w)=>{const M=E,U=M;console.log(U);const le=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${ne.value}/${U}`;try{const H=await fetch(le,{method:"PUT",headers:{"Content-Type":M.type},body:w});H.ok?(al.value=le,alert("Mechanical File uploaded successfully!")):alert(`Failed to upload file. Status: ${H.status}`)}catch(H){console.error("Error uploading file:",H),alert("An error occurred while uploading the file.")}})(bl,Zl)}};return(o,W)=>(Nl(),Fl("div"))}},Oo={id:"summary",class:"card-system"},Ho=Ha("p",null,"The roof systems you selected",-1),Yo={class:"rounded border border-surface-200 dark:border-surface-700 p-6 bg-surface-0 dark:bg-surface-900"},ds={__name:"Summarys",setup(it){var nt,_e,Me,Xe,Ne;const{accountUsers:$}=El(),V=Vo();l(!1),l(!1);let k=l(!1),D=l(!1),T=l(!1),x=l(!1),q=l(!1);const N=l("");l(""),l("");const K=wl(),r=Tl(),j=l(r.$state.roofList);l(((_e=(nt=K.$state.permitapp[0])==null?void 0:nt.formdt)==null?void 0:_e.processNumber)||"");const o=oo(),W=l(o.$state.generalpdfinput);l(((Xe=(Me=K.$state.permitapp[0])==null?void 0:Me.formdt)==null?void 0:Xe.muniProc)||""),l(!1),l(((Ne=V.$state.countinput[0])==null?void 0:Ne.countData)||""),l(!1),l(!1),l(!1),l(!1);function Ae(){$.value.forEach((z,Re)=>{N.value=z.dba})}const ge=lo({dim:"",item:""}),g=Al(()=>{if(j.value.length===0)return"";for(let z=0;z<j.value.length;z++)j.value[z].item==="Asphalt Shingle"?(x.value=!0,ge.dim=j.value[z].dim1,ge.item=j.value[z].item):j.value[z].item==="Low Slope"?q.value=!0:j.value[z].item==="Adhesive Set Tile"?(console.log(j.value[z].item),D.value=!0):j.value[z].item==="Mechanical Fastened Tile"?(console.log(j.value[z].item),T.value=!0):W.value.length!==1&&(k.value=!0),console.log(j.value)});To(()=>{Ae()});const e=l([{status:"RoofSystems",date:"15/10/2020 10:30",icon:"pi pi-cog",color:"#9C27B0",image:"/src/assets/img/roofing_tile.jpg"},{status:"Processing",date:"15/10/2020 14:00",icon:"pi pi-cog",color:"#673AB7"},{status:ge.item,date:"15/10/2020 14:00",icon:"pi pi-cog",color:"#673AB7"}]);return Wo(Ae,g,()=>{}),Ml(async()=>{await Xl(g).toBe(!0)}),(z,Re)=>{const Be=vo,Ie=uo,Ue=po;return Nl(),Fl(fo,null,[Ha("div",Oo,[vl(Ue,{value:e.value,align:"alternate",class:"customized-timeline",style:{"margin-top":"50px"}},{marker:Rl(R=>[Ha("span",{class:"flex w-8 h-8 items-center justify-center text-white rounded-full z-10 shadow-sm",style:$o({backgroundColor:R.item.color})},[Ha("i",{class:So(R.item.icon)},null,2)],4)]),content:Rl(R=>[vl(Ie,{class:"mt-4"},{title:Rl(()=>[eo(to(R.item.status),1)]),subtitle:Rl(()=>[eo(to(R.item.date),1)]),content:Rl(()=>[Ho,vl(Be,{label:"Read more",text:""})]),_:2},1024)]),_:1},8,["value"])]),Ha("div",Yo,[Ha("div",null,[vl(Po)]),Yl(Ha("div",null,[vl(ko)],512),[[Gl,Jl(x)]]),Yl(Ha("div",null,[vl(Bo)],512),[[Gl,Jl(D)]]),Yl(Ha("div",null,[vl(Uo)],512),[[Gl,Jl(T)]]),Yl(Ha("div",null,[vl(Co)],512),[[Gl,Jl(q)]])])],64)}}};export{ds as default};
