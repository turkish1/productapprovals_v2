import{s as B,r as a,o as g,b as i,c as u,e as l,F as j,m as Y,t as h,a8 as A,ao as G,f as R,ap as X,d as U,j as q,am as z,y as H,z as J,V as K}from"./index-DCKf2MA0.js";import{u as Q,a as W}from"./use-downloadpdf-D7J1vBx6.js";import{u as N}from"./accountsStore-yntmiqht.js";import{u as C}from"./permitapp-Dda4NvbD.js";import{_ as Z}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useAxios-1rm-BwXP.js";const ee={class:"terminal"},ae={class:"terminal-content"},oe=8,te={__name:"Terminal",setup(L){const w=C(),{permitapp:y}=B(w),{accountUsers:b}=N();console.log(b);let m=a(),p=a();a();let v=a(),n=a();y.value.forEach((e,d)=>{m.value=e.formdt.permit,p.value=e.formdt.processNumber,v.value=e.formdt.address,n.value=e.formdt.contractor});const f=["Initializing system...","Loading modules...","Connecting to server...","Server connection established.",`${p.value}...`,`${v.value}...`,`${n.value}...`],r=a([]);function c(){let e=0;const d=setInterval(()=>{e<f.length?(r.value.length>=oe&&r.value.shift(),r.value.push(f[e]),e++):clearInterval(d)},1e3)}return g(()=>{c()}),g(()=>{}),(e,d)=>(i(),u("div",ee,[l("div",ae,[(i(!0),u(j,null,Y(r.value,(t,x)=>(i(),u("div",{key:x,class:"terminal-line"},h(t),1))),128))])]))}},se=Z(te,[["__scopeId","data-v-5bd8f88a"]]),le={class:"card"},ne={class:"flex flex-col w-1/3 gap-2 shadow-lg shadow-cyan-800",style:{"margin-left":"550px","margin-top":"440px"}},re={class:"payment-widget"},ce=l("h2",{style:{color:"black"}},"Credit Card Payment",-1),de={key:0,class:"confirmation"},ie=49.99,he={__name:"Paymentprocessed",setup(L){var D,T,S,$;const w=C(),{accountUsers:y}=N(),b=a("TX123456789"),m=a(((T=(D=w.$state.permitapp[0])==null?void 0:D.formdt)==null?void 0:T.processNumber)||"");function p(){y.value.forEach((o,s)=>{dba.value=o.dba,console.log(o)})}g(()=>{p()});const v=a(!1),n=a(!1),f=a(!1);a(!1);const r=a(!1),c=a(!1),e=a({cardholderName:"",cardNumber:"",expiryDate:"",cvv:""});a(!1),a(!1);const{getNumber:d}=Q(m.value),t=W();B(t.$state),console.log(($=(S=t.$state.downloadinput[0])==null?void 0:S.downloadData)==null?void 0:$.download_url),N(),g(()=>{});const x=A(()=>{var o,s;d(),setTimeout(()=>{r.value=!0},1e3),console.log(m.value),console.log((s=(o=t.downloadinput[0])==null?void 0:o.downloadData)==null?void 0:s.message)}),P=()=>{if(!e.value.cardholderName||!e.value.cardNumber||!e.value.expiryDate||!e.value.cvv){alert("Please fill out all fields.");return}c.value=!0,n.value=!0,setTimeout(()=>{e.value.cardholderName="",e.value.cardNumber="",e.value.expiryDate="",e.value.cvv="",c.value=!1,n.value=!1},2e3),F()};G(x,()=>{});const F=async()=>{var k,V,I,E;const o=(V=(k=t.downloadinput[0])==null?void 0:k.downloadData)==null?void 0:V.download_url;if(console.log(o),!o||o.length===0)return;console.log(o);const s=(E=(I=t.downloadinput[0])==null?void 0:I.downloadData)==null?void 0:E.download_url;if(!s)return;v.value=!0;const M=s,O="processnumber.zip",_=document.createElement("a");_.href=M,_.download=O,_.click(),_.remove(),f.value=!1};return(o,s)=>(i(),u("div",le,[R(U(q(K),{color:"#784EA7",size:"100px",style:{"margin-top":"500px","margin-left":"850px"}},null,512),[[X,n.value]]),l("div",ne,[U(se),l("div",re,[ce,z(" Thank you for your payment! Your transaction ID is "),l("strong",null,h(b.value),1),z(". "),l("form",{onSubmit:H(P,["prevent"])},null,32),c.value?(i(),u("div",de,[l("p",null,"Thank you, "+h(e.value.cardholderName)+"! Your payment of $"+h(ie)+" was processed.",1)])):J("",!0)])])]))}};export{he as default};
