import{_ as U}from"./FileSaver-_Y2zZ17c.js";import{H as I,e as p,f as $,E as q,h as K,o as S,c as k,i as e,F as z,z as E,t as C,n as H,J as T,k as x,X as J,Y as X,j as c,v as Y,p as Q,q as W,x as O,A as Z}from"./index-BctPUBY6.js";import{s as ee}from"./index-C6IkaDls.js";import{u as te}from"./usePostGeneralpageLambda-C4rxjtZ7.js";import{u as oe}from"./generalpageStore-fuivupMT.js";import{u as A}from"./roofList-CEuYGyIJ.js";import{u as se}from"./permitapp-ce4gSl32.js";import{_ as M}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{s as P}from"./index-CzXeB2Bk.js";import{s as ae}from"./index-V7EYxeR9.js";import{s as le}from"./index-LJUOvswb.js";import"./index-CHbROMbB.js";import"./useAxios-DbRiFSi1.js";import"./index-mEX6_Ljm.js";import"./index-uxy8iYVB.js";import"./index-BAXeqEsO.js";import"./index-BR_8Smdh.js";import"./index-DhCb3nMf.js";function ne(){const r=A(),{roofList:m}=I(r);p(!1);const g=oe(),{postGeneral:d}=te(),u=p(null),f=p(g.$state.generalpdfinput),h=p(!1),n=$({mtile:!1,adtile:!1,shingle:!1,metal:!1,slope:!1}),s=$({steep1:0,steep2:0,steep3:0,steep4:0,low1:0}),t=$({steep:0,lowslope:0,total:0}),a=$({steepData:"",slopeData:"",totalData:"",mtileChk:!1,adtileChk:!1,shingleChk:!1,slopeChk:!1,metalChk:!1,roofCheck:"",area:""});function D(L){u.value=L.value[0];const R={"Asphalt Shingle":{dim:"dim1",flag:"shingle",steepKey:"steep1"},"Adhesive Set Tile":{dim:"dim4",flag:"adtile",steepKey:"steep2"},"Mechanical Fastened Tile":{dim:"dim3",flag:"mtile",steepKey:"steep3"},"Metal Panel":{dim:"dim5",flag:"metal",steepKey:"steep4"},"Low Slope":{dim:"dim2",flag:"slope"}};Object.keys(n).forEach(y=>n[y]=!1),Object.keys(s).forEach(y=>s[y]=0),m.value.forEach(y=>{const v=R[y.item];if(v){const w=Number(y[v.dim])||0;n[v.flag]=!0,a[`${v.flag}Chk`]=!0,console.log(v.flag),v.flag==="slope"?s.low1=w:s[v.steepKey]=w}}),V()}async function V(){t.steep=s.steep1+s.steep2+s.steep3+s.steep4,t.lowslope=s.low1,t.total=t.steep+t.lowslope,a.area=t.total,a.steepData=t.steep,a.slopeData=t.lowslope,a.totalData=t.total,a.roofCheck=u.value,g.addgeneralpdfData(a),await d(a),h.value=!0}return{addRoof:D,roofArea:V,dataGeneral:a,generalType:f,isGeneralPageValid:h}}const ie=q("roofinput",{state:()=>({roofinput:[],id:0}),actions:{addCheck(r){this.roofinput.push({roofCheckdata:r,completed:!1})},reset(){this.roofinput=[]},persist:!0}}),re={class:"terminal"},de={class:"terminal-content"},ce={class:"content"},pe=["onClick"],me=15,ue={__name:"RoofSystemList",setup(r){const m=A(),{roofList:g}=I(m),{toggleCompleted:d}=I(m),u=["Initializing system...","Loading modules...","Connecting to server...","Server connection established.","Awaiting Roof System Selection..."],f=p([]);function h(){let n=0;const s=setInterval(()=>{n<u.length?(f.value.length>=me&&f.value.shift(),f.value.push(u[n]),console.log(u[n]),n++):clearInterval(s)},500)}return K(()=>{h()}),(n,s)=>(S(),k("div",re,[e("div",de,[(S(!0),k(z,null,E(f.value,(t,a)=>(S(),k("div",{key:a,class:"terminal-line"},C(t),1))),128)),(S(!0),k(z,null,E(x(g),t=>(S(),k("div",{key:t.id,class:"item"},[e("div",ce,[e("span",{class:H({completed:t.completed}),style:{color:"green"}},C(t.item)+" "+C(t.dim1)+" "+C(t.dim2)+" "+C(t.dim3)+" "+C(t.dim4)+" "+C(t.dim5),3),e("span",{onClick:T(a=>x(d)(t.id),["stop"])},"âœ”",8,pe)])]))),128))])]))}},fe=M(ue,[["__scopeId","data-v-77d320ce"]]),_=r=>(Q("data-v-d062a5bb"),r=r(),W(),r),he={class:"layout"},ve={class:"card glass"},_e=_(()=>e("i",{class:"pi pi-refresh"},null,-1)),ge=_(()=>e("h2",{class:"title"},"Roof System",-1)),ye={class:"field"},Se=_(()=>e("label",{for:"area"},"Square Footage",-1)),ke={class:"field"},be=_(()=>e("label",{for:"system"},"Roof System",-1)),Ce={class:"flex flex-wrap mt-4 space-y-6 justify-center gap-8"},xe={class:"flex items-center mt-4 space-y-6"},we=_(()=>e("label",{for:"newroof",class:"ml-2",style:{color:"#122620"}},"New Roof ",-1)),$e={class:"flex items-center mt-4 space-y-6"},Ve=_(()=>e("label",{for:"reroof",class:"ml-2",style:{color:"#122620"}},"Re-Roof ",-1)),Re={class:"footer"},Te=_(()=>e("br",null,null,-1)),De=_(()=>e("p",{class:"dz-title"},"For Images documents",-1)),Ie=_(()=>e("p",{class:"dz-sub"},[O("Drag & drop files here"),e("br"),O("or click to upload")],-1)),Ae=2,Me={__name:"RoofSystemForm",setup(r){var F,B;const m=se(),g=ie(),d=A(),u=[{name:" "},{name:"Asphalt Shingle"},{name:"Low Slope"},{name:"Mechanical Fastened Tile"},{name:"Adhesive Set Tile"},{name:"Metal Panel"}],f=u.slice(2),h=p(""),n=p(null),s=p(!1),t=p(!1),a=p((B=(F=m.$state.permitapp[0])==null?void 0:F.formdt)==null?void 0:B.checkIfBeach),D=J(a.value);X(()=>{console.log(m.$state,a.value,D.value),t.value=a.value===Ae,console.log(t.value,f)});const{addRoof:V,roofArea:L}=ne(),R=$({roofCheck:""});async function y(){var l,G,N;const i=(G=(l=n.value)==null?void 0:l.name)==null?void 0:G.trim();if(!i)return;const o=h.value,b={"Asphalt Shingle":()=>d.addSystemShingle(i,o),"Low Slope":()=>d.addSystemBur(i,o),"Mechanical Fastened Tile":()=>d.addSystemMTile(i,o),"Adhesive Set Tile":()=>d.addSystemATile(i,o),"Metal Panel":()=>d.addSystemMetal(i,o)};(N=b[i])==null||N.call(b),console.log(s.value,b),R.roofCheck=s.value,g.addCheck(R),w()}function v(){V(s),w()}function w(){h.value="",n.value=null}function j(){d.$reset()}return(i,o)=>{const b=ee;return S(),k("main",he,[e("aside",ve,[c(x(P),{class:"icon-btn",plain:"",text:"",onClick:j},{default:Y(()=>[_e]),_:1}),ge,e("form",{class:"grid-form",onSubmit:o[4]||(o[4]=T(()=>{},["prevent"]))},[e("div",ye,[Se,c(x(ae),{id:"area",modelValue:h.value,"onUpdate:modelValue":o[0]||(o[0]=l=>h.value=l),placeholder:"e.g. 1200"},null,8,["modelValue"])]),e("div",ke,[be,c(x(le),{id:"system",modelValue:n.value,"onUpdate:modelValue":o[1]||(o[1]=l=>n.value=l),options:t.value?x(f):u,optionLabel:"name",placeholder:"Select roof system",class:"w-full",onChange:y},null,8,["modelValue","options"])]),e("div",Ce,[e("div",xe,[c(b,{modelValue:s.value,"onUpdate:modelValue":o[2]||(o[2]=l=>s.value=l),invalid:!s.value,inputId:"newroof",name:"checked",value:"newroof"},null,8,["modelValue","invalid"]),we]),e("div",$e,[c(b,{modelValue:s.value,"onUpdate:modelValue":o[3]||(o[3]=l=>s.value=l),invalid:!s.value,inputId:"reroof",name:"checked",value:"reroof"},null,8,["modelValue","invalid"]),Ve])])],32),e("footer",Re,[c(x(P),{label:"Submit",severity:"contrast",raised:"",as:"router-link",to:"/dynamicstepper",onClick:v})]),Te,c(fe)]),e("section",{class:"card dropzone",onDragover:o[6]||(o[6]=T(l=>i.dragOver=!0,["prevent"])),onDragleave:o[7]||(o[7]=l=>i.dragOver=!1),onDrop:o[8]||(o[8]=T((...l)=>i.handleDrop&&i.handleDrop(...l),["prevent"]))},[De,Ie,e("input",{type:"file",accept:"application/pdf",multiple:"",class:"file-input",onChange:o[5]||(o[5]=(...l)=>i.handleFiles&&i.handleFiles(...l))},null,32)],32)])}}},Le=M(Me,[["__scopeId","data-v-d062a5bb"]]),Fe={id:"id",class:"grid grid-cols-3 gap-6"},Be={class:"roof-app",style:{"margin-left":"250px","margin-top":"20px",border:"none","border-radius":"12px","box-shadow":"4px 4px 16px rgb(22, 183, 183)","padding-bottom":"10px",position:"center","max-height":"400px",width:"500px",top:"5vh"}},Ge={__name:"RoofSystemApp",setup(r){return K(()=>{Z.init({duration:4500,easing:"ease-in-out",once:!1})}),(m,g)=>(S(),k("div",Fe,[e("div",Be,[c(Le)])]))}},Ne=M(Ge,[["__scopeId","data-v-d0495c4e"]]),ze={class:"grid grid-cols-2 gap-0"},Ee={"data-aos":"fade-up-right","data-aos-delay":"500",style:{"margin-top":"90px"}},lt={__name:"RoofSystem",setup(r){return(m,g)=>(S(),k("div",ze,[c(Ne),e("div",Ee,[c(U)])]))}};export{lt as default};
