import{C as B,i as a,e as g,o as i,c as u,f as l,F as G,x as X,t as h,X as Y,aa as j,O as q,ab as A,g as E,p as R,q as U,G as H,d as J,ad as K}from"./index-CikC1r1a.js";import{u as Q,a as W}from"./use-downloadpdf-DQ4BrlXW.js";import{u as N}from"./accountsStore-YvlTedbT.js";import{u as L}from"./permitapp-BZff4Oa3.js";import{_ as Z}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useAxios-Cc5xjXAN.js";const ee={class:"terminal"},ae={class:"terminal-content"},oe=8,te={__name:"Terminal",setup(O){const w=L(),{permitapp:y}=B(w),{accountUsers:b}=N();console.log(b);let m=a(),p=a();a();let v=a(),n=a();y.value.forEach((e,d)=>{m.value=e.formdt.permit,p.value=e.formdt.processNumber,v.value=e.formdt.address,n.value=e.formdt.contractor});const f=["Initializing system...","Loading modules...","Connecting to server...","Server connection established.",`${p.value}...`,`${v.value}...`,`${n.value}...`],r=a([]);function c(){let e=0;const d=setInterval(()=>{e<f.length?(r.value.length>=oe&&r.value.shift(),r.value.push(f[e]),e++):clearInterval(d)},1e3)}return g(()=>{c()}),g(()=>{}),(e,d)=>(i(),u("div",ee,[l("div",ae,[(i(!0),u(G,null,X(r.value,(t,x)=>(i(),u("div",{key:x,class:"terminal-line"},h(t),1))),128))])]))}},se=Z(te,[["__scopeId","data-v-5bd8f88a"]]),le={class:"card"},ne={class:"flex flex-col w-1/3 gap-2 shadow-lg shadow-cyan-800",style:{"margin-left":"550px","margin-top":"440px"}},re={class:"payment-widget"},ce=l("h2",{style:{color:"black"}},"Credit Card Payment",-1),de={key:0,class:"confirmation"},ie=49.99,he={__name:"Paymentprocessed",setup(O){var D,T,S,$;const w=L(),{accountUsers:y}=N(),b=a("TX123456789"),m=a(((T=(D=w.$state.permitapp[0])==null?void 0:D.formdt)==null?void 0:T.processNumber)||"");function p(){y.value.forEach((o,s)=>{dba.value=o.dba,console.log(o)})}g(()=>{p()});const v=a(!1),n=a(!1),f=a(!1);a(!1);const r=a(!1),c=a(!1),e=a({cardholderName:"",cardNumber:"",expiryDate:"",cvv:""});a(!1),a(!1);const{getNumber:d}=Q(m.value),t=W();B(t.$state),console.log(($=(S=t.$state.downloadinput[0])==null?void 0:S.downloadData)==null?void 0:$.download_url),N(),g(()=>{});const x=Y(()=>{var o,s;d(),setTimeout(()=>{r.value=!0},1e3),console.log(m.value),console.log((s=(o=t.downloadinput[0])==null?void 0:o.downloadData)==null?void 0:s.message)}),P=()=>{if(!e.value.cardholderName||!e.value.cardNumber||!e.value.expiryDate||!e.value.cvv){alert("Please fill out all fields.");return}c.value=!0,n.value=!0,setTimeout(()=>{e.value.cardholderName="",e.value.cardNumber="",e.value.expiryDate="",e.value.cvv="",c.value=!1,n.value=!1},2e3),z()};j(x,()=>{});const z=async()=>{var k,V,I,C;const o=(V=(k=t.downloadinput[0])==null?void 0:k.downloadData)==null?void 0:V.download_url;if(console.log(o),!o||o.length===0)return;console.log(o);const s=(C=(I=t.downloadinput[0])==null?void 0:I.downloadData)==null?void 0:C.download_url;if(!s)return;v.value=!0;const F=s,M="processnumber.zip",_=document.createElement("a");_.href=F,_.download=M,_.click(),_.remove(),f.value=!1};return(o,s)=>(i(),u("div",le,[q(E(R(K),{color:"#784EA7",size:"100px",style:{"margin-top":"500px","margin-left":"850px"}},null,512),[[A,n.value]]),l("div",ne,[E(se),l("div",re,[ce,U(" Thank you for your payment! Your transaction ID is "),l("strong",null,h(b.value),1),U(". "),l("form",{onSubmit:H(P,["prevent"])},null,32),c.value?(i(),u("div",de,[l("p",null,"Thank you, "+h(e.value.cardholderName)+"! Your payment of $"+h(ie)+" was processed.",1)])):J("",!0)])])]))}};export{he as default};
