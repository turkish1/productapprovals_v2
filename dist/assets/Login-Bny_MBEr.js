import{i as n,u as E,j as V,e as U,A as T,w as F,o as P,c as K,g as l,f as t,O as M,am as S,l as N,F as O,T as R,H as G,I as H}from"./index-DdTncIqs.js";import{s as L}from"./index-BjImOfjG.js";import{s as q}from"./index-DseMf25c.js";import{s as z}from"./index-BLiZ4bFF.js";import{s as J}from"./index-jw1TDYgY.js";import{s as Q}from"./index-D-aW_oSF.js";import{_ as W}from"./FloatingConfigurator-DSE7DoUy.js";import{u as X}from"./accountsStore-BtaY_GKJ.js";import{u as Y}from"./auth-XWq0k8U5.js";import{u as Z}from"./useAxios-CBcjjRmH.js";import{_ as ee}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-C0weFG-n.js";import"./index-CJ7nmVNq.js";import"./index-DpiMgWOh.js";const i=c=>(G("data-v-f6f9c94e"),c=c(),H(),c),se={id:"content",class:"flex items-center justify-center min-h-screen min-w-full overflow-hidden"},te={class:"flex flex-col items-center justify-center"},oe={"data-aos":"flip-up","data-aos-duration":"1000"},ae={style:{"border-radius":"56px",padding:"0.3rem"}},re={class:"container w-full py-20 px-8 sm:px-20",style:{"border-radius":"53px"}},ne=i(()=>t("label",{style:{color:"black"},for:"username",class:"block text-surface-900 dark:text-surface-0 text-black text-xl font-medium mb-2"},"Username",-1)),le=i(()=>t("label",{style:{color:"black"},for:"password1",class:"block text-surface-900 dark:text-surface-0 font-medium text-xl mb-2"},"Password",-1)),ie={class:"flex items-center justify-between mt-2 mb-8 gap-8"},ce={class:"flex items-center"},de=i(()=>t("label",{for:"rememberme1"},"Remember me",-1)),ue=i(()=>t("span",{class:"font-medium no-underline ml-2 text-right cursor-pointer text-contrast"},"Forgot password?",-1)),me=i(()=>t("p",{class:"m-0"},"Try another password Boris",-1)),pe={__name:"Login",setup(c){const u=n(""),_=n(""),b=n(!1),v=E(),h=n(!1),x=n([]);let g=V({});const j=n([]);let o=V({dba:"",email:"",cphone:"",expiration_date:"",name:"",projects:[],secondary_status:"",license:""});const w=Y();function I(){w.$reset()}U(()=>{T.init({duration:800,easing:"ease-in-out",once:!0})}),U(I,()=>{console.log(w.$reset)});async function m(){let e="https://us-east-1.aws.data.mongodb-api.com/app/data-aquwo/endpoint/getaccounts";const{execute:a,then:s,data:d}=Z(e,{method:"GET"},{immediate:!1});let p=n([]);p.value=a().then(y=>{g=d.value;for(const[k,f]of Object.entries(g))x.value.push(f)})}F($,()=>{});const{accountUsers:fe,getUser:_e,addUser:C}=X();function $(){x.value.forEach((e,a)=>{for(let s=0;s<e.length;s++)u.value===e[s].password&&(j.value.push(e[s]),console.log(e[s].dba,o.dba,o),o.email=e[s].email,o.name=e[s].name,o.dba=e[s].dba,o.cphone=e[s].cphone,o.expiration_date=e[s].expiration_date,o.projects=e[s].projects,o.secondary_status=e[s].secondary_status,o.license=e[s].license,C(o),B());console.log("UserData",o)})}function A(){v.push("/registration")}const B=()=>{v.push("/permitapp")};return(e,a)=>{const s=W,d=Q,p=J,y=z,k=q,f=L,D=R;return P(),K(O,null,[l(s),t("div",se,[t("div",te,[t("div",oe,[t("div",ae,[t("div",re,[t("div",null,[l(d,{label:"Click to Register",severity:"secondary",raised:"",style:{"margin-left":"150px"},onClick:A}),ne,l(p,{id:"username",type:"text",placeholder:"username",class:"w-full md:w-[30rem] mb-8",modelValue:u.value,"onUpdate:modelValue":a[0]||(a[0]=r=>u.value=r),error:e.userError},null,8,["modelValue","error"]),le,M(l(y,{id:"password1",modelValue:_.value,"onUpdate:modelValue":a[1]||(a[1]=r=>_.value=r),error:e.errorMessage,placeholder:"Password",toggleMask:!0,class:"mb-4",onKeyup:S(m,["enter"]),fluid:"",feedback:!1},null,8,["modelValue","error"]),[[D,"Press Enter after value",void 0,{bottom:!0}]]),t("div",ie,[t("div",ce,[l(k,{modelValue:b.value,"onUpdate:modelValue":a[2]||(a[2]=r=>b.value=r),id:"rememberme1",binary:"",class:"mr-2"},null,8,["modelValue"]),de]),ue]),l(d,{id:"singin",class:"w-1/3","data-testid":"SignIn",label:"Sign In",severity:"secondary",onClick:m,raised:"",onKeyup:S(m,["enter"])})])])])])]),l(f,{visible:h.value,"onUpdate:visible":a[3]||(a[3]=r=>h.value=r),maximizable:"",modal:"",header:"Header",style:{width:"50rem"},breakpoints:{"1199px":"75vw","575px":"90vw"}},{default:N(()=>[me]),_:1},8,["visible"])])],64)}}},$e=ee(pe,[["__scopeId","data-v-f6f9c94e"]]);export{$e as default};
