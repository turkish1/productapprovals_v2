import{E as Jl,P as Zl,c as sa,d as oa,D as ql,r as s,a as Kl,a8 as aa,as as ca,at as pa,f as ft,o as Ql,ao as Ll,e as wt,i as ga,g as ma,ap as Ta,k as Wa,F as yl,a2 as _l,a1 as es,am as ol,t as il,V as ts,p as as,j as ls}from"./index-0CNf4FOS.js";import{s as ss}from"./index-D4A16WiY.js";import{s as os}from"./index-BMSrKFsw.js";import{s as is}from"./index-CT_TlSk-.js";import{u as ns}from"./pdfsignStore-B8gqZXW-.js";import{u as ds}from"./useAxios-vy1_uK4A.js";import{u as ua}from"./accountsStore-DID0taoP.js";import{u as dl}from"./generalpageStore-MzmfgcUs.js";import{u as ha}from"./permitapp-Ywl7TUys.js";import{u as la}from"./roofList-C1zqftHB.js";import{E as Ht}from"./jspdf.es.min-iv1XG58W.js";import{u as nl}from"./burpdfStore-CG6kTQaA.js";import{u as cs,a as ps,b as us,c as hs}from"./dripEdgeMechTileStore-_TgJss-J.js";import{a as xs,u as vs,b as gs}from"./systemfStore-DIpv9ZF3.js";import{a as ms,u as Ts}from"./tilevalueStore-pLRgTFpf.js";import{u as cl,a as pl}from"./tilesysfStore-DLSxwQeZ.js";import{u as Ws}from"./use-tileMechanical-amsWxC2M.js";import{_ as rs}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-SBC490fG.js";import"./reset-store-Bdo4bYOe.js";var fs=function(G){var m=G.dt;return`
.p-skeleton {
    overflow: hidden;
    background: `.concat(m("skeleton.background"),`;
    border-radius: `).concat(m("skeleton.border.radius"),`;
}

.p-skeleton::after {
    content: "";
    animation: p-skeleton-animation 1.2s infinite;
    height: 100%;
    left: 0;
    position: absolute;
    right: 0;
    top: 0;
    transform: translateX(-100%);
    z-index: 1;
    background: linear-gradient( 90deg, rgba(255, 255, 255, 0), `).concat(m("skeleton.animation.background"),`, rgba(255, 255, 255, 0) );
}

.p-skeleton-circle {
    border-radius: 50%;
}

.p-skeleton-animation-none::after {
    animation: none;
}

@keyframes p-skeleton-animation {
    from {
        transform: translateX(-100%);
    }
    to {
        transform: translateX(100%);
    }
}
`)},$s={root:{position:"relative"}},Ss={root:function(G){var m=G.props;return["p-skeleton p-component",{"p-skeleton-circle":m.shape==="circle","p-skeleton-animation-none":m.animation==="none"}]}},Vs=Jl.extend({name:"skeleton",theme:fs,classes:Ss,inlineStyles:$s}),bs={name:"BaseSkeleton",extends:Zl,props:{shape:{type:String,default:"rectangle"},size:{type:String,default:null},width:{type:String,default:"100%"},height:{type:String,default:"1rem"},borderRadius:{type:String,default:null},animation:{type:String,default:"wave"}},style:Vs,provide:function(){return{$pcSkeleton:this,$parentInstance:this}}},ul={name:"Skeleton",extends:bs,inheritAttrs:!1,computed:{containerStyle:function(){return this.size?{width:this.size,height:this.size,borderRadius:this.borderRadius}:{width:this.width,height:this.height,borderRadius:this.borderRadius}}}};function Ds(ne,G,m,y,$,h){return sa(),oa("div",ql({class:ne.cx("root"),style:[ne.sx("root"),h.containerStyle],"aria-hidden":"true"},ne.ptmi("root")),null,16)}ul.render=Ds;function As(ne){const G=s(),m=s(ne),y=s(""),$=Kl({status:"",message:"",isFinished:"",isLoading:""}),h=s(),k=s("");let B="https://681byz7j80.execute-api.us-east-1.amazonaws.com/sendmenumber/sendmenumber";const{execute:Y,then:pe,data:Me}=ds(B,{method:"GET"},{immediate:!1});function He(e){console.log(e),G.value=e,console.log(m.value),y.value=G.value+"/",x()}const{confirmResponse:_,addResponse:ue}=ns(),x=async()=>{try{const e=await Y({params:{processnumber:y.value}}).then(o=>{h.value=Me.value,$.status=o.response.value.status,$.message=o.data.value,$.isFinished=o.isFinished,$.isLoading=o.isLoading,console.log($.status)});return ue($),$}catch(e){console.log("Error, fectching data",e)}};return{error:k,getNumbers:He,procNum:h,sentInput:m,fetchData:x,confirmResponse:_,results:$}}const Fs={__name:"Generalpagepdf",setup(ne){var ue,x,e,o,Te,ke,We;const{getUser:G}=ua();let m=s(!1);const y=ha();la();const $=dl(),h=s(((x=(ue=y.$state.permitapp[0])==null?void 0:ue.formdt)==null?void 0:x.address)||""),k=s(((o=(e=y.$state.permitapp[0])==null?void 0:e.formdt)==null?void 0:o.permit)||""),B=s(((ke=(Te=y.$state.permitapp[0])==null?void 0:Te.formdt)==null?void 0:ke.processNumber)||""),Y=s(((We=G.value[0])==null?void 0:We.dba)||""),pe=s(""),Me=s($.$state.generalpdfinput);function He(){Me.value.length!==1&&(m.value=!0)}aa(()=>{He(),_()}),ca(async()=>{await pa(m).toBe(!0),_()});const _=()=>{if($.$state.generalpdfinput.length===0)console.log("lenghth is   zero");else{const n=new Ht({orientation:"portrait",unit:"mm",format:"a4",compress:!0});n.setGState(new n.GState({opacity:.9}));const H="Approved";n.setFontSize(24),n.setTextColor("black"),n.setFont("helvetica"),n.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const u=new Image,ot=new Image,Ee=new Image;u.src="/demo/images/officepaper.jpeg",ot.src="/demo/images/logo.jpeg",Ee.src="/demo/images/DragAndDrop.jpeg";const l=725,a=n.getPageInfo(1),it=a.pageContext.mediaBox.topRightX,nt=a.pageContext.mediaBox.topRightY;console.log(it);const i=s(0),$t=s(0);var q=595.28-585.28,g=nt-l;i.value=q,$t.value=g,console.log(i.value,$t.value),n.addImage(ot,"JPEG",10,10,50,30),n.addImage(u,"JPEG",0,0,210,297),n.setFontSize(12),n.setTextColor("green");var Ge=new Date,Ne=Ge.toLocaleDateString();n.text(H,10,270,{align:"left"});const Ct=n.getTextWidth(H);n.text("on: "+Ne,Ct+15,270),n.text(`${B.value}`,10,258,{align:"left"}),n.getTextWidth(`${B.value}`),console.log(h,k,B,Y);const dt=s(!1),St=s(!1),ct=s(!1),je=s(!1),T=s(!1);n.setFontSize(12);const R=()=>{n.setFontSize(10),n.setTextColor(0),n.text("2023 HVHZ  mEPermit General Information Page",70,20,{maxWidth:"170"}),n.line(10,41,195,41)};n.setTextColor(0),n.circle(185,38,2,"FD"),n.text("I agree",165,39),R(),n.setFontSize(12),n.setFontSize(10);const K=[{category:"DBA",value:`${Y.value}`},{category:"Job Address",value:`${h.value}`},{category:"meProcess Number",value:`${B.value}`},{category:"Master Permit",value:`${k.value}`}];let Je=10,ze=60,Ze=50;n.setFontSize(10),K.forEach((ce,be)=>{const ae=Ze+be*10;n.text(ce.category,Je,ae),n.text(ce.value,ze,ae),n.getTextWidth(ce.category);const ye=n.getTextWidth(ce.value)*2;n.line(ze,ae+2,ze+ye,ae+2)}),n.setTextColor("black"),n.setFontSize(10);const z=100,pt=s(!1),Vt=s(!1);console.log($.$state.generalpdfinput[0].generalpdfData.roofCheck[0]),$.$state.generalpdfinput[0].generalpdfData.roofCheck[0]==="reroof"?(pt.value=!0,console.log(pt.value)):Vt.value=!0,i.value=q+70,g=z-15,console.log(g);const w=new Ht.API.AcroFormCheckBox;console.log(w),n.text("Re-Roof: ",i.value,g);const re=g-3,we=pt.value===!0?n.rect(i.value+20,re,4,4,"FD"):n.rect(i.value+20,re,4,4);i.value=q+120,g=z-15,console.log(g),n.text("New Roof: ",i.value,g);const ge=Vt.value===!0?n.rect(i.value+20,re,4,4,"FD"):n.rect(i.value+20,re,4,4);console.log(we,ge);const he="Total: ",me="Low Slope: ",Ke="Steep Slope: ",L=s($.$state.generalpdfinput[0].generalpdfData.totalData),Qe=s($.$state.generalpdfinput[0].generalpdfData.slopeData),fe=s($.$state.generalpdfinput[0].generalpdfData.steepData);console.log($.$state.generalpdfinput[0].generalpdfData),i.value=q;const bt=n.getTextWidth(me),p=n.getTextWidth(`${Qe.value}`),Le=i.value+2;n.text(me,Le,z);const te=bt+Le;n.text(`${Qe.value}`,te,z),n.line(te,z,te+p,z),i.value=te+p;const Pt=n.getTextWidth(Ke),Ce=n.getTextWidth(`${fe.value}`),ut=i.value+2;n.text(Ke,ut,z);const c=Pt+ut;n.text(`${fe.value}`,c,z),n.line(c,z,c+Ce,z),console.log(z,g),g=z+10,i.value=c+Ce,console.log(i.value);const Bt=n.getTextWidth(he),ht=n.getTextWidth(`${L.value}`),xt=i.value+2;n.text(he,xt,z);const de=Bt+xt;n.text(`${L.value}`,de,z),n.line(de,z,de+ht,z),i.value=de+ht,console.log($.$state.generalpdfinput[0]),$.$state.generalpdfinput[0].generalpdfData.slopeChk===!0&&(T.value=!0,console.log("Slope Checked")),$.$state.generalpdfinput[0].generalpdfData.adtileChk===!0&&(dt.value=!0),$.$state.generalpdfinput[0].generalpdfData.metalChk===!0&&(St.value=!0),$.$state.generalpdfinput[0].generalpdfData.mtileChk===!0&&(ct.value=!0),$.$state.generalpdfinput[0].generalpdfData.shingleChk===!0&&(je.value=!0,console.log("Shingle Checked")),i.value=q,g=g+10,console.log(g);const $e=new Ht.API.AcroFormCheckBox;n.text("Low Slope: ",q,g);const Dt=g-3;$e.fieldName="CheckBox1",$e.Rect=[q+20,Dt,4,4],$e.value=T.value===!0?"On":"Off",$e.appearanceState=T.value===!0?"On":"Off",i.value=q+20,n.addField($e);const t=i.value+10,xe=new Ht.API.AcroFormCheckBox;n.text("Mechanical Fastened Tile: ",t,g);const Rt=g-3;xe.fieldName="CheckBox2",xe.Rect=[t+45,Rt,4,4],xe.value=T.value===!0?"On":"Off",xe.appearanceState=T.value===!0?"On":"Off",i.value=t+20,n.addField(xe);const ee=i.value+30,Pe=new Ht.API.AcroFormCheckBox;n.text("Adhesive Set Tile: ",ee,g);const Be=g-3;Pe.fieldName="CheckBox3",Pe.Rect=[ee+35,Be,4,4],Pe.value=dt.value===!0?"On":"Off",Pe.appearanceState=dt.value===!0?"On":"Off",i.value=ee+10,n.addField(Pe);const At=i.value+35,d=new Ht.API.AcroFormCheckBox;n.text("Shingle: ",At,g);const Ft=g-3;d.fieldName="CheckBox4",d.Rect=[At+20,Ft,4,4],d.value=je.value===!0?"On":"Off",d.appearanceState=je.value===!0?"On":"Off",i.value=At+20,n.addField(d);const Se=i.value+25,Ve=new Ht.API.AcroFormCheckBox;n.text("Metal Panel: ",Se,g);const Re=g-3;Ve.fieldName="CheckBox5",Ve.Rect=[Se+20,Re,4,4],Ve.value=St.value===!0?"on":"Off",Ve.appearanceState=St.value===!0?"On":"Off",i.value=Se+20,n.addField(Ve),g=g+10,n.addImage(Ee,"JPEG",q+40,g,120,120);const Xt="GeneralPage.pdf",Oe=n.output("blob");(async(ce,be)=>{const ae=ce,ye=ae;console.log(ye);const _e=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${B.value}/${ye}`;try{const De=await fetch(_e,{method:"PUT",headers:{"Content-Type":ae.type},body:be});De.ok?(pe.value=_e,alert("File uploaded successfully!")):alert(`Failed to upload file. Status: ${De.status}`)}catch(De){console.error("Error uploading file:",De),alert("An error occurred while uploading the file.")}})(Xt,Oe)}};return(q,g)=>(sa(),oa("div",null,[ft("button",{onClick:_},"Download PDF")]))}},Xs={__name:"LowSlopepdf",setup(ne){var o,Te,ke,We,q,g,Ge,Ne;const{getUser:G}=ua(),m=ha(),y=la(),$=nl(),h=s(((o=y.$state.roofList[0])==null?void 0:o.dim2)||""),k=s(((ke=(Te=m.$state.permitapp[0])==null?void 0:Te.formdt)==null?void 0:ke.address)||""),B=s(((q=(We=m.$state.permitapp[0])==null?void 0:We.formdt)==null?void 0:q.muni)||""),Y=s(((Ge=(g=m.$state.permitapp[0])==null?void 0:g.formdt)==null?void 0:Ge.processNumber)||""),pe=cs(),Me=s(((Ne=G.value[0])==null?void 0:Ne.dba)||""),He=s($.$state.burpdfinput);let _=s(!1);const ue=s("");function x(){He.value.length!==1&&(_.value=!0,e())}aa(()=>{x()}),ca(async()=>{await pa(_).toBe(!0)});const e=()=>{const n=nl();if(n.$state.burpdfinput.length===0)console.log("lenghth is zero");else{const l=s(n.$state.burpdfinput[0].burpdfData.height),a=s(n.$state.burpdfinput[0].burpdfData.slope),it=s(n.$state.burpdfinput[0].burpdfData.per),nt=s(n.$state.burpdfinput[0].burpdfData.deckType),i=new Ht({orientation:"portrait",unit:"mm",format:"a4",compress:!0});i.setGState(new i.GState({opacity:.9}));const $t="Approved";i.setFontSize(24),i.setTextColor("black"),i.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const Ct=new Image,dt=new Image;Ct.src="/demo/images/officepaper.jpeg",dt.src="/demo/images/logo.jpeg";const St=725,ct=i.getPageInfo(1);ct.pageContext.mediaBox.topRightX;const je=ct.pageContext.mediaBox.topRightY,T=s(0),R=s(0);var H=595.28-585.28,u=je-St;T.value=H,R.value=u,console.log(T.value,R.value),i.addImage(dt,"JPEG",10,2,50,30),i.addImage(Ct,"JPEG",0,0,210,297),i.setFontSize(14),i.setTextColor("green");var ot=new Date,Ee=ot.toLocaleDateString();i.text($t,10,270,{align:"left"});const K=i.getTextWidth($t);i.text("on: "+Ee,K+15,270),i.text(`${Y.value}`,10,280,{align:"left"});const Je=i.getTextWidth(`${Y.value}`);i.text(`${B.value}`,Je+15,280),i.setFontSize(12);const ze=()=>{i.setFontSize(10),i.setTextColor(0),i.text('The low slope Built Up Roof (BUR) Assembly shall be installed in compliance with the HVHZ portions of Chapter 15 found in the 2023 Florida Building Code and the HVHZ Roofing Application Standards (RAS), RAS-111, RAS-117 and RAS-128. This roof assembly shall also comply with the listed requirements for a Class "A" fire rating including roof slope (incline), components and a fire barrier when required. The mePermit applicant agrees to comply with these installation requirements when obtaining this permit.',10,25,{maxWidth:"170"}),i.line(10,45,195,45)};i.setTextColor("black"),i.circle(185,40,2,"FD"),i.text("I agree",165,41),ze(),i.setFontSize(12),i.setFontSize(10);const Ze=[{category:"DBA",value:`${Me.value}`},{category:"Municipality",value:`${B.value}`},{category:"Job Address",value:`${k.value}`},{category:"meProcess Number",value:`${Y.value}`}];let qe=10,z=60,pt=50;i.setFontSize(10),Ze.forEach((b,f)=>{const V=pt+f*10;i.text(b.category,qe,V),i.text(b.value,z,V),i.getTextWidth(b.category);const F=i.getTextWidth(b.value)*2;i.line(z,V+2,z+F,V+2)}),i.setFontSize(10);const w=100,re="Roof Area: ",we="Decktype: ",ge="Mean Roof Height: ",he="Roof Slope: ",me="Roof Perimeter: ",Ke="Type of Low Slope BUR Material: ",L="Type of Low Slope BUR System: ",Qe="Attach P(1') Prime using P(1) Field Prescriptive Basesheet: ",fe="Attach P(2) Perimeter using P(3) Corner Prescriptive: ",bt=s(n.$state.burpdfinput[1].burpdfData.burMaterial),p=s(n.$state.burpdfinput[1].burpdfData.burSystem),Le=s(n.$state.burpdfinput[1].burpdfData.p1),te=s(n.$state.burpdfinput[1].burpdfData.p3);T.value=H;const Pt=i.getTextWidth(re),Ce=i.getTextWidth(`${h.value}`),ut=T.value;i.text(re,ut,w);const c=Pt+ut;i.text(`${h.value}`,c,w),i.line(c,w,c+Ce,w),T.value=c+Ce;const Bt=i.getTextWidth(ge),ht=i.getTextWidth(`${l.value}`),xt=T.value+2;i.text(ge,xt,w);const de=Bt+xt;i.text(`${l.value}`,de,w),i.line(de,w,de+ht,w),T.value=de+ht;const $e=i.getTextWidth(he),Dt=i.getTextWidth(`${a.value}`),t=T.value+2;i.text(he,t,w);const xe=$e+t;i.text(`${a.value}`,xe,w),i.line(xe,w,xe+Dt,w),T.value=xe+Dt;const Rt=i.getTextWidth(me),ee=i.getTextWidth(`${it.value}`),Pe=T.value+2;i.text(me,Pe,w);const Be=Rt+Pe;i.text(`${it.value}`,Be,w),i.line(Be,w,Be+ee,w),console.log(w,u),u=w+10,T.value=Be+ee;const At=i.getTextWidth(we),d=i.getTextWidth(`${nt.value}`),Ft=H;i.text(we,Ft,u);const Se=At+Ft;i.text(`${nt.value}`,Se,u),i.line(Se,u,Se+d,u),u=u+10,T.value=H;const Ve="DripEdge Materiall: ",Re="DripEdge Size: ",Xt=s(pe.$state.dripinput[0].dripData),Oe=s(pe.$state.dripinput[3].dripData),Ot=i.getTextWidth(Ve),ce=i.getTextWidth(`${Xt.value}`),be=H;i.text(Ve,be,u);const ae=Ot+be;i.text(`${Xt.value}`,ae,u),i.line(ae,u,ae+ce,u),u=u+10;const ye=i.getTextWidth(Re),_e=i.getTextWidth(`${Oe.value}`),De=H;i.text(Re,De,u);const vt=ye+De;i.text(`${Oe.value}`,vt,u),i.line(vt,u,vt+_e,u),u=u+10;const Gt=i.getTextWidth(Ke),It=i.getTextWidth(`${bt.value}`),Mt=T.value;i.text(Ke,Mt,u);const Ae=Gt+12;i.text(`${bt.value}`,Ae,u),i.line(Ae,u,Ae+It,u),T.value=Ae+It,u=u+10,T.value=H,i.setFontSize(9),i.getTextWidth(Qe);const gt=i.getTextWidth(`${p.value}`),Ie=T.value;i.text(L,Ie,u),u=u+10,T.value=H;const Ue=T.value;i.text(`${p.value}`,Ue,u),i.line(Ue,u,Ue+gt,u),u=u+10,i.setFontSize(10),i.getTextWidth(Qe);const qt=i.getTextWidth(`${Le.value}`),O=H;i.text(Qe,O,u),u=u+7;const Kt=H;i.text(`${Le.value}`,Kt,u),i.line(Kt,u,Kt+qt+70,u),u=u+10,T.value=H;const J=i.getTextWidth(`${te.value}`),le=T.value;i.text(fe,le,u),u=u+7,T.value=H;const v=T.value;i.text(`${te.value}`,v,u),i.line(v,u,v+J+70,u),u=u+10;const W="LowSlope.pdf",r=i.output("blob");(async(b,f)=>{const V=b,F=V;console.log(F);const D=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${Y}/${F}`;try{const X=await fetch(D,{method:"PUT",headers:{"Content-Type":V.type},body:f});X.ok?(ue.value=D,alert("File uploaded successfully!")):alert(`Failed to upload file. Status: ${X.status}`)}catch(X){console.error("Error uploading file:",X),alert("An error occurred while uploading the file.")}})(W,r)}};return(n,H)=>(sa(),oa("div"))}},Ms={__name:"Shingle",setup(ne){const{getUser:G}=ua(),m=xs(),y=ha(),$=la(),h=vs(),k=gs(),B=la(),Y=ps(),pe=s(B.$state.roofList);let Me=s(!1);const He=aa(()=>{if(console.log(pe),pe.value.length===0)return"";pe.value[0].item==="Asphalt Shingle"&&(Me.value=!0,_())});ca(async()=>{await pa(He).toBe(!0),console.log(He)});const _=()=>{if(h.$state.inputshingle.length===0)console.log("lenghth is zero");else{console.log(m,k);let Te=s(!1),ke=s(!1);m.$state.systeminput.length!==0&&(ke=!0,console.log(ke)),k.$state.polyinput.length!==0&&(Te=!0,console.log(Te));const We=s(y.$state.permitapp[0].formdt.address),q=s(y.$state.permitapp[0].formdt.muni),g=s(y.$state.permitapp[0].formdt.processNumber),Ge=s(G.value[0].dba),Ne=s(h.$state.inputshingle[0].shingleData.height),n=s(h.$state.inputshingle[0].shingleData.slope),H=s(h.$state.inputshingle[0].shingleData.deckType),u=s($.$state.roofList[0].dim1),ot=g.value.length!==0?g.value:"files",Ee=s(""),l=new Ht({orientation:"portrait",unit:"mm",format:"a4",compress:!0});l.setGState(new l.GState({opacity:.8}));const a="Approved";l.setFontSize(24),l.setTextColor(150,150,150),l.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const it=new Image,nt=new Image;it.src="/demo/images/officepaper.jpeg",nt.src="/demo/images/logo.jpeg",l.addImage(nt,"JPEG",10,10,50,30),l.addImage(it,"JPEG",0,0,210,297),l.setFontSize(20),l.setTextColor(190,190,190);var ue=new Date,x=ue.toLocaleDateString();l.text(a,10,270,{align:"left"});const i=l.getTextWidth(a);l.text("on: "+x,i+15,270),l.text(`${g.value}`,10,280,{align:"left"});const $t=l.getTextWidth(`${g.value}`);l.text(`${q.value}`,$t+15,280),l.setFontSize(12);const Ct=()=>{l.setFontSize(12),l.setTextColor(0),l.text("The Shingle roof system and its components shall be installed in strict compliance  with the HVHZportions of Chapter 15 FBC, the HVHZ Roof Application Standards(RAS) 111 & 115, and the submitted MDC(NOA) Notice of Acceptance(s).The mePermit applicant agrees to comply with these installation requirements when obtaining this permit.",10,20,{maxWidth:"200"}),l.line(10,41,195,41)};l.setTextColor(0),l.circle(185,38,2,"FD"),l.text("I agree",165,39),Ct(),l.setFontSize(12),l.setFontSize(14);const dt=[{category:"DBA",value:`${Ge.value}`},{category:"Municipality",value:`${q.value}`},{category:"Job Address",value:`${We.value}`},{category:"meProcess Number",value:`${g.value}`}];let St=10,ct=60,je=50;l.setFontSize(12),dt.forEach((v,W)=>{const r=je+W*10;l.text(v.category,St,r),l.text(v.value,ct,r),l.getTextWidth(v.category);const S=l.getTextWidth(v.value)*2;l.line(ct,r+2,ct+S,r+2)}),l.setFontSize(12);const T=2,R=100;l.text("Roof Area:",10,R),l.text(`${u.value}`,35,R),l.line(35,R+T,45,R+T),l.text("Mean Roof Height:",50,R);const K=l.getTextWidth("Mean Roof Height:");l.text(`${Ne.value}`,R,R),l.line(90,R+T,70+K,R+T),l.text("Roof Slope:",80+K,R);const Je=105+K;l.text(`${n.value}`,Je,R);const ze=l.getTextWidth(`${n.value}`)*2;l.line(Je,R+T,Je+ze,R+T);const Ze=108;l.text("Decktype:",10,Ze);const qe=30+ze;l.text(`${H.value}`,qe,Ze);const z=l.getTextWidth(`${H.value}`)*2;l.line(qe,Ze,qe+z,Ze);const pt="Shingle NOA Number: ",Vt="Shingle Applicant: ",w="Shingle Material: ",re="Shingle Description: ",we="Fastened Underlayment(UDL)NOA: ",ge="UDL NOA Applicant: ",he="Fastened UDL Material: ",me="UDL Description: ",Ke="Perscriptive: ",L=179,Qe=725,fe=l.getPageInfo(1);console.log(fe),fe.pageContext.mediaBox.topRightX;const bt=fe.pageContext.mediaBox.topRightY,p=s(0),Le=s(0);var e=595.28-585.28,o=bt-Qe;p.value=e,Le.value=o,console.log(p.value,Le.value);const te=s(h.$state.inputshingle[0].shingleData.noa),Pt=s(h.$state.inputshingle[0].shingleData.applicant),Ce=s(h.$state.inputshingle[0].shingleData.material),ut=s(h.$state.inputshingle[0].shingleData.description),c=s(h.$state.inputshingle[0].shingleData.prescriptiveSelection),Bt=l.getTextWidth(Ke),ht=l.getTextWidth(`${c.value}`),xt=e;l.text(Ke,xt,o);const de=Bt+10;l.text(`${c.value}`,de,o),l.line(de,o,de+ht,o),o=o+10;const $e="DripEdge Materiall: ",Dt="DripEdge Size: ",t=s(Y.$state.dripinputshin[0].dripShinData),xe=s(Y.$state.dripinputshin[3].dripShinData),Rt=l.getTextWidth($e),ee=l.getTextWidth(`${t.value}`),Pe=e;l.text($e,Pe,o);const Be=Rt+Pe;l.text(`${t.value}`,Be,o),l.line(Be,o,Be+ee,o),o=o+10;const At=l.getTextWidth(Dt),d=l.getTextWidth(`${xe.value}`),Ft=e;l.text(Dt,Ft,o);const Se=At+Ft;l.text(`${xe.value}`,Se,o),l.line(Se,o,Se+d,o),o=o+10;const Ve=l.getTextWidth(Vt),Re=l.getTextWidth(`${Pt.value}`),Xt=e;l.text(Vt,Xt,o);const Oe=Xt+Ve;l.text(`${Pt.value}`,Oe,o),l.line(Oe,o,Oe+Re,o),p.value=Oe+Re;const Ot=l.getTextWidth(pt),ce=l.getTextWidth(`${te.value}`),be=p.value+3;l.text(pt,be,o);const ae=Ot+be;l.text(`${te.value}`,ae,o),l.line(ae,o,ae+ce,o),p.value=ae+ce,p.value>L&&(o=o+10),console.log(p.value,L);const ye=p.value+2,_e=l.getTextWidth(w),De=l.getTextWidth(`${Ce.value}`);l.text(w,ye,o);const vt=ye+_e;l.text(`${Ce.value}`,vt,o),l.line(vt,o,vt+De,o),p.value=vt+De,p.value>L&&(o=o+10),console.log(p.value,L);const Gt=l.getTextWidth(`${ut.value}`),It=l.getTextWidth(re),Mt=e;l.text(re,Mt,o);const Ae=Mt+It;if(l.text(`${ut.value}`,Ae,o),l.line(Ae,o,Ae+Gt,o),p.value=Ae+Gt,o=o+10,console.log(k.$state.polyinput.length),k.$state.polyinput.length===0){const v="n/a",W="n/a",r="n/a",S="n/a",b=l.getTextWidth(we),f=l.getTextWidth(v),V=e;l.text(we,V,o);const F=V+b;l.text(v,F,o),l.line(F,o,F+f,o),p.value=F+f,console.log(p.value);const D=l.getTextWidth(ge),X=l.getTextWidth(W),I=p.value+2;l.text(ge,I,o);const C=I+D;l.text(W,C,o),l.line(C,o,C+X,o),p.value=C+X,console.log(p.value),p.value>L&&(o=o+10);const M=p.value+2,P=l.getTextWidth(he),Z=l.getTextWidth(r);l.text(he,M,o);const N=M+P;l.text(r,N,o),l.line(N,o,N+Z,o),p.value=N+Z,console.log(p.value),p.value>L&&(o=o+10),console.log(p.value);const j=l.getTextWidth(me),A=l.getTextWidth(S),E=e,Q=E+A;console.log(Q),l.text(me,E,o),Q>L&&print(Q);const U=E+j;l.text(S,U,o),l.line(U,o,U+A,o),p.value=U+A,o=o+10}else{const v=s(k.$state.polyinput[0].polyData.noa),W=s(k.$state.polyinput[0].polyData.applicant),r=s(k.$state.polyinput[0].polyData.material),S=s(k.$state.polyinput[0].polyData.description),b=l.getTextWidth(we),f=l.getTextWidth(`${v.value}`),V=e;l.text(we,V,o);const F=Mt+b;l.text(`${v.value}`,F,o),l.line(F,o,F+f,o),p.value=F+f;const D=l.getTextWidth(ge),X=l.getTextWidth(`${W.value}`),I=p.value+2;l.text(ge,I,o);const C=I+D;l.text(`${W.value}`,C,o),l.line(C,o,C+X,o),p.value=C+X,p.value>L&&(o=o+10);const M=e,P=l.getTextWidth(he),Z=l.getTextWidth(`${r.value}`);l.text(he,M,o);const N=M+P;l.text(`${r.value}`,N,o),l.line(N,o,N+Z,o),p.value=N+Z,p.value>L&&(o=o+10),console.log(p.value);const j=l.getTextWidth(me),A=l.getTextWidth(`${S.value}`),E=p.value+2,Q=E+A;console.log(Q),l.text("UDL Description:",E,o),Q>L&&print(Q);const U=E+j;l.text(`${S.value}`,U,o),l.line(U,o,U+A,o),p.value=U+A,console.log(p.value),o=o+10}const gt="Self Adhered NOA: ",Ie="S/A NOA Applicant: ",Ue="S/A System F: ",qt="S/A Material: ",O="S/A Description: ";if(console.log(m.$state.systeminput.length),m.$state.systeminput.length===0){const v="n/a",W="n/a",r="n/a",S="n/a",b="n/a",f=l.getTextWidth(gt),V=l.getTextWidth(v),F=e;l.text(gt,F,o);const D=F+f;l.text(v,D,o),l.line(D,o,D+V,o),p.value=D+V,console.log(p.value);const X=l.getTextWidth(Ie),I=l.getTextWidth(W),C=p.value+3;l.text(Ie,C,o);const M=C+X;l.text(W,M,o),l.line(M,o,M+I,o),p.value=M+I,console.log(p.value);const P=l.getTextWidth(Ue),Z=p.value+3;l.text(Ue,Z,o);const N=Z+P;l.text(r,N,o),l.line(N,o,N+P,o),p.value=N+P,console.log(p.value),o=o+10;const j=l.getTextWidth(qt),A=l.getTextWidth(S),E=e;l.text(qt,E,o);const Q=E+j;l.text(S,Q,o),l.line(Q,o,Q+A,o),p.value=Q+A,console.log(p.value);const U=l.getTextWidth(O),se=l.getTextWidth(b),Ye=p.value+3;l.text(O,Ye,o);const mt=Ye+U;l.text(b,mt,o),l.line(mt,o,mt+se,o),p.value=mt+se,console.log(p.value)}else{console.log("Entered sbs line 455",m.$state);const v=s(m.$state.systeminput[0].systemData.noa),W=s(m.$state.systeminput[0].systemData.manufacturer),r=s(m.$state.systeminput.pdfSystemValue),S=s(m.$state.systeminput[0].systemData.material),b=s(m.$state.systeminput[0].systemData.description),f=l.getTextWidth(gt),V=l.getTextWidth(`${v.value}`),F=e;l.text(gt,F,o);const D=F+f;l.text(`${v.value}`,D,o),l.line(D,o,D+V,o),p.value=D+V;const X=l.getTextWidth(Ie),I=l.getTextWidth(`${W.value}`),C=p.value+3;l.text(Ie,C,o);const M=C+X;l.text(`${W.value}`,M,o),l.line(M,o,M+I,o),p.value=M+I,console.log(p.value);const P=l.getTextWidth(Ue),Z=l.getTextWidth(`${r.value}`),N=p.value+3;l.text(Ue,N,o);const j=N+P;l.text(`${r.value}`,j,o),l.line(j,o,j+Z,o),p.value=j+Z,o=o+10,console.log(p.value);const A=l.getTextWidth(qt),E=l.getTextWidth(`${S.value}`),Q=e;l.text(qt,Q,o);const U=Q+A;l.text(`${S.value}`,U,o),l.line(U,o,U+E,o),p.value=U+E,p.value>L&&(o=o+10),console.log(p.value);const se=l.getTextWidth(O),Ye=l.getTextWidth(`${b.value}`),mt=p.value+3;l.text(O,mt,o);const jt=mt+se;l.text(`${b.value}`,jt,o),l.line(jt,o,jt+Ye,o),p.value=jt+Ye,p.value>=L&&(o=o+10),console.log(p.value)}const Kt="Shingle.pdf",J=l.output("blob");(async(v,W)=>{const r=v;console.log(r);const S=r;console.log(S);const b=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${ot}/${S}`;try{const f=await fetch(b,{method:"PUT",headers:{"Content-Type":r.type},body:W});f.ok?(Ee.value=b,alert("File uploaded successfully!")):alert(`Failed to upload file. Status: ${f.status}`)}catch(f){console.error("Error uploading file:",f),alert("An error occurred while uploading the file.")}})(Kt,J)}};return(ue,x)=>(sa(),oa("div"))}},ks=ft("h1",null,"Generate PDF with Columns and Underlined Text",-1),Ns=[ks],Es={__name:"TileAdhesive",setup(ne){const G=cl(),m=pl(),{getUser:y}=ua(),{addSystemvalue:$,tileInputvalues:h,tileValues:k}=ms();console.log($,h,k);const B=ha(),Y=la(),pe=s(Y.$state.roofList);Ts();const Me=us();let He=s(!1);const _=aa(()=>{if(console.log(pe),pe.value.length===0)return"";pe.value[0].item==="Adhesive Set Tile"&&(He.value=!0,ue())});ca(async()=>{await pa(_).toBe(!0)});const ue=()=>{var ke,We,q,g,Ge,Ne,n,H,u,ot,Ee,l,a,it,nt,i,$t,Ct,dt,St,ct,je,T,R,K,Je,ze,Ze,qe,z,pt,Vt,w,re,we,ge,he,me,Ke,L,Qe,fe,bt,p,Le,te,Pt,Ce,ut,c,Bt,ht,xt,de,$e,Dt;if(console.log(h[0].tileValues),h[0].length===0)console.log("lenghth is zero");else{const t=new Ht({orientation:"portrait",unit:"mm",format:"a4",compress:!0});let xe=s(!1),Rt=s(!1);m.$state.tilesysEinput.length!==0&&(xe=!0,console.log(xe)),G.$state.tilefinput.length!==0&&(Rt=!0,console.log(Rt));const ee=179,Pe=725,Be=t.getPageInfo(1);Be.pageContext.mediaBox.topRightX;const At=Be.pageContext.mediaBox.topRightY,d=s(0),Ft=s(0);var x=595.28-585.28,e=At-Pe;d.value=x,Ft.value=e;const Se=s(((We=(ke=h[0])==null?void 0:ke.tileValues)==null?void 0:We.height)||""),Ve=s(((g=(q=h[0])==null?void 0:q.tileValues)==null?void 0:g.slope)||""),Re=s(((Ne=(Ge=h[0])==null?void 0:Ge.tileValues)==null?void 0:Ne.area)||""),Xt=s(((H=(n=h[0])==null?void 0:n.tileValues)==null?void 0:H.Decktype)||""),Oe=s(((ot=(u=h[0])==null?void 0:u.tileValues)==null?void 0:ot.perimeter)||""),Ot=s(((l=(Ee=B.$state.permitapp[0])==null?void 0:Ee.formdt)==null?void 0:l.address)||""),ce=s(((it=(a=B.$state.permitapp[0])==null?void 0:a.formdt)==null?void 0:it.muni)||""),be=s(((i=(nt=B.$state.permitapp[0])==null?void 0:nt.formdt)==null?void 0:i.processNumber)||""),ae=s(""),ye=s((($t=y.value[0])==null?void 0:$t.dba)||"");t.setGState(new t.GState({opacity:.8}));const _e="Approved";t.setFontSize(24),t.setTextColor(150,150,150),t.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const De=new Image,vt=new Image;De.src="/demo/images/officepaper.jpeg",vt.src="/demo/images/logo.jpeg",t.addImage(vt,"JPEG",5,5,50,30),t.addImage(De,"JPEG",0,0,210,297),t.setFontSize(18),t.setTextColor("green");var o=new Date,Te=o.toLocaleDateString();t.text(_e,10,270,{align:"left"});const Gt=t.getTextWidth(_e);t.text("on: "+Te,Gt+15,270),t.text(`${be.value}`,10,280,{align:"left"});const It=t.getTextWidth(`${be.value}`);t.text(`${ce.value}`,It+15,280),t.setFontSize(12);const Mt=()=>{t.setFontSize(12),t.setTextColor(0),t.text("The tile roof system and its components shall be installed in strict compliance with the FBC 2023 HVHZ portions of Chapter 15, the HVHZ Tile Application Standards: RAS-119, RAS-120 & RAS-127 and the submitted MDC Notice of Acceptance(s). The mePermit applicant agrees to comply with these installation requirements when obtaining this permit.",10,20,{maxWidth:"200"}),t.line(10,41,195,41)};t.setTextColor(0),t.circle(185,38,2,"FD"),t.text("I agree",165,39),Mt(),t.setFontSize(12),t.setFontSize(14);const Ae=[{category:"DBA",value:`${ye.value}`},{category:"Municipality",value:`${ce.value}`},{category:"Job Address",value:`${Ot.value}`},{category:"meProcess Number",value:`${be.value}`}];let gt=10,Ie=60,Ue=50;t.setFontSize(12),Ae.forEach((ie,ve)=>{const oe=Ue+ve*10;t.text(ie.category,gt,oe),t.text(ie.value,Ie,oe),t.getTextWidth(ie.category);const Fe=t.getTextWidth(ie.value)*2;t.line(Ie,oe+2,Ie+Fe,oe+2)}),t.setFontSize(12);const O=90,Kt="Roof Area: ",J="DeckType: ",le="Mean Roof Height: ",v="Roof Slope: ",W="Roof Perimeter: ";d.value=x;const r=t.getTextWidth(Kt),S=t.getTextWidth(`${Re.value}`),b=d.value;t.text(Kt,b,O);const f=r+b;t.text(`${Re.value}`,f,O),t.line(f,O,f+S,O),d.value=f+S,console.log(e,O);const V=t.getTextWidth(le),F=t.getTextWidth(`${Se.value}`),D=d.value+2;t.text(le,D,O);const X=V+D;t.text(`${Se.value}`,X,O),t.line(X,O,X+F,O),d.value=X+F;const I=t.getTextWidth(v),C=t.getTextWidth(`${Ve.value}`),M=d.value+2;t.text(v,M,O);const P=I+M;t.text(`${Ve.value}`,P,O),t.line(P,O,P+C,O),d.value=P+C;const Z=t.getTextWidth(W),N=t.getTextWidth(`${Oe.value}`),j=d.value+2;t.text(W,j,O);const A=Z+j;t.text(`${Oe.value}`,A,O),t.line(A,O,A+N,O),console.log(O,e),e=O+10;const E=t.getTextWidth(J),Q=t.getTextWidth(`${Xt.value}`),U=x;t.text(J,U,e);const se=E+U;t.text(`${Xt.value}`,se,e),t.line(se,e,se+Q,e),e=e+10;const Ye="Tile NOA Number: ",mt="Tile Applicant: ",jt="Tile Material: ",ea="Tile Description: ",ta="Fastened Underlayment(UDL)NOA: ",ia="UDL NOA Applicant: ",Qt="Fastened UDL Material: ",ra="Select System E: ",xa="Design psf: ",va="Anchor Base Sheet: ",Lt="UDL Description: ",hl="Prescriptive: ",Ra="DripEdge Materiall: ",Oa="DripEdge Size: ",Ia=s(Me.$state.dripinputadt[0].dripTileData),Ua=s(Me.$state.dripinputadt[3].dripTileData),xl=t.getTextWidth(Ra),vl=t.getTextWidth(`${Ia.value}`),Ya=x;t.text(Ra,Ya,e);const Na=xl+Ya;t.text(`${Ia.value}`,Na,e),t.line(Na,e,Na+vl,e),e=e+10;const gl=t.getTextWidth(Oa),ml=t.getTextWidth(`${Ua.value}`),Ha=x;t.text(Oa,Ha,e);const Ea=gl+Ha;t.text(`${Ua.value}`,Ea,e),t.line(Ea,e,Ea+ml,e),e=e+10;const Tl=s(((Ct=h[0])==null?void 0:Ct.tileValues.zoneone.mf1)||""),Wl=s(((St=(dt=h[0])==null?void 0:dt.tileValues)==null?void 0:St.zoneone.lambda1)||""),rl=s(((je=(ct=h[0])==null?void 0:ct.tileValues)==null?void 0:je.zoneone.mg1)||""),fl=s(((R=(T=h[0])==null?void 0:T.tileValues)==null?void 0:R.zoneone.mr1)||""),$l=s(((Je=(K=h[0])==null?void 0:K.tileValues)==null?void 0:Je.zoneone.zone1)||""),Sl=s(((Ze=(ze=h[0])==null?void 0:ze.tileValues)==null?void 0:Ze.zonetwo.mf2)||""),Vl=s(((z=(qe=h[0])==null?void 0:qe.tilevalues)==null?void 0:z.zonetwo.lambda2)||""),bl=s(((Vt=(pt=h[0])==null?void 0:pt.tileValues)==null?void 0:Vt.zonetwo.mg2)||""),Dl=s(((re=(w=h[0])==null?void 0:w.tileValues)==null?void 0:re.zonetwo.mr2)||""),Al=s(((ge=(we=h[0])==null?void 0:we.tileValues)==null?void 0:ge.zonetwo.zone2)||""),Fl=s(((me=(he=h[0])==null?void 0:he.tileValues)==null?void 0:me.zonethree.mf3)||""),Xl=s(((L=(Ke=h[0])==null?void 0:Ke.tileValues)==null?void 0:L.zonethree.lambda3)||""),Ml=s(((fe=(Qe=h[0])==null?void 0:Qe.tileValues)==null?void 0:fe.zonethree.mg3)||""),kl=s((p=(bt=h[0])==null?void 0:bt.tileValues)==null?void 0:p.zonethree.mr3),Nl=s(((te=(Le=h[0])==null?void 0:Le.tileValues)==null?void 0:te.zonethree.zone3)||""),Ga=s((Ce=(Pt=h[0])==null?void 0:Pt.tileValues)==null?void 0:Ce.prescriptiveSelection.selectedBasesheet),El=t.getTextWidth(`${Ga.value.selectedBasesheet}`),zl=x;t.text(hl,zl,e);const za=x;e=e+10,t.text(`${Ga.value}`,za,e),t.line(za,e,za+El,e),e=e+10;const ja=s((c=(ut=h[0])==null?void 0:ut.tileValues)==null?void 0:c.noa),Ja=s((ht=(Bt=h[0])==null?void 0:Bt.tileValues)==null?void 0:ht.applicant),wa=s((de=(xt=h[0])==null?void 0:xt.tileValues)==null?void 0:de.material),Ca=s((Dt=($e=h[0])==null?void 0:$e.tileValues)==null?void 0:Dt.description),wl=t.getTextWidth(mt),Za=t.getTextWidth(`${Ja.value}`),qa=x;t.text(mt,qa,e);const fa=qa+wl;t.text(`${Ja.value}`,fa,e),t.line(fa,e,fa+Za,e),d.value=fa+Za;const Cl=t.getTextWidth(Ye),Pl=t.getTextWidth(`${ja.value}`),Ka=d.value+3;t.text(Ye,Ka,e);const Pa=Cl+Ka;t.text(`${ja.value}`,Pa,e),t.line(Pa,e,Pa+Pl,e),e=e+10,t.getTextWidth(`${wa.value}`);const Qa=x,Bl=t.getTextWidth(jt),Rl=t.getTextWidth(`${wa.value}`);t.text(jt,Qa,e);const $a=Qa+Bl;t.text(`${wa.value}`,$a,e),t.line($a,e,$a+Rl,e);const Ol=t.getTextWidth(`${Ca.value}`);d.value=$a+Ol,d.value>ee&&(e=e+10),console.log(d.value,ee),e=e+10;const La=t.getTextWidth(`${Ca.value}`),Il=t.getTextWidth(ea),Ba=x;t.text(ea,Ba,e);const Sa=Ba+Il;if(t.text(`${Ca.value}`,Sa,e),t.line(Sa,e,Sa+La,e),d.value=Sa+La,console.log(m),e=e+10,m.$state.tilesysEinput.length===0){const ie="n/a",ve="n/a",oe="n/a",Fe="n/a",Tt=t.getTextWidth(ta),et=t.getTextWidth(ie),Ut=x;t.text(ta,Ut,e);const kt=Ut+Tt;t.text(ie,kt,e),t.line(kt,e,kt+et,e),d.value=kt+et,console.log(d.value);const tt=t.getTextWidth(ia),yt=t.getTextWidth(ve),Wt=d.value+2;t.text(ia,Wt,e);const Nt=Wt+tt;t.text(ve,Nt,e),t.line(Nt,e,Nt+yt,e),d.value=Nt+yt,console.log(d.value),d.value>ee&&(e=e+10);const at=d.value+2,Jt=t.getTextWidth(Qt),rt=t.getTextWidth(oe);t.text(Qt,at,e);const lt=at+Jt;t.text(oe,lt,e),t.line(lt,e,lt+rt,e),d.value=lt+rt,console.log(d.value),d.value>ee&&(e=e+10),console.log(d.value);const Yt=t.getTextWidth(Lt),Zt=t.getTextWidth(Fe),Et=x,Xe=Et+Zt;console.log(Xe),t.text(Lt,Et,e),Xe>ee&&print(Xe);const st=Et+Yt;t.text(Fe,st,e),t.line(st,e,st+Zt,e),d.value=st+Zt,e=e+10}else{const ie=s(m.$state.tilesysEinput[0].systemDataE.noa),ve=s(m.$state.tilesysEinput[0].systemDataE.manufacturer),oe=s(m.$state.tilesysEinput[0].systemDataE.material),Fe=s(m.$state.tilesysEinput[0].systemDataE.systemSelected),Tt=s(m.$state.tilesysEinput[0].systemDataE.dP),et=s(m.$state.tilesysEinput[0].systemDataE.Anchor_Base),Ut=s(m.$state.tilesysEinput[0].systemDataE.tileCap),kt=t.getTextWidth(ta),tt=t.getTextWidth(`${ie.value}`),yt=x;t.text(ta,yt,e);const Wt=Ba+kt;t.text(`${ie.value}`,Wt,e),t.line(Wt,e,Wt+tt,e),d.value=Wt+tt;const Nt=t.getTextWidth(ia),at=t.getTextWidth(`${ve.value}`),Jt=d.value+2;t.text(ia,Jt,e);const rt=Jt+Nt;t.text(`${ve.value}`,rt,e),t.line(rt,e,rt+at,e);const lt=t.getTextWidth(`${oe.value}`);d.value=rt+lt,e=e+10;const Yt=x,Zt=t.getTextWidth(Qt),Et=t.getTextWidth(`${oe.value}`);t.text(Qt,Yt,e);const Xe=Yt+Zt;t.text(`${oe.value}`,Xe,e),t.line(Xe,e,Xe+Et,e),d.value=Xe+Et,d.value>ee&&(e=e+10);const st=d.value+5,na=t.getTextWidth(ra),_t=t.getTextWidth(`${Fe.value}`);t.text(ra,st,e);const zt=st+na;t.text(`${Fe.value}`,zt,e),t.line(zt,e,zt+_t,e),d.value=zt+_t,d.value>ee&&(e=e+10);const da=t.getTextWidth(xa),el=t.getTextWidth(`${Tt.value}`),tl=d.value+3;t.text(xa,tl,e);const Xa=tl+da;t.text(`${Tt.value}`,Xa,e),t.line(Xa,e,Xa+el,e),d.value=Xa+el,console.log(d.value),e=e+10,t.getTextWidth(va);const al=t.getTextWidth(`${et.value}`),Gl=x;t.text(va,Gl,e),e=e+10;const Ma=x;t.text(`${et.value}`,Ma,e),t.line(Ma,e,Ma+al,e),d.value=Ma+al,e=e+10;const jl=t.getTextWidth(Lt),ll=t.getTextWidth(`${Ut.value}`),sl=x;t.text(Lt,sl,e);const ka=sl+jl;t.text(`${Ut.value}`,ka,e),t.line(ka,e,ka+ll,e),d.value=ka+ll,console.log(d.value),e=e+10}const Va="Self Adhered NOA: ",ba="S/A NOA Applicant: ",Da="S/A System F: ",Aa="S/A Material: ",Fa="S/A Description: ";if(G.$state.tilefinput.length===0){const ie="n/a",ve="n/a",oe="n/a",Fe="n/a",Tt="n/a",et=t.getTextWidth(Va),Ut=t.getTextWidth(ie),kt=x;t.text(Va,kt,e);const tt=kt+et;t.text(ie,tt,e),t.line(tt,e,tt+Ut,e),d.value=tt+Ut,console.log(d.value);const yt=t.getTextWidth(ba),Wt=t.getTextWidth(ve),Nt=d.value+3;t.text(ba,Nt,e);const at=Nt+yt;t.text(ve,at,e),t.line(at,e,at+Wt,e),d.value=at+Wt,console.log(d.value);const Jt=t.getTextWidth(Da),rt=d.value+3;t.text(Da,rt,e);const lt=rt+Jt;t.text(oe,lt,e),t.line(lt,e,lt+Jt,e),d.value=lt+Jt,console.log(d.value),e=e+10;const Yt=t.getTextWidth(Aa),Zt=t.getTextWidth(Fe),Et=x;t.text(Aa,Et,e);const Xe=Et+Yt;t.text(Fe,Xe,e),t.line(Xe,e,Xe+Zt,e),d.value=Xe+Zt,console.log(d.value);const st=t.getTextWidth(Fa),na=t.getTextWidth(Tt),_t=d.value+3;t.text(Fa,_t,e);const zt=_t+st;t.text(Tt,zt,e),t.line(zt,e,zt+na,e),d.value=zt+na,console.log(d.value)}else{console.log("Entered sbs line 455",G.$state);const ie=s(G.$state.tilefinput[0].systemData.noa),ve=s(G.$state.tilefinput[0].systemData.manufacturer),oe=s(G.$state.tilefinput[0].systemData.pressure),Fe=s(G.$state.tilefinput[0].systemData.material),Tt=s(G.$state.tilefinput[0].systemData.description),et=t.getTextWidth(Va),Ut=t.getTextWidth(`${ie.value}`),kt=x;t.text(Va,kt,e);const tt=kt+et;t.text(`${ie.value}`,tt,e),t.line(tt,e,tt+Ut,e),d.value=tt+Ut;const yt=t.getTextWidth(ba),Wt=t.getTextWidth(`${ve.value}`),Nt=d.value+3;t.text(ba,Nt,e);const at=Nt+yt;t.text(`${ve.value}`,at,e),t.line(at,e,at+Wt,e),d.value=at+Wt,console.log(d.value);const Jt=t.getTextWidth(Da),rt=t.getTextWidth(`${oe.value}`),lt=d.value+3;t.text(Da,lt,e);const Yt=lt+Jt;t.text(`${oe.value}`,Yt,e),t.line(Yt,e,Yt+rt,e),d.value=Yt+rt,e=e+10;const Zt=t.getTextWidth(Aa),Et=t.getTextWidth(`${Fe.value}`),Xe=x;t.text(Aa,Xe,e);const st=Xe+Zt;t.text(`${Fe.value}`,st,e),t.line(st,e,st+Et,e),d.value=st+Et,d.value>ee&&(e=e+10);const na=t.getTextWidth(Fa),_t=t.getTextWidth(`${Tt.value}`),zt=d.value+3;t.text(Fa,zt,e);const da=zt+na;t.text(`${Tt.value}`,da,e),t.line(da,e,da+_t,e),d.value=da+_t,d.value>=ee&&(e=e+10),console.log(d.value),e=e+10}e=e+10,t.setFont("times","normal");const ya=[["Zone 1:",`${$l.value}`,"x λ",`${Wl.value}`,"- Mg:",`${rl.value}`,"= Mr1:",`${fl.value}`,"NOA Mf:",`${Tl.value}`],["Zone 2:",`${Al.value}`,"x λ",`${Vl.value}`,"- Mg:",`${bl.value}`,"= Mr2:",`${Dl.value}`,"NOA Mf:",`${Sl.value}`],["Zone 3:",`${Nl.value}`,"x λ",`${Xl.value}`,"- Mg:",`${Ml.value}`,"= Mr2:",`${kl.value}`,"NOA Mf:",`${Fl.value}`]];console.log(ya);let Ul=x-5,_a=e;ya.forEach(ie=>{let ve=Ul;ie.forEach(oe=>{t.text(String(oe),ve,_a),ve+=18}),_a+=5});const Yl="TileAdhesive.pdf",Hl=t.output("blob");(async(ie,ve)=>{const oe=ie,Fe=oe;console.log(Fe);const Tt=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${be.value}/${Fe}`;try{const et=await fetch(Tt,{method:"PUT",headers:{"Content-Type":oe.type},body:ve});et.ok?(ae.value=Tt,alert("File uploaded successfully!")):alert(`Failed to upload file. Status: ${et.status}`)}catch(et){console.error("Error uploading file:",et),alert("An error occurred while uploading the file.")}})(Yl,Hl)}};return(x,e)=>(sa(),oa("div",null,Ns))}},zs={__name:"TileMechanical",setup(ne){const{getUser:G}=ua();let m=s(!1);const y=ha(),$=la(),h=s($.$state.roofList),{mechStore:k}=Ws(),B=cl(),Y=pl(),pe=hs(),Me=aa(()=>{if(h.value.length===0)return"";h.value[0].item==="Mechanical Fastened Tile"&&(m.value=!0,He())});ca(async()=>{await pa(Me).toBe(!0),console.log(Me)});const He=()=>{if(k.tilemech.value.length===0)console.log("lenghth is   zero");else{let o=s(!1),Te=s(!1);Y.$state.tilesysEinput.length!==0&&(o=!0,console.log(o)),B.$state.tilefinput.length!==0&&(Te=!0,console.log(Te)),console.log(k.tilemech.value[0]);const ke=s(k.tilemech.value[0].height),We=s(k.tilemech.value[0].slope),q=s(k.tilemech.value[0].deckType),g=s($.$state.roofList[0].dim3),Ge=s(y.$state.permitapp[0].formdt.address),Ne=s(y.$state.permitapp[0].formdt.muni),n=s(y.$state.permitapp[0].formdt.processNumber),H=s(pe.$state.dripinputmecht[0].dripMTileData),u=s(pe.$state.dripinputmecht[3].dripMTileData),ot=n.value.length!==0?n.value:"files",Ee=s(""),l=s(G.value[0].dba),a=new Ht({orientation:"portrait",unit:"mm",format:"a4",compress:!0});a.setGState(new a.GState({opacity:.8}));const it="Approved";a.setFontSize(24),a.setTextColor(150,150,150),a.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const nt=new Image,i=new Image;nt.src="/demo/images/officepaper.jpeg",i.src="/demo/images/logo.jpeg",a.addImage(i,"JPEG",10,10,50,30),a.addImage(nt,"JPEG",0,0,210,297),a.setFontSize(20),a.setTextColor(190,190,190);var _=new Date,ue=_.toLocaleDateString();a.text(it,10,270,{align:"left"});const $t=a.getTextWidth(it);a.text("on: "+ue,$t+15,270),a.text(`${n.value}`,10,280,{align:"left"});const Ct=a.getTextWidth(`${n.value}`);a.text(`${Ne.value}`,Ct+15,280),a.setFontSize(12);const dt=()=>{a.setFontSize(12),a.setTextColor(0),a.text("The tile roof system and its components shall be installed in strict compliance with the FBC 2023 HVHZ portions of Chapter 15, the HVHZ Tile Application Standards: RAS-119, RAS-120 & RAS-127 and the submitted MDC Notice of Acceptance(s).",10,20,{maxWidth:"200"}),a.line(10,41,195,41)};a.setTextColor(0),a.circle(185,38,2,"FD"),a.text("I agree",165,39),dt(),a.setFontSize(12),a.setFontSize(14);const St=[{category:"DBA",value:`${l.value}`},{category:"Municipality",value:`${Ne.value}`},{category:"Job Address",value:`${Ge.value}`},{category:"meProcess Number",value:`${n.value}`}];let ct=10,je=60,T=50;a.setFontSize(12),St.forEach((J,le)=>{const v=T+le*10;a.text(J.category,ct,v),a.text(J.value,je,v),a.getTextWidth(J.category);const W=a.getTextWidth(J.value)*2;a.line(je,v+2,je+W,v+2)}),a.setFontSize(12);const R=2,K=100;a.text("Roof Area:",10,K),a.text(`${g.value}`,35,K),a.line(35,K+R,45,K+R),a.text("Mean Roof Height:",50,K);const Je=a.getTextWidth("Mean Roof Height:");a.text(`${ke.value}`,K,K),a.line(90,K+R,70+Je,K+R),a.text("Roof Slope:",80+Je,K);const ze=105+Je;a.text(`${We.value}`,ze,K);const Ze=a.getTextWidth(`${We.value}`)*2;a.line(ze,K+R,ze+Ze,K+R);const qe=108;a.text("Decktype:",10,qe);const z=30+Ze;a.text(`${q.value}`,z,qe);const pt=a.getTextWidth(`${q.value}`)*2;a.line(z,qe,z+pt,qe);const Vt="Tile NOA Number: ",w="Tile Applicant: ",re="Tile Material: ",we="Tile Description: ",ge="Fastened (UDL) NOA: ",he="(UDL) NOA Applicant: ",me="Fastened (UDL) Material: ",Ke="Select System E: ",L="Design psf: ",Qe="Anchor Base Sheet: ",fe="(UDL) Description: ",bt="Prescriptive: ",p="DripEdge Matetiral: ",Le="DripEdge Size: ",te=179,Pt=725,Ce=a.getPageInfo(1);console.log(Ce),Ce.pageContext.mediaBox.topRightX;const ut=Ce.pageContext.mediaBox.topRightY,c=s(0),Bt=s(0);var x=595.28-585.28,e=ut-Pt;c.value=x,Bt.value=e,console.log(c.value,Bt.value);const ht=s(k.tilemech.value[0].noa),xt=s(k.tilemech.value[0].manufacturer),de=s(k.tilemech.value[0].material),$e=s(k.tilemech.value[0].description);a.getTextWidth(bt);const Dt=x;a.text(bt,Dt,e),e=e+10,e=e+10;const t=a.getTextWidth(p),xe=a.getTextWidth(`${H.value}`),Rt=x;a.text(p,Rt,e);const ee=t+Rt;a.text(`${H.value}`,ee,e),a.line(ee,e,ee+xe,e),e=e+10;const Pe=a.getTextWidth(Le),Be=a.getTextWidth(`${u.value}`),At=x;a.text(Le,At,e);const d=Pe+At;a.text(`${u.value}`,d,e),a.line(d,e,d+Be,e),e=e+10;const Ft=a.getTextWidth(`${xt.value}`),Se=a.getTextWidth(w),Ve=x;a.text(w,Ve,e);const Re=Ve+Se;a.text(`${xt.value}`,Re,e),a.line(Re,e,Re+Ft,e),c.value=Re+Ft;const Xt=a.getTextWidth(Vt),Oe=a.getTextWidth(`${ht.value}`),Ot=c.value+Xt;a.text(Vt,c.value+2,e),a.text(`${ht.value}`,Ot+2,e),a.line(Ot,e,Ot+Oe,e),c.value=Ot+Oe;const ce=e,be=a.getTextWidth(re),ae=a.getTextWidth(`${de.value}`),ye=c.value+5;a.text(re,ye,ce);const _e=ye+be;a.text(`${de.value}`,_e,ce),a.line(_e,ce,_e+ae,ce),c.value=_e+ae,e=e+10;const De=a.getTextWidth(`${$e.value}`),vt=a.getTextWidth(we),Gt=x;a.text(we,Gt,e);const It=Gt+vt;if(a.text(`${$e.value}`,It,e),a.line(It,e,It+De,e),c.value=It+De,e=e+10,Y.$state.tilesysEinput.length===0){const J="n/a",le="n/a",v="n/a",W="n/a",r=a.getTextWidth(ge),S=a.getTextWidth(J),b=x;a.text(ge,b,e);const f=b+r;a.text(J,f,e),a.line(f,e,f+S,e),c.value=f+S,console.log(c.value);const V=a.getTextWidth(he),F=a.getTextWidth(le),D=c.value+2;a.text(he,D,e);const X=D+V;a.text(le,X,e),a.line(X,e,X+F,e),c.value=X+F,console.log(c.value),c.value>te&&(e=e+10);const I=c.value+2,C=a.getTextWidth(me),M=a.getTextWidth(v);a.text(me,I,e);const P=I+C;a.text(v,P,e),a.line(P,e,P+M,e),c.value=P+M,console.log(c.value),c.value>te&&(e=e+10),console.log(c.value);const Z=a.getTextWidth(fe),N=a.getTextWidth(W),j=x,A=j+N;console.log(A),a.text(fe,j,e),A>te&&print(A);const E=j+Z;a.text(W,E,e),a.line(E,e,E+N,e),c.value=E+N,e=e+10}else{const J=s(Y.$state.tilesysEinput[0].systemDataE.noa),le=s(Y.$state.tilesysEinput[0].systemDataE.manufacturer),v=s(Y.$state.tilesysEinput[0].systemDataE.material),W=s(Y.$state.tilesysEinput[0].systemDataE.systemSelected),r=s(Y.$state.tilesysEinput[0].systemDataE.dP),S=s(Y.$state.tilesysEinput[0].systemDataE.Anchor_Base),b=s(Y.$state.tilesysEinput[0].systemDataE.tileCap),f=a.getTextWidth(ge),V=a.getTextWidth(`${J.value}`),F=x;a.text(ge,F,e);const D=Gt+f;a.text(`${J.value}`,D,e),a.line(D,e,D+V,e),c.value=D+V;const X=a.getTextWidth(he),I=a.getTextWidth(`${le.value}`),C=c.value+2;a.text(he,C,e);const M=C+X;a.text(`${le.value}`,M,e),a.line(M,e,M+I,e);const P=a.getTextWidth(`${v.value}`);c.value=M+P,e=e+10;const Z=x,N=a.getTextWidth(me),j=a.getTextWidth(`${v.value}`);a.text(me,Z,e);const A=Z+N;a.text(`${v.value}`,A,e),a.line(A,e,A+j,e),c.value=A+j,c.value>te&&(e=e+10);const E=c.value+5,Q=a.getTextWidth(Ke),U=a.getTextWidth(`${W.value}`);a.text(Ke,E,e);const se=E+Q;a.text(`${W.value}`,se,e),a.line(se,e,se+U,e),c.value=se+U,c.value>te&&(e=e+10);const Ye=a.getTextWidth(L),mt=a.getTextWidth(`${r.value}`),jt=c.value+3;a.text(L,jt,e);const ea=jt+Ye;a.text(`${r.value}`,ea,e),a.line(ea,e,ea+mt,e),c.value=ea+mt,console.log(c.value),e=e+10,a.getTextWidth(Qe);const ta=a.getTextWidth(`${S.value}`),ia=x;a.text(Qe,ia,e),e=e+10;const Qt=x;a.text(`${S.value}`,Qt,e),a.line(Qt,e,Qt+ta,e),c.value=Qt+ta,e=e+10;const ra=a.getTextWidth(fe),xa=a.getTextWidth(`${b.value}`),va=x;a.text(fe,va,e);const Lt=va+ra;a.text(`${b.value}`,Lt,e),a.line(Lt,e,Lt+xa,e),c.value=Lt+xa,console.log(c.value),e=e+10}const Mt="Self Adhered NOA: ",Ae="S/A NOA Applicant: ",gt="S/A System F: ",Ie="S/A Material: ",Ue="S/A Description: ";if(B.$state.tilefinput.length===0){const J="n/a",le="n/a",v="n/a",W="n/a",r="n/a",S=a.getTextWidth(Mt),b=a.getTextWidth(J),f=x;a.text(Mt,f,e);const V=f+S;a.text(J,V,e),a.line(V,e,V+b,e),c.value=V+b,console.log(c.value);const F=a.getTextWidth(Ae),D=a.getTextWidth(le),X=c.value+3;a.text(Ae,X,e);const I=X+F;a.text(le,I,e),a.line(I,e,I+D,e),c.value=I+D,console.log(c.value);const C=a.getTextWidth(gt),M=c.value+3;a.text(gt,M,e);const P=M+C;a.text(v,P,e),a.line(P,e,P+C,e),c.value=P+C,console.log(c.value),e=e+10;const Z=a.getTextWidth(Ie),N=a.getTextWidth(W),j=x;a.text(Ie,j,e);const A=j+Z;a.text(W,A,e),a.line(A,e,A+N,e),c.value=A+N,console.log(c.value);const E=a.getTextWidth(Ue),Q=a.getTextWidth(r),U=c.value+3;a.text(Ue,U,e);const se=U+E;a.text(r,se,e),a.line(se,e,se+Q,e),c.value=se+Q,console.log(c.value)}else{console.log("Entered sbs line 455",B.$state);const J=s(B.$state.tilefinput[0].systemData.noa),le=s(B.$state.tilefinput[0].systemData.manufacturer),v=s(B.$state.tilefinput[0].systemData.pressure),W=s(B.$state.tilefinput[0].systemData.material),r=s(B.$state.tilefinput[0].systemData.description),S=a.getTextWidth(Mt),b=a.getTextWidth(`${J.value}`),f=x;a.text(Mt,f,e);const V=f+S;a.text(`${J.value}`,V,e),a.line(V,e,V+b,e),c.value=V+b;const F=a.getTextWidth(Ae),D=a.getTextWidth(`${le.value}`),X=c.value+3;a.text(Ae,X,e);const I=X+F;a.text(`${le.value}`,I,e),a.line(I,e,I+D,e),c.value=I+D,console.log(c.value);const C=a.getTextWidth(gt),M=a.getTextWidth(`${v.value}`),P=c.value+3;a.text(gt,P,e);const Z=P+C;a.text(`${v.value}`,Z,e),a.line(Z,e,Z+M,e),c.value=Z+M,e=e+10;const N=a.getTextWidth(Ie),j=a.getTextWidth(`${W.value}`),A=x;a.text(Ie,A,e);const E=A+N;a.text(`${W.value}`,E,e),a.line(E,e,E+j,e),c.value=E+j,c.value>te&&(e=e+10);const Q=a.getTextWidth(Ue),U=a.getTextWidth(`${r.value}`),se=c.value+3;a.text(Ue,se,e);const Ye=se+Q;a.text(`${r.value}`,Ye,e),a.line(Ye,e,Ye+U,e),c.value=Ye+U,c.value>=te&&(e=e+10),console.log(c.value)}const qt="MechanicalTile.pdf",O=a.output("blob");(async(J,le)=>{const v=J,W=v;console.log(W);const r=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${ot}/${W}`;try{const S=await fetch(r,{method:"PUT",headers:{"Content-Type":v.type},body:le});S.ok?(Ee.value=r,alert("File uploaded successfully!")):alert(`Failed to upload file. Status: ${S.status}`)}catch(S){console.error("Error uploading file:",S),alert("An error occurred while uploading the file.")}})(qt,O)}};return(_,ue)=>(sa(),oa("div"))}},ws=ne=>(as("data-v-b0f5122c"),ne=ne(),ls(),ne),Cs={class:"card"},Ps=ws(()=>ft("p",null,"The roof systems you selected",-1)),Bs={class:"rounded border border-surface-200 dark:border-surface-700 p-6 bg-surface-0 dark:bg-surface-900"},Rs={class:"flex justify-between mt-4"},Os={__name:"Summarys",setup(ne){var g,Ge;const{accountUsers:G}=ua(),m=s(!1),y=s(!1);s("");let $=s(!1),h=s(!1),k=s(!1),B=s(!1),Y=s(!1);const pe=s("");s(""),s(""),s("");const Me=ha(),He=la(),_=s(He.$state.roofList),ue=s(((Ge=(g=Me.$state.permitapp[0])==null?void 0:g.formdt)==null?void 0:Ge.processNumber)||""),x=dl(),e=s(x.$state.generalpdfinput),{getNumbers:o}=As(ue.value);function Te(){G.value.forEach((Ne,n)=>{pe.value=Ne.dba})}const ke=aa(()=>{o(ue.value),y.value=!0,setTimeout(()=>{y.value=!0},2e3),console.log(ue.value)}),We=aa(()=>{if(_.value.length===0)return"";_.value[0].item==="Asphalt Shingle"?B.value=!0:_.value[0].item==="Low Slope"?Y.value=!0:_.value[0].item==="Adhesive Set Tile"?(console.log(_.value[0].item),h.value=!0):_.value[0].item==="Mechanical Fastened Tile"?k.value=!0:e.value.length!==1&&($.value=!0)});Ql(()=>{Te()}),Ll(Te,We,ke);const q=s([{status:"RoofSystems",date:"15/10/2020 10:30",icon:"pi pi-cog",color:"#9C27B0",image:"/src/assets/img/roofing_tile.jpg"},{status:"Processing",date:"15/10/2020 14:00",icon:"pi pi-cog",color:"#673AB7"}]);return ca(async()=>{await pa(We).toBe(!0)}),(Ne,n)=>{const H=is,u=os,ot=ss,Ee=ul;return sa(),oa(yl,null,[ft("div",Cs,[wt(ot,{value:q.value,align:"alternate",class:"customized-timeline"},{marker:ga(l=>[ft("span",{class:"flex w-8 h-8 items-center justify-center text-white rounded-full z-10 shadow-sm",style:_l({backgroundColor:l.item.color})},[ft("i",{class:es(l.item.icon)},null,2)],4)]),content:ga(l=>[wt(u,{class:"mt-4"},{title:ga(()=>[ol(il(l.item.status),1)]),subtitle:ga(()=>[ol(il(l.item.date),1)]),content:ga(()=>[Ps,wt(H,{label:"Read more",text:""})]),_:2},1024)]),_:1},8,["value"])]),ma(wt(Wa(ts),{color:"#784EA7",size:"100px",style:{"margin-top":"400px","margin-left":"850px"}},null,512),[[Ta,m.value]]),ft("div",Bs,[wt(Ee,{width:"100%",height:"150px"}),ft("div",Rs,[wt(Ee,{width:"4rem",height:"2rem"}),wt(Ee,{width:"4rem",height:"2rem"})]),ma(ft("div",null,[wt(Ms)],512),[[Ta,Wa(B)]]),ma(ft("div",null,[wt(Es)],512),[[Ta,Wa(h)]]),ma(ft("div",null,[wt(zs)],512),[[Ta,Wa(k)]]),ma(ft("div",null,[wt(Xs)],512),[[Ta,Wa(Y)]]),ft("div",null,[wt(Fs)])])],64)}}},no=rs(Os,[["__scopeId","data-v-b0f5122c"]]);export{no as default};
