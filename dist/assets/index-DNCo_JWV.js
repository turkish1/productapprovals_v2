import{s as M,a as x}from"./index-Cm2Oo6lK.js";import{r as k,aC as C,l as T,c as m,d as b,f,F as S,Y as I,e as y,q as w,n as V,B as N,aD as $,z as E,J as F,M as R,b as D,O as U,_ as z}from"./index-bFnyp9A_.js";import{s as K}from"./index-Bg4Tfsec.js";const _={class:"flex items-center justify-center flex-col"},L=f("i",{class:"pi pi-cloud-upload !border-2 !rounded-full !p-8 !text-4xl !text-muted-color"},null,-1),j={class:"flex flex-wrap gap-4"},A={class:"font-semibold text-ellipsis max-w-250 whitespace-nowrap overflow-hidden"},Q={__name:"FileSaver",setup(l){const e=k([]),s=C();T();const t=k(0),i=k(0),a=n=>{n.dataTransfer.dropEffect="copy"},r=n=>{const p=s.config.locale.fileSizeTypes;if(n===0)return`0 ${p[0]}`;const h=Math.floor(Math.log(n)/Math.log(1024));return`${parseFloat((n/Math.pow(1024,h)).toFixed(3))} ${p[h]}`},d=async n=>{e.value=[...n.dataTransfer.files];for(const o of e.value)await P(o),console.log(o)},c=n=>{e.value.splice(n,1)},g=n=>{i.value=t.value/1,n()},P=async n=>{if(window.showSaveFilePicker)try{const o=await window.showSaveFilePicker({suggestedName:n.name,types:[{description:n.type,accept:{[n.type]:[`.${n.name.split(".").pop()}`]}}]});console.log(o);const u=await o.createWritable();await u.write(n),await u.close(),console.log(`${n.name} saved successfully!`)}catch(o){console.error("Error saving file:",o)}else{const o=URL.createObjectURL(n),u=document.createElement("a");u.href=o,u.download=n.name,u.style.display="none",document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(o),console.log(`${n.name} downloaded!`)}};return(n,o)=>{const u=M,p=x;return m(),b("div",{class:"dropzone",onDragover:V(a,["prevent"]),onDrop:V(d,["prevent"])},[f("div",_,[L,f("p",{class:"mt-6 mb-0",onUpload:o[0]||(o[0]=h=>n.onTemplatedUpload(h))},"Drag and drop files to here to upload.",32)]),f("div",j,[(m(!0),b(S,null,I(e.value,(h,v)=>(m(),b("div",{key:v+h.url+h.size,class:"p-8 rounded-border flex flex-col border border-surface items-center gap-4"},[f("div",null,[y(u,{onClick:o[1]||(o[1]=B=>g()),icon:"pi pi-cloud-upload",rounded:"",outlined:"",severity:"success",disabled:!e.value||e.value.length===0},null,8,["disabled"])]),f("span",A,w(h.name),1),f("div",null,w(r(h.size)),1),y(p,{value:"Completed",class:"mt-4",severity:"success"}),y(u,{icon:"pi pi-times",onClick:B=>c(v),outlined:"",rounded:"",severity:"danger"},null,8,["onClick"])]))),128))])],32)}}};var O={root:function(e){var s=e.instance;return["p-inputmask",{"p-filled":s.filled}]}},q=N.extend({name:"inputmask",classes:O}),Z={name:"BaseInputMask",extends:R,props:{modelValue:null,slotChar:{type:String,default:"_"},class:{type:[String,Object],default:null},mask:{type:String,default:null},placeholder:{type:String,default:null},autoClear:{type:Boolean,default:!0},unmask:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},invalid:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},variant:{type:String,default:null},fluid:{type:Boolean,default:null}},style:q,provide:function(){return{$pcInputMask:this,$parentInstance:this}}},H={name:"InputMask",extends:Z,inheritAttrs:!1,emits:["update:modelValue","focus","blur","keydown","complete","keypress","paste"],inject:{$pcFluid:{default:null}},watch:{mask:function(e,s){s!==e&&this.initMask()}},mounted:function(){this.initMask()},updated:function(){this.isValueUpdated()&&this.updateValue()},methods:{onInput:function(e){this.androidChrome?this.handleAndroidInput(e):this.handleInputChange(e),this.$emit("update:modelValue",e.target.value)},onFocus:function(e){var s=this;if(!this.readonly){this.focus=!0,clearTimeout(this.caretTimeoutId);var t;this.focusText=this.$el.value,t=this.checkVal(),this.caretTimeoutId=setTimeout(function(){s.$el===document.activeElement&&(s.writeBuffer(),t===s.mask.replace("?","").length?s.caret(0,t):s.caret(t))},10),this.$emit("focus",e)}},onBlur:function(e){if(this.focus=!1,this.checkVal(),this.updateModel(e),this.$el.value!==this.focusText){var s=document.createEvent("HTMLEvents");s.initEvent("change",!0,!1),this.$el.dispatchEvent(s)}this.$emit("blur",e)},onKeyDown:function(e){if(!this.readonly){var s=e.code,t,i,a,r=/iphone/i.test($());this.oldVal=this.$el.value,s==="Backspace"||s==="Delete"||r&&s==="Escape"?(t=this.caret(),i=t.begin,a=t.end,a-i===0&&(i=s!=="Delete"?this.seekPrev(i):a=this.seekNext(i-1),a=s==="Delete"?this.seekNext(a):a),this.clearBuffer(i,a),this.shiftL(i,a-1),this.updateModel(e),e.preventDefault()):s==="Enter"?(this.$el.blur(),this.updateModel(e)):s==="Escape"&&(this.$el.value=this.focusText,this.caret(0,this.checkVal()),this.updateModel(e),e.preventDefault()),this.$emit("keydown",e)}},onKeyPress:function(e){var s=this;if(!this.readonly){var t=e.code,i=this.caret(),a,r,d,c;if(!(e.ctrlKey||e.altKey||e.metaKey||e.shiftKey||e.key==="CapsLock"||e.key==="Escape"||e.key==="Tab")){if(t&&t!=="Enter"){if(i.end-i.begin!==0&&(this.clearBuffer(i.begin,i.end),this.shiftL(i.begin,i.end-1)),a=this.seekNext(i.begin-1),a<this.len&&(r=e.key,this.tests[a].test(r))){if(this.shiftR(a),this.buffer[a]=r,this.writeBuffer(),d=this.seekNext(a),/android/i.test($())){var g=function(){s.caret(d)};setTimeout(g,0)}else this.caret(d);i.begin<=this.lastRequiredNonMaskPos&&(c=this.isCompleted())}e.preventDefault()}this.updateModel(e),c&&this.$emit("complete",e),this.$emit("keypress",e)}}},onPaste:function(e){this.handleInputChange(e),this.$emit("paste",e)},caret:function(e,s){var t,i,a;if(!(!this.$el.offsetParent||this.$el!==document.activeElement))if(typeof e=="number")i=e,a=typeof s=="number"?s:i,this.$el.setSelectionRange?this.$el.setSelectionRange(i,a):this.$el.createTextRange&&(t=this.$el.createTextRange(),t.collapse(!0),t.moveEnd("character",a),t.moveStart("character",i),t.select());else return this.$el.setSelectionRange?(i=this.$el.selectionStart,a=this.$el.selectionEnd):document.selection&&document.selection.createRange&&(t=document.selection.createRange(),i=0-t.duplicate().moveStart("character",-1e5),a=i+t.text.length),{begin:i,end:a}},isCompleted:function(){for(var e=this.firstNonMaskPos;e<=this.lastRequiredNonMaskPos;e++)if(this.tests[e]&&this.buffer[e]===this.getPlaceholder(e))return!1;return!0},getPlaceholder:function(e){return e<this.slotChar.length?this.slotChar.charAt(e):this.slotChar.charAt(0)},seekNext:function(e){for(;++e<this.len&&!this.tests[e];);return e},seekPrev:function(e){for(;--e>=0&&!this.tests[e];);return e},shiftL:function(e,s){var t,i;if(!(e<0)){for(t=e,i=this.seekNext(s);t<this.len;t++)if(this.tests[t]){if(i<this.len&&this.tests[t].test(this.buffer[i]))this.buffer[t]=this.buffer[i],this.buffer[i]=this.getPlaceholder(i);else break;i=this.seekNext(i)}this.writeBuffer(),this.caret(Math.max(this.firstNonMaskPos,e))}},shiftR:function(e){var s,t,i,a;for(s=e,t=this.getPlaceholder(e);s<this.len;s++)if(this.tests[s])if(i=this.seekNext(s),a=this.buffer[s],this.buffer[s]=t,i<this.len&&this.tests[i].test(a))t=a;else break},handleAndroidInput:function(e){var s=this.$el.value,t=this.caret();if(this.oldVal&&this.oldVal.length&&this.oldVal.length>s.length){for(this.checkVal(!0);t.begin>0&&!this.tests[t.begin-1];)t.begin--;if(t.begin===0)for(;t.begin<this.firstNonMaskPos&&!this.tests[t.begin];)t.begin++;this.caret(t.begin,t.begin)}else{for(this.checkVal(!0);t.begin<this.len&&!this.tests[t.begin];)t.begin++;this.caret(t.begin,t.begin)}this.isCompleted()&&this.$emit("complete",e)},clearBuffer:function(e,s){var t;for(t=e;t<s&&t<this.len;t++)this.tests[t]&&(this.buffer[t]=this.getPlaceholder(t))},writeBuffer:function(){this.$el.value=this.buffer.join("")},checkVal:function(e){this.isValueChecked=!0;var s=this.$el.value,t=-1,i,a,r;for(i=0,r=0;i<this.len;i++)if(this.tests[i]){for(this.buffer[i]=this.getPlaceholder(i);r++<s.length;)if(a=s.charAt(r-1),this.tests[i].test(a)){this.buffer[i]=a,t=i;break}if(r>s.length){this.clearBuffer(i+1,this.len);break}}else this.buffer[i]===s.charAt(r)&&r++,i<this.partialPosition&&(t=i);return e?this.writeBuffer():t+1<this.partialPosition?this.autoClear||this.buffer.join("")===this.defaultBuffer?(this.$el.value&&(this.$el.value=""),this.clearBuffer(0,this.len)):this.writeBuffer():(this.writeBuffer(),this.$el.value=this.$el.value.substring(0,t+1)),this.partialPosition?i:this.firstNonMaskPos},handleInputChange:function(e){var s=e.type==="paste";if(!(this.readonly||s)){var t=this.checkVal(!0);this.caret(t),this.updateModel(e),this.isCompleted()&&this.$emit("complete",e)}},getUnmaskedValue:function(){for(var e=[],s=0;s<this.buffer.length;s++){var t=this.buffer[s];this.tests[s]&&t!==this.getPlaceholder(s)&&e.push(t)}return e.join("")},updateModel:function(e){var s=this.unmask?this.getUnmaskedValue():e.target.value;this.$emit("update:modelValue",this.defaultBuffer!==s?s:"")},updateValue:function(){var e=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.$el&&(this.modelValue==null?(this.$el.value="",s&&this.$emit("update:modelValue","")):(this.$el.value=this.modelValue,this.checkVal(),setTimeout(function(){if(e.$el&&(e.writeBuffer(),e.checkVal(),s)){var t=e.unmask?e.getUnmaskedValue():e.$el.value;e.$emit("update:modelValue",e.defaultBuffer!==t?t:"")}},10)),this.focusText=this.$el.value)},initMask:function(){this.tests=[],this.partialPosition=this.mask.length,this.len=this.mask.length,this.firstNonMaskPos=null,this.defs={9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"};var e=$();this.androidChrome=/chrome/i.test(e)&&/android/i.test(e);for(var s=this.mask.split(""),t=0;t<s.length;t++){var i=s[t];i==="?"?(this.len--,this.partialPosition=t):this.defs[i]?(this.tests.push(new RegExp(this.defs[i])),this.firstNonMaskPos===null&&(this.firstNonMaskPos=this.tests.length-1),t<this.partialPosition&&(this.lastRequiredNonMaskPos=this.tests.length-1)):this.tests.push(null)}this.buffer=[];for(var a=0;a<s.length;a++){var r=s[a];r!=="?"&&(this.defs[r]?this.buffer.push(this.getPlaceholder(a)):this.buffer.push(r))}this.defaultBuffer=this.buffer.join(""),this.updateValue(!1)},isValueUpdated:function(){return this.unmask?this.modelValue!=this.getUnmaskedValue():this.defaultBuffer!==this.$el.value&&this.$el.value!==this.modelValue}},computed:{filled:function(){return this.modelValue!=null&&this.modelValue.toString().length>0},inputClass:function(){return[this.cx("root"),this.class]},rootPTOptions:function(){return E(this.ptmi("root",this.ptmParams),this.ptm("pcInputText",this.ptmParams))},ptmParams:function(){return{context:{filled:this.filled}}},hasFluid:function(){return F(this.fluid)?!!this.$pcFluid:this.fluid}},components:{InputText:K}};function J(l,e,s,t,i,a){var r=D("InputText");return m(),U(r,{value:l.modelValue,class:z(a.inputClass),readonly:l.readonly,disabled:l.disabled,invalid:l.invalid,variant:l.variant,placeholder:l.placeholder,fluid:a.hasFluid,unstyled:l.unstyled,onInput:a.onInput,onFocus:a.onFocus,onBlur:a.onBlur,onKeydown:a.onKeyDown,onKeypress:a.onKeyPress,onPaste:a.onPaste,pt:a.rootPTOptions},null,8,["value","class","readonly","disabled","invalid","variant","placeholder","fluid","unstyled","onInput","onFocus","onBlur","onKeydown","onKeypress","onPaste","pt"])}H.render=J;export{Q as _,H as s};
