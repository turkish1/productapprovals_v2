import{C as B,e as a,f as w,o as d,c as u,g as l,F as X,x as Y,t as g,X as j,aa as q,O as A,ab as R,h as E,p as H,q as U,G as J,d as K,ac as Q}from"./index-Cxz0REwX.js";import{u as W,a as Z}from"./use-downloadpdf-CRMZStiA.js";import{u as N}from"./accountsStore-BkJH3zXC.js";import{u as L}from"./permitapp-CW6pXiqC.js";import{_ as ee}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useAxios-DLvD8L0S.js";const ae={class:"terminal"},oe={class:"terminal-content"},te=8,se={__name:"Terminal",setup(O){const m=L(),{permitapp:y}=B(m),{accountUsers:b}=N();console.log(b);let p=a(),f=a();a();let v=a(),n=a();y.value.forEach((e,i)=>{p.value=e.formdt.permit,f.value=e.formdt.processNumber,v.value=e.formdt.address,n.value=e.formdt.contractor});const _=["Initializing system...","Loading modules...","Connecting to server...","Server connection established.",`${f.value}...`,`${v.value}...`,`${n.value}...`],r=a([]);function c(){let e=0;const i=setInterval(()=>{e<_.length?(r.value.length>=te&&r.value.shift(),r.value.push(_[e]),e++):clearInterval(i)},1e3)}return w(()=>{c()}),w(()=>{}),(e,i)=>(d(),u("div",ae,[l("div",oe,[(d(!0),u(X,null,Y(r.value,(t,x)=>(d(),u("div",{key:x,class:"terminal-line"},g(t),1))),128))])]))}},le=ee(se,[["__scopeId","data-v-5bd8f88a"]]),ne={class:"card"},re={class:"flex flex-col w-1/3 gap-2 shadow-lg shadow-cyan-800",style:{"margin-left":"550px","margin-top":"440px"}},ce={class:"payment-widget"},ie=l("h2",{style:{color:"black"}},"Credit Card Payment",-1),de={key:0,class:"confirmation"},ue=49.99,ge={__name:"Paymentprocessed",setup(O){var D,T,$,S,k;const m=L(),{accountUsers:y}=N(),b=a("TX123456789");a(((T=(D=m.$state.permitapp[0])==null?void 0:D.formdt)==null?void 0:T.processNumber)||"");const p=a((($=m.$state.permitapp[0].formdt)==null?void 0:$.muniProc)||"");function f(){y.value.forEach((o,s)=>{dba.value=o.dba,console.log(o)})}w(()=>{f()});const v=a(!1),n=a(!1),_=a(!1);a(!1);const r=a(!1),c=a(!1),e=a({cardholderName:"",cardNumber:"",expiryDate:"",cvv:""});a(!1),a(!1);const{getNumber:i}=W(p.value),t=Z();B(t.$state),console.log((k=(S=t.$state.downloadinput[0])==null?void 0:S.downloadData)==null?void 0:k.download_url),N(),w(()=>{});const x=j(()=>{var o,s;i(),setTimeout(()=>{r.value=!0},1e3),console.log(p.value),console.log((s=(o=t.downloadinput[0])==null?void 0:o.downloadData)==null?void 0:s.message)}),z=()=>{if(!e.value.cardholderName||!e.value.cardNumber||!e.value.expiryDate||!e.value.cvv){alert("Please fill out all fields.");return}c.value=!0,n.value=!0,setTimeout(()=>{e.value.cardholderName="",e.value.cardNumber="",e.value.expiryDate="",e.value.cvv="",c.value=!1,n.value=!1},2e3),F()};q(x,()=>{});const F=async()=>{var V,I,P,C;const o=(I=(V=t.downloadinput[0])==null?void 0:V.downloadData)==null?void 0:I.download_url;if(console.log(o),!o||o.length===0)return;console.log(o);const s=(C=(P=t.downloadinput[0])==null?void 0:P.downloadData)==null?void 0:C.download_url;if(!s)return;v.value=!0;const M=s,G="muniProcessNumber.zip",h=document.createElement("a");h.href=M,h.download=G,h.click(),h.remove(),_.value=!1};return(o,s)=>(d(),u("div",ne,[A(E(H(Q),{color:"#784EA7",size:"100px",style:{"margin-top":"500px","margin-left":"850px"}},null,512),[[R,n.value]]),l("div",re,[E(le),l("div",ce,[ie,U(" Thank you for your payment! Your transaction ID is "),l("strong",null,g(b.value),1),U(". "),l("form",{onSubmit:J(z,["prevent"])},null,32),c.value?(d(),u("div",de,[l("p",null,"Thank you, "+g(e.value.cardholderName)+"! Your payment of $"+g(ue)+" was processed.",1)])):K("",!0)])])]))}};export{ge as default};
