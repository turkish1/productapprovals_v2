import{s as U}from"./index-D4a-k9mX.js";import{E,e as s,f as b,Y as j,h as B,w as C,g as F,ad as H,ae as G,o as O,c as P,j as N,k as V,aj as k,i as x,I as Y,ak as J,D as K}from"./index-CcPSYwZu.js";import{u as q,a as Q}from"./useAxios-CuQe87xr.js";import{u as W}from"./useDripedge-Cyxc0IWL.js";import{u as X}from"./roofList-Bq3awh8Q.js";import{a as Z}from"./use-tileMechanical-iJo3NTdR.js";const L=E("dripinputmecht",{state:()=>({dripinputmecht:[],dripMTileMaterial:[],selectDripEdges:"",selectDripEdgeSizes:"",id:2}),actions:{addMTileDrip(t){this.dripinputmecht.push({dripMTileData:t,completed:!1})},insertDripAtIndex(t,e){this.dripinputmecht.splice(t,0,{dripMTileMaterial:e,completed:!1})},resetState(){this.$reset(),this.dripMTileMaterial=[]}}});function ee(){const t=s([]),e=s([]),a=s([]),l=s([]),i=s(!1),o=s(null),u=s([]);i.value=!0;const n=L();let p="https://us-east-1.aws.data.mongodb-api.com/app/data-aquwo/endpoint/dripmaterials";const{execute:m,then:M,data:v}=q(p,{method:"GET"},{immediate:!1});return a.value=m().then(y=>{e.value=v.value.result,t.value=v.value.result.Drip_Edge_Material_Type;for(let g=0;g<t.value.length;g++)u.value.push(t.value[g]);return l.value.push(e.value.size1,e.value.size2,e.value.size3,e.value.size4),n.addMTileDrip(e),n.addMTileDrip(l),t.value}),i.value=!1,{dtype:u,error:o,loading:i,hold:t,results:a,typeSize:l,holdSized:e}}const le="https://myfawca4fj3ewpg5usmepe6toi0wuvlw.lambda-url.us-east-1.on.aws/";function te(){const t=s(null),e=s(!1);var a=s(null),l=s(null);s(null);var i=s(null),o=s(null);const{data:u,error:n,isFetching:p,execute:m}=q(le,{method:"POST",headers:{"Content-Type":"application/json"}},Q,{immediate:!1});return{data:u,errors:t,isFetching:p,loading:e,postMech:async c=>{i.value=c,console.log(i.value),e.value=!0,n.value=null;try{return await m({data:i.value})}catch(r){n.value=r.massage,console.error("Lambda post failed:",r)}finally{e.value=!1}},postUDLMech:async c=>{a.value=c,console.log(a.value),e.value=!0,n.value=null;try{return await m({data:a.value})}catch(r){n.value=r.massage,console.error("Lambda post failed:",r)}finally{e.value=!1}},postSAMech:async c=>{l.value=c,console.log(l.value),e.value=!0,n.value=null;try{return await m({data:l.value})}catch(r){n.value=r.massage,console.error("Lambda post failed:",r)}finally{e.value=!1}},dripEdge:async c=>{o.value=c,e.value=!0,n.value=null;try{return await m({data:o.value})}catch(r){n.value=r.massage,console.error("Lambda post failed:",r)}finally{e.value=!1}}}}const ae={class:"flex flex-col w-96 mb-4 gap-3",style:{"margin-left":"20px"}},se=x("label",{style:{color:"#122620"}},"Drip Edge Material",-1),oe=x("label",{style:{color:"#122620"}},"Drip Edge Size",-1),ve={__name:"DripEdMechTile",emits:["update-valuesize"],setup(t,{emit:e}){const{selectDripEdge:a,selectDripEdgeSize:l,holdSize:i,type:o}=W(),{dripEdge:u}=te(),n=X(),p=s(n.$state.roofList),m=s();ee();const M=s(null),v=L();console.log(v);const y=e;let g=s(!1);const c=s(),r=b({DripEdgeMaterial:"",DripEdgeSize:""}),R=j(()=>{if(console.log(p.value),p.value.length===0)return"";for(let d=0;d<p.value.length;d++)p.value[d].item==="Mechanical Fastened Tile"&&(console.log(p.value[d].item),g.value=!0,m.value=o.value);h()}),f=b({DripEdgeMaterial:"",DripEdgeSize:""}),$=()=>{y("update-valuesize",l.value),f.DripEdgeSize=l.value,console.log(l.value),_()};B(()=>{console.log("Select element:",M.value),D()});function h(){for(let d=0;d<p.value.length;d++)p.value[d].item==="Mechanical Fastened Tile"&&(console.log(p.value[d].item),A())}function D(d){m.value=o.value,console.log(m.value,d)}function _(){console.log(a.value),a.value?(a.value==="Galvanized Steel Metal ¹"&&(c.value=i.value.size1,h()),a.value==="Stainless Steel Metal ²"&&(c.value=i.value.size2,h()),a.value==="Aluminum Metal ³"&&(c.value=i.value.size3,h()),a.value==="Copper Metal ⁴"&&(c.value=i.value.size4,h())):console.log("The element not mounted yet"),r.DripEdgeMaterial=a.value,r.DripEdgeSize=l.value,I(),h()}function A(){console.log(a.value),f.DripEdgeMaterial=a.value,console.log(f.DripEdgeMaterial),T()}const T=async d=>{console.log(f.DripEdgeSize),g.value===!0&&(f.DripEdgeSize=l.value,console.log(f.DripEdgeSize),v.insertDripAtIndex(5,f.DripEdgeMaterial),v.insertDripAtIndex(7,f.DripEdgeSize),console.log(v))},I=async()=>{await u(r)};return C(m,c,o),F(D,_),H(async()=>{await G(R).toBe(!0)}),(d,S)=>{const w=U;return O(),P("div",ae,[se,N(w,{modelValue:V(a),"onUpdate:modelValue":[S[0]||(S[0]=z=>k(a)?a.value=z:null),D],options:m.value,placeholder:"make selection"},null,8,["modelValue","options"]),oe,N(w,{ref_key:"selectSizeRef",ref:M,modelValue:V(l),"onUpdate:modelValue":S[1]||(S[1]=z=>k(l)?l.value=z:null),options:c.value,onClick:_,onChange:$,onUpdateValuesize:T,placeholder:"make selection"},null,8,["modelValue","options"])])}}};function fe({min:t=null,max:e=null,required:a=!1}){const l=s(null);return{errorHeightMessage:l,validateTileHeight:o=>{const u=o;return t!==null&&u<t?(l.value=`Number must be greater than or equal to ${t}`,console.log("min",u,t),!1):e!==null&&u>=t&&u>=e?(l.value=`Number must be less than or equal to ${e}`,console.log("max",u),!1):a&&(o==null||o==="")?(l.value="This field is required",console.log("required"),!1):(l.value=null,!0)}}}function ge({min:t=null,max:e=null,required:a=!1}){const l=s(null);return{errorMessage:l,validateNumber:o=>{const u=o;return t!==null&&u<t?(l.value=`Number must be greater than or equal to ${t}`,!1):e!==null&&u>=t&&u>=e?(l.value=`Number must be less than or equal to ${e}`,console.log("max",u),!1):a&&(o==null||o==="")?(l.value="This field is required",console.log("required"),!1):(l.value=null,!0)}}}const ue=E("tileMechInput",{state:()=>({tileMechInput:[],id:0}),actions:{addSystem(t){this.tileMechInput.push({tileMechNumber:t,completed:!1})},reset(){this.$reset()}},getters:{tileMechNumber:t=>t.tileMechNumber}});function he(){let t=s([]);const e=ue(),a=s(""),l=b({noa:[]});function i(){n()}const o=Y(()=>"https://h3gd9z0q32.execute-api.us-east-1.amazonaws.com/mechanicaltileNumberstaging"),{data:u}=J(o).get().json(),n=async()=>{l.noa=u,e.addSystem(l),console.log("System added")};return{tileMechNumber:l,fetchData:n,callNumber:i,errors:a,results:t,...K(l),mechanicalStore:e}}const ie=E("multiinput",{state:()=>({multiinput:[],id:0}),actions:{addData(t){this.multiinput.push({multiData:t,completed:!1})},reset(){this.$reset()}}});function Me(){const t=s([]),e=s([]),a=b({select_tile:[],tile_map:[],table2_map:[],table2:"",noa:"",manufacturer:"",material:"",description:"",Table2:[],Table3:[],expiration_date:"",resistance:[],selection:"",select_tile:[],tile_map:[],tileType:"",table2_map:[],two_ten_d_RS_Nails:null,one_number_eight_screw:null,two_number_eight_screw:null,savedfastener:"",fastenerValues:[],height:null,area:null,slope:null,perimeter:null,decktype:null}),l=Z(),i=ie();function o(u,n){e.value=u.value,t.value=n,console.log(u,n),console.log(l),console.log(e.value[0].Table2.content),a.table2=e.value[0].Table2.content,a.select_tile=e.value[0].select_tile,a.table2_map=e.value[0].table2_map,a.tile_map=e.value[0].tile_map,console.log(a),i.addData(a)}return{multiTiles:a,workoutData:o,multiStore:i,getmechStore:l}}export{ve as _,he as a,te as b,ge as c,fe as d,Me as u};
