import{s as Y}from"./index-DcunPuBN.js";import{r as t,s as G,o as A,a7 as F,ao as R,b as C,c as U,f as n,ap as B,d as M,a0 as j,e,v as H,aq as u,t as P,x as I,a9 as J}from"./index-C99ZpHQm.js";import{u as K,a as L}from"./use-downloadpdf-BxlM4SIe.js";import{u as Q}from"./pdfsignStore-CfYCPtdz.js";import{u as W}from"./permitapp-U3JXEIWp.js";import"./index-BK0ApdOd.js";import"./useAxios-DWOCcrcn.js";const X={class:"card"},Z={class:"flex flex-col w-1/3 gap-2 shadow-lg shadow-cyan-800",style:{"margin-left":"550px","margin-top":"440px"}},ee={class:"payment-widget"},ae=e("h2",{style:{color:"black"}},"Credit Card Payment",-1),oe={class:"form-group"},te=e("label",{for:"cardholder-name"},"Cardholder Name",-1),le={class:"form-group"},se=e("label",{for:"card-number"},"Card Number",-1),re={class:"form-group small-inputs"},ne=e("label",{for:"expiry-date"},"Expiry Date",-1),de=e("label",{for:"cvv"},"CVV",-1),ue=e("button",{type:"submit"},"Pay",-1),ie={key:0,class:"confirmation"},ce=49.99,ge={__name:"Paymentgateway",setup(me){var w,y,g,x;const p=W();t(((y=(w=p.$state.permitapp[0])==null?void 0:w.formdt)==null?void 0:y.processNumber)||"");const v=t(p.$state.permitapp[0].muniNum||"");t(null),t(null);const T=t(!1),i=t(!1);t(!1);const f=t(!1),q=t(!1),$=t(!1),c=t(!1);t(null);const a=t({cardholderName:"",cardNumber:"",expiryDate:"",cvv:""});t(!1),t(!1);const{getNumber:E}=K(v.value),r=L();G(r.$state),console.log((x=(g=r.$state.downloadinput[0])==null?void 0:g.downloadData)==null?void 0:x.download_url);const{resp:h}=Q();A(()=>{var l,o;((o=(l=h.value)==null?void 0:l.status)==null?void 0:o.status)===200&&(q.value=!0,console.log(h.value.status.status))});const z=F(()=>{var l,o;E(),setTimeout(()=>{$.value=!0},1e3),console.log(v.value),console.log((o=(l=r.downloadinput[0])==null?void 0:l.downloadData)==null?void 0:o.message)}),O=l=>{if(!a.value.cardholderName||!a.value.cardNumber||!a.value.expiryDate||!a.value.cvv){alert("Please fill out all fields.");return}c.value=!0,i.value=!0,setTimeout(()=>{a.value.cardholderName="",a.value.cardNumber="",a.value.expiryDate="",a.value.cvv="",c.value=!1,i.value=!1},2e3),_()};R(z,()=>{});const _=async()=>{var b,N,D,V,S,k;console.log((N=(b=r.downloadinput[0])==null?void 0:b.downloadData)==null?void 0:N.download_url);const l=(V=(D=r.downloadinput[0])==null?void 0:D.downloadData)==null?void 0:V.download_url;if(console.log(l),!l||l.length===0)return;console.log(l);const o=(k=(S=r.downloadinput[0])==null?void 0:S.downloadData)==null?void 0:k.download_url;if(!o)return;T.value=!0;const m=o,s="processnumber.zip",d=document.createElement("a");d.href=m,d.download=s,d.click(),d.remove(),f.value=!0};return(l,o)=>{const m=Y;return C(),U("div",X,[n(M(j(J),{color:"#784EA7",size:"100px",style:{"margin-top":"500px","margin-left":"850px"}},null,512),[[B,i.value]]),e("div",Z,[n(M(m,{icon:"pi pi-arrow-circle-down",severity:"info","aria-label":"User",onClick:_},null,512),[[B,f.value]]),e("div",ee,[ae,e("form",{onSubmit:H(O,["prevent"])},[e("div",oe,[te,n(e("input",{type:"text",id:"cardholder-name","onUpdate:modelValue":o[0]||(o[0]=s=>a.value.cardholderName=s),placeholder:"Boris Gomez",required:""},null,512),[[u,a.value.cardholderName]])]),e("div",le,[se,n(e("input",{type:"text",id:"card-number","onUpdate:modelValue":o[1]||(o[1]=s=>a.value.cardNumber=s),maxlength:"19",placeholder:"1234 5678 9012 3456",required:""},null,512),[[u,a.value.cardNumber]])]),e("div",re,[e("div",null,[ne,n(e("input",{type:"text",id:"expiry-date","onUpdate:modelValue":o[2]||(o[2]=s=>a.value.expiryDate=s),maxlength:"5",placeholder:"MM/YY",required:""},null,512),[[u,a.value.expiryDate]])]),e("div",null,[de,n(e("input",{type:"text",id:"cvv","onUpdate:modelValue":o[3]||(o[3]=s=>a.value.cvv=s),maxlength:"4",placeholder:"123",required:""},null,512),[[u,a.value.cvv]])])]),ue],32),c.value?(C(),U("div",ie,[e("p",null,"Thank you, "+P(a.value.cardholderName)+"! Your payment of $"+P(ce)+" was processed.",1)])):I("",!0)])])])}}};export{ge as default};
