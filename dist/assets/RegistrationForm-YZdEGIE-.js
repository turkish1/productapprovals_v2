import{_ as O}from"./FileSaver-BImygikY.js";import{r as d,a as h,n as C,q as j,s as q,u as z,o as V,w as Q,v as W,x as J,b as S,c as U,e as o,d as n,h as I,y as K,t as X,z as Y,F as Z,p as $,i as ee,B as oe}from"./index-CAQJexAo.js";import{s as ae}from"./index-B9cLfB3r.js";import{s as te}from"./index-DWNvxY6t.js";import{u as se,s as le}from"./auth-CXJfCU72.js";import{s as ne}from"./index-DXR2zjAP.js";import{s as de}from"./index-DkbsVFFV.js";import{s as re}from"./index-BZsCARpB.js";import{u as ie}from"./accountsStore-_oSZDxBr.js";import{u as A}from"./useAxios-COfx_Ge8.js";import ce from"./html2canvas.esm-CBrSDip1.js";import{E as me}from"./jspdf.es.min-Dwo-Pjpt.js";import{_ as pe}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./permitapp-DJQmQbnd.js";import"./index-DzoDy9Z7.js";import"./index-DLOprdJM.js";import"./index-ug5H8BsJ.js";import"./index-CQdLXOeY.js";import"./index-CPyL7Ay3.js";function fe(){const r=d([]),a=d("");let x=d([]);const{accountUsers:e,getUser:v,addUser:s}=ie();let i=h({license:"",dba:"",name:"",username:"",password:"",secondary_status:"",expiration_date:"",address:"",projects:[],password:"",cphone:"",bphone:"",email:"",date:new Date});const p=d("");let c="https://us-east-1.aws.data.mongodb-api.com/app/data-aquwo/endpoint/accounts";const{execute:_,data:b}=A(c,{method:"POST"},{immediate:!1});let f=h({});function y(u){console.log(u),f=u,_({data:u}),a.value="Form submitted successfully!",s(f),console.log(f,"System added")}return{takp:y,noaNum:r,formData:i,error:p,accountUsers:e,getUser:v,addUser:s,accountUsers:e,results:x,responseMessage:a,...C(f)}}const ue=j("cccinput",{state:()=>({cccinput:[],id:0}),actions:{addData(r){this.cccinput.push({cccAccounts:r,completed:!1})}},getters:{cccData:r=>r.cccAccounts}});function _e(){const r=d(""),a=d(""),x=d("");d("");const e=d("");let v="https://us-east-1.aws.data.mongodb-api.com/app/data-aquwo/endpoint/contractors";const{execute:s,then:i,data:p}=A(v,{method:"GET"},{immediate:!1}),c=h({});let _=h({license:"",dba:"",name:"",license_status:"",expiration_date:"",address:""});return ue(),s().then(b=>(c.value=p.value,_=c.value,x)),{error:a,responseMessage:r,contractors:c,licenseNumbers:e,cccAccounts:_}}const xe={setup(){let r=h({});const{authStore:a}=se(),{message:x}=q(a),e=z();let v=d(!1),s=h({license:"",dba:"",name:"",username:"",password:"",secondary_status:"",expiration_date:"",address:"",projects:[],password:"",cphone:"",bphone:"",email:"",date:new Date});const{contractors:i}=_e(),p=d("");V(()=>{r=i,console.log(r)});const c=d(""),{Data:_,takp:b}=fe(),f=async()=>{b(s),s.license="",s.name="",s.secondary_status="",s.dba="",s.username="",s.password="",s.address="",s.cphone="",s.bphone="",s.email="",s.insurance="",s.carrier="",t()};function y(){r.value.forEach(m=>{p.value=s.license.toUpperCase(),p.value===m.alt_license&&(s.dba=m.DBA,s.name=m.name,s.expiration_date=m.expiration_date,s.address=m.address1,s.city=m.city,c.value=m.secondary_status,console.log(m.DBA,s.dba)),u()})}Q(u,()=>{});function u(){c.value===""&&(s.secondary_status=""),c.value==="A"&&(s.secondary_status="Active"),c.value==="I"&&(s.secondary_status="Inactive")}const t=()=>{e.push("/")},B=W(),k=d(),M=()=>{k.value.upload()},P=()=>{B.add({severity:"constrast",summary:"Contrast",detail:"File Uploaded",life:3e3})},N=d([{name:"Florida",code:"Florida"},{name:"Georgia",code:"Georgia"}]),F=d([{name:"Miami",code:"Miami"},{name:"Homestead",code:"Homestead"},{name:"Miami Beach",code:"Miami Beach"},{name:"Miami Gardens",code:"Miami Gardens"}]),G=d([{name:"Roofing Contractor",code:"Roofing"},{name:"General Contractor",code:"General"}]),L=d(null),R=d(null),E=d(null);return J(()=>{const m=document.getElementById("shingle");console.log(m),ce(m).then(D=>{const w=D.toDataURL("image/png"),g=new me;g.addImage(w,"PNG",10,10,190,0);const H=g.output("blob");T(H)});const T=async D=>{try{const g=await(await window.showSaveFilePicker({suggestedName:"permitapp.pdf",types:[{description:"PDF file",accept:{"application/pdf":[".pdf"]}}]})).createWritable();await g.write(D),await g.close(),console.log("PDF saved successfully without popping download dialog!")}catch(w){console.error("Error saving file:",w)}}},()=>{console.log("Called Unmounted")}),{formDatas:s,...C(s),disabled:v,navigateNext:t,authStore:a,message:x,checkLicense:y,trade:G,trades:L,onSubmit:f,onUpload:P,onMounted:V,upload:M,dropdownItemCt:F,dropdownItemSt:N,dropdownItemct:E,dropdownItemst:R}}},l=r=>($("data-v-a97612ad"),r=r(),ee(),r),ve={class:"card flex flex-col gap-7"},be=l(()=>o("div",{class:"font-semibold text-xl"},"Contractor Information",-1)),he={class:"flex flex-col gap-2"},ye=l(()=>o("label",{for:"lic1",style:{color:"#eae7e2"}},"State of Florida License No.",-1)),ge={class:"flex flex-wrap gap-2"},we=l(()=>o("label",{for:"trade",style:{color:"#eae7e2"}},"Trade",-1)),De={class:"flex flex-col gap-2"},Ve=l(()=>o("label",{for:"dba",style:{color:"#eae7e2"}},"DBA",-1)),Se={class:"flex flex-col gap-2"},Ue=l(()=>o("label",{for:"name",style:{color:"#eae7e2"}},"Qualifier Name",-1)),Ie={class:"flex flex-col gap-2"},Ce=l(()=>o("label",{for:"secondary_status",style:{color:"#eae7e2"}},"License Status",-1)),Ae={class:"flex flex-col gap-2"},Be=l(()=>o("label",{for:"license",style:{color:"#eae7e2"}},"License Expiration Date",-1)),ke={class:"flex flex-col gap-2"},Me=l(()=>o("label",{for:"license",style:{color:"#eae7e2"}},"Insurance Policy Number",-1)),Pe={class:"flex flex-col gap-2"},Ne=l(()=>o("label",{for:"license",style:{color:"#eae7e2"}},"Insurance Carrier",-1)),Fe={class:"flex flex-col gap-2"},Ge=l(()=>o("label",{for:"username",style:{color:"#eae7e2"}},"User Name",-1)),Le={class:"flex flex-col gap-2"},Re=l(()=>o("label",{for:"fname",style:{color:"#eae7e2"}},"Password",-1)),Ee=l(()=>o("div",{class:"font-semibold text-xm mb-4"},"Pick a password",-1)),Te=l(()=>o("ul",{class:"pl-2 ml-2 my-0 leading-normal"},[o("li",null,"At least one lowercase"),o("li",null,"At least one uppercase"),o("li",null,"At least one numeric"),o("li",null,"Minimum 8 characters")],-1)),He=l(()=>o("div",{class:"font-semibold text-xl"},"Contact Info",-1)),Oe={class:"flex flex-wrap gap-4"},je={class:"flex flex-col grow basis-0 gap-3"},qe=l(()=>o("label",{for:"addr",style:{color:"#eae7e2"}},"Business Address",-1)),ze={class:"flex flex-col grow basis-1 gap-3"},Qe=l(()=>o("label",{for:"state",style:{color:"#eae7e2"}},"City",-1)),We={class:"flex flex-wrap gap-2 w-full"},Je=l(()=>o("label",{for:"state",style:{color:"#eae7e2"}},"State",-1)),Ke={class:"flex flex-col grow basis-0 gap-3"},Xe=l(()=>o("label",{for:"bphone",style:{color:"#eae7e2"}},"Business Phone",-1)),Ye={class:"flex flex-col grow basis-0 gap-3"},Ze=l(()=>o("label",{for:"cphone",style:{color:"#eae7e2"}},"Cell Phone Number",-1)),$e={class:"flex flex-col grow basis-0 gap-3"},eo=l(()=>o("label",{for:"email1",style:{color:"#eae7e2"}},"Email",-1)),oo={class:"card md:w-1/4 flex justify-center flex-wrap gap-4"},ao={class:"card md:w-1/3 flex flex-col gap-2"},to=l(()=>o("label",{for:"addr",style:{color:"#eae7e2"}},"Upload Insurance Information",-1)),so={key:0};function lo(r,a,x,e,v,s){const i=re,p=de,c=ne,_=le,b=te,f=ae,y=oe,u=O;return S(),U(Z,null,[o("form",{class:"container w-1/2",onSubmit:a[16]||(a[16]=K((...t)=>e.onSubmit&&e.onSubmit(...t),["prevent"])),style:{"margin-left":"300px"}},[o("div",ve,[be,o("div",he,[ye,n(i,{type:"text",modelValue:e.formDatas.license,"onUpdate:modelValue":a[0]||(a[0]=t=>e.formDatas.license=t),placeholder:"CRC000000",invalid:e.formDatas.license==="",onInput:e.checkLicense},null,8,["modelValue","invalid","onInput"])]),o("div",ge,[we,n(p,{id:"trad",modelValue:e.trades,"onUpdate:modelValue":a[1]||(a[1]=t=>e.trades=t),options:e.trade,optionLabel:"name",placeholder:"Select One",class:"w-full"},null,8,["modelValue","options"])]),o("div",De,[Ve,n(i,{id:"dba",type:"text",modelValue:e.formDatas.dba,"onUpdate:modelValue":a[2]||(a[2]=t=>e.formDatas.dba=t),placeholder:" ",invalid:e.formDatas.dba===""},null,8,["modelValue","invalid"])]),o("div",Se,[Ue,n(i,{id:"name",type:"text",modelValue:e.formDatas.name,"onUpdate:modelValue":a[3]||(a[3]=t=>e.formDatas.name=t),placeholder:" ",invalid:e.formDatas.name===""},null,8,["modelValue","invalid"])]),o("div",Ie,[Ce,n(i,{id:"secondary_status",type:"text",modelValue:e.formDatas.secondary_status,"onUpdate:modelValue":a[4]||(a[4]=t=>e.formDatas.secondary_status=t),placeholder:" ",invalid:e.formDatas.secondary_status===""},null,8,["modelValue","invalid"])]),o("div",Ae,[Be,n(i,{id:"license",type:"text",modelValue:e.formDatas.expiration_date,"onUpdate:modelValue":a[5]||(a[5]=t=>e.formDatas.expiration_date=t),placeholder:" ",invalid:e.formDatas.expiration_date===""},null,8,["modelValue","invalid"])]),o("div",ke,[Me,n(i,{id:"license",type:"text",modelValue:e.formDatas.insurance,"onUpdate:modelValue":a[6]||(a[6]=t=>e.formDatas.insurance=t),placeholder:" ",invalid:e.formDatas.expiration_date===""},null,8,["modelValue","invalid"])]),o("div",Pe,[Ne,n(i,{id:"license",type:"text",modelValue:e.formDatas.carrier,"onUpdate:modelValue":a[7]||(a[7]=t=>e.formDatas.carrier=t),placeholder:" ",invalid:e.formDatas.expiration_date===""},null,8,["modelValue","invalid"])]),o("div",Fe,[Ge,n(i,{id:"username",type:"text",modelValue:e.formDatas.username,"onUpdate:modelValue":a[8]||(a[8]=t=>e.formDatas.username=t),placeholder:"user name",invalid:e.formDatas.username===""},null,8,["modelValue","invalid"])]),o("div",Le,[Re,n(_,{modelValue:e.formDatas.password,"onUpdate:modelValue":a[9]||(a[9]=t=>e.formDatas.password=t)},{header:I(()=>[Ee]),footer:I(()=>[n(c),Te]),_:1},8,["modelValue"]),He,o("div",Oe,[o("div",je,[qe,n(i,{id:"addr",type:"text",modelValue:e.formDatas.address,"onUpdate:modelValue":a[10]||(a[10]=t=>e.formDatas.address=t),placeholder:"address"},null,8,["modelValue"])]),o("div",ze,[Qe,n(i,{id:"city",type:"text",modelValue:e.formDatas.city,"onUpdate:modelValue":a[11]||(a[11]=t=>e.formDatas.city=t),placeholder:"city"},null,8,["modelValue"])]),o("div",We,[Je,n(p,{id:"state",modelValue:e.dropdownItemst,"onUpdate:modelValue":a[12]||(a[12]=t=>e.dropdownItemst=t),options:e.dropdownItemSt,optionLabel:"name",placeholder:"Select One",class:"w-full"},null,8,["modelValue","options"])]),o("div",Ke,[Xe,n(b,{modelValue:e.formDatas.bphone,"onUpdate:modelValue":a[13]||(a[13]=t=>e.formDatas.bphone=t),mask:"(999) 999-9999",placeholder:"(999) 999-9999",invalid:e.formDatas.bphone===""},null,8,["modelValue","invalid"])]),o("div",Ye,[Ze,n(b,{modelValue:e.formDatas.cphone,"onUpdate:modelValue":a[14]||(a[14]=t=>e.formDatas.cphone=t),mask:"(999) 999-9999",placeholder:"(999) 999-9999",invalid:e.formDatas.cphone===""},null,8,["modelValue","invalid"])]),o("div",$e,[eo,n(i,{id:"email1",modelValue:e.formDatas.email,"onUpdate:modelValue":a[15]||(a[15]=t=>e.formDatas.email=t),type:"text",placeholder:"email",invalid:e.formDatas.email===""},null,8,["modelValue","invalid"])])]),o("div",oo,[n(f,{label:"Submit",severity:"contrast",raised:"",onClick:e.onSubmit,disabled:e.disabled},null,8,["onClick","disabled"])])]),o("div",ao,[to,n(y),n(u,{class:"w-2/3"})])])],32),r.responseMessage?(S(),U("p",so,X(r.responseMessage),1)):Y("",!0)],64)}const Io=pe(xe,[["render",lo],["__scopeId","data-v-a97612ad"]]);export{Io as default};
