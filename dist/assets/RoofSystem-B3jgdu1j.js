import{_ as Q}from"./FileSaver-BKFo7wad.js";import{H as A,e as h,f as $,D as W,g as F,o as i,c,i as e,F as M,x as I,t as b,n as Y,J as B,k as S,I as N,Y as X,v as Z,K as ee,a as te,S as q,j as _,d as E,T as se,p as oe,q as ae,A as le}from"./index-Dw13dYgB.js";import{s as U}from"./index-B2CIoleJ.js";import{u as ne}from"./usePostGeneralpageLambda-Ch8uvzLo.js";import{u as ie}from"./generalpageStore-Dd36EOIQ.js";import{u as K}from"./roofList-CI_Bs01F.js";import{u as re}from"./permitapp-ChyhBDGQ.js";import{_ as G}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{s as j}from"./index-CdzpUSms.js";import{s as ce}from"./index-DKdyW0DP.js";import{s as de}from"./index-Ck0zEEg-.js";import{s as pe}from"./index-CZlsXHb-.js";import"./useAxios-BACsn8Ih.js";import"./index-Dm-KwHtn.js";import"./index-CRo2NMWl.js";import"./index-BdR6ua2x.js";import"./index-CkqQbbt0.js";import"./index-BgSqA1qt.js";function ue(){const d=K(),{roofList:y}=A(d);h(!1);const k=ie(),{postGeneral:v}=ne(),p=h(null),n=h(k.$state.generalpdfinput),u=h(!1),l=$({mtile:!1,adtile:!1,shingle:!1,metal:!1,slope:!1}),o=$({steep1:0,steep2:0,steep3:0,steep4:0,low1:0}),s=$({steep:0,lowslope:0,total:0}),a=$({steepData:"",slopeData:"",totalData:"",mtileChk:!1,adtileChk:!1,shingleChk:!1,slopeChk:!1,metalChk:!1,roofCheck:"",area:""});function R(V){p.value=V.value[0];const x={"Asphalt Shingle":{dim:"dim1",flag:"shingle",steepKey:"steep1"},"Adhesive Set Tile":{dim:"dim4",flag:"adtile",steepKey:"steep2"},"Mechanical Fastened Tile":{dim:"dim3",flag:"mtile",steepKey:"steep3"},"Metal Panel":{dim:"dim5",flag:"metal",steepKey:"steep4"},"Low Slope":{dim:"dim2",flag:"slope"}};Object.keys(l).forEach(C=>l[C]=!1),Object.keys(o).forEach(C=>o[C]=0),y.value.forEach(C=>{const g=x[C.item];if(g){const L=Number(C[g.dim])||0;l[g.flag]=!0,a[`${g.flag}Chk`]=!0,console.log(g.flag),g.flag==="slope"?o.low1=L:o[g.steepKey]=L}}),T()}async function T(){s.steep=o.steep1+o.steep2+o.steep3+o.steep4,s.lowslope=o.low1,s.total=s.steep+s.lowslope,a.area=s.total,a.steepData=s.steep,a.slopeData=s.lowslope,a.totalData=s.total,a.roofCheck=p.value,k.addgeneralpdfData(a),await v(a),u.value=!0}return{addRoof:R,roofArea:T,dataGeneral:a,generalType:n,isGeneralPageValid:u}}const me=W("roofinput",{state:()=>({roofinput:[],id:0}),actions:{addCheck(d){this.roofinput.push({roofCheckdata:d,completed:!1})},reset(){this.roofinput=[]},persist:!0}}),fe={class:"terminal"},_e={class:"terminal-content"},he={class:"content"},ve=["onClick"],ge=20,Se={__name:"RoofSystemList",setup(d){const y=K(),{roofList:k}=A(y),{toggleCompleted:v}=A(y),p=["Initializing system...","Loading modules...","Connecting to server...","Server connection established.","Awaiting Roof System Selection..."],n=h([]);function u(){let l=0;const o=setInterval(()=>{l<p.length?(n.value.length>=ge&&n.value.shift(),n.value.push(p[l]),console.log(p[l]),l++):clearInterval(o)},500)}return F(()=>{u()}),(l,o)=>(i(),c("div",fe,[e("div",_e,[(i(!0),c(M,null,I(n.value,(s,a)=>(i(),c("div",{key:a,class:"terminal-line"},b(s),1))),128)),(i(!0),c(M,null,I(S(k),s=>(i(),c("div",{key:s.id,class:"item"},[e("div",he,[e("span",{class:Y({completed:s.completed}),style:{color:"green"}},b(s.item)+" "+b(s.dim1)+" "+b(s.dim2)+" "+b(s.dim3)+" "+b(s.dim4)+" "+b(s.dim5),3),e("span",{onClick:B(a=>S(v)(s.id),["stop"])},"âœ”",8,ve)])]))),128))])]))}},ye=G(Se,[["__scopeId","data-v-0eaf742f"]]),w=d=>(oe("data-v-0b476471"),d=d(),ae(),d),ke={class:"page"},Ce={class:"card"},be={class:"card__header"},we=w(()=>e("h2",null,"Roof System",-1)),xe=w(()=>e("i",{class:"pi pi-refresh"},null,-1)),$e={class:"form"},Re={class:"field"},Te=w(()=>e("label",{for:"sqft"},"Square Footage",-1)),Ve={class:"field"},Le=w(()=>e("label",{for:"system"},"Roof System",-1)),De={key:0,class:"hint"},Ae={class:"field row"},Me={class:"check"},Ie=w(()=>e("label",{for:"kind-new"},"New Roof",-1)),Be={class:"check"},Fe=w(()=>e("label",{for:"kind-reroof"},"Re-Roof",-1)),Ke={class:"actions"},Ge={class:"side"},Pe=w(()=>e("p",{class:"dz-title"},"Blueprints & images",-1)),ze=w(()=>e("p",{class:"dz-sub"},"Drag & drop files here, or click to select",-1)),Oe={key:0,class:"dz-list"},Ne={__name:"RoofSystemForm",setup(d){var P,z,O;const y=re(),k=me(),v=K(),p=h(""),n=h(null),u=h(""),l=h(!1),o=h([]),{addRoof:s}=ue(),a=$({roofCheck:""}),R=[{name:"Asphalt Shingle"},{name:"Low Slope"},{name:"Mechanical Fastened Tile"},{name:"Adhesive Set Tile"},{name:"Metal Panel"}],T=h((O=(z=(P=y.$state.permitapp)==null?void 0:P[0])==null?void 0:z.formdt)==null?void 0:O.checkIfBeach),V=N(()=>X(T.value).value===2),x=N(()=>V.value?R.slice(1):R);function C(){var D;const m=n.value.name,t=Number(p.value),f={"Asphalt Shingle":()=>v.addSystemShingle(m,t),"Low Slope":()=>v.addSystemBur(m,t),"Mechanical Fastened Tile":()=>v.addSystemMTile(m,t),"Adhesive Set Tile":()=>v.addSystemATile(m,t),"Metal Panel":()=>v.addSystemMetal(m,t)};(D=f[m])==null||D.call(f),a.roofCheck=u.value,k.addCheck({...a}),p.value="",n.value=null}function g(){s(u)}function L(){v.$reset()}function H(m){var f;l.value=!1;const t=[...((f=m.dataTransfer)==null?void 0:f.files)||[]];t.length&&(o.value=t)}function J(m){var f;const t=[...((f=m.target)==null?void 0:f.files)||[]];t.length&&(o.value=t)}return F(()=>{!n.value&&x.value.length&&(n.value=x.value[0])}),(m,t)=>{const f=Z("RouterLink"),D=se;return i(),c("main",ke,[e("section",Ce,[e("header",be,[we,ee((i(),te(S(j),{class:"icon",text:"",plain:"",onClick:L},{default:q(()=>[xe]),_:1})),[[D,"Reset list",void 0,{bottom:!0}]])]),e("div",$e,[e("div",Re,[Te,_(S(de),{id:"sqft",modelValue:p.value,"onUpdate:modelValue":t[0]||(t[0]=r=>p.value=r),type:"number",inputmode:"numeric",placeholder:"e.g. 1200"},null,8,["modelValue"])]),e("div",Ve,[Le,_(S(pe),{id:"system",class:"w-full",options:x.value,optionLabel:"name",modelValue:n.value,"onUpdate:modelValue":t[1]||(t[1]=r=>n.value=r),placeholder:"Select roof system",onChange:C},null,8,["options","modelValue"]),V.value?(i(),c("small",De,"Miami Beach restrictions apply.")):E("",!0)]),e("div",Ae,[e("div",Me,[_(S(U),{inputId:"kind-new",name:"roofKind",value:"newroof",modelValue:u.value,"onUpdate:modelValue":t[2]||(t[2]=r=>u.value=r)},null,8,["modelValue"]),Ie]),e("div",Be,[_(S(U),{inputId:"kind-reroof",name:"roofKind",value:"reroof",modelValue:u.value,"onUpdate:modelValue":t[3]||(t[3]=r=>u.value=r)},null,8,["modelValue"]),Fe])]),e("div",Ke,[_(f,{to:"/dynamicstepper"},{default:q(()=>[_(S(j),{severity:"contrast",label:"Continue",onClick:g})]),_:1})])]),_(S(ce)),_(ye)]),e("section",Ge,[e("div",{class:Y(["dropzone",{over:l.value}]),onDragover:t[4]||(t[4]=B(r=>l.value=!0,["prevent"])),onDragleave:t[5]||(t[5]=r=>l.value=!1),onDrop:B(H,["prevent"])},[Pe,ze,e("input",{type:"file",class:"dz-input",multiple:"",onChange:J},null,32),o.value.length?(i(),c("ul",Oe,[(i(!0),c(M,null,I(o.value,r=>(i(),c("li",{key:r.name},b(r.name),1))),128))])):E("",!0)],34)])])}}},qe=G(Ne,[["__scopeId","data-v-0b476471"]]),Ee={id:"id",class:"grid grid-cols-3 gap-6"},Ue={class:"roof-app",style:{"margin-left":"250px","margin-top":"20px",border:"none","border-radius":"12px","box-shadow":"4px 4px 16px rgb(22, 183, 183)","padding-bottom":"10px",position:"center","max-height":"600px",width:"600px",top:"10vh"}},je={__name:"RoofSystemApp",setup(d){return F(()=>{le.init({duration:4500,easing:"ease-in-out",once:!1})}),(y,k)=>(i(),c("div",Ee,[e("div",Ue,[_(qe)])]))}},Ye=G(je,[["__scopeId","data-v-aebd1914"]]),He={class:"grid grid-cols-2 gap-0"},Je={"data-aos":"fade-up-right","data-aos-delay":"500",style:{"margin-top":"90px"}},ft={__name:"RoofSystem",setup(d){return(y,k)=>(i(),c("div",He,[_(Ye),e("div",Je,[_(Q)])]))}};export{ft as default};
