import{s as Na}from"./index-BOI8Grx9.js";import{s as Ke}from"./index-CAX-8HXr.js";import{s as Ne}from"./index-DxWwufVR.js";import{_ as yl}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{e as i,o as te,c as De,j as p,S as ce,i as a,p as vl,q as _l,D as Ee,Z as Ea,f as oe,g as Ze,V as y,w as za,ae as Ua,af as Ca,k as C,ak as zt,ar as Pa,I as P,al as bl,H as Ae,t as Ut,z as G,K as S,ai as B,a as Se,d as ue,aj as Oa,as as X,F as hl,an as he,at as Nt,am as ot,ao as Fa,T as La,aq as ka}from"./index-3483CEoG.js";import{u as Ct}from"./roofList-oIH0F8dK.js";import{s as $a}from"./index-DTjgwFn3.js";import{s as Ba}from"./index-CBEy_12q.js";import{s as Sl}from"./index-BOFZqA7X.js";import{u as ja}from"./useDripedge-0P3YNW4V.js";import{s as Ra,B as Et}from"./index-CHhUqfPJ.js";import{s as Ia,_ as it}from"./index-xKe2GsTZ.js";import{u as qa,a as Ha,b as Ka,_ as Za,c as Ga}from"./exposure_d-Cv27tCQ7.js";import{u as Pt,a as Ja}from"./useAxios-CEJ8fBnf.js";import{u as Qa}from"./systemE-BZ86RdIF.js";import{u as Wa}from"./permitapp-DNDp-RbA.js";import{s as Ya}from"./index-DlZAeQuS.js";import{s as Xa}from"./reset-store-CjlZpSMe.js";import{u as es}from"./tilevalueStore-COihjFCC.js";import"./index-CZmRRz6M.js";import"./index-B3Jby0w9.js";import"./index-3QowgC-j.js";import"./index-CVx8Mjrz.js";import"./index-DFqpI118.js";import"./index-BYP_W6Ph.js";const ze=c=>(vl("data-v-61e40f89"),c=c(),_l(),c),ts={class:"card-system flex justify-center"},ls=ze(()=>a("div",{class:"grid grid-cols-1 gap-2 place-content-center h-8 ..."},[a("p",{class:"text-center text-red-600"},"mEPermit Application")],-1)),as=ze(()=>a("div",{class:"grid grid-cols-1 gap-2 place-content-center h-16 ..."},[a("p",{class:"text-center text-red-600"},"High Velocity Hurricane Zone (HVHZ)")],-1)),ss=ze(()=>a("div",{class:"grid grid-cols-1 gap-2 place-content-center h-12 ..."},[a("p",{class:"text-center text-red-600"},"Concrete & Clay Roof Tiles")],-1)),os=ze(()=>a("div",{class:"grid grid-cols-1 gap-2 place-content-center h-16 ..."},[a("p",{class:"text-center text-red-600"}," The tile roof system and its components shall be installed in strict compliance with the FBC 2023 HVHZ portions of Chapter 15, the HVHZ Tile Application Standards: RAS-119, RAS-120 & RAS-127 and the submitted MDC Notice of Acceptance(s). ")],-1)),is=ze(()=>a("div",{class:"grid grid-cols-1 gap-2 place-content-center h-12 ..."},[a("p",{class:"text-center text-red-600"},"The mePermit applicant agrees to comply with these installation requirements when obtaining this permit.")],-1)),ns={class:"flex justify-end gap-2"},rs=ze(()=>a("label",{class:"ml-2"}," I Agree",-1)),us={__name:"AgreementsDialogTile",setup(c){const v=i(!0),D=i(null);return(_,V)=>{const M=Ne,z=Ke,L=Na;return te(),De("div",ts,[p(L,{visible:v.value,"onUpdate:visible":V[2]||(V[2]=A=>v.value=A),modal:"",header:"Terms Of Use",style:{width:"70rem"}},{default:ce(()=>[ls,p(M),as,ss,os,is,a("div",ns,[rs,p(z,{modelValue:_.agreement,"onUpdate:modelValue":V[0]||(V[0]=A=>_.agreement=A),value:"1",invalid:D.value===null,onClick:V[1]||(V[1]=A=>v.value=!1)},null,8,["modelValue","invalid"])])]),_:1},8,["visible"])])}}},cs=yl(us,[["__scopeId","data-v-61e40f89"]]),Al=Ee("dripinputadmaterial",{state:()=>({dripinputadmaterial:[],dripTileMaterial:[],dripinputsize:[],inputselectedTileDripEdge:[],selectedDripSize:[],dripinput:[],dripMaterial:[],id:0}),actions:{addMaterialDrip(c){this.dripinputadmaterial.push({dripTileData:c,completed:!1})},addSizeDrip(c){this.dripinputsize.push({selectedDripSizenew:c,completed:!1})},addUseritems(c){this.inputselectedTileDripEdge.push({dripSelection:c,completed:!1})},resetState(){this.inputselectedTileDripEdge=[]}}}),ds={class:"flex flex-col w-96 mb-4 gap-3",style:{"margin-left":"20px"}},ms=a("label",{style:{color:"#122620"}},"Drip Edge Material",-1),ps=a("label",{style:{color:"#122620"}},"Drip Edge Size",-1),fs={__name:"DripEdAdTile",emits:["update-valuesize"],setup(c,{emit:v}){const{selectDripEdge:D,selectDripEdgeSize:_,type:V,sizeTypeMetal:M}=ja(),z=Ct(),L=i(z.$state.roofList),A=i(),x=i(null);i(!1);const O=Al(),f=v;let $=i(!1);const J=i(),ee=Ea(()=>{if(L.value.length===0)return"";for(let h=0;h<L.value.length;h++)L.value[h].item==="Adhesive Set Tile"&&($.value=!0,A.value=V.value);I()}),r=oe({DripEdgeMaterial:"",DripEdgeSize:""}),T=oe({DripEdgeMaterial:"",DripEdgeSize:""}),R=()=>{f("update-valuesize",_.value),r.DripEdgeSize=_.value,ie()};Ze(()=>{q()});function I(){for(let h=0;h<L.value.length;h++)L.value[h].item;le()}function q(){A.value=V.value}function ie(){D.value?(D.value==="Galvanized Steel Metal ¹"&&(J.value=M.galvanized,I()),D.value==="Stainless Steel Metal ²"&&(J.value=M.stainless,I()),D.value==="Aluminum Metal ³"&&(J.value=M.aluminum,I()),D.value==="Copper Metal ⁴"&&(J.value=M.copper,I())):console.log("The element not mounted yet"),T.DripEdgeMaterial=D.value,T.DripEdgeSize=_.value,console.log(T.DripEdgeMaterial),I()}function le(){r.DripEdgeMaterial=D.value,g()}const g=()=>{O.resetState(),r.DripEdgeSize=_.value,O.addUseritems(T)};return y(A,J,V),za(q,ie),Ua(async()=>{await Ca(ee).toBe(!0)}),(h,Q)=>{const W=Sl;return te(),De("div",ds,[ms,p(W,{modelValue:C(D),"onUpdate:modelValue":Q[0]||(Q[0]=U=>zt(D)?D.value=U:null),options:A.value,placeholder:"make selection",onClick:q},null,8,["modelValue","options"]),ps,p(W,{ref_key:"selectSizeRef",ref:x,modelValue:C(_),"onUpdate:modelValue":Q[1]||(Q[1]=U=>zt(_)?_.value=U:null),options:J.value,onClick:ie,onChange:R,onUpdateValuesize:g,placeholder:"make selection"},null,8,["modelValue","options"])])}}},gs="https://neiyrwtsedlm7brkgmzer3w4xe0shdfl.lambda-url.us-east-1.on.aws/";function ys(){const c=i(null),v=i(!1),{data:D,error:_,isFetching:V,execute:M}=Pt(gs,{method:"POST",headers:{"Content-Type":"application/json"}},Ja,{immediate:!1}),z=async A=>{var x,O;v.value=!0,c.value=null;try{const f=await M({data:A});return(f==null?void 0:f.data)??D.value}catch(f){throw console.error("Lambda failed:",{message:f==null?void 0:f.message,code:f==null?void 0:f.code,status:(x=f==null?void 0:f.response)==null?void 0:x.status,data:(O=f==null?void 0:f.response)==null?void 0:O.data}),c.value=(f==null?void 0:f.message)||"Request failed",f}finally{v.value=!1}};return{data:D,errors:c,isFetching:V,loading:v,post:A=>z(A)}}function vs({min:c=null,max:v=null,required:D=!1}){const _=i(null);return{errorHeightMessage:_,validateTileHeight:M=>{console.log(M,typeof M);const z=M;return c!==null&&z<c?(_.value=`Number must be greater than or equal to ${c}`,console.log("min",z,c),!1):v!==null&&z>=c&&z>=v?(_.value=`Number must be less than or equal to ${v}`,console.log("max",z),!1):D&&(M==null||M==="")?(_.value="This field is required",console.log("required"),!1):(_.value=null,!0)}}}function _s({min:c=null,max:v=null,required:D=!1}){const _=i(null),V=i("");return{errorMessage:_,validateNumber:z=>{const L=z;return c!==null&&L<c?(_.value=`Number must be greater than or equal to ${c}`,!1):v!==null&&L>=c&&L>=v?(_.value=`Number must be less than or equal to ${v}`,console.log("max",L),!1):D&&(z==null||z==="")?(_.value="This field is required",console.log("required"),!1):(_.value=null,V.value=!0,!0)},result:V}}const Ot=Ee("doublePaddy",{state:()=>({inputdatas:null,id:0}),actions:{addtileDatas(c){console.log(c),this.inputdatas=c,console.log("Store updated with:",this.inputdatas)},reset(){this.inputdatas=null,this.id=0}}});function bs(){const c=i(!1),v=i(""),D=i(""),_=Ot(),V="https://ewa5ibqdkpzvdvtynh2z7agljm0epptp.lambda-url.us-east-1.on.aws/",{execute:M}=Pt(V,{method:"GET"},{immediate:!1}),z=x=>{const O=x==null?void 0:x.data;if(!O)return null;let f=O;if(O.body&&typeof O.body=="string")try{f=JSON.parse(O.body)}catch($){console.error("Failed to parse Lambda body string",$)}else O.body&&(f=O.body);return Array.isArray(f)?f[0]:f},L=x=>x?{...{noa:x.NOA||"",manufacturer:(x.applicant||"").trim(),description:x.description||"",Table2:x.Table2||"",Table3:x.Table3||"",select_tile:x.Select_Tile||"",tile_map:x.Tile_Map||"",Table2_Map:x.Table2_Map||"",resistance:x.Resistance||"",paddy_cat:x.paddy_category||""},material:Array.isArray(x.AdhesiveMaterial)?x.AdhesiveMaterial.join(", "):x.material||"",selection:x.AdhesiveMaterials||""}:null;async function A(x){var O;try{const f=await M({params:{NOA:String(x).trim()}}),$=z(f),J=((O=$!=null&&$.__v_isRef?$.value:$)==null?void 0:O[0])||$;if(console.log("Final Unwrapped Entry:",J),!J||Object.keys(J).length===0)return v.value="No record found",null;const ee=L(J);return _.addtileDatas(ee),ee}catch(f){return console.error("Fetch error:",f),null}finally{c.value=!1}}return{getTilenoas:A,useDoublepaddy:_,responseMessage:v,loading:c,buildPayload:L,error:D}}const Ft=Ee("inputdata",{state:()=>({inputdata:[],id:0}),actions:{addtileData(c){this.inputdata.push({singlepaddyData:c,completed:!1})},reset(){this.singlepaddyData=[]}},getters:{tileData:c=>c.singlepaddyData}}),hs=Pa();hs.use(Xa);function Ss(){const c=i(),v=i(!1),D=i(),_=i(""),V=i(""),M=Ft(),z="https://bndobvdmx2hlyfu7pbizohgova0aefyp.lambda-url.us-east-1.on.aws/",{execute:L,then:A,data:x}=Pt(z,{method:"GET"},{immediate:!1}),O=(r,T=null)=>{try{return JSON.parse(r)}catch{return T}},f=r=>{var R;let T=(r==null?void 0:r.data)??r;return T=((R=T==null?void 0:T.value)==null?void 0:R.body)??(T==null?void 0:T.body)??T,typeof T=="string"&&(T=O(T,[])),T&&typeof T=="object"&&typeof T.body=="string"&&(T=O(T.body,[])),Array.isArray(T)?T:T?[T]:[]};async function $(r){c.value=r;const T=Number(String(r).trim());return Number.isFinite(T)?(D.value=T,await ee()):(V.value="Invalid NOA number",null)}const J=r=>{var R,I,q,ie,le;const T=((R=r==null?void 0:r.Table2)==null?void 0:R.content)==="multiple";return console.log(r),T?{noa:r.NOA??r.noa??"",manufacturer:((q=(I=r.Manufacturer??r.applicant??"").trim)==null?void 0:q.call(I))??"",material:r.AdhesiveMaterial??"",description:r.description??"",Table2:r.Table2??"",Table3:r.Table3??"",content:r.content??"",mfMap:r.AdhesiveMaterials??"",select_tile:r.Select_Tile??"",tile_map:r.Tile_Map??"",Table2_Map:r.Table2_Map??"",resistance:r.Resistance??"",paddy_cat:r.paddy_category??""}:{noa:r.NOA??r.noa??"",manufacturer:((le=(ie=r.applicant??r.Manufacturer??"").trim)==null?void 0:le.call(ie))??"",material:r.material??r.Material??"",description:r.description??"",Table2:r.Table2??"",Table3:r.Table3??"",select_tile:r.Select_Tile??"",tile_map:r.Tile_Map??"",Table2_Map:r.Table2_Map??"",resistance:r.Resistance??"",paddy_cat:r.paddy_category??"",selection:r.AdhesiveMaterials??r.AdhesiveMaterial??""}},ee=async()=>{if(v.value)return null;v.value=!0;try{V.value="",_.value="";const r=await L({params:{NOA:D.value}}),R=f(r)[0];if(console.log("entry:",R),!R||typeof R!="object")return _.value="No record found",null;const I=J(R);console.log("payload:",I);const q=structuredClone(I);return M.addtileData(q),I}catch(r){return console.error("Error fetching data:",r),V.value=String((r==null?void 0:r.message)??r),null}finally{v.value=!1}};return{getTilenoa:$,fetchData:ee,responseMessage:_,error:V,paddyStore:M}}const As=Ee("doublepd",{state:()=>({noaRaw:null}),getters:{noaList:c=>{const v=c.noaRaw;return Array.isArray(v)?v.map(String):typeof v=="string"?v.split(",").map(D=>D.replace(/[[\]"']/g,"").trim()).filter(Boolean):[]}},actions:{addNoas(c){this.noaRaw=(c==null?void 0:c.noa)??null}}});function Ds(){const c=i(),v=i(""),D=i([]),_=As(),V=P(()=>"https://fcnamqr5pm5p2mqiwlliryrdli0voxkb.lambda-url.us-east-1.on.aws/"),{data:M,error:z,isFetching:L,execute:A}=bl(V,{immediate:!1,mode:"cors",credentials:"omit"}).get().json();y(()=>M.value,f=>{console.log(M.value),console.log("[double fetch] data.value:",f);const $=(f==null?void 0:f.body)??f;$&&_.addNoas({noa:$})},{immediate:!0});const x=async()=>{await O()},O=async()=>{v.value="",console.log("[double fetch] execute() starting"),await A(),console.log("[double fetch] execute() done")};return{input:c,fetchData:O,callFunctions:x,errors:v,results:D,isFetching:L,doubleStore:_}}const xs=Ee("singlepd",{state:()=>({noaRaw:null}),getters:{noaList:c=>{const v=c.noaRaw;return Array.isArray(v)?v.map(String):typeof v=="string"?v.split(",").map(D=>D.replace(/[[\]"']/g,"").trim()).filter(Boolean):[]}},actions:{addNoas({noa:c}){this.noaRaw=c??null}}});function Ts(){const c=i(null),v=i([]),D=i(""),_=xs(),V=P(()=>"https://kn5yokjdkzi7aylxly7cqo2hm40ezyfl.lambda-url.us-east-1.on.aws/"),{data:M,error:z,isFetching:L,execute:A}=bl(V,{immediate:!1,mode:"cors",credentials:"omit"}).get().json();y(()=>M.value,f=>{console.log(M.value),console.log("[single fetch] data.value:",f);const $=(f==null?void 0:f.body)??f;$&&_.addNoas({noa:$})},{immediate:!0});const x=async()=>{await O()},O=async()=>{D.value="",console.log("[single fetch] execute() starting"),await A(),console.log("[single fetch] execute() done")};return{input:c,fetchData:O,callFunction:x,errors:D,results:v,isFetching:L,singleStore:_}}const Dl=Ee("paddycatInput",{state:()=>({activeCategory:"single"}),actions:{setCategory(c){this.activeCategory=c}},getters:{getPaddyvalue:c=>c.paddycatInput},clear(){this.activeCategory=[]}}),Vs=c=>(vl("data-v-3f4e7f3a"),c=c(),_l(),c),Ms={class:"tile"},ws={class:"w-64 gap-2 mt-8 space-y-2 mb-2"},Ns=Vs(()=>a("label",{for:"ac"},"Tile NOA: 00000000",-1)),Es={class:"text-xs text-gray-500"},zs={__name:"tileNoaNumber",emits:["update","cleared","confirmed"],setup(c,{expose:v,emit:D}){const{getTilenoa:_}=Ss(),{getTilenoas:V}=bs(),{callFunction:M,singleStore:z}=Ts(),{callFunctions:L,doubleStore:A}=Ds(),x=Dl(),O=Ft(),{inputdata:f}=Ae(O),$=Ot(),{inputdatas:J}=Ae($),ee=D;Ze(async()=>{});const r=i(""),T=i([]);i(!1),y(r,g=>{(g==null||String(g).trim()==="")&&ee("cleared")});const R=P(()=>x.activeCategory==="double"),I=P(()=>{console.log(A);const g=R.value?A.noaList:z.noaList;return console.log(J,f),Array.isArray(g)?g.map(String):[]});y([R,()=>z.noaList,()=>A.noaList],()=>{var g,h;console.log("[live]",R.value,(g=z.noaList)==null?void 0:g.length,(h=A.noaList)==null?void 0:h.length)},{immediate:!0});const q=g=>{const h=(g==null?void 0:g.value)??r.value;console.log("[TileNoa] selected:",h),ee("updated",{noa:h}),le(h)},ie=g=>{const h=String(g.query??"").trim();console.log(h);const Q=I.value;console.log(Q),T.value=h?Q.filter(W=>W.includes(h)).slice(0,50):Q.slice(0,50)};y(()=>x.activeCategory,async g=>{var h,Q,W,U;console.log("[tileNoaNumber] category ->",g),!(g!=="single"&&g!=="double")&&(g==="single"?(console.log("[tileNoaNumber] BEFORE single noaList length",(h=z.noaList)==null?void 0:h.length),await M(),console.log("[tileNoaNumber] AFTER single noaList length",(Q=z.noaList)==null?void 0:Q.length)):(console.log("[tileNoaNumber] BEFORE double noaList length",(W=A.noaList)==null?void 0:W.length),await L(),console.log("[tileNoaNumber] AFTER double noaList length",(U=A.noaList)==null?void 0:U.length)))},{immediate:!0}),y(()=>z.noaList,g=>{var h;return console.log("[tileNoaNumber] singleStore.noaList changed len=",g==null?void 0:g.length,(h=g==null?void 0:g.slice)==null?void 0:h.call(g,0,5))},{deep:!0}),y(()=>A.noaList,g=>{var h;return console.log("[tileNoaNumber] doubleStore.noaList changed len=",g==null?void 0:g.length,(h=g==null?void 0:g.slice)==null?void 0:h.call(g,0,5))},{deep:!0});async function le(g){if(g)try{const h=R.value?await V(g):await _(g);if(console.log("[Component] Received payload from composable:",h),!h){console.warn("No payload found for NOA:",g);return}ee("confirmed",h),ee("updated",{noa:g,manufacturer:h.manufacturer||"",material:h.material||"",description:h.description||""})}catch(h){console.error("Data mapping failed in component:",h)}}return v({clearInput:()=>r.value="",commit:le}),(g,h)=>{const Q=Ra,W=Ia;return te(),De("div",Ms,[a("div",ws,[p(W,null,{default:ce(()=>[p(Q,{modelValue:r.value,"onUpdate:modelValue":h[0]||(h[0]=U=>r.value=U),suggestions:T.value,onComplete:ie,onItemSelect:q,inputClass:"w-56",showClear:""},null,8,["modelValue","suggestions"]),Ns]),_:1}),a("small",Es," Source: "+Ut(R.value?"Double Paddy":"Single Paddy"),1)])])}}},Us=yl(zs,[["__scopeId","data-v-3f4e7f3a"]]),Cs={id:"tile",class:"inner mx-auto max-w-5xl p-6 dark:bg-gray-800 rounded-2xl shadow-lg grid grid-cols-1 md:grid-cols-2 gap-4",style:{"margin-left":"50px","margin-top":"100px"}},Ps={class:"w-64 gap-2 mt-5 space-y-2",style:{"margin-left":"20px"}},Os={class:"w-64 mt-2 space-y-2",style:{"margin-left":"20px"}},Fs=a("label",{style:{color:"#122620"},for:"area"},"Area of Tile",-1),Ls={class:"w-64 gap-2 space-y-2",style:{"margin-left":"20px"}},ks=a("label",{for:"slope",style:{color:"#122620"}},"Roof Slope",-1),$s=a("label",{class:"px-2",style:{color:"red"}},"*",-1),Bs={class:"w-64 mt-2 space-y-1",style:{"margin-left":"20px"}},js=a("label",{for:"height",style:{color:"#122620"}},"Height",-1),Rs=a("label",{class:"px-2",style:{color:"red"}},"*",-1),Is={class:"w-64 mt-3 ...",style:{"margin-left":"20px"}},qs=a("label",{style:{color:"#122620"},for:"perimeter"},"Roof Permeter(a) = 4h",-1),Hs={class:"grid grid-cols-3 gap-2"},Ks={class:"min-w-[580px] flex flex-col",style:{"margin-left":"50px"}},Zs=a("label",{style:{color:"red"}},"Select Exposure",-1),Gs={class:"flex items-center space-x-2 mt-5"},Js={class:"field-radiobutton space-x-4 space-y-4 gap-6"},Qs=a("label",{style:{color:"#122620","margin-left":"10px"},for:"option3"},"C",-1),Ws={class:"field-radiobutton space-x-4 space-y-4 gap-6"},Ys=a("label",{style:{color:"#122620","margin-left":"20px"},for:"option4"},"D",-1),Xs={class:"min-w-[380px] flex flex-col mt-5"},eo=a("label",{style:{color:"red"}},"Select a Paddy Category",-1),to={class:"flex items-center mt-10"},lo={class:"field-radiobutton space-x-3 gap-2 border-2 border-gray-700 focus:border-orange-600"},ao=a("label",{style:{color:"#122620"},for:"option1"},"Single",-1),so={class:"field-radiobutton space-x-3 gap-2 border-2 border-gray-700 focus:border-orange-600"},oo=a("label",{style:{color:"#122620"},for:"option2"},"Double",-1),io={class:"px-12"},no={class:"grid grid-cols-2 md:grid-cols-3 gap-2"},ro={class:"w-96 flex flex-col border-2 p-2 gap-2 space-y-1"},uo={class:"w-96 flex flex-col border-2 p-2 gap-2 space-y-3",style:{"margin-left":"75px","margin-top":"30px"}},co={class:"w-96 flex flex-col border-2 p-2 gap-2 space-y-3",style:{"margin-left":"75px","margin-top":"30px"}},mo={key:0,class:"absolute inset-0 bg-black/20 backdrop-blur-[1px] flex items-center justify-center rounded-lg"},po={class:"max-w-[680px] flex flex-col mb-4 mt-6 gap-3 space-y-2",style:{"margin-left":"50px"}},fo=a("label",{style:{color:"#122620"},for:"underlaymentType"},"Select Underlayment (UDL) and/or Tile Capsheet",-1),go={key:0,class:"w-2/3 flex flex-col border-2 p-2 gap-2 border-gray-700 focus:border-orange-600"},yo={class:"grid grid-cols-1 md:grid-cols-1 gap-2",style:{"margin-left":"10px"}},vo={class:"min-w-[350px]flex-col border-2 p-2 gap-2 border-gray-700 focus:border-orange-600"},_o=a("label",{style:{color:"#122620"},for:"manufacturer"},"Tile Applicant",-1),bo={class:"w-1/2 flex flex-col border-2 p-2 border-gray-700"},ho=a("label",{for:"material"},"Tile Type",-1),So={class:"w-1/2 flex flex-col border-2 p-2 border-gray-700"},Ao=a("label",{for:"material"},"Tile Material",-1),Do={class:"min-w-[350px] flex flex-col border-2 p-2 border-gray-700 focus:border-orange-600"},xo=a("label",{style:{color:"#122620"},for:"description"},"Tile Description",-1),To={class:"min-w-[350px] flex flex-col border-2 p-2 border-gray-700"},Vo=a("label",{style:{color:"#122620"}},"Tile Material",-1),Mo={class:"grid grid-cols-1 md:grid-cols-1 gap-2",style:{"margin-left":"10px"}},wo={class:"min-w-[350px] flex flex-col border-2 p-2 gap-2 border-gray-700 focus:border-orange-600"},No=a("label",{style:{color:"#122620"},for:"manufacturer"},"Tile Applicant",-1),Eo={class:"w-1/2 flex flex-col border-2 p-2 border-gray-700"},zo=a("label",{for:"material"},"Tile Type",-1),Uo={class:"min-w-[350px] flex flex-col border-2 p-2 border-gray-700"},Co=a("label",{for:"material"},"Tile Material",-1),Po={class:"min-w-[350px] flex flex-col border-2 p-2 border-gray-700 focus:border-orange-600"},Oo=a("label",{style:{color:"#122620"},for:"description"},"Tile Description",-1),Fo={class:"min-w-[350px] flex flex-col border-2 p-2 border-gray-700"},Lo=a("label",{style:{color:"#122620"}},"Tile Material",-1),ko={class:"grid grid-cols-2 gap-2",style:{"margin-left":"10px"}},$o={class:"min-w-[280px] flex flex-col border-gray-700 focus:border-orange-600"},Bo=a("label",{style:{color:"#122620"},for:"manufacturer"},"(UDL) NOA Applicant",-1),jo={class:"w-1/2 border-2 p-2 border-gray-700 focus:border-orange-600"},Ro=a("label",{style:{color:"#122620"},for:"material"},"(UDL) Material",-1),Io={class:"w-2/3 border-2 p-2 border-gray-700 focus:border-orange-600"},qo=a("label",{style:{color:"red"}},"Select System E * ",-1),Ho={class:"w-1/2 border-2 p-2 border-gray-700 focus:border-orange-600"},Ko=a("label",{style:{color:"#122620"},for:"designPressure"},"Design psf:",-1),Zo={class:"grid grid-cols-1 gap-2 border-gray-700 focus:border-orange-600"},Go={class:"min-w-[700px] flex flex-col"},Jo=a("label",{style:{color:"#122620"},for:"anchor"},"Anchor Base Sheet",-1),Qo={class:"min-w-[380px] flex flex-col"},Wo=a("label",{style:{color:"#122620"},for:"description"},"(UDL) Description",-1),Yo={class:"grid grid-cols-1 md:grid-cols-2 gap-2",style:{"margin-left":"10px"}},Xo={class:"w-1/2 border-2 p-2 border-gray-700 focus:border-orange-600"},ei=a("label",{style:{color:"#122620"},for:"saapplicant"},"S/A Applicant",-1),ti={class:"w-1/2 border-2 p-2 border-gray-700 focus:border-orange-600"},li=a("label",{style:{color:"#122620"},for:"samaterial"},"S/A Material Type",-1),ai={class:"w-1/2 border-2 p-2 border-gray-700 focus:border-orange-600"},si=a("label",{style:{color:"red","margin-bottom":"55px"}},"Select System F *",-1),oi=a("br",null,null,-1),ii={class:"w-1/2 border-2 p-2 border-gray-700 focus:border-orange-600"},ni=a("label",{style:{color:"#122620"},for:"designpressure"},"Design psf:",-1),ri={class:"min-w-[480px] flex flex-col gap-2 border-2 border-gray-700 focus:border-orange-600"},ui=a("label",{style:{color:"#122620"},for:"sadescription"},"S/A Description",-1),ci={class:"flex flex-wrap gap-1 mt-10",style:{"margin-left":"6px"}},di={class:"lg:w-full min-h-[10px] flex flex-row gap-18",style:{"margin-left":"10px"}},mi={width:"100%",align:"left"},pi={valign:"middle"},fi={style:{margin:"auto","font-size":"large","font-weight":"bold","font-family":"arial"}},gi=a("td",{style:{color:"#122620"}},"Zone 1:",-1),yi={style:{color:"#122620"}},vi={style:{color:"#122620"}},_i={style:{color:"#122620"}},bi={style:{color:"#122620"}},hi={style:{color:"#122620"}},Si={class:"pi pi-check",style:{color:"green","font-size":"1.5rem"}},Ai={class:"pi pi-times",style:{color:"red","font-size":"1.5rem"}},Di=a("td",{style:{color:"#122620"}},"Zone 2:",-1),xi={style:{color:"#122620"}},Ti={style:{color:"#122620"}},Vi={style:{color:"#122620"}},Mi={style:{color:"#122620"}},wi={style:{color:"#122620"}},Ni={class:"pi pi-check",style:{color:"green","font-size":"1.5rem"}},Ei={class:"pi pi-times",style:{color:"red","font-size":"1.5rem"}},zi=a("td",{style:{color:"#122620"}},"Zone 3:",-1),Ui={style:{color:"#122620"}},Ci={style:{color:"#122620"}},Pi={style:{color:"#122620"}},Oi={style:{color:"#122620"}},Fi={style:{color:"#122620"}},Li={class:"pi pi-check",style:{color:"green","font-size":"1.5rem"}},ki={class:"pi pi-times",style:{color:"red","font-size":"1.5rem"}},$i={__name:"InputTile",setup(c){var cl,dl,ml,pl,fl,gl;const v=Dl(),D=Ft(),{inputdata:_}=Ae(D),V=Ot(),{inputdatas:M}=Ae(V),z=Al(),L=Wa(),A=i(null),x=qa(),{addSystemvalues:O}=es(),{Edatamounted:f}=Qa(),{post:$}=ys(),J=Ct(),{roofList:ee}=Ae(J),{tilefinput:r}=Ae(x),T=i((ml=(dl=(cl=L.$state.permitapp)==null?void 0:cl[0])==null?void 0:dl.formdt)==null?void 0:ml.processNumber),R=i((gl=(fl=(pl=L.$state.permitapp)==null?void 0:pl[0])==null?void 0:fl.formdt)==null?void 0:gl.muniprocessnumber),I=i(),q=i(""),ie=i(""),le=i(!1),g=i(!0),h=i(!0),Q=i(""),W=i(""),U=oe({area:"",per:"",height:"",slope:""}),w=oe({zone:"",lambda1:"",mg1:"",mr1:"",mf1:""}),N=oe({zone:"",lambda2:"",mg2:"",mr2:"",mf2:""}),E=oe({zone:"",lambda3:"",mg3:"",mr3:"",mf3:""});function Lt(){Object.assign(w,{zone:"",lambda1:"",mg1:"",mr1:"",mf1:""}),Object.assign(N,{zone:"",lambda2:"",mg2:"",mr2:"",mf2:""}),Object.assign(E,{zone:"",lambda3:"",mg3:"",mr3:"",mf3:""})}const kt=i(!0),$t=i(!1),Ue=i(!0),nt=i(null);y(Ue,e=>{e||he(()=>{var l,s,n;const t=((s=(l=nt.value)==null?void 0:l.$el)==null?void 0:s.querySelector("input"))||((n=nt.value)==null?void 0:n.$el);t&&(t.focus(),t.select())})});const rt=i(),xl=i([{name:"Select Deck Type"},{name:'5/8" Plywood'},{name:'3/4" Plywood'},{name:'1" x 6" T & G'},{name:'1" x 8" T & G'},{name:'Existing 1/2" Plywood'}]),Tl=i("");let ve=i("");const Vl=i([{selectedBasesheet:"-- Select Tile Capsheet/Underlayment --",key:0},{selectedBasesheet:"ASTM #90 Prescriptive hot mopped with Type IV Asphalt to a mechanically fastened ASTM #30",key:1},{selectedBasesheet:"System F: per the NOA (S/A) Tile Capsheet adhered diretly to a wood deck",key:2},{selectedBasesheet:"System E: per the NOA (S/A) Tile Capsheet adhered to a mechanically fastened UDL/Anchor Sheet",key:3}]),re=i(!1),Ce=i(!1),de=i(!1),Pe={two:2,three:3,four:4,five:5,six:6,seven:7},Bt=(e,t,l)=>Math.max(Math.min(e,Math.max(t,l)),Math.min(t,l)),Ml=e=>Array.isArray(e)&&e.length?e[e.length-1]:null,jt=e=>Array.isArray(e==null?void 0:e.select_tile)&&e.select_tile.length>0,wl=i(!1),Ge=i(!1),Oe=i(!1),Fe=i(!1),xe=i(!1),H=i(!1),Rt=i(!1),me=i(!1),pe=i(!1),fe=i(!1),Je=i(!1),Qe=i(!1),We=i(!1),Nl=i(!1),ut=P(()=>{var e;return((e=Ml(r.value))==null?void 0:e.systemData)||null}),u=oe({noa:0,meProcessnumber:0,muniProc:0,manufacturer:"",material:"",description:"",resistance:[],Table2:[],Table3:[],select_tile:[],tile_map:{},table2_map:{},Table3_obj_map:{},mfMap:{},Table2_obj_map:{},selection:{},slope:0,height:0,dripEdgeMaterial:"",dripEdgeSize:"",deckType:"",expiration_date:"",prescriptiveSelection:"",perimeter:"",tileIdentifier:"tile",hittype:""}),d=oe({noa:"",manufacturer:"",material:"",system:"",prescriptiveSelection:"",designpressure:"",description:"",Description_F1:"",Description_F2:"",Description_F3:"",Description_F4:"",Description_F5:"",Description_F6:"",Description_F7:"",Description_F8:"",Description_F9:"",Description_F10:"",Description_F11:"",Description_F12:"",Description_F13:"",Description_F14:"",Description_F15:"",arrDesignPressure:[],pressure:"",expiration_date:"",hittype:""}),m=oe({noa:"",manufacturer:"",material:"",system:[],arrDesignPressure:[],designPressure:"",Anchor_Base_Sheet:"",TileCap_Sheet_Description:"",Anchor_Base_Sheet_E1:"",Anchor_Base_Sheet_E2:"",Anchor_Base_Sheet_E3:"",Anchor_Base_Sheet_E4:"",Anchor_Base_Sheet_E5:"",Anchor_Base_Sheet_E6:"",Anchor_Base_Sheet_E7:"",Anchor_Base_Sheet_E8:"",Anchor_Base_Sheet_E9:"",Anchor_Base_Sheet_E10:"",Anchor_Base_Sheet_E11:"",Anchor_Base_Sheet_E12:"",Anchor_Base_Sheet_E13:"",TileCap_Sheet_Description_E1:"",TileCap_Sheet_Description_E2:"",TileCap_Sheet_Description_E3:"",TileCap_Sheet_Description_E4:"",TileCap_Sheet_Description_E5:"",TileCap_Sheet_Description_E6:"",TileCap_Sheet_Description_E7:"",TileCap_Sheet_Description_E8:"",TileCap_Sheet_Description_E9:"",TileCap_Sheet_Description_E10:"",TileCap_Sheet_Description_E11:"",TileCap_Sheet_Description_E12:"",TileCap_Sheet_Description_E13:"",expiration_date:"",hittype:""}),K=oe({System:[],Designpressure:[],Description:"",Maps:{}});y([ut,()=>re.value],()=>{if(!re.value)return;const e=ut.value;e&&(K.System.length||It(e),Object.assign(d,{noa:e.noa||"",manufacturer:e.manufacturer||"",material:e.material||"",arrDesignPressure:K.Designpressure.slice()}),!Le.value&&K.System.length&&(Z.value=K.System[0]))},{immediate:!0});const j=i(null);y(()=>d.noa,(e,t)=>{if(!e||e===t)return;Z.value=null,K.System=[],K.Designpressure=[],d.designpressure="",d.description="";const l=ut.value;l&&It(l)});const El=[{match:["ASTM #90 Prescriptive hot mopped with Type IV Asphalt to a mechanically fastened ASTM #30"],flags:{isUDLNOAValid:!1,isSAValid:!1,isTileData:!0},identifier:"astm"},{match:["System F: per the NOA (S/A) Tile Capsheet adhered diretly to a wood deck"],flags:{isUDLNOAValid:!1,isSAValid:!0,isTileData:!0},identifier:"system_f"},{match:["System E: per the NOA (S/A) Tile Capsheet adhered to a mechanically fastened UDL/Anchor Sheet"],flags:{isUDLNOAValid:!0,isSAValid:!1,isTileData:!0},identifier:"system_e"}];let ge=i("");function It(e){const t=Array.isArray(e.System)?e.System.slice():Array.isArray(e.system)?e.system.slice():e.System??e.system?[e.System??e.system]:[],l=Array.isArray(e.designPressure)?e.designPressure.slice():Array.isArray(e.pressure)?e.pressure.slice():e.designPressure??e.pressure?[e.designPressure??e.pressure]:[];K.System=t.filter(Boolean),K.Designpressure=l.filter(s=>s!=null&&String(s).trim()!==""),K.Description=e.Description||e.description||"",K.Maps=e.Maps||e.maps||{};for(const s of K.System){const n=`Description_${s}`;e[n]!=null&&(K[n]=e[n])}}P(()=>K.System.map(e=>({label:e,value:e})));const zl=P(()=>{const e={};return K.System.forEach((t,l)=>{e[t]=K.Designpressure[l]}),e}),Ul=P(()=>{const e={};for(const t of K.System){const l=`Description_${t}`;e[t]=K[l]??K.Description??""}return e}),Le=P(()=>{var e;return typeof Z.value=="object"?(e=Z.value)==null?void 0:e.value:Z.value||""}),ct=P({get:()=>Le.value?String(zl.value[Le.value]??""):"",set:e=>{d.designpressure=String(e??"")}}),qt=P({get:()=>Le.value?String(Ul.value[Le.value]??""):"",set:e=>{d.description=String(e??"")}}),Ht=P(()=>{const e=((ge==null?void 0:ge.value)??"").toString().trim().toLowerCase();return console.log(e),e==="astm"||e==="atsm"}),dt=i(!1);function Cl(){if(!dt.value){dt.value=!0;try{de.value=!1,el(),$e(),Ht.value&&_a()}finally{dt.value=!1}}}function Pl(){const t=(s=>typeof s=="string"?s:(s==null?void 0:s.label)??(s==null?void 0:s.value)??(s==null?void 0:s.name)??"")(ve.value.selectedBasesheet);if(!t)return;const l=El.find(s=>s.match.includes(t));if(l){Ge.value=l.flags.isUDLNOAValid,Oe.value=l.flags.isSAValid,xe.value=l.flags.isTileData,ge.value=l.identifier,u.hittype=ge.value,m.hittype=ge.value,d.hittype=ge.value,u.hittype&&(u.prescriptiveSelection=l.match[0]),m.hittype&&(m.prescriptiveSelection=l.match[0]),d.hittype&&(d.prescriptiveSelection=l.match[0]);const s=l.match[0];u.prescriptiveSelection=s,m.prescriptiveSelection=s,d.prescriptiveSelection=s}else ge.value=null}y(ve,Pl,{immediate:!0});const Ol=i(.4);function Fl(e){if(!e||typeof e!="object"||e.content!=="multiple")return{};const t={};for(const[l,s]of Object.entries(e)){if(l==="content")continue;const n=s&&typeof s=="object"?s.Direct_Deck??s.value??s[0]:s,b=Number(Array.isArray(n)?n[0]:n)||0;t[l]=[b]}return t}function Ll(e){if(!e||typeof e!="object"||e.content!=="multiple")return{};const t=["two","three","four","five","six","seven"],l={};for(const[s,n]of Object.entries(e)){if(s==="content")continue;const b=t.map(F=>Number(n==null?void 0:n[F])||0);l[s]=b}return l}const _e=i(""),Kt=P(()=>v.activeCategory),{getData:kl,zonesRow:ke}=Ha(),{getDatas:$l,zonesRowdouble:mt}=Ka(),Zt=i(0),Bl=P(()=>{var e;return((e=_.value)==null?void 0:e.singlepaddyData)??null}),Gt=P(()=>{var e;return((e=M.value)==null?void 0:e.doublepaddyData)??null}),Y=P(()=>(Zt.value,console.log(Kt.value,Gt.value),Kt.value==="single"?Bl.value:Gt.value));y(Y,e=>{if(console.log(e),!e)return;const t=jt(e);console.log(t,e,Y),je(e,{multiple:t}),t||ne(),k.value=null,j.value=Array.isArray(u.select_tile)?u.select_tile[0]:null,il.value&&He.value++},{immediate:!0});function jl(){const e=Y.value;if(!e)return;const t=jt(e);je(e,{multiple:t}),t||ne()}const Ye=()=>{Zt.value++};y(()=>v.activeCategory,()=>{ie.value=""});const k=i(null);y(Y,e=>{if(!e)return;const t=(e==null?void 0:e.content)==="multiple";je(e,{multiple:t}),t||ne(),k.value=null,j.value=Array.isArray(u.select_tile)?u.select_tile[0]:null},{immediate:!0}),y(()=>de.value,e=>{console.log("Modal changed:",e)},{immediate:!0});const{errorMessage:Jt,validateNumber:Rl}=_s({min:2,max:12,required:!0}),{errorHeightMessage:Qt,validateTileHeight:Il}=vs({min:10,max:40,required:!0});function ql(){const e=Number(U.slope),t=Number.isFinite(e)&&e>=2&&e<=12;$t.value=t,t?(U.height="",W.value="",Ue.value=!1):(Ue.value=!0,le.value=!1)}function Wt(){const e=W.value!==""?W.value:U.height,t=Number(e);U.per=(t*Ol.value).toFixed(2),U.height=t;const l=Number.isFinite(t)&&t>=10&&t<=40;le.value=l}const Te=P(()=>{const e=Bt(Number(U.slope||0),2,12);return e<=Pe.three?2:e<Pe.four?3:e<=Pe.four?4:e<Pe.six?5:e<Pe.seven?6:7});i([0,0,0]);async function $e(){var l,s;const e=Number(U.slope||0),t=Number(W.value||0);if(!(!e||!t))if(_e.value==="c"){await kl(e,t),Array.isArray(ke.value)?ke.value:(l=ke.value)==null||l[0];const n=Array.isArray(ke.value)?ke.value:[0,0,0];[w.zone,N.zone,E.zone]=n}else{await $l(e,t),console.log("Entered d exposure");const n=Array.isArray(mt.value)?mt.value:(s=mt.value)==null?void 0:s[0],b=Array.isArray(n)?n:[0,0,0];[w.zone,N.zone,E.zone]=b}}const pt=P(()=>(d.system||[]).map(e=>({label:e,value:e}))),be=P(()=>{const e=Z.value;return typeof e=="object"?(e==null?void 0:e.value)??(e==null?void 0:e.label)??"":e??""}),ft=e=>Array.isArray(e)?e.join(" | "):e??"";function Hl(e){var s;if(!e)return"";const t=d==null?void 0:d[`Description_${e}`];if(t!=null&&t!=="")return ft(t);const l=(s=d==null?void 0:d.Maps)==null?void 0:s[e];return l!=null&&l!==""?ft(l):ft(d.description)}y([_e,()=>U.slope,()=>U.height],()=>{_e.value&&$e()});function Kl(e){var s;const t=Gl(e),l=(t==null?void 0:t.name)??((s=rt.value)==null?void 0:s.name);!l||l==="Select Deck Type"||(Q.value=l,kt.value=!1,Ue.value=!0)}y(()=>U.slope,e=>{Rl(e),h.value=!(Number(e)>=2),Xe()}),y(()=>U.height,e=>{Il(e),le.value=!0,Xe()});function Xe(){Nl.value=le.value||g.value}y(()=>q.value,(e,t)=>{yt.value=t||"",H.value=!1,Fe.value=!0,la()},{immediate:!1});function gt(){var e;(e=I.value)==null||e.clearInput()}const yt=i("");Ze(()=>{Jl(),u.meProcessnumber=T.value,u.muniProc=R.value});function Zl(e){const t=(e==null?void 0:e.value)??e??ve.value??{key:0},l=Number(t.key||0);Tl.value=t.selectedBasesheet??"";const s={0:{isPaddyCategoryValid:!1,isTileValid:!1,isTileData:!1,isUDLValid:!1,isUDLNOAValid:!1,isSAValid:!1},1:{isPaddyCategoryValid:!0,isTileValid:!0,isTileData:!0,isUDLValid:!1,isUDLNOAValid:!1,isSAValid:!1},2:{isPaddyCategoryValid:!0,isTileValid:!0,isTileData:!0,isUDLValid:!1,isUDLNOAValid:!1,isSAValid:!0},3:{isPaddyCategoryValid:!0,isTileValid:!0,isTileData:!0,isUDLValid:!0,isUDLNOAValid:!0,isSAValid:!1}}[l]??{};Rt.value=!!s.isPaddyCategoryValid,Fe.value=!!s.isTileValid,xe.value=!!s.isTileData,wl.value=!!s.isUDLValid,Ge.value=!!s.isUDLNOAValid,Oe.value=!!s.isSAValid}const Z=i(null),se=i(null);let Be=i(x.$state.tilefinput);const vt=(e=[],t=[])=>Object.fromEntries((e||[]).map((l,s)=>[String(l),t==null?void 0:t[s]])),Yt=(e={})=>{const t={};for(const l of Object.keys(e))if(/^Description_F\d+$/.test(l)){const s=l.replace("Description_",""),n=e[l];t[s]=Array.isArray(n)?n[0]??"":n??""}return t},_t=i({}),Ve=i({}),Gl=e=>e&&typeof e=="object"&&"value"in e?e.value:e;function Jl(){const e=Be==null?void 0:Be.value;if(!Array.isArray(e)||e.length===0)return;const t=e.find(n=>n&&n.systemData);if(!t)return;const l=t.systemData;Object.assign(d,{manufacturer:l.manufacturer??"",material:l.material??"",system:l.system??[],description:l.description??"",noa:l.noa??"",pressure:l.designPressure??l.pressure??[]});const s=Array.isArray(l.designPressure)?l.designPressure:Array.isArray(l.pressure)?l.pressure:[];_t.value=vt(d.system,s),Ve.value=Yt(l),console.log(Ve.value);for(const[n,b]of Object.entries(Ve.value||{}))d[`Description_${n}`]=b}function Ql(){const e=(Z==null?void 0:Z.value)??Z,t=typeof e=="string"?e:String(e||"");if(!t)return;const l=Ve.value[t]??(d==null?void 0:d[`Description_${t}`])??"";d.description=Array.isArray(l)?l[0]??"":l;const s=_t.value[t];d.designpressure=Array.isArray(s)?s[0]??"":s??""}function Me(e){const t=e??j.value;if(!t)return;const l=u.table2_map||{},s=u.tile_map||{};console.log(e,l,s);const n=l[t];let b=0;Array.isArray(n)?b=Number(n[0])||0:typeof n=="object"&&n?b=Number(n.Direct_Deck??n.value??n[0])||0:b=Number(n)||0,w.lambda1=b,N.lambda2=b,E.lambda3=b;const F=s[t];if(Array.isArray(F)&&F.length){const ye={2:0,3:1,4:2,5:3,6:4,7:5}[Te.value]??0,wt=Number(F[ye])||0;w.mg1=wt,N.mg2=wt,E.mg3=wt}Xt()}y([_,M],()=>Ye(),{deep:!0});function Xt(){const e=Number(w.zone||0)*Number(w.lambda1||0)-Number(w.mg1||0),t=Number(N.zone||0)*Number(N.lambda2||0)-Number(N.mg2||0),l=Number(E.zone||0)*Number(E.lambda3||0)-Number(E.mg3||0);w.mr1=e.toFixed(2),N.mr2=t.toFixed(2),E.mr3=l.toFixed(2),console.log(Y)}async function el(){var l;Ye();const e=C(Y);if(!e)return;const t=H.value&&j.value?(()=>{var n;const s=(n=u.table2_map)==null?void 0:n[j.value];return Array.isArray(s)?Number(s[0])||0:Number(s)||0})():((l=e==null?void 0:e.Table2)==null?void 0:l.Direct_Deck)??(e==null?void 0:e.Table2)??0;w.lambda1=t,N.lambda2=t,E.lambda3=t,ne(e),k.value&&Dt()}function je(e,{multiple:t}){if(xe.value=!0,Fe.value=!0,H.value=!!t,u.noa=e.noa??e.NOA??"",u.manufacturer=e.manufacturer??e.applicant??"",u.description=e.description??"",u.material=e.material??e.selection??[],u.select_tile=e.select_tile??[],u.Table2=e.Table2??{},u.Table3=e.Table3??{},u.table2_map=e.Table2_map??e.Table2_Map??Fl(e.Table2)??{},u.tile_map=e.tile_map??e.Tile_Map??Ll(e.Table3)??{},e.mfMap&&typeof e.mfMap=="object"&&!Array.isArray(e.mfMap))u.selection={...e.mfMap};else if(e.selection&&typeof e.selection=="object"&&!Array.isArray(e.selection))u.selection={...e.selection};else{const l={},s=Array.isArray(e.selection)?e.selection:[],n=Array.isArray(e.resistance)?e.resistance:[];s.forEach((b,F)=>{const o=typeof b=="string"?b:(b==null?void 0:b.label)??(b==null?void 0:b.value)??"";o&&(l[o]=n[F])}),u.selection=l}k.value=null,j.value=Array.isArray(u.select_tile)?u.select_tile[0]:null,t&&j.value&&Me(j.value),O(u),Ye()}y(se,e=>{if(!e){m.Anchor_Base_Sheet="",m.TileCap_Sheet_Description="",m.designPressure="";return}m.designPressure=nl.value[e]??"",m.Anchor_Base_Sheet=m[`Anchor_Base_Sheet_${e}`]??"",m.TileCap_Sheet_Description=m[`TileCap_Sheet_Description_${e}`]??""},{immediate:!0});function Wl(){const e=j.value;if(!e)return;const t=u.table2_map||{},l=u.tile_map||{},s=t[e];if(Array.isArray(s)&&s.length){const b=Number(s[0])||0;w.lambda1=b,N.lambda2=b,E.lambda3=b}const n=l[e];if(Array.isArray(n)&&n.length){const b={2:0,3:1,4:2,5:3,6:4,7:5}[Te.value]??0,F=Number(n[b])||0;w.mg1=F,N.mg2=F,E.mg3=F}Xt()}const Re=P(()=>{var t;const e=Array.isArray(C(Be))?C(Be):[];for(let l=e.length-1;l>=0;l--){const s=(t=e[l])==null?void 0:t.systemData;if(s&&Object.keys(s).length)return s}return null});function et(e){if(e){Object.assign(d,{noa:e.noa??"",manufacturer:e.manufacturer??"",material:e.material??"",system:Array.isArray(e.system)?[...e.system]:e.system?[e.system]:[],arrDesignPressure:Array.isArray(e.designPressure)?[...e.designPressure]:Array.isArray(e.pressure)?[...e.pressure]:[],expiration_date:e.expiration_date??""}),_t.value=vt(d.system,d.arrDesignPressure),Ve.value=Yt(e);for(const[t,l]of Object.entries(Ve.value||{}))d[`Description_${t}`]=l??"";d.system.includes(Z.value)||(Z.value=d.system[0]??null),Ql()}}async function Yl(){et(C(Re))}P(()=>vt(d.system||[],d.arrDesignPressure||[])),P(()=>Z.value||"");function Xl(e){var l;if(!e)return;A.value=e,console.log("[CONFIRMED PAYLOAD]",e);const t=(e==null?void 0:e.content)==="multiple"||((l=e==null?void 0:e.Table2)==null?void 0:l.content)==="multiple";je(e,{multiple:t}),console.log("[AFTER applyNOA] tilenoas",JSON.parse(JSON.stringify(u))),t||ne(e),t&&(j.value=Array.isArray(u.select_tile)?u.select_tile[0]:null,j.value&&Me(j.value))}y(Re,e=>et(e),{immediate:!0,deep:!0});const ea=()=>{Z.value=null,d.designpressure="",d.description=""};y([Re,()=>pt.value.length,be,()=>re.value],()=>{if(!re.value)return;const e=Re.value;e&&((!Array.isArray(d.system)||!d.system.length)&&et(e),!be.value&&pt.value.length&&(Z.value=pt.value[0].value),Object.assign(d,{noa:e.noa||"",manufacturer:e.manufacturer||"",material:e.material||""}),d.description=Hl(be.value))},{immediate:!0}),y(()=>d.noa,(e,t)=>{!e||e===t||(ea(),et(C(Re)))});const bt=P(()=>{var t;const e=Array.isArray(C(f))?C(f):[];for(let l=e.length-1;l>=0;l--){const s=(t=e[l])==null?void 0:t.systemDataE;if(s&&Object.keys(s).length)return s}return null});function ht(e){if(e){Object.assign(m,{noa:e.noa??"",manufacturer:e.manufacturer??"",material:e.material??"",system:Array.isArray(e.system)?[...e.system]:e.system?[e.system]:[],arrDesignPressure:Array.isArray(e.designPressure)?[...e.designPressure]:Array.isArray(e.pressure)?[...e.pressure]:[],Maps:e.Maps??{}});for(let t=1;t<=13;t++){const l=`Anchor_Base_Sheet_E${t}`,s=`TileCap_Sheet_Description_E${t}`;m[l]=e[l]??"",m[s]=e[s]??""}m.system.includes(se.value)||(se.value=m.system[0]??null),pa()}}async function ta(){ht(C(bt))}y(bt,e=>ht(e),{immediate:!0,deep:!0});function la(){Object.assign(u,{manufacturer:"",description:""}),Lt(),yt.value&&yt.value!==q.value&&(gt==null||gt())}y(q,e=>{(e==="single"||e==="double")&&v.setCategory(e)}),y(q,e=>{e==="single"||e==="double"?jl():(xe.value=!1,Fe.value=!1,H.value=!1,Wl())},{immediate:!0}),Ze(()=>{ee.value.forEach((e,t)=>{e.item==="Adhesive Set Tile"&&(U.area=e.dim4)})});const St=oe({noa:"",meProc:0,muniProc:0,manufacturerData:"",material:"",description:"",Table2:[],Table3:[],expiration_date:"",resistance:[],selection:"",select_tile:[],tile_map:[],table2_map:[],height:"",area:"",slope:"",Decktype:"",perimeter:"",tileIdentifier:"tile",zoneone:{zone1:"",lambda1:"",mg1:"",mr1:"",mf1:""},zonetwo:{zone2:"",lambda2:"",mg2:"",mr2:"",mf2:""},zonethree:{zone3:"",lambda3:"",mg3:"",mr3:"",mf3:""}}),tl=P(()=>{const e=Y.value||{};if(e.mfMap&&typeof e.mfMap=="object"&&!Array.isArray(e.mfMap))return{...e.mfMap};const t={},l=Array.isArray(e.mfMap)?e.mfMap:[],s=Array.isArray(e.resistance)?e.resistance:[];return l.forEach((n,b)=>{const F=typeof n=="string"?n:(n==null?void 0:n.label)??(n==null?void 0:n.value)??"";F&&(t[F]=s[b])}),t}),ll=P(()=>{const e=Y.value||{};if(e.selection&&typeof e.selection=="object"&&!Array.isArray(e.selection))return{...e.selection};const t={},l=Array.isArray(e.selection)?e.selection:[],s=Array.isArray(e.resistance)?e.resistance:[];return l.forEach((n,b)=>{const F=typeof n=="string"?n:(n==null?void 0:n.label)??(n==null?void 0:n.value)??"";F&&(t[F]=s[b])}),t}),aa=e=>{if(e==null)return null;if(typeof e=="string"||typeof e=="number"){const l=String(e);return{label:l,value:l}}if(typeof e=="object"&&!("items"in e)){const l=e.label??e.name??e.text??String(e.value??e.id??e.key??""),s=e.value??e.id??e.key??l;return{label:l,value:s}}const t=String(e);return{label:t,value:t}},At=P(()=>{const e=u.selection;return e&&typeof e=="object"&&!Array.isArray(e)?Object.keys(e).map(l=>({label:l,value:l})):(Array.isArray(e)?e:[]).map(aa).filter(Boolean)});function sa(e){return e&&typeof e=="object"?e.value??e.label??"":e??""}function Dt(e=k.value){var ye;const t=sa(e);if(!t)return;const l=(ye=ll.value)==null?void 0:ye[t];if(l==null)return;const s=String(l),n=ae(s);w.mf1=s,N.mf2=s,E.mf3=s;const b=ae(w.mr1),F=ae(N.mr2),o=ae(E.mr3);me.value=b<n,Je.value=!me.value,pe.value=F<n,Qe.value=!pe.value,fe.value=o<n,We.value=!fe.value,St.material=t}const al=i(null);y([Te,Y],()=>{H.value||ne()},{immediate:!0}),y(()=>k.value,e=>{Dt(e)}),y([()=>Te.value,()=>Y.value,()=>ll.value],()=>{k.value&&(ne(),Dt())},{deep:!0}),y(At,e=>{console.log(At,e),e.some(t=>(t==null?void 0:t.value)===al.value)||(console.log(e.some(t=>(t==null?void 0:t.value)===k.value)),al.value=null)}),y(At,e=>{Array.isArray(e)||console.warn("safeOptions is not an array:",e)},{immediate:!0}),y(tl,e=>{console.log("[selectionMap2]",e)},{immediate:!0}),y(k,e=>{console.log("[selectedMaterial]",e)});function oa(e){const t=Bt(Number(e||0),2,12);return t<=3?2:t<4?3:t<=4?4:t<6?5:t<7?6:7}const sl=P(()=>{const e=Y.value||{};if(e.mfMap&&typeof e.mfMap=="object"&&!Array.isArray(e.mfMap))return{...e.mfMap};if(e.selection&&typeof e.selection=="object"&&!Array.isArray(e.selection))return{...e.selection};if(u.selection&&typeof u.selection=="object"&&!Array.isArray(u.selection))return{...u.selection};const t={},l=Array.isArray(e.selection)?e.selection:[],s=Array.isArray(e.resistance)?e.resistance:[];return l.forEach((n,b)=>{const F=typeof n=="string"?n:(n==null?void 0:n.label)??(n==null?void 0:n.value)??"";F&&(t[F]=s[b])}),t}),we=P(()=>Object.keys(sl.value).map(e=>({label:e,value:e})));y(we,e=>{e.some(t=>(t==null?void 0:t.value)===k.value)||(console.log(e.some(t=>(t==null?void 0:t.value)===k.value)),k.value=null)});function Ie(e){if(e==null)return 0;if(Array.isArray(e))return Ie(e[0]);if(typeof e=="object")return"Direct_Deck"in e?Ie(e.Direct_Deck):"value"in e?Ie(e.value):0;const t=/[\u00B2-\u00B3\u00B9\u2070-\u207F]/g,l=String(e).replace(t,"").trim(),s=Number(l);return Number.isFinite(s)?s:0}function ne(e){const t=e||A.value||C(Y)||{},l=t.Table2??u.Table2??t.Table2_map??t.Table2_Map??u.table2_map??null,s=t.Table3??u.Table3??t.tile_map??t.Tile_Map??u.tile_map??null;if((t==null?void 0:t.content)==="multiple"||H.value||!l||!s)return;const n=oa(U.slope),F=["two","three","four","five","six","seven"][Math.min(Math.max(n-2,0),5)],o=Ie(s==null?void 0:s[F]),ye=Ie(l);w.lambda1=ye,N.lambda2=ye,E.lambda3=ye,w.mg1=o,N.mg2=o,E.mg3=o,ia()}function ia(){const e=Number(w.zone)*Number(w.lambda1)-Number(w.mg1),t=Number(N.zone)*Number(N.lambda2)-Number(N.mg2),l=Number(E.zone)*Number(E.lambda3)-Number(E.mg3);w.mr1=e.toFixed(2),N.mr2=t.toFixed(2),E.mr3=l.toFixed(2)}const na=/[\u00B2-\u00B3\u00B9\u2070-\u207F]/g,ae=e=>Number(String(e??"").replace(na,""));function ol(e){return e==null?"":String(typeof e=="string"||typeof e=="number"?e:typeof e=="object"?e.value??e.label??"":e)}y(we,e=>{const t=ol(k.value);t&&!e.some(l=>l.value===t)&&(k.value=null)},{immediate:!0});function qe(e){const t=ol(e);if(!t)return;const l=sl.value[t];if(l==null)return;const s=String(l),n=ae(s);w.mf1=s,N.mf2=s,E.mf3=s;const b=ae(w.mr1),F=ae(N.mr2),o=ae(E.mr3);me.value=b<n,Je.value=!me.value,pe.value=F<n,Qe.value=!pe.value,fe.value=o<n,We.value=!fe.value,St.material=t}y([()=>Te.value,()=>Y.value],()=>{H.value?H.value&&j.value&&Me(j.value):ne(),k.value&&qe(k.value)},{deep:!0,immediate:!0}),y(()=>k.value,e=>{e&&(H.value||ne(),qe(e))});function ra(e){const t=typeof e=="object"&&e?e.value??e.label:e;if(!t)return;const l=tl.value[t];if(l==null)return;const s=String(l),n=ae(s);w.mf1=s,N.mf2=s,E.mf3=s;const b=ae(w.mr1),F=ae(N.mr2),o=ae(E.mr3);me.value=b<n,Je.value=!me.value,pe.value=F<n,Qe.value=!pe.value,fe.value=o<n,We.value=!fe.value,St.material=t}y([()=>Te.value,Y],()=>{H.value&&j.value&&Me(j.value)},{immediate:!0});const il=P(()=>de.value);function ua(){k.value=null,j.value=null,Object.assign(u,{noa:0,manufacturer:"",material:"",description:"",select_tile:[],table2_map:{},tile_map:{},selection:{},expiration_date:""}),Lt()}y(q,(e,t)=>{var l,s;t&&t!==e&&((s=(l=I.value)==null?void 0:l.clearInput)==null||s.call(l)),ua(),Fe.value=!0,H.value=!1,Ye(),$e()}),y(Y,e=>{if(!e)return;const t=(e==null?void 0:e.content)==="multiple";je(e,{multiple:t}),t||ne(),k.value=null,j.value=Array.isArray(u.select_tile)?u.select_tile[0]:null,il.value&&He.value++},{immediate:!0});const tt=e=>{const t=Number(e);return Number.isFinite(t)?t:0},ca=(e=[],t=[])=>Object.fromEntries(e.map((l,s)=>[String(l),t[s]])),nl=P(()=>ca(m.system||[],m.arrDesignPressure||[])),da=e=>(m==null?void 0:m[`TileCap_Sheet_Description_${e}`])??"",ma=e=>(m==null?void 0:m[`Anchor_Base_Sheet_${e}`])??"";function pa(){const e=se.value;e&&(m.TileCap_Sheet_Description=da(e),m.Anchor_Base_Sheet=ma(e),m.designPressure=nl.value[e]??"")}const fa=()=>{se.value=null,m.designPressure="",m.Anchor_Base_Sheet="",m.TileCap_Sheet_Description=""};y(()=>m.noa,(e,t)=>{!e||e===t||(fa(),ht(C(bt)))});function ga(){Ce.value=!1,lt.value++,xt.value=null,Object.assign(m,{noa:"",manufacturer:"",material:"",system:"",designPressure:"",Anchor_Base_Sheet:"",TileCap_Sheet_Description:"",expiration_date:""})}function ya(){re.value=!1,at.value++,Vt.value=null,Object.assign(d,{noa:"",manufacturer:"",material:"",system:"",designpressure:"",description:"",expiration_date:""})}y([()=>j.value,()=>k.value],()=>{el()}),y(()=>de.value,e=>{console.log("Modal changed:",e)},{immediate:!0}),y(()=>Ce.value,e=>{console.log("UDLModal changed:",e)},{immediate:!0}),y(()=>re.value,e=>{console.log("SAModal changed:",e)},{immediate:!0});async function va(){const e=se.value??"",t={...Mt(),udlapplicant:m.manufacturer||"",udlnoa:m.noa||"",udlmaterial:m.material||"",udldescription:m.TileCap_Sheet_Description||m.udldescription||"",udldesignPressure:m.designPressure||"",anchorbasesheet:m.Anchor_Base_Sheet||m.Anchor_Base||"",hittype:"system_e",udlsystemESelected:e};console.log(t),await $(t)}const _a=async()=>{try{const e={...Mt(),hittype:u.hittype};await $(e),console.log("Posted successfully")}catch(e){console.error("Post failed:",e),e.response?alert(`Error ${e.response.status}: ${e.response.data.message||"Request failed"}`):e.request?alert("Network error: Please check your connection"):alert("An unexpected error occurred")}},lt=i(0),xt=i(null),He=i(0),at=i(0),Tt=i(null),Vt=i(null),ba=P(()=>me.value&&pe.value&&fe.value),Mt=()=>{var e,t,l,s;return{meProcess:u.meProcessnumber,muniProcess:u.muniProc,noa:u.noa??"",applicant:u.manufacturer??"",description:u.description??"",material:u.material??"",decktype:Q.value??"",area:tt(U.area),height:tt(U.height),slope:tt(U.slope),dripEdgeMaterial:(t=(e=z.$state.inputselectedTileDripEdge[0])==null?void 0:e.dripSelection)==null?void 0:t.DripEdgeMaterial,dripEdgeSize:(s=(l=z.$state.inputselectedTileDripEdge[0])==null?void 0:l.dripSelection)==null?void 0:s.DripEdgeSize,perimeter:tt(U.per),hittype:"astm",zoneone:st(w),zonetwo:st(N),zonethree:st(E),checkvalues:ba.value,prescriptiveSelection:m.prescriptiveSelection||d.prescriptiveSelection||u.prescriptiveSelection||""}};function st(e){const t=C(e);return Nt(t)?ot(t):t}function ha(e){const t=C(e);return Nt(t)?ot(t):t}function Sa(e){const t=C(e);return Nt(t)?ot(t):t}async function Aa(){var t,l;if(await((l=(t=I.value)==null?void 0:t.commit)==null?void 0:l.call(t)),!A.value)return;He.value++,await he();const e=st(u);Tt.value={manufacturer:(e==null?void 0:e.manufacturer)??"",material:(e==null?void 0:e.material)??"",description:(e==null?void 0:e.description)??""},de.value=!0}const rl=i(0);function Da(e){rl.value+=1,rl.value>=2&&ga()}const ul=i(0);function xa(e){ul.value+=1,ul.value>=2&&ya()}async function Ta(){re.value=!1,await he(()=>{at.value++}),wa()}async function Va(){await he(),await ta();const e=ha(m);xt.value={udlmanufacturer:(e==null?void 0:e.manufacturer)??"",udlmaterial:(e==null?void 0:e.material)??"",udldescription:(e==null?void 0:e.description)??"",udlsystem:(e==null?void 0:e.system)??""},lt.value++,lt.value++,await he(),Ce.value=!0}async function Ma(){await he(),Yl();const e=Sa(d);Vt.value={samanufacturer:(e==null?void 0:e.manufacturer)??"",samaterial:(e==null?void 0:e.material)??"",sasystem:(e==null?void 0:e.system)??""},at.value++,await he(),re.value=!0}async function wa(){ot(d);const e={...Mt(),samanufacturer:d.manufacturer||"",sanoa:d.noa||"",samaterial:d.material||"",sadescription:d.description||"",designpressure:d.designpressure,hittype:"system_f",systemSelected:be.value,designpressure:ct.value||""};await $(e)}return y(Z,()=>{console.log("Selected F ->",be.value)}),(e,t)=>{const l=Sl,s=Ba,n=$a,b=La,F=Fa;return te(),De(hl,null,[a("div",Cs,[a("div",Ps,[p(l,{modelValue:rt.value,"onUpdate:modelValue":t[0]||(t[0]=o=>rt.value=o),options:xl.value,optionLabel:"name",placeholder:"Select a Deck Type",class:"w-full md:w-56",onChange:Kl},null,8,["modelValue","options"])]),a("div",Os,[Fs,p(s,{id:"area",modelValue:U.area,"onUpdate:modelValue":t[1]||(t[1]=o=>U.area=o),type:"text",placeholder:"area",readonly:""},null,8,["modelValue"])]),a("div",Ls,[ks,$s,G(),S(a("i",{class:"pi pi-check",style:{color:"green","font-size":"1.2rem"},onChange:Xe},null,544),[[B,$t.value]]),G("  "),S(p(s,{id:"slope",placeholder:"slope",modelValue:U.slope,"onUpdate:modelValue":t[2]||(t[2]=o=>U.slope=o),modelModifiers:{number:!0},disabled:kt.value,onChange:ql},null,8,["modelValue","disabled"]),[[b,"Press Tab after value",void 0,{bottom:!0}]]),C(Jt)?(te(),Se(n,{key:0,class:"w-96 mt-1 ...",severity:"error",life:6e3,style:{"margin-left":"2px"}},{default:ce(()=>[G(Ut(C(Jt)),1)]),_:1})):ue("",!0)]),a("div",Bs,[js,Rs,G(),S(a("i",{class:"pi pi-check",style:{color:"green","font-size":"1.2rem"},onChange:Xe},null,544),[[B,le.value]]),G("  "),S(p(s,{ref_key:"heightInputRef",ref:nt,id:"height",modelValue:W.value,"onUpdate:modelValue":t[3]||(t[3]=o=>W.value=o),modelModifiers:{number:!0},type:"text",placeholder:"height",disabled:Ue.value,onChange:Wt},null,8,["modelValue","disabled"]),[[b,"Press Tab after value",void 0,{bottom:!0}]]),C(Qt)?(te(),Se(n,{key:0,class:"w-96 mt-1",severity:"error",life:6e3,style:{"margin-left":"2px"}},{default:ce(()=>[G(Ut(C(Qt)),1)]),_:1})):ue("",!0)]),p(fs),a("div",Is,[qs,p(s,{id:"perimeter",modelValue:U.per,"onUpdate:modelValue":t[4]||(t[4]=o=>U.per=o),type:"text",placeholder:" ",onChange:Wt,readonly:""},null,8,["modelValue"])]),a("div",Hs,[a("div",Ks,[Zs,a("div",Gs,[a("div",Js,[p(C(Ke),{inputId:"option3",name:"option",value:"c",modelValue:_e.value,"onUpdate:modelValue":t[5]||(t[5]=o=>_e.value=o),onChange:$e,style:{"margin-left":"5px"}},null,8,["modelValue"]),Qs]),a("div",Ws,[p(C(Ke),{inputId:"option4",name:"option",value:"d",modelValue:_e.value,"onUpdate:modelValue":t[6]||(t[6]=o=>_e.value=o),onChange:$e,style:{"margin-left":"20px"}},null,8,["modelValue"]),Ys])]),a("div",Xs,[eo,a("div",to,[a("div",lo,[p(C(Ke),{inputId:"option1",name:"options",value:"single",variant:"filled",modelValue:q.value,"onUpdate:modelValue":t[7]||(t[7]=o=>q.value=o),onUpdate:e.selectPaddy},null,8,["modelValue","onUpdate"]),ao]),a("div",so,[p(C(Ke),{inputId:"option2",style:{"margin-left":"5px"},name:"options",value:"double",variant:"filled",modelValue:q.value,"onUpdate:modelValue":t[8]||(t[8]=o=>q.value=o),onUpdate:e.selectPaddy},null,8,["modelValue","onUpdate"]),oo])])])])]),p(C(Ne)),a("div",io,[a("div",no,[S(a("div",ro,[S(p(Us,{onConfirmed:Xl,ref_key:"childQueryRef",ref:I,class:"animate-duration-2000 animate-ease-in-out"},null,512),[[F,{enterClass:"animate-flipup",leaveClass:"animate-fadeout"}]]),p(Et,{label:"Submit",severity:"contrast",onClick:Aa,class:"self-start"})],512),[[B,Rt.value]]),S(a("div",uo,[p(Za,{onConfirmed:Da}),p(Et,{label:"Submit",severity:"contrast",onClick:Va,class:"self-start",style:{"margin-left":"15px","margin-top":"15px"}})],512),[[B,Ge.value]]),S(a("div",co,[p(Ga,{onConfirmed:xa}),p(Et,{label:"Submit",severity:"contrast",onClick:Ma,class:"self-start",style:{"margin-left":"15px","margin-top":"15px"}})],512),[[B,Oe.value]])]),p(Oa,{name:"fade"},{default:ce(()=>[e.loadingMech?(te(),De("div",mo,[p(C(Ya),{style:{width:"40px",height:"40px"},strokeWidth:"4"})])):ue("",!0)]),_:1})])]),a("div",po,[fo,p(l,{modelValue:C(ve),"onUpdate:modelValue":t[9]||(t[9]=o=>zt(ve)?ve.value=o:ve=o),options:Vl.value,optionLabel:"selectedBasesheet",placeholder:"make selection",onChange:Zl},null,8,["modelValue","options"])]),p(C(Ne)),p(C(Ne)),Ht.value?ue("",!0):(te(),De("div",go,[de.value?(te(),Se(it,{key:He.value,initialData:Tt.value,onClosePopup:t[15]||(t[15]=o=>de.value=!1)},{default:ce(()=>[S(a("div",yo,[a("div",vo,[_o,p(s,{id:"manufacturer",modelValue:u.manufacturer,"onUpdate:modelValue":t[10]||(t[10]=o=>u.manufacturer=o)},null,8,["modelValue"])]),S(a("div",bo,[ho,p(l,{modelValue:j.value,"onUpdate:modelValue":[t[11]||(t[11]=o=>j.value=o),Me],options:u.select_tile,placeholder:"make a selection"},null,8,["modelValue","options"])],512),[[B,H.value]]),S(a("div",So,[Ao,p(l,{modelValue:k.value,"onUpdate:modelValue":[t[12]||(t[12]=o=>k.value=o),qe],options:we.value,optionLabel:"label",optionValue:"value",placeholder:"make a selection"},null,8,["modelValue","options"])],512),[[B,H.value]]),p(C(Ne)),S(a("div",Do,[xo,p(s,{id:"description",modelValue:u.description,"onUpdate:modelValue":t[13]||(t[13]=o=>u.description=o)},null,8,["modelValue"])],512),[[B,!H.value]]),S(a("div",To,[Vo,p(l,{modelValue:k.value,"onUpdate:modelValue":[t[14]||(t[14]=o=>k.value=o),qe],options:we.value,optionLabel:"label",optionValue:"value",placeholder:"make a selection"},null,8,["modelValue","options"])],512),[[B,!H.value]])],512),[[B,xe.value]])]),_:1},8,["initialData"])):ue("",!0)])),de.value?(te(),Se(it,{key:He.value,initialData:Tt.value,onClosePopup:Cl},{default:ce(()=>[S(a("div",Mo,[a("div",wo,[No,p(s,{id:"manufacturer",modelValue:u.manufacturer,"onUpdate:modelValue":t[16]||(t[16]=o=>u.manufacturer=o)},null,8,["modelValue"])]),S(a("div",Eo,[zo,p(l,{modelValue:j.value,"onUpdate:modelValue":[t[17]||(t[17]=o=>j.value=o),Me],options:u.select_tile,placeholder:"make a selection"},null,8,["modelValue","options"])],512),[[B,H.value]]),S(a("div",Uo,[Co,p(l,{modelValue:k.value,"onUpdate:modelValue":[t[18]||(t[18]=o=>k.value=o),ra],options:we.value,optionLabel:"label",optionValue:"value",placeholder:"make a selection"},null,8,["modelValue","options"])],512),[[B,H.value]]),p(C(Ne)),S(a("div",Po,[Oo,p(s,{id:"description",modelValue:u.description,"onUpdate:modelValue":t[19]||(t[19]=o=>u.description=o)},null,8,["modelValue"])],512),[[B,!H.value]]),S(a("div",Fo,[Lo,p(l,{modelValue:k.value,"onUpdate:modelValue":[t[20]||(t[20]=o=>k.value=o),qe],options:we.value,optionLabel:"label",optionValue:"value",placeholder:"make a selection"},null,8,["modelValue","options"])],512),[[B,!H.value]])],512),[[B,xe.value]])]),_:1},8,["initialData"])):ue("",!0),Ce.value?(te(),Se(it,{key:lt.value,initialData:xt.value,onClosePopup:t[27]||(t[27]=o=>(Ce.value=!1,va()))},{default:ce(()=>[S(a("div",ko,[a("div",$o,[Bo,p(s,{id:"manufacturer",modelValue:m.manufacturer,"onUpdate:modelValue":t[21]||(t[21]=o=>m.manufacturer=o)},null,8,["modelValue"])]),a("div",jo,[Ro,p(s,{id:"material",modelValue:m.material,"onUpdate:modelValue":t[22]||(t[22]=o=>m.material=o)},null,8,["modelValue"])]),a("div",Io,[qo,p(l,{modelValue:se.value,"onUpdate:modelValue":t[23]||(t[23]=o=>se.value=o),options:m.system,placeholder:""},null,8,["modelValue","options"])]),a("div",Ho,[Ko,p(s,{id:"designPressure",modelValue:m.designPressure,"onUpdate:modelValue":t[24]||(t[24]=o=>m.designPressure=o),disabled:!se.value},null,8,["modelValue","disabled"])]),a("div",Zo,[a("div",Go,[Jo,p(s,{id:"anchor",modelValue:m.Anchor_Base_Sheet,"onUpdate:modelValue":t[25]||(t[25]=o=>m.Anchor_Base_Sheet=o),disabled:!se.value},null,8,["modelValue","disabled"])]),a("div",Qo,[Wo,p(s,{id:"description",modelValue:m.TileCap_Sheet_Description,"onUpdate:modelValue":t[26]||(t[26]=o=>m.TileCap_Sheet_Description=o),disabled:!se.value},null,8,["modelValue","disabled"])])])],512),[[B,Ge.value]])]),_:1},8,["initialData"])):ue("",!0),re.value?(te(),Se(it,{key:at.value,initialData:Vt.value,onClosePopup:t[33]||(t[33]=o=>Ta())},{default:ce(()=>[S(a("div",Yo,[a("div",Xo,[ei,p(s,{id:"saapplicant",modelValue:d.manufacturer,"onUpdate:modelValue":t[28]||(t[28]=o=>d.manufacturer=o)},null,8,["modelValue"])]),a("div",ti,[li,p(s,{id:"saaterial",modelValue:d.material,"onUpdate:modelValue":t[29]||(t[29]=o=>d.material=o)},null,8,["modelValue"])]),a("div",ai,[si,oi,p(l,{modelValue:Z.value,"onUpdate:modelValue":t[30]||(t[30]=o=>Z.value=o),options:(d.system||[]).map(o=>({label:o,value:o})),optionLabel:"label",optionValue:"value"},null,8,["modelValue","options"])]),a("div",ii,[ni,p(s,{id:"designpressure",modelValue:ct.value,"onUpdate:modelValue":t[31]||(t[31]=o=>ct.value=o),disabled:!be.value},null,8,["modelValue","disabled"])]),S(a("div",ri,[ui,p(s,{id:"capsheetdescription",modelValue:qt.value,"onUpdate:modelValue":t[32]||(t[32]=o=>qt.value=o),disabled:!be.value},null,8,["modelValue","disabled"])],512),[[B,Oe.value]])],512),[[B,Oe.value]])]),_:1},8,["initialData"])):ue("",!0),a("div",ci,[a("div",di,[a("table",mi,[a("tbody",null,[a("tr",null,[a("td",pi,[a("table",fi,[a("tbody",null,[a("tr",null,[gi,a("td",yi,[S(a("input",{"onUpdate:modelValue":t[34]||(t[34]=o=>w.zone=o),readonly:"",size:"4"},null,512),[[X,w.zone]]),G(" x λ  ")]),a("td",vi,[S(a("input",{"onUpdate:modelValue":t[35]||(t[35]=o=>w.lambda1=o),readonly:"",size:"4"},null,512),[[X,w.lambda1]]),G(" - Mg: ")]),a("td",_i,[S(a("input",{"onUpdate:modelValue":t[36]||(t[36]=o=>w.mg1=o),readonly:"",size:"4"},null,512),[[X,w.mg1]]),G(" = Mr1: ")]),a("td",bi,[S(a("input",{"onUpdate:modelValue":t[37]||(t[37]=o=>w.mr1=o),readonly:"",size:"4"},null,512),[[X,w.mr1]]),G(" NOA Mf: ")]),a("td",hi,[S(a("input",{"onUpdate:modelValue":t[38]||(t[38]=o=>w.mf1=o),size:"6"},null,512),[[X,w.mf1]])]),S(a("i",Si,null,512),[[B,me.value]]),S(a("i",Ai,null,512),[[B,Je.value]])]),a("tr",null,[Di,a("td",xi,[S(a("input",{"onUpdate:modelValue":t[39]||(t[39]=o=>N.zone=o),readonly:"",size:"4"},null,512),[[X,N.zone]]),G(" x λ  ")]),a("td",Ti,[S(a("input",{"onUpdate:modelValue":t[40]||(t[40]=o=>N.lambda2=o),readonly:"",size:"4"},null,512),[[X,N.lambda2]]),G(" - Mg: ")]),a("td",Vi,[S(a("input",{"onUpdate:modelValue":t[41]||(t[41]=o=>N.mg2=o),readonly:"",size:"4"},null,512),[[X,N.mg2]]),G(" = Mr2: ")]),a("td",Mi,[S(a("input",{"onUpdate:modelValue":t[42]||(t[42]=o=>N.mr2=o),readonly:"",size:"4"},null,512),[[X,N.mr2]]),G(" NOA Mf: ")]),a("td",wi,[S(a("input",{"onUpdate:modelValue":t[43]||(t[43]=o=>N.mf2=o),size:"6"},null,512),[[X,N.mf2]])]),S(a("i",Ni,null,512),[[B,pe.value]]),S(a("i",Ei,null,512),[[B,Qe.value]])]),a("tr",null,[zi,a("td",Ui,[S(a("input",{"onUpdate:modelValue":t[44]||(t[44]=o=>E.zone=o),readonly:"",size:"4"},null,512),[[X,E.zone]]),G(" x λ")]),a("td",Ci,[S(a("input",{"onUpdate:modelValue":t[45]||(t[45]=o=>E.lambda3=o),readonly:"",size:"4"},null,512),[[X,E.lambda3]]),G(" - Mg: ")]),a("td",Pi,[S(a("input",{"onUpdate:modelValue":t[46]||(t[46]=o=>E.mg3=o),readonly:"",size:"4"},null,512),[[X,E.mg3]]),G(" = Mr3: ")]),a("td",Oi,[S(a("input",{"onUpdate:modelValue":t[47]||(t[47]=o=>E.mr3=o),readonly:"",size:"4"},null,512),[[X,E.mr3]]),G(" NOA Mf: ")]),a("td",Fi,[S(a("input",{"onUpdate:modelValue":t[48]||(t[48]=o=>E.mf3=o),size:"6"},null,512),[[X,E.mf3]])]),S(a("i",Li,null,512),[[B,fe.value]]),S(a("i",ki,null,512),[[B,We.value]])])])])])])])])])])],64)}}},Bi={id:"tile",class:"card-system w-full space-y-1",style:{"margin-left":"20px"}},pn={__name:"Tile",setup(c){const v=ka(),D=Ct();Ae(D);const _=i(!1),V=i(D.$state.roofList);let M=i(null);function z(){console.log(M)}y(_,A=>{A?(console.log("Dialog is now visible"),console.log(v)):console.log("Dialog has been closed")});function L(){for(let A=0;A<V.value.length;A++)console.log(V.value[A].item),V.value[A].item==="Adhesive Set Tile"&&(console.log("I am in",V.value[A].item),_.value=!0,console.log(_.value))}return Ze(()=>{L()}),(A,x)=>(te(),De(hl,null,[_.value===!0?(te(),Se(cs,{key:0})):ue("",!0),a("div",Bi,[p($i,{slopeEntered:C(M),style:{"margin-left":"2px"},onChange:z},null,8,["slopeEntered"])])],64))}};export{pn as default};
