import{s as ha}from"./index-BirtYLOm.js";import{s as yt}from"./index-gVK6sTsK.js";import{s as De}from"./index-tPH7CL2_.js";import{_ as vt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{e as i,o as V,c as C,j as u,S as J,i as l,p as cl,q as dl,H as pe,f as Y,I as A,g as Re,V as x,k as f,ae as _a,af as il,an as Q,z as D,K as d,ai as S,a as ee,t as G,d as B,ak as ba,L as Sa,J as ul,F as Ae,x as xa,aj as Va,as as L,Y as je,at as pt,am as ft,ao as Da,T as Aa,aq as Ta}from"./index-CWzlT8KI.js";import{d as wa,e as Ua,a as Ma,b as ka,f as Ea,u as Ca,_ as Na,c as Pa}from"./exposure_d-BaNJ0qJg.js";import{s as za}from"./index-Chyd7jU0.js";import{_ as Ke,s as La}from"./index-EtFuiiPM.js";import{u as Ba,a as Fa,d as Oa,e as $a,b as Ia,c as ja,_ as Ka}from"./use-systemMechNumber-iF7vMp5B.js";import{s as Ra}from"./index-DyCJ75Ah.js";import{s as Ha}from"./index-DiS0keNX.js";import{s as Za}from"./index-NVVYH26o.js";import{a as qa}from"./use-tileMechanical-DpiCpOUR.js";import{u as Wa}from"./permitapp-C8ihXFl-.js";import{u as ml}from"./roofList-yS8qgNz5.js";import{s as gt}from"./index-Dt3qqOlb.js";import"./useAxios-CDNBhiSD.js";import"./index-D7NEm49e.js";import"./useDripedge-BHnJTAeV.js";import"./index-B8liBVYt.js";import"./index-DiWiyEDC.js";import"./index-MP3cGonx.js";import"./index-Dd2ylSL2.js";const fe=U=>(cl("data-v-d98d2617"),U=U(),dl(),U),Ga={class:"card-system flex justify-center"},Ja=fe(()=>l("div",{class:"grid grid-cols-1 gap-2 place-content-center h-8 ..."},[l("p",{class:"text-center text-red-600"},"mEPermit Application")],-1)),Xa=fe(()=>l("div",{class:"grid grid-cols-1 gap-2 place-content-center h-16 ..."},[l("p",{class:"text-center text-red-600"},"High Velocity Hurricane Zone (HVHZ)")],-1)),Ya=fe(()=>l("div",{class:"grid grid-cols-1 gap-2 place-content-center h-12 ..."},[l("p",{class:"text-center text-red-600"},"Concrete & Clay Roof Tiles")],-1)),Qa=fe(()=>l("div",{class:"grid grid-cols-1 gap-2 place-content-center h-16 ..."},[l("p",{class:"text-center text-red-600"}," The tile roof system and its components shall be installed in strict compliance with the FBC 2023 HVHZ portions of Chapter 15, the HVHZ Tile Application Standards: RAS-119, RAS-120 & RAS-127 and the submitted MDC Notice of Acceptance(s). ")],-1)),es=fe(()=>l("div",{class:"grid grid-cols-1 gap-2 place-content-center h-12 ..."},[l("p",{class:"text-center text-red-600"},"The mePermit applicant agrees to comply with these installation requirements when obtaining this permit.")],-1)),ts={class:"flex justify-end gap-2"},ls=fe(()=>l("label",{class:"ml-2"}," I Agree",-1)),as={__name:"AgreementsDialogMechTile",setup(U){const w=i(!0),K=i(null);return($,M)=>{const se=De,oe=yt,re=ha;return V(),C("div",Ga,[u(re,{visible:w.value,"onUpdate:visible":M[2]||(M[2]=N=>w.value=N),modal:"",header:"Terms Of Use",style:{width:"70rem"}},{default:J(()=>[Ja,u(se),Xa,Ya,Qa,es,l("div",ts,[ls,u(oe,{modelValue:$.agreement,"onUpdate:modelValue":M[0]||(M[0]=N=>$.agreement=N),value:"1",invalid:K.value===null,onClick:M[1]||(M[1]=N=>w.value=!1)},null,8,["modelValue","invalid"])])]),_:1},8,["visible"])])}}},ss=vt(as,[["__scopeId","data-v-d98d2617"]]),os={class:"input-wrapper"},rs=["for"],ns=["id","type","value","placeholder","disabled"],is={__name:"AnchorInputWrapper",props:{id:{type:String,required:!0},modelValue:{type:[String,Number],default:""},type:{type:String,default:"text"},placeholder:{type:String,default:""},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(U){return(w,K)=>(V(),C("div",os,[l("label",{for:U.id,class:"label"},"Anchor Base Sheet",8,rs),l("input",{id:U.id,type:U.type,value:U.modelValue,placeholder:U.placeholder,disabled:U.disabled,onInput:K[0]||(K[0]=$=>w.$emit("update:modelValue",$.target.value)),class:"input-text"},null,40,ns)]))}},us=vt(is,[["__scopeId","data-v-2a216984"]]),m=U=>(cl("data-v-176eec0a"),U=U(),dl(),U),cs={id:"tile",class:"inner mx-auto max-w-5xl p-6 dark:bg-gray-800 rounded-2xl shadow-lg grid grid-cols-1 md:grid-cols-2 gap-4",style:{"margin-left":"150px"}},ds={class:"w-64 gap-2 mt-3 space-y-2",style:{"margin-left":"20px","margin-top":"30px"}},ms={class:"w-64 gap-2 mt-3 space-y-2",style:{"margin-left":"20px"}},ps=m(()=>l("label",{for:"slope"},"Roof Slope",-1)),fs=m(()=>l("label",{class:"px-2",style:{color:"red"}},"*",-1)),gs={class:"w-64 gap-2 mt-3 space-y-2",style:{"margin-left":"20px"}},ys=m(()=>l("label",{style:{color:"#122620"},for:"area"},"Area of Tile",-1)),vs={class:"w-64 mt-3 space-y-2",style:{"margin-left":"20px"}},hs=m(()=>l("label",{for:"height"},"Height",-1)),_s=m(()=>l("label",{class:"px-2",style:{color:"red"}},"*",-1)),bs={class:"w-64 mt-3 ...",style:{"margin-left":"20px"}},Ss=m(()=>l("label",{for:"perimeter"},"Roof Perimeter(a) = 4h",-1)),xs={class:"min-w-[780px] flex flex-col mb-4 mt-6 gap-3 space-y-2",style:{"margin-left":"20px"}},Vs=m(()=>l("label",{style:{color:"#122620"},for:"underlaymentType"},"Select Underlayment (UDL) and/or Tile Capsheet",-1)),Ds={class:"grid grid-cols-1 md:grid-cols-1 gap-2"},As={class:"w-128 mt-6 flex flex-col gap-2 border-2 border-gray-700 focus:border-orange-600",style:{"margin-left":"50px"}},Ts=m(()=>l("label",{style:{color:"red"}},"Select Exposure *",-1)),ws={class:"flex items-center space-x-4"},Us={class:"field-radiobutton space-x-4 gap-2 border-2 border-gray-700 focus:border-orange-600"},Ms=m(()=>l("label",{for:"option3"},"C",-1)),ks={class:"field-radiobutton space-x-4 gap-2 border-2 border-gray-700 focus:border-orange-600"},Es=m(()=>l("label",{for:"option4"},"D",-1)),Cs=m(()=>l("div",null,null,-1)),Ns={class:"px-12"},Ps={class:"grid grid-cols-2 md:grid-cols-3 gap-2",style:{"margin-left":"75px"}},zs={class:"border-2 border-gray-700 rounded-md p-4 flex flex-col justify-start gap-4"},Ls=m(()=>l("label",{for:"tilenoa"},"Tile NOA: 00000000",-1)),Bs={key:0,class:"mt-2 max-h-48 overflow-auto border rounded-md divide-y bg-white"},Fs=["onMousedown"],Os={key:0,class:"absolute inset-0 bg-black/20 backdrop-blur-[1px] flex items-center justify-center rounded-lg"},$s={key:0,class:"border-2 border-gray-700 rounded-md p-4 flex flex-col justify-start gap-4"},Is={class:"grid grid-cols-2 gap-2"},js={key:0,class:"col-span-2 flex items-center justify-center p-4"},Ks=m(()=>l("span",{class:"ml-2"},"Loading UDL data...",-1)),Rs={key:1,class:"grid grid-cols-2 md:grid-cols-2 gap-4",style:{"margin-left":"40px"}},Hs={class:"min-w-[30px] flex flex-col gap-2 border-2 border-gray-700 focus:border-orange-600"},Zs=m(()=>l("label",{style:{color:"#122620"},for:"manufacturer"},"(UDL) NOA Applicant",-1)),qs={class:"w-1/2 border-2 p-2 border-gray-700 focus:border-orange-600"},Ws=m(()=>l("label",{style:{color:"#122620"},for:"material"},"(UDL) Material",-1)),Gs={class:"w-1/2 border-2 p-2 border-gray-700 focus:border-orange-600"},Js=m(()=>l("label",{style:{color:"red"}},"Select System E *",-1)),Xs={class:"w-1/2 border-2 p-2 border-gray-700 focus:border-orange-600"},Ys=m(()=>l("label",{style:{color:"#122620"},for:"designPressure"},"Design psf:",-1)),Qs={class:"grid grid-cols-1 gap-2 border-gray-700 focus:border-orange-600",style:{"margin-left":"2px"}},eo={class:"min-w-[1080px] flex flex-col gap-2 border-2 border-gray-700 focus:border-orange-600"},to={class:"min-w-[480px] flex flex-col gap-2 border-2 border-gray-700 focus:border-orange-600"},lo=m(()=>l("label",{style:{color:"#122620"},for:"description"},"(UDL) Description",-1)),ao={class:"grid grid-cols-2 md:grid-cols-2 gap-4",style:{"margin-left":"50px"}},so={class:"w-1/2 border-2 p-2 border-gray-700 focus:border-orange-600"},oo=m(()=>l("label",{style:{color:"#122620"},for:"saapplicant"},"S/A Applicant",-1)),ro={class:"w-1/2 border-2 p-2 border-gray-700 focus:border-orange-600"},no=m(()=>l("label",{style:{color:"#122620"},for:"samaterial"},"S/A Material Type",-1)),io={class:"w-1/2 border-2 p-2 border-gray-700 focus:border-orange-600"},uo=m(()=>l("label",{style:{color:"red"}},"Select System F * ",-1)),co={class:"w-1/2 border-2 p-2 border-gray-700 focus:border-orange-600"},mo=m(()=>l("label",{style:{color:"#122620"},for:"designpressure"},"Design psf: ",-1)),po={class:"min-w-[490px] flex flex-col gap-2 border-2 border-gray-700 focus:border-orange-600"},fo=m(()=>l("label",{style:{color:"#122620"},for:"sadescription"},"S/A Description",-1)),go={key:2,class:"w-2/3 flex flex-col border-2 p-2 gap-2 border-gray-700 focus:border-orange-600"},yo={class:"grid grid-cols-2 md:grid-cols-2 gap-2",style:{"margin-left":"30px"}},vo={class:"min-w-[350px] flex flex-col gap-2 border-2 border-gray-700 focus:border-orange-600"},ho=m(()=>l("label",{style:{color:"#122620"},for:"manufacturer"},"Tile Applicant",-1)),_o={class:"w-1/2 border-2 p-2 border-gray-700 focus:border-orange-600"},bo=m(()=>l("label",{style:{color:"#122620"},for:"material"},"Tile Material",-1)),So={class:"w-1/2 border-2 p-2 border-gray-700 focus:border-orange-600"},xo={class:"w-72 flex flex-col gap-2 border-2 border-gray-700 focus:border-orange-600"},Vo=m(()=>l("label",{style:{color:"red"}},"Select Mechanical Tile Fastener *",-1)),Do=m(()=>l("div",null,null,-1)),Ao={class:"w-3/4 border-2 p-2 gap-4 border-gray-700 focus:border-orange-600"},To=m(()=>l("label",{style:{color:"#122620"},for:"description"},"Tile Description",-1)),wo={class:"w-full flex flex-row mt-8 space-x-10",style:{"margin-left":"30px"}},Uo={class:"min-w-[200px] flex flex-col gap-2 border-2 border-gray-700 focus:border-orange-600"},Mo=m(()=>l("label",{style:{color:"#122620"},for:"selecttile"},"Tile Type",-1)),ko={class:"w-72 flex flex-col gap-2 border-2 border-gray-700 focus:border-orange-600",style:{"margin-left":"30px"}},Eo=m(()=>l("label",{style:{color:"red"}},"Select Mechanical Tiles Fastnener *",-1)),Co={class:"grid grid-cols-2 md:grid-cols-2 gap-2",style:{"margin-left":"30px"}},No={class:"min-w-[350px] flex flex-col gap-2 border-2 border-gray-700 focus:border-orange-600"},Po=m(()=>l("label",{style:{color:"#122620"},for:"manufacturer"},"Tile Applicant",-1)),zo={class:"w-1/2 border-2 p-2 border-gray-700 focus:border-orange-600"},Lo=m(()=>l("label",{style:{color:"#122620"},for:"material"},"Tile Material",-1)),Bo={class:"w-1/2 border-2 p-2 border-gray-700 focus:border-orange-600"},Fo={class:"w-72 flex flex-col gap-2 border-2 border-gray-700 focus:border-orange-600"},Oo=m(()=>l("label",{style:{color:"red"}},"Select Mechanical Tile Fastener *",-1)),$o=m(()=>l("div",null,null,-1)),Io={class:"w-3/4 border-2 p-2 gap-4 border-gray-700 focus:border-orange-600"},jo=m(()=>l("label",{style:{color:"#122620"},for:"description"},"Tile Description",-1)),Ko={class:"w-full flex flex-row mt-8 space-x-10",style:{"margin-left":"30px"}},Ro={class:"min-w-[200px] flex flex-col gap-2 border-2 border-gray-700 focus:border-orange-600"},Ho=m(()=>l("label",{style:{color:"#122620"},for:"selecttile"},"Tile Type",-1)),Zo={class:"w-72 flex flex-col gap-2 border-2 border-gray-700 focus:border-orange-600",style:{"margin-left":"30px"}},qo=m(()=>l("label",{style:{color:"red"}},"Select Mechanical Tiles Fastnener *",-1)),Wo={class:"flex flex-wrap gap-1 mt-10",style:{"margin-left":"1px"}},Go={width:"100%",align:"left"},Jo={valign:"middle"},Xo={style:{margin:"auto","font-size":"large","font-weight":"bold","font-family":"arial"}},Yo=m(()=>l("td",{style:{color:"#122620"}},"Zone 1:",-1)),Qo={style:{color:"#122620"}},er={style:{color:"#122620"}},tr={style:{color:"#122620"}},lr={style:{color:"#122620"}},ar={style:{color:"#122620"}},sr={class:"pi pi-check",style:{color:"green","font-size":"1.5rem"}},or={class:"pi pi-times",style:{color:"red","font-size":"1.5rem"}},rr=m(()=>l("td",{style:{color:"#122620"}},"Zone 2:",-1)),nr={style:{color:"#122620"}},ir={style:{color:"#122620"}},ur={style:{color:"#122620"}},cr={style:{color:"#122620"}},dr={style:{color:"#122620"}},mr={class:"pi pi-check",style:{color:"green","font-size":"1.5rem"}},pr={class:"pi pi-times",style:{color:"red","font-size":"1.5rem"}},fr=m(()=>l("td",{style:{color:"#122620"}},"Zone 3:",-1)),gr={style:{color:"#122620"}},yr={style:{color:"#122620"}},vr={style:{color:"#122620"}},hr={style:{color:"#122620"}},_r={style:{color:"#122620"}},br={class:"pi pi-check",style:{color:"green","font-size":"1.5rem"}},Sr={class:"pi pi-times",style:{color:"red","font-size":"1.5rem"}},xr={key:0,class:"text-xs mt-2",style:{"margin-left":"350px"}},Vr=m(()=>l("b",null,"λ (Direct_Deck):",-1)),Dr=m(()=>l("b",null,"Mg by slope:",-1)),Ar={__name:"InputMechTile",setup(U){var Qt,el,tl,ll,al,sl;const w=i(""),{zoned:K}=wa(),$=Wa();i([]);const M=i(!1),{callNumber:se}=Ba(),{postMech:oe}=Fa(),re=Oa(),{takeMechInput:N,mechStore:ht}=qa(),He=$a(),pl=i(0),{tileMechInput:_t}=pe(He),fl=i((tl=(el=(Qt=$.$state.permitapp)==null?void 0:Qt[0])==null?void 0:el.formdt)==null?void 0:tl.processNumber),gl=i((sl=(al=(ll=$.$state.permitapp)==null?void 0:ll[0])==null?void 0:al.formdt)==null?void 0:sl.muniprocessnumber),bt=i(!1),X=i(""),F=i(""),{tilemech:yl}=pe(ht),H=yl,vl=(e,t)=>{const a=f(e);if(!Array.isArray(a)||a.length===0)return null;for(let s=a.length-1;s>=0;s--){const c=a[s];if(c&&typeof c=="object"&&c[t]){const y=c[t];if(typeof y=="string"||Array.isArray(y)){if(y.length>0)return c}else if(Object.keys(y).length>0)return c}}return null},{zones:Ze}=Ua(),r=Y({mechIdentifier:"mechanicaltile",manufacturer:"",meProcessnumber:0,muniProc:0,noa:"",material:"",description:"",Table2:[],Table3:[],expiration_date:"",resistance:"",selection:"",select_tile:[],tile_map:{},table2_map:{},fastenerValuesMap:[],two_ten_d_RS_Nails:null,one_number_eight_screw:null,two_number_eight_screw:null,mechanicaltilefastener:"",fastenerValues:"",designPressure:"",slope:"",height:"",dripEdgeMaterial:"",dripEdgeSize:"",deckType:"",expiration_date:"",prescriptiveSelection:"",perimeter:"",tiletype:"",savedfastener:"",hittype:""}),p=Y({noa:"",manufacturer:"",material:"",system:[],designpressure:"",pressure:"",prescriptiveSelection:"",description:"",Description_F1:"",Description_F2:"",Description_F3:"",Description_F4:"",Description_F5:"",Description_F6:"",Description_F7:"",Description_F8:"",Description_F9:"",Description_F10:"",Description_F11:"",Description_F12:"",Description_F13:"",Description_F14:"",Description_F15:"",arrDesignPressure:[],saIdentifier:"sa",hittype:""}),n=Y({noa:"",manufacturer:"",material:"",system:[],designPressure:"",Anchor_Base_Sheet:"",TileCap_Sheet_Description:"",hittype:"",Anchor_Base_Sheet_E1:"",Anchor_Base_Sheet_E2:"",Anchor_Base_Sheet_E3:"",Anchor_Base_Sheet_E4:"",Anchor_Base_Sheet_E5:"",Anchor_Base_Sheet_E6:"",Anchor_Base_Sheet_E7:"",Anchor_Base_Sheet_E8:"",Anchor_Base_Sheet_E9:"",Anchor_Base_Sheet_E10:"",Anchor_Base_Sheet_E11:"",Anchor_Base_Sheet_E12:"",Anchor_Base_Sheet_E13:"",TileCap_Sheet_Description_E1:"",TileCap_Sheet_Description_E2:"",TileCap_Sheet_Description_E3:"",TileCap_Sheet_Description_E4:"",TileCap_Sheet_Description_E5:"",TileCap_Sheet_Description_E6:"",TileCap_Sheet_Description_E7:"",TileCap_Sheet_Description_E8:"",TileCap_Sheet_Description_E9:"",TileCap_Sheet_Description_E10:"",TileCap_Sheet_Description_E11:"",TileCap_Sheet_Description_E12:"",TileCap_Sheet_Description_E13:"",arrDesignPressure:[],udlIdentifier:"udl",tileCap:"",Anchor_Base:"",systemSelected:"",prescriptiveSelection:"",syst:"",pressure:""}),hl=ml(),{roofList:_l}=pe(hl),St=i(!1),I=i(null),qe=i(!0),We=i(!0);i([]);const k=i(null),Z=i(!1),bl=i(!1),ne=i(!1),ge=i(!1),q=i(!1);let ye=i("");const h=Y({area:"",per:"",height:"",slope:""}),v=Y({zone:"",lambda1:"",mg1:"",mr1:"",mf1:""}),_=Y({zone:"",lambda2:"",mg2:"",mr2:"",mf2:""}),b=Y({zone:"",lambda3:"",mg3:"",mr3:"",mf3:""});A(()=>vl(_t,"noa"));const Sl=A(()=>He.latestNoa);Re(async()=>{await se(),console.log("STORE:",He.tileMechInput)}),x([()=>X.value,()=>Ze.value,()=>K.value],()=>{Ve(),ue()},{deep:!0});let Te=i(!1);const{errorMessage:xt,validateNumber:xl}=Ia({min:4,max:12,required:!0}),{errorHeightMessage:Vt,validateTileHeight:Vl}=ja({min:10,max:40,required:!0});function Dl(){h.slope>=4?(We.value=!1,ve(),console.log("entered slope")):We.value=!1,Al()}const Al=()=>{xl(h.slope),console.log(h.slope)},Tl=()=>{Vl(h.height),console.log(h.height),St.value=!0,ve()};function ve(){St.value||qe.value?(Te.value=!0,console.log("Entered checkmarks")):Te.value=!1}function wl(){Tl(),console.log(height.value)}const Ul=i(.4),{getData:Dt}=Ma(),{getDatas:At}=ka();function Tt(){h.height=ye.value,h.per=(h.height*Ul.value).toFixed(2),r.height=h.height,r.perimeter=h.per,r.area=h.area,ve()}const Ge=i(!1),Ml=i(!1),kl=()=>{pl.value++};Re(async()=>{await Promise.allSettled([se()])}),x([_t],()=>kl(),{deep:!0}),Re(()=>{_l.value.forEach((e,t)=>{e.item==="Mechanical Fastened Tile"&&(h.area=e.dim3)}),r.meProcessnumber=fl.value,r.muniProc=gl.value});const wt=Ea(),Ut=Ca(),te=i(!1),we=i(!1),{tilefinput:El}=pe(Ut),{tilesysEinput:ie}=pe(wt);let Mt=i(Ut.$state.tilefinput);i(wt.$state.tilesysEinput);const P=i(null),Cl=e=>Array.isArray(e)&&e.length?e[e.length-1]:null;function Nl(e){if(!e||typeof e!="object"||e.content!=="multiple")return{};const t={};for(const[a,s]of Object.entries(e)){if(a==="content")continue;const c=s&&typeof s=="object"?s.Direct_Deck??s.value??s[0]:s,y=Number(Array.isArray(c)?c[0]:c)||0;t[a]=[y]}return t}function Pl(e){if(!e||typeof e!="object"||e.content!=="multiple")return{};const t=["two","three","four","five","six","seven"],a={};for(const[s,c]of Object.entries(e))s!=="content"&&(a[s]=t.map(y=>Number(c==null?void 0:c[y])||0));return a}const zl={2:0,3:1,4:2,5:3,6:4,7:5},Ll=(e,t,a)=>Math.max(Math.min(e,Math.max(t,a)),Math.min(t,a));function kt(e){const t=Ll(Number(e||0),2,12);return t<=3?2:t<4?3:t<=4?4:t<6?5:t<7?6:7}const he=A(()=>{var e;return((e=Cl(El.value))==null?void 0:e.systemData)||null});x([he,()=>te.value],()=>{if(!te.value)return;const e=he.value;e&&(g.System.length||Je(e),Object.assign(p,{noa:e.noa||"",manufacturer:e.manufacturer||"",material:e.material||"",arrDesignPressure:g.Designpressure.slice()}),console.log(p.arrDesignPressure,g.Designpressure),!E.value&&g.System.length&&(P.value=g.System[0]))},{immediate:!0}),x(()=>p.noa,(e,t)=>{if(!e||e===t)return;P.value=null,g.System=[],g.Designpressure=[],p.designpressure="",p.description="";const a=he.value;a&&Je(a)});const _e=A(()=>g.System.map(e=>({label:e,value:e}))),Et=A(()=>{const e={};return g.System.forEach((t,a)=>{e[t]=g.Designpressure[a]}),e}),Bl=A(()=>{const e={};for(const t of g.System){const a=`Description_${t}`;e[t]=g[a]??g.Description??""}return e}),E=A(()=>{var e;return typeof P.value=="object"?(e=P.value)==null?void 0:e.value:P.value||""}),g=Y({System:[],Maps:{},Description:"",Designpressure:[]});function Je(e){const t=Array.isArray(e.System)?e.System.slice():Array.isArray(e.system)?e.system.slice():e.System??e.system?[e.System??e.system]:[],a=Array.isArray(e.designPressure)?e.designPressure.slice():Array.isArray(e.pressure)?e.pressure.slice():e.designPressure??e.pressure?[e.designPressure??e.pressure]:[];g.System=t.filter(Boolean),g.Designpressure=a.filter(s=>s!=null&&String(s).trim()!==""),g.Description=e.Description||e.description||"",g.Maps=e.Maps||e.maps||{};for(const s of g.System){const c=`Description_${s}`;e[c]!=null&&(g[c]=e[c])}}const Xe=e=>e==null?"":typeof e=="string"?e:Array.isArray(e)?e.join(" | "):String(e),Ue=A(()=>{var t;const e={};for(const a of g.System){const s=`Description_${a}`;g[s]?e[a]=Xe(g[s]):(t=g.System)!=null&&t[a]?e[a]=Xe(g.System[a]):e[a]=Xe(g.Description)}return e}),Fl=A({get:()=>E.value&&Ue.value[E.value]||"",set:e=>p.description=e});x(P,e=>{const t=typeof e=="object"?e==null?void 0:e.value:e;p.description=t&&Ue.value[t]||""}),x(P,e=>{p.description=e&&(Ue.value[e]||g.Description)||""}),x([he,()=>_e.value.length,E,()=>te.value],()=>{if(!te.value)return;const e=he.value;e&&(g.System.length||Je(e),!E.value&&_e.value.length&&(P.value=_e.value[0].value),Object.assign(p,{sanoa:e.noa||"",samanufacturer:e.manufacturer||"",samaterial:e.material||"",sasystem:g.System.slice(),sadescription:Fl.value||""}))},{immediate:!0});const Ye=i({}),Ol=i({}),Qe=A(()=>(Pt.value||[]).find(e=>e.key===Me.value)||null),Ct=A({get:()=>E.value?String(Et.value[E.value]??""):"",set:e=>{const t=String(e??"");if(p.designpressure=t,E.value){const a=g.System.indexOf(E.value);a!==-1&&(g.Designpressure[a]=t)}}});x([E,()=>g.Designpressure],()=>{const e=E.value;if(!e){p.designpressure="";return}const t=Et.value[e];p.designpressure=String(t??"")},{immediate:!0});function $l(e){return e?typeof e=="object"?e.value??e.label??String(e):String(e):""}const Nt=A({get:()=>E.value?String(Bl.value[E.value]??""):"",set:e=>{p.description=String(e??"")}}),j=i(null),Me=i(0),Il=[{match:["ASTM #90 Prescriptive hot mopped with Type IV Asphalt to a mechanically fastened ASTM #30"],flags:{isUDLNOAValid:!1,isSAValid:!1,isTileValid:!0},identifier:"astm"},{match:["System F: per the NOA (S/A) Tile Capsheet adhered diretly to a wood deck"],flags:{isUDLNOAValid:!1,isSAValid:!0,isTileValid:!0},identifier:"system_f"},{match:["System E: per the NOA (S/A) Tile Capsheet adhered to a mechanically fastened UDL/Anchor Sheet"],flags:{isUDLNOAValid:!0,isSAValid:!1,isTileValid:!0},identifier:"system_e"}],Pt=i([{selectedBasesheet:"-- Select Tile Capsheet/Underlayment --",key:0},{selectedBasesheet:"ASTM #90 Prescriptive hot mopped with Type IV Asphalt to a mechanically fastened ASTM #30",key:1},{selectedBasesheet:"System F: per the NOA (S/A) Tile Capsheet adhered diretly to a wood deck",key:2},{selectedBasesheet:"System E: per the NOA (S/A) Tile Capsheet adhered to a mechanically fastened UDL/Anchor Sheet",key:3}]);let le=i(null);const et=A(()=>{const e=((le==null?void 0:le.value)??"").toString().trim().toLowerCase();return e==="astm"||e==="atsm"}),tt=i(!1);function jl(){if(console.log(et.value),!tt.value){tt.value=!0;try{ce.value=!1,ze(),et.value&&pa()}finally{tt.value=!1}}}function Kl(){console.log(Qe.value.selectedBasesheet);const e=s=>typeof s=="string"?s:(s==null?void 0:s.label)??(s==null?void 0:s.value)??(s==null?void 0:s.name)??"";console.log(e);const t=e(Qe.value.selectedBasesheet);if(console.log(t),!t)return;const a=Il.find(s=>s.match.includes(t));console.log(a),a?(console.log(a),ne.value=a.flags.isUDLNOAValid,ge.value=a.flags.isSAValid,q.value=a.flags.isTileValid,le.value=a.identifier,r.hittype=le.value,n.hittype=le.value,p.hittype=le.value,r.hittype&&(r.prescriptiveSelection=a.match[0]),n.hittype&&(n.prescriptiveSelection=a.match[0]),p.hittype&&(p.prescriptiveSelection=a.match[0])):le.value=null}function Rl(e){var a,s;if(!e)return;const t=((a=e==null?void 0:e.Table2)==null?void 0:a.content)==="multiple";if(r.noa=e.noa??"",r.manufacturer=e.manufacturer??"",r.material=e.material??"",r.description=e.description??"",r.expiration_date=e.expiration_date??"",t)r.table2_map=Nl(e.Table2),r.tile_map=Pl(e.Table3),r.select_tile=Object.keys(r.table2_map),r.select_tile.includes(I.value)||(I.value=r.select_tile[0]??null),I.value&&xe({value:I.value});else{r.table2_map={},r.tile_map={},r.select_tile=[];const c=Number(((s=e==null?void 0:e.Table2)==null?void 0:s.Direct_Deck)??0)||0;v.lambda1=c,_.lambda2=c,b.lambda3=c;const y=(e==null?void 0:e.Table3)||{},T=kt(h.slope),z={2:y.two,3:y.three,4:y.four,5:y.five,6:y.six,7:y.seven},R=Number(z[T]??0)||0;v.mg1=R,_.mg2=R,b.mg3=R,ue()}r.mechanicaltilefastener=e.mechanicaltilefastener??r.mechanicaltilefastener,r.fastenerValues=e.fastenerValues??r.fastenerValues}function ue(){const e=Number(v.zone||0)*Number(v.lambda1||0)-Number(v.mg1||0),t=Number(_.zone||0)*Number(_.lambda2||0)-Number(_.mg2||0),a=Number(b.zone||0)*Number(b.lambda3||0)-Number(b.mg3||0);v.mr1=e.toFixed(2),_.mr2=t.toFixed(2),b.mr3=a.toFixed(2)}x([()=>v.zone,()=>v.lambda1,()=>v.mg1,()=>_.zone,()=>_.lambda2,()=>_.mg2,()=>b.zone,()=>b.lambda3,()=>b.mg3],()=>{const e=t=>Number(t??0);v.mr1=(e(v.zone)*e(v.lambda1)-e(v.mg1)).toFixed(2),_.mr2=(e(_.zone)*e(_.lambda2)-e(_.mg2)).toFixed(2),b.mr3=(e(b.zone)*e(b.lambda3)-e(b.mg3)).toFixed(2)},{immediate:!1}),i([]),i([]);async function Hl(){F.value||(F.value="d",X.value="d");const e=Number(h.slope),t=Number(h.height);Number.isFinite(e)&&Number.isFinite(t)&&e>=2&&t>0&&(X.value==="d"?await At(e,t):await Dt(e,t)),await il(()=>{const a=X.value==="d"?K.value:Ze.value,s=Array.isArray(a==null?void 0:a[0])?a[0]:a;return Array.isArray(s)&&s.length>=3&&s.every(c=>Number(c)>0)}).toBe(!0),Ve(),ue()}const zt=A(()=>{const e=String(w.value??"").toLowerCase().trim();return e?Sl.value.map(a=>String(a).replace(/^\s*[-•*+▪▫►‣]\s*/g,"").trim()).filter(Boolean).filter(a=>a.toLowerCase().includes(e)):[]}),Lt=Y(Object.fromEntries(Array.from({length:13},(e,t)=>[`Anchor_Base_Sheet_E${t+1}`,""]))),ke=A(()=>{var t;const e=Array.isArray(ie.value)?ie.value:[];for(let a=e.length-1;a>=0;a--){const s=(t=e[a])==null?void 0:t.systemDataE;if(s&&Object.keys(s).length)return s}return null});x(ie,e=>{var t;(t=e==null?void 0:e[0])!=null&&t.systemDataE&&lt(e[0].systemDataE)},{deep:!0});function lt(e){if(e){console.log("applyUDL called with:",e),n.noa=(e.noa??n.noa)||"",n.manufacturer=(e.manufacturer??n.manufacturer)||"",n.material=(e.material??n.material)||"",n.system=Array.isArray(e.system)?e.system.slice():e.system?[e.system]:[],n.arrDesignPressure=Array.isArray(e.designPressure)?e.designPressure.slice():Array.isArray(e.pressure)?e.pressure.slice():[];for(let t=1;t<=13;t++){const a=`E${t}`;Lt[`Anchor_Base_Sheet_${a}`]=e[`Anchor_Base_Sheet_${a}`]??"",n[`TileCap_Sheet_Description_${a}`]=e[`TileCap_Sheet_Description_${a}`]??""}n.system.includes(k.value)||(k.value=n.system[0]??null,k.value&&me(k)),console.log("UDL after apply:",n)}}const at=A(()=>{var t;const e=Array.isArray(f(Mt))?f(Mt):[];for(let a=e.length-1;a>=0;a--){const s=(t=e[a])==null?void 0:t.systemData;if(s&&Object.keys(s).length)return s}return null});async function Bt(){st(f(at))}function st(e){e&&(p.noa=e.noa??"",p.manufacturer=e.manufacturer??"",p.material=e.material??"",p.system=Array.isArray(e.system)?e.system.slice():e.system?[e.system]:[],p.arrDesignPressure=Array.isArray(e.designPressure)?e.designPressure.slice():Array.isArray(e.pressure)?e.pressure.slice():[],Object.keys(e).forEach(t=>{/^Description_F\d+$/.test(t)&&(p[t]=e[t]??"")}),p.system.includes(P.value)||(P.value=p.system[0]??null))}x(at,e=>st(e),{immediate:!0,deep:!0});const Zl=()=>{P.value=null,p.designpressure="",p.description=""};x(()=>p.noa,(e,t)=>{!e||e===t||(Zl(),st(f(at)))}),A(()=>P.value||"");const ql=e=>{w.value=String(e).replace(/\D/g,"").padStart(8,"0"),M.value=!1},Wl=()=>{M.value=!0},Gl=()=>{setTimeout(()=>{M.value=!1},1250)},ot=i(),Jl=i([{name:" Select Deck Type "},{name:' 5/8" Plywood  '},{name:' 3/4" Plywood  '},{name:' 1" x 6" T & G '},{name:' 1" x 8" T & G '},{name:' Existing 1/2" Plywood '}]),Ee=i([]);function be(){X.value==="d"?At(h.slope,h.height):Dt(h.slope,h.height),Ve(),ue()}const Ft=i("");function Xl(e){ot._value.name===e.value.name&&(Ft.value=e.value.name,r.deckType=Ft.value,qe.value=!1)}const rt=i("");async function Ot(){const e=String(w.value??"").replace(/\D/g,"");return console.log(e),e?e===nt.value?($t(),!0):(rt.value=e,console.log(rt.value),await N(e)?($t(),!0):!1):!1}const Se=i(!1);async function Yl(){if(!Se.value){Se.value=!0;try{if(!await Ot())return;Xt.value={manufacturer:r.manufacturer??"",material:r.material??"",description:r.description??""},Fe.value++,await Hl(),Fe.value++,ce.value=!0}finally{Se.value=!1}}}const W=A(()=>{const e=H.value;if(!Array.isArray(e)||!e.length)return null;const t=e.filter(a=>typeof(a==null?void 0:a.fetchedAt)=="number");return t.length?t.sort((a,s)=>s.fetchedAt-a.fetchedAt)[0]:e.at(-1)}),nt=A(()=>{var e;return String(((e=W.value)==null?void 0:e.noa)??"").replace(/\D/g,"")});x(nt,e=>{rt.value=e,e&&!w.value&&(w.value=e)},{immediate:!0});function xe(e){var z,R;const t=(e==null?void 0:e.value)??I.value;if(!t)return;const a=(z=r.table2_map)==null?void 0:z[t],s=Array.isArray(a)?Number(a[0])||0:typeof a=="object"&&a?Number(a.Direct_Deck??a.value??a[0])||0:Number(a)||0;v.lambda1=s,_.lambda2=s,b.lambda3=s;const c=((R=r.tile_map)==null?void 0:R[t])||[],y=zl[kt(h.slope)]??0,T=Number(c[y]??0)||0;v.mg1=T,_.mg2=T,b.mg3=T,r.tiletype=t,ue(),Array.isArray(H.value)&&W.value&&(r.mechanicaltilefastener=W.value.mechanicaltilefastener,r.fastenerValues=W.value.fastenerValues)}x(()=>h.slope,()=>{Z.value&&I.value?xe({value:I.value}):!Z.value&&Array.isArray(H.value)&&W.value&&ze()}),x(I,e=>{Z.value&&e&&xe({value:e})});function Ql(e){Ee.value=Number.isFinite(e)?e:0;const t={0:{isTileValid:!1,isUDLValid:!1,isUDLNOAValid:!1,isSAValid:!1},1:{isTileValid:!0,isUDLValid:!1,isUDLNOAValid:!1,isSAValid:!1},2:{isTileValid:!0,isUDLValid:!1,isUDLNOAValid:!1,isSAValid:!0},3:{isTileValid:!0,isUDLValid:!0,isUDLNOAValid:!0,isSAValid:!1}},a=t[Ee.value]||t[0];q.value=a.isTileValid,bl.value=a.isUDLValid,ne.value=a.isUDLNOAValid,ge.value=a.isSAValid,Ee.value===2&&Bt(),Ee.value===3&&(de.value=!0,console.log("Key=3 selected: Starting UDL population..."),lt(ke.value),setTimeout(()=>{de.value=!1,console.log("UDL population complete. isUDLComplete:")},500),k.value&&!n.designPressure&&(Le(k.value),me(k.value)))}x(Me,Ql,{immediate:!0}),x(ke,e=>console.log("EPayload updated:",!!(e!=null&&e.noa)));const ea=i(!1);function Ve(){var y,T,z,R;const e=X.value==="d"?K.value:Ze.value,t=Array.isArray(e==null?void 0:e[0])?e[0]:e;if(!Array.isArray(t)||t.length<3)return;const[a,s,c]=t.map(Number);[a,s,c].every(Number.isFinite)&&(v.zone=a,_.zone=s,b.zone=c,console.log(re.$state.inputselectedUserDripEdge),r.dripEdgeMaterial=(T=(y=re.$state.inputselectedUserDripEdge[0])==null?void 0:y.dripSelection)==null?void 0:T.DripEdgeMaterial,r.dripEdgeSize=(R=(z=re.$state.inputselectedUserDripEdge[0])==null?void 0:z.dripSelection)==null?void 0:R.DripEdgeSize,console.log(r.dripEdgeMaterial,r.dripEdgeSize))}function $t(){var a;const e=W.value,t=((a=e==null?void 0:e.Table2)==null?void 0:a.content)==="multiple";Ml.value=!0,Z.value=t,Ge.value=!t,q.value=!0,Rl(e),it(),be(),t||ze()}_a(async()=>{await il(q).toBe(!0),await na()});async function it(){var a,s;const t=(((s=(a=F==null?void 0:F.value)==null?void 0:a.toLowerCase)==null?void 0:s.call(a))??"")==="c";X.value=t?"c":"d",bt.value=!t,console.log({selectedExposures:F.value,isExposureC:bt.value}),be()}let Ce=i(!1),Ne=i(!1),Pe=i(!1),It=i(!1),jt=i(!1),Kt=i(!1);async function Rt(){var e,t,a,s;((t=(e=W.value)==null?void 0:e.Table2)==null?void 0:t.content)==="multiple"&&(console.log("Entered multiple"),be()),X.value==="c"?(console.log("Else C exposure",X),Ve()):(console.log("D exposure"),Ve()),r.manufacturer=(a=W.value)==null?void 0:a.manufacturer,r.material=(s=W.value)==null?void 0:s.material}function ta(e,t,a){return Math.max(Math.min(e,Math.max(t,a)),Math.min(t,a))}async function ze(){const e=W.value||{},t=e.Table2||{},a=e.Table3||{};r.description=e.description||"";const s=Number(t.Direct_Deck)||0;v.lambda1=s,_.lambda2=s,b.lambda3=s;const c={2:"two",3:"three",4:"four",5:"five",6:"six",7:"seven"},y=ta(Number(h.slope),2,12),T=c[Math.floor(y)]||"seven",z=Number(a[T])||0;v.mg1=z,_.mg2=z,b.mg3=z,ue()}x(nt,e=>{e&&!w.value&&(w.value=e)},{immediate:!0});const ce=i(!1);x(ce,e=>{if(e&&!j.value&&Zt.value.length){const t=Zt.value[0];j.value=t.key??t,ae(j.value)}});function Ht(e=""){return String(e).replace(/[_\-]+/g," ").replace(/\b\w/g,t=>t.toUpperCase())}const Zt=A(()=>{const e=r.mechanicaltilefastener;return Array.isArray(e)?typeof e[0]=="string"?e.map(t=>({key:t,label:Ht(t)})):e:e&&typeof e=="object"?Object.keys(e).map(t=>({key:t,label:Ht(t)})):[]}),la=A(()=>{const e=r.fastenerValues,t=r.mechanicaltilefastener;return console.log(e,t),Array.isArray(t)&&Array.isArray(e)?Object.fromEntries(t.map((a,s)=>[a,e[s]])):e&&typeof e=="object"?e:{}});function ae(e){const t=e??j.value;if(console.log(t),!t)return;r.savedfastener=t;const a=la.value[t];if(a==null)return;v.mf1=a,_.mf2=a,b.mf3=a,ze();const s=je(v.mr1).value,c=je(_.mr2).value,y=je(b.mr3).value,T=je(a).value;Ce.value=s<T,It.value=!Ce.value,Ne.value=c<T,jt.value=!Ne.value,Pe.value=y<T,Kt.value=!Pe.value}function Le(e){const t=n.system||[],a=n.arrDesignPressure||[];Ye.value=Object.fromEntries(t.map((c,y)=>[c,a[y]||""])),Ol.value=Object.fromEntries(t.map((c,y)=>[c,t[y]||""]));const s=e==null?void 0:e.value;s&&Ye.value[s]!==null&&me(e)}const qt=A(()=>{const{noa:e,manufacturer:t,material:a,designPressure:s,systemSelected:c}=n;return console.log(e,t,a,s,c),e&&t&&a&&s&&c});x(ke,e=>{e&&(lt(e),k.value&&!n.designPressure&&me(k.value))},{immediate:!0});const Wt=i(!1),Gt=i(!1),Be=i(0),Jt=i(null),aa=i(null),Fe=i(0),ut=i(0),Xt=i(null),Yt=i(null);x(()=>Wt.value,e=>{console.log("Exposure Modal changed:",e)},{immediate:!0}),x(()=>we.value,e=>{console.log("UDLModal changed:",e)},{immediate:!0}),x(()=>te.value,e=>{console.log("SAModal changed:",e)},{immediate:!0});function sa(e){const t=f(e);return console.log(t),pt(t)?ft(t):t}function oa(e){const t=f(e);return console.log(t),pt(t)?ft(t):t}function ra(e){const t=f(e);return console.log(t),pt(t)?ft(t):t}async function na(){await Q();const e=oa(F);console.log(e),aa.value={manufacturer:(e==null?void 0:e.manufacturer)??"",material:(e==null?void 0:e.material)??"",description:(e==null?void 0:e.description)??""},Gt.value,await Q(),Gt.value,Wt.value=!0}const de=i(!1),Oe=i(!1);async function ia(){if(!de.value){de.value=!0,Oe.value=!1,Be.value++;try{await Q();const e=sa(n);Jt.value={udlmanufacturer:(e==null?void 0:e.manufacturer)??"",udlmaterial:(e==null?void 0:e.material)??"",udldescription:(e==null?void 0:e.udldescription)??"",udlsystem:(e==null?void 0:e.system)??[]},Oe.value=!!n.noa&&n.system.length,Be.value++,await Q(),we.value=!0}catch(e){console.error("UDL modal open failed:",e)}finally{de.value=!1}}}async function ua(){await Q(),Bt();const e=ra(p);Yt.value={samanufacturer:(e==null?void 0:e.manufacturer)??"",samaterial:(e==null?void 0:e.material)??"",sasystem:(e==null?void 0:e.system)??""},ut.value++,await Q(()=>{te.value=!0})}async function ca(){te.value=!1,await Q(()=>{ut.value++}),ga()}async function da(){we.value=!1,await Q(()=>{Be.value++})}function me(e){var c,y;const t=(e==null?void 0:e.value)||e||"";if(!t)return;const a=`TileCap_Sheet_Description_${t}`,s=`Anchor_Base_Sheet_${t}`;if(n.TileCap_Sheet_Description=n[a]||"",n.Anchor_Base_Sheet=Lt[s]||"",n.designPressure=Ye.value[t]||"",n.systemSelected=t,((c=ie[0])==null?void 0:c.length)>0){const T=ie[0].systemDataE;T.Anchor_Base=n.Anchor_Base_Sheet,T.tileCap=n.TileCap_Sheet_Description,T.dP=n.designPressure,T.systemSelected=t,T.prescriptiveSelection=((y=Qe.value)==null?void 0:y.selectedBasesheet)??""}n.udldescription=n.TileCap_Sheet_Description,n.pressure=n.designPressure,console.log("udlDescPressure updated udlTile:",n)}x(k,e=>{e&&(Le(e),me(e))},{immediate:!0});const ma=async()=>{var a,s;const e=(s=(a=ie.value)==null?void 0:a[0])==null?void 0:s.systemDataE;if(console.log("Store eInput in staging:",e),!e){console.error("No eInput in staging - check store update");return}if(n.Anchor_Base=e.Anchor_Base||n.Anchor_Base_Sheet||"",n.noa||(n.noa=e.noa||""),n.manufacturer||(n.manufacturer=e.manufacturer||""),n.material||(n.material=e.material||""),!n.designPressure&&k.value&&(me(k.value),await Q()),!qt.value){console.warn("UDL incomplete, skipping post. Missing:",{noa:!n.noa,manufacturer:!n.manufacturer,material:!n.material,designPressure:!n.designPressure,systemSelected:!n.systemSelected});return}const t={...dt(),udlapplicant:n.manufacturer||"",udlnoa:n.noa||"",udlmaterial:n.material||"",udldescription:e.tileCap||n.TileCap_Sheet_Description||n.udldescription||"",udlsystemESelected:n.systemSelected||e.systemSelected||"",udldesignPressure:n.designPressure||"",anchorbasesheet:n.Anchor_Base_Sheet||e.Anchor_Base||n.Anchor_Base||"",hittype:"system_e"};console.log("UDL Body Debug:",t),await oe(t)},ct=e=>JSON.parse(JSON.stringify(f(e))),$e=e=>{const t=Number(e);return Number.isFinite(t)?t:0},pa=async()=>{const e={...dt(),hittype:r.hittype};await oe(e)},fa=A(()=>Ce.value&&Ne.value&&Pe.value),dt=()=>({mechIdentifier:"mechanicalTile",noa:r.noa??"",meProcess:r.meProcessnumber??"",muniProcess:r.muniProc??"",applicant:r.manufacturer??"",description:r.description??"",material:r.material??"",decktype:r.deckType??"",area:$e(h.area),height:$e(h.height),slope:$e(h.slope),dripEdgeMaterial:r.dripEdgeMaterial,dripEdgeSize:r.dripEdgeSize,perimeter:$e(r.perimeter),fastenervalues:r.savedfastener??"",hittype:"astm",zoneone:ct(v),zonetwo:ct(_),zonethree:ct(b),checkvalues:fa.value,prescriptiveSelection:n.prescriptiveSelection||p.prescriptiveSelection||r.prescriptiveSelection||""}),ga=async()=>{const e=$l(P.value||p.system[0]||""),t=g.System.indexOf(e),a=t!==-1&&g.Designpressure[t]?g.Designpressure[t]:p.designpressure||"",s={...dt(),samanufacturer:p.manufacturer||"",sanoa:p.noa||"",sasystem:e||"",samaterial:p.material||"",sadescription:e&&(Ue.value[e]||"")||p.description||"",designpressure:a,hittype:"system_f",saIdentifier:"sa"};console.log("mechSAStaging payload:",s),await oe(s)};return(e,t)=>{var rl,nl;const a=Za,s=Ha,c=Ra,y=Ka,T=La,z=za,R=Na,ya=Pa,ol=Aa,va=Da;return V(),C(Ae,null,[l("div",cs,[l("div",ds,[u(a,{modelValue:ot.value,"onUpdate:modelValue":t[0]||(t[0]=o=>ot.value=o),options:Jl.value,optionLabel:"name",placeholder:"Select a Deck Type",class:"w-full md:w-56",onChange:Xl},null,8,["modelValue","options"])]),l("div",ms,[ps,fs,D(),d(l("i",{class:"pi pi-check",style:{color:"green","font-size":"1.2rem"},onChange:ve},null,544),[[S,f(Te)]]),D("  "),d(u(s,{id:"slope",placeholder:"slope",modelValue:h.slope,"onUpdate:modelValue":t[1]||(t[1]=o=>h.slope=o),modelModifiers:{number:!0},disabled:qe.value,onChange:Dl},null,8,["modelValue","disabled"]),[[ol,"Press Tab after value",void 0,{bottom:!0}]]),f(xt)?(V(),ee(c,{key:0,class:"w-96 mt-1 ...",severity:"error",life:6e3,style:{"margin-left":"2px"}},{default:J(()=>[D(G(f(xt)),1)]),_:1})):B("",!0)]),l("div",gs,[ys,u(s,{id:"area",modelValue:h.area,"onUpdate:modelValue":t[2]||(t[2]=o=>h.area=o),type:"text",placeholder:"area",readonly:""},null,8,["modelValue"])]),l("div",vs,[hs,_s,D(),d(l("i",{class:"pi pi-check",style:{color:"green","font-size":"1.2rem"},onChange:ve},null,544),[[S,f(Te)]]),D("  "),d(u(s,{ref:"heightInputRef",id:"height",modelValue:f(ye),"onUpdate:modelValue":t[3]||(t[3]=o=>ba(ye)?ye.value=o:ye=o),modelModifiers:{number:!0},type:"text",placeholder:"height",onInput:Tt,disabled:We.value,onChange:wl},null,8,["modelValue","disabled"]),[[ol,"Press Tab after value",void 0,{bottom:!0}]]),f(Vt)?(V(),ee(c,{key:0,class:"w-96 mt-1",severity:"error",life:6e3,style:{"margin-left":"2px"}},{default:J(()=>[D(G(f(Vt)),1)]),_:1})):B("",!0)]),u(y),l("div",bs,[Ss,u(s,{id:"perimeter",modelValue:h.per,"onUpdate:modelValue":t[4]||(t[4]=o=>h.per=o),type:"text",placeholder:" ",onChange:Tt,readonly:""},null,8,["modelValue"])]),l("div",xs,[Vs,u(a,{modelValue:Me.value,"onUpdate:modelValue":t[5]||(t[5]=o=>Me.value=o),options:Pt.value,optionLabel:"selectedBasesheet",optionValue:"key",placeholder:"make selection",onChange:Kl},null,8,["modelValue","options"])]),u(f(De)),l("div",Ds,[d(l("div",As,[Ts,l("div",ws,[l("div",Us,[u(f(yt),{inputId:"option3",name:"option",value:"c",variant:"filled",invalid:F.value===null,modelValue:F.value,"onUpdate:modelValue":t[6]||(t[6]=o=>F.value=o),onUpdate:it},null,8,["invalid","modelValue"]),Ms]),l("div",ks,[u(f(yt),{inputId:"option4",name:"option",value:"d",variant:"filled",invalid:F.value===null,modelValue:F.value,"onUpdate:modelValue":t[7]||(t[7]=o=>F.value=o),onUpdate:it},null,8,["invalid","modelValue"]),Es])])],512),[[S,q.value]])])]),Cs,u(f(De)),l("div",Ns,[l("div",Ps,[d((V(),C("div",zs,[u(T,{class:"w-72"},{default:J(()=>[u(s,{id:"tilenoa",modelValue:w.value,"onUpdate:modelValue":t[8]||(t[8]=o=>w.value=o),class:"h-8",onInput:Wl,onFocus:t[9]||(t[9]=o=>M.value=!0),onBlur:Gl,onKeydown:Sa(ul(Ot,["prevent"]),["enter"])},null,8,["modelValue","onKeydown"]),Ls]),_:1}),u(z,{label:"Submit",class:"w-28",severity:"contrast",disabled:String(w.value??"").replace(/\D/g,"").length<6,loading:Se.value,onClick:Yl},null,8,["disabled","loading"]),M.value&&zt.value.length?(V(),C("ul",Bs,[(V(!0),C(Ae,null,xa(zt.value,(o,Ie)=>(V(),C("li",{key:Ie,class:"px-3 py-2 hover:bg-gray-50 cursor-pointer",onMousedown:ul(mt=>ql(o),["left"])},G(o),41,Fs))),128))])):B("",!0),u(Va,{name:"fade"},{default:J(()=>[Se.value?(V(),C("div",Os,[u(f(gt),{style:{width:"40px",height:"40px"},strokeWidth:"4"})])):B("",!0)]),_:1})])),[[S,q.value],[va,{enterClass:"animate-flipup",leaveClass:"animate-fadeout"}]]),ne.value||ge.value?(V(),C("div",$s,[ne.value?(V(),C(Ae,{key:0},[u(R),u(z,{label:"Submit",class:"w-28",severity:"contrast",disabled:!ke.value||!qt.value,loading:de.value,onClick:ia,style:{"margin-left":"25px","margin-bottom":"5px"}},null,8,["disabled","loading"])],64)):ge.value?(V(),C(Ae,{key:1},[u(ya),u(z,{label:"Submit",class:"w-28",severity:"contrast",onClick:ua,style:{"margin-left":"25px","margin-bottom":"5px"}})],64)):B("",!0)])):B("",!0)])]),u(f(De)),u(f(De)),we.value&&Oe.value?(V(),ee(Ke,{key:Be.value,initialData:Jt.value,onClosePopup:t[17]||(t[17]=()=>{k.value.value&&Le(k.value),da(),ma()})},{default:J(()=>{var o,Ie,mt;return[d(l("div",Is,[Oe.value?(V(),C("div",Rs,[l("div",Hs,[Zs,u(s,{id:"manufacturer",value:n.manufacturer||((o=e.initialData)==null?void 0:o.udlmanufacturer)||"",onInput:t[10]||(t[10]=O=>n.manufacturer=O.target.value)},null,8,["value"])]),l("div",qs,[Ws,u(s,{id:"material",value:n.material||((Ie=e.initialData)==null?void 0:Ie.udlmaterial)||"",onInput:t[11]||(t[11]=O=>n.material=O.target.value)},null,8,["value"])]),l("div",Gs,[Js,u(a,{modelValue:k.value,"onUpdate:modelValue":t[12]||(t[12]=O=>k.value=O),options:n.system,placeholder:"Select System",onChange:t[13]||(t[13]=O=>Le(O.value))},null,8,["modelValue","options"])]),l("div",Xs,[Ys,u(s,{id:"designPressure",modelValue:n.designPressure,"onUpdate:modelValue":t[14]||(t[14]=O=>n.designPressure=O)},null,8,["modelValue"])]),d(l("div",Qs,[l("div",eo,[u(us,{id:"anchor",modelValue:n.Anchor_Base_Sheet,"onUpdate:modelValue":t[15]||(t[15]=O=>n.Anchor_Base_Sheet=O),placeholder:"Enter anchor base sheet"},null,8,["modelValue"])]),l("div",to,[lo,u(s,{id:"description",value:n.TileCap_Sheet_Description||((mt=e.initialData)==null?void 0:mt.udldescription)||"",onInput:t[16]||(t[16]=O=>n.TileCap_Sheet_Description=O.target.value)},null,8,["value"])])],512),[[S,ne.value]])])):(V(),C("div",js,[u(f(gt),{style:{width:"24px",height:"24px"},strokeWidth:"4"}),Ks]))],512),[[S,ne.value]])]}),_:1},8,["initialData"])):B("",!0),te.value?(V(),ee(Ke,{key:ut.value,initialData:Yt.value,onClosePopup:t[23]||(t[23]=o=>ca())},{default:J(()=>[d(l("div",ao,[l("div",so,[oo,u(s,{id:"saapplicant",modelValue:p.manufacturer,"onUpdate:modelValue":t[18]||(t[18]=o=>p.manufacturer=o)},null,8,["modelValue"])]),l("div",ro,[no,u(s,{id:"saaterial",modelValue:p.material,"onUpdate:modelValue":t[19]||(t[19]=o=>p.material=o)},null,8,["modelValue"])]),l("div",io,[uo,u(a,{modelValue:P.value,"onUpdate:modelValue":t[20]||(t[20]=o=>P.value=o),options:_e.value,optionLabel:"label",optionValue:"value",placeholder:"Select System"},null,8,["modelValue","options"]),_e.value.length?B("",!0):(V(),ee(f(gt),{key:0,style:{width:"24px",height:"24px"},strokeWidth:"4"}))]),l("div",co,[mo,u(s,{id:"designpressure",modelValue:Ct.value,"onUpdate:modelValue":t[21]||(t[21]=o=>Ct.value=o),disabled:!E.value},null,8,["modelValue","disabled"])]),d(l("div",po,[fo,u(s,{id:"capsheetdescription",modelValue:Nt.value,"onUpdate:modelValue":t[22]||(t[22]=o=>Nt.value=o),disabled:!E.value},null,8,["modelValue","disabled"])],512),[[S,!!E.value]])],512),[[S,ge.value]])]),_:1},8,["initialData"])):B("",!0),et.value?B("",!0):(V(),C("div",go,[ce.value?(V(),ee(Ke,{key:Fe.value,onClosePopup:t[30]||(t[30]=o=>ce.value=!1)},{default:J(()=>[d(l("div",yo,[l("div",vo,[ho,u(s,{id:"manufacturer",modelValue:r.manufacturer,"onUpdate:modelValue":t[24]||(t[24]=o=>r.manufacturer=o)},null,8,["modelValue"])]),l("div",_o,[bo,u(s,{id:"description",modelValue:r.material,"onUpdate:modelValue":t[25]||(t[25]=o=>r.material=o)},null,8,["modelValue"])]),d(l("div",So,[d(l("div",xo,[Vo,u(a,{modelValue:j.value,"onUpdate:modelValue":[t[26]||(t[26]=o=>j.value=o),ae],options:r.mechanicaltilefastener},null,8,["modelValue","options"])],512),[[S,Ge.value]])],512),[[S,q.value]]),Do,d(l("div",Ao,[To,u(s,{class:"min-w-[500px] flex flex-col gap-2 border-2",id:"description",modelValue:r.description,"onUpdate:modelValue":[t[27]||(t[27]=o=>r.description=o),Rt]},null,8,["modelValue"])],512),[[S,!Z.value]])],512),[[S,q.value]]),d(l("div",wo,[l("div",Uo,[Mo,u(a,{modelValue:I.value,"onUpdate:modelValue":[t[28]||(t[28]=o=>I.value=o),be],options:r.select_tile,placeholder:"make a selection",onChange:xe},null,8,["modelValue","options"])]),d(l("div",ko,[Eo,u(a,{modelValue:j.value,"onUpdate:modelValue":[t[29]||(t[29]=o=>j.value=o),ae],options:r.mechanicaltilefastener},null,8,["modelValue","options"])],512),[[S,Z.value]])],512),[[S,Z.value]])]),_:1})):B("",!0)])),ce.value?(V(),ee(Ke,{key:Fe.value,initialData:Xt.value,onClosePopup:jl},{default:J(()=>[d(l("div",Co,[l("div",No,[Po,u(s,{id:"manufacturer",modelValue:r.manufacturer,"onUpdate:modelValue":t[31]||(t[31]=o=>r.manufacturer=o)},null,8,["modelValue"])]),l("div",zo,[Lo,u(s,{id:"description",modelValue:r.material,"onUpdate:modelValue":t[32]||(t[32]=o=>r.material=o)},null,8,["modelValue"])]),d(l("div",Bo,[d(l("div",Fo,[Oo,u(a,{modelValue:j.value,"onUpdate:modelValue":[t[33]||(t[33]=o=>j.value=o),ae],options:r.mechanicaltilefastener},null,8,["modelValue","options"])],512),[[S,Ge.value]])],512),[[S,q.value]]),$o,d(l("div",Io,[jo,u(s,{class:"min-w-[500px] flex flex-col gap-2 border-2",id:"description",modelValue:r.description,"onUpdate:modelValue":[t[34]||(t[34]=o=>r.description=o),Rt]},null,8,["modelValue"])],512),[[S,!Z.value]])],512),[[S,q.value]]),d(l("div",Ko,[l("div",Ro,[Ho,u(a,{modelValue:I.value,"onUpdate:modelValue":[t[35]||(t[35]=o=>I.value=o),be],options:r.select_tile,placeholder:"make a selection",onChange:xe},null,8,["modelValue","options"])]),d(l("div",Zo,[qo,u(a,{modelValue:j.value,"onUpdate:modelValue":[t[36]||(t[36]=o=>j.value=o),ae],options:r.mechanicaltilefastener},null,8,["modelValue","options"])],512),[[S,Z.value]])],512),[[S,Z.value]])]),_:1},8,["initialData"])):B("",!0),l("div",Wo,[l("table",Go,[l("tbody",null,[l("tr",null,[l("td",Jo,[l("table",Xo,[l("tbody",null,[l("tr",null,[Yo,l("td",Qo,[d(l("input",{"onUpdate:modelValue":t[37]||(t[37]=o=>v.zone=o),readonly:"",size:"4",name:"zone1",value:""},null,512),[[L,v.zone]]),D(" x λ  ")]),l("td",er,[d(l("input",{"onUpdate:modelValue":t[38]||(t[38]=o=>v.lambda1=o),readonly:"",size:"4",name:"lambda1",value:""},null,512),[[L,v.lambda1]]),D(" - Mg: ")]),l("td",tr,[d(l("input",{"onUpdate:modelValue":t[39]||(t[39]=o=>v.mg1=o),readonly:"",size:"4",name:"mg1",value:""},null,512),[[L,v.mg1]]),D(" = Mr1: ")]),l("td",lr,[d(l("input",{"onUpdate:modelValue":t[40]||(t[40]=o=>v.mr1=o),readonly:"",size:"4",name:"mr1",value:""},null,512),[[L,v.mr1]]),D(" NOA Mf: ")]),l("td",ar,[d(l("input",{"onUpdate:modelValue":t[41]||(t[41]=o=>v.mf1=o),readonly:"false",size:"6",name:"mf1",value:"",onChange:ae},null,544),[[L,v.mf1]]),D("  ")]),d(l("i",sr,null,512),[[S,f(Ce)]]),d(l("i",or,null,512),[[S,f(It)]])]),l("tr",null,[rr,l("td",nr,[d(l("input",{"onUpdate:modelValue":t[42]||(t[42]=o=>_.zone=o),readonly:"",size:"4",name:"zone2",value:""},null,512),[[L,_.zone]]),D(" x λ  ")]),l("td",ir,[d(l("input",{"onUpdate:modelValue":t[43]||(t[43]=o=>_.lambda2=o),readonly:"",size:"4",name:"lambda2",value:""},null,512),[[L,_.lambda2]]),D(" - Mg: ")]),l("td",ur,[d(l("input",{"onUpdate:modelValue":t[44]||(t[44]=o=>_.mg2=o),readonly:"",size:"4",name:"mg2",value:""},null,512),[[L,_.mg2]]),D(" = Mr2: ")]),l("td",cr,[d(l("input",{"onUpdate:modelValue":t[45]||(t[45]=o=>_.mr2=o),readonly:"",size:"4",name:"mr2",value:""},null,512),[[L,_.mr2]]),D(" NOA Mf: ")]),l("td",dr,[d(l("input",{"onUpdate:modelValue":t[46]||(t[46]=o=>_.mf2=o),readonly:"false",size:"6",name:"mf2",value:"",onChange:ae},null,544),[[L,_.mf2]]),D(" ")]),d(l("i",mr,null,512),[[S,f(Ne)]]),d(l("i",pr,null,512),[[S,f(jt)]])]),l("tr",null,[fr,l("td",gr,[d(l("input",{"onUpdate:modelValue":t[47]||(t[47]=o=>b.zone=o),readonly:"",size:"4",name:"zone3",value:""},null,512),[[L,b.zone]]),D(" x λ")]),l("td",yr,[d(l("input",{"onUpdate:modelValue":t[48]||(t[48]=o=>b.lambda3=o),readonly:"",size:"4",name:"lambda3",value:""},null,512),[[L,b.lambda3]]),D(" - Mg: ")]),l("td",vr,[d(l("input",{"onUpdate:modelValue":t[49]||(t[49]=o=>b.mg3=o),readonly:"",size:"4",name:"mg5",value:""},null,512),[[L,b.mg3]]),D(" = Mr3: ")]),l("td",hr,[d(l("input",{"onUpdate:modelValue":t[50]||(t[50]=o=>b.mr3=o),readonly:"",size:"4",name:"mr3",value:""},null,512),[[L,b.mr3]]),D(" NOA Mf: ")]),l("td",_r,[d(l("input",{"onUpdate:modelValue":t[51]||(t[51]=o=>b.mf3=o),readonly:"false",size:"6",name:"mf3",value:"",onChange:ae},null,544),[[L,b.mf3]]),D(" ")]),d(l("i",br,null,512),[[S,f(Pe)]]),d(l("i",Sr,null,512),[[S,f(Kt)]])]),ea.value?(V(),ee(c,{key:0,severity:"error",life:3e3},{default:J(()=>[D("Select Another Material")]),_:1})):B("",!0)])])])])])]),(nl=(rl=f(H))==null?void 0:rl[0])!=null&&nl.Table3?(V(),C("div",xr,[l("div",null,[Vr,D(" "+G(v.lambda1),1)]),l("div",null,[Dr,D(" 2: "+G(f(H)[0].Table3.two)+", 3: "+G(f(H)[0].Table3.three)+", 4: "+G(f(H)[0].Table3.four)+", 5: "+G(f(H)[0].Table3.five)+", 6: "+G(f(H)[0].Table3.six)+", 7: "+G(f(H)[0].Table3.seven),1)])])):B("",!0)])],64)}}},Tr=vt(Ar,[["__scopeId","data-v-176eec0a"]]),wr={id:"tile",class:"w-md space-y-1",style:{"margin-left":"20px"}},Xr={__name:"TileMech",setup(U){const w=Ta(),K=ml();pe(K);const $=i(!1),M=i(K.$state.roofList);let se=i(null);function oe(){console.log(se)}x($,N=>{N?(console.log("Dialog is now visible"),console.log(w)):console.log("Dialog has been closed")});function re(){for(let N=0;N<M.value.length;N++)console.log(M.value[N].item),M.value[N].item==="Mechanical Fastened Tile"&&(console.log("I am in",M.value[N].item),$.value=!0,console.log($.value))}return Re(()=>{re()}),(N,ht)=>(V(),C(Ae,null,[$.value===!0?(V(),ee(ss,{key:0})):B("",!0),l("div",wr,[u(Tr,{slopeEntered:f(se),style:{"margin-left":"2px"},onChange:oe},null,8,["slopeEntered"])])],64))}};export{Xr as default};
