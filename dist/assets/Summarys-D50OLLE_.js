import{s as cs}from"./index-kKo2YCXj.js";import{s as ps}from"./index-Cj7gtDiH.js";import{s as us}from"./index-BzdzdH_D.js";import{e as a,j as Jl,ab as Tl,at as Al,au as Ml,o as Xl,c as Fl,N as vs,aE as hs,O as gs,L as xs,f as ms,ap as Ts,g as ja,h as pl,l as kl,R as Gl,aq as Yl,p as jl,F as Ws,a5 as fs,n as $s,q as es,t as ts,W as Ss,X as Vs}from"./index-DiLV2A4v.js";import{u as rs,c as bs}from"./pdfsignStore-BV5rJYLg.js";import{u as ls}from"./useAxios-DedZSP6m.js";import{u as Wl}from"./accountsStore-PG72nhcg.js";import{u as ss}from"./generalpageStore-ROfgyKFl.js";import{u as Nl}from"./permitapp-D0uxhxeH.js";import{u as fl}from"./roofList-BYvQq9zL.js";import{E as Rl}from"./jspdf.es.min-BBpKvFDG.js";import{a as as,u as Ds}from"./dripEdgeStore-DHzH4ePr.js";import{b as As,a as Ms,c as Xs,u as Fs}from"./systemfStore-DyckY1qk.js";import{a as Ns,b as Es,u as ws}from"./tilevalueStore-B_PCWNTH.js";import{u as os,a as is}from"./tilesysfStore-Bidvc5Ht.js";import{u as zs,a as Ps}from"./dripEdgeMechTileStore-BPibcD94.js";import{_ as Cs}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-BsT-YaqB.js";import"./reset-store-DAmaY38m.js";function ks(){const K=a(""),$=Jl({status:"",message:"",isFinished:"",isLoading:""}),S=Jl({status:"",message:"",isFinished:"",isLoading:""}),w=a("");let D="https://4cgf7owinctxji4vx56hnisxh40iskps.lambda-url.us-east-1.on.aws/";const{execute:W,then:x,data:J}=ls(D,{method:"GET"},{immediate:!1}),{confirmResponse:A,addResponse:Z}=rs();function r(s){console.log(s),K.value=s+"/",Ce()}const Ce=async()=>{try{const s=await W({params:{processnumber:K.value}}).then(f=>{console.log(f),S.status=f.response.value.status,S.message=f.data.value,S.isFinished=f.isFinished,S.isLoading=f.isLoading});Z(S)}catch(s){console.log("Error, fectching data",s)}};return{error:w,sendProc:K,getSignpdf:r,fetchSignPdf:Ce,result:S,confirmResponse:A,results:$}}const Rs={__name:"Generalpagepdf",setup(K){var Re,T,e,Ct,Qe,Be,ve,Se,Ie,Ve,re,be,De;const{getUser:$}=Wl();let S=a(!1);const w=Nl();fl();const D=ss(),W=a(((T=(Re=w.$state.permitapp[0])==null?void 0:Re.formdt)==null?void 0:T.address)||""),x=a(((Ct=(e=w.$state.permitapp[0])==null?void 0:e.formdt)==null?void 0:Ct.permit)||"N|A"),J=a(((Be=(Qe=w.$state.permitapp[0])==null?void 0:Qe.formdt)==null?void 0:Be.processNumber)||""),A=a(((Se=(ve=w.$state.permitapp[0])==null?void 0:ve.formdt)==null?void 0:Se.muniProc)||""),Z=a(((Ve=(Ie=w.$state.permitapp[0])==null?void 0:Ie.formdt)==null?void 0:Ve.muni)||"");a((be=(re=D.$state.generalpdfinput[1])==null?void 0:re.generalpdfData)==null?void 0:be.totalData);const r=a(((De=$.value[0])==null?void 0:De.dba)||""),Ce=a(""),s=a(D.$state.generalpdfinput);function f(){s.value.length!==1&&(S.value=!0)}Tl(()=>{f()}),Al(async()=>{await Ml(S).toBe(!0),ke()});const ke=()=>{var Le,ye,ee,ut,vt,ht,gt,xt;if(D.$state.generalpdfinput.length===0)console.log("lenghth is   zero");else{const u=new Rl({orientation:"portrait",unit:"mm",format:"a4",compress:!0});u.setGState(new u.GState({opacity:.9}));const mt="Approved";u.setFontSize(24),u.setTextColor("black"),u.setFont("helvetica"),u.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const Tt=new Image,Wt=new Image,ft=new Image;Tt.src="/demo/images/officepaper.jpeg",Wt.src="/demo/images/logo.jpeg",ft.src="/demo/images/DragAndDrop.jpeg";const kt=725,$t=u.getPageInfo(1),Rt=$t.pageContext.mediaBox.topRightX,Bt=$t.pageContext.mediaBox.topRightY;console.log(Rt);const V=a(0),St=a(0);var H=595.28-585.28,h=Bt-kt;V.value=H,St.value=h,console.log(V.value,St.value),u.addImage(Wt,"JPEG",10,10,50,30),u.addImage(Tt,"JPEG",0,0,210,297),u.setFontSize(12),u.setTextColor("green");var I=new Date,p=I.toLocaleDateString();u.text(mt,10,270,{align:"left"});const It=u.getTextWidth(mt);u.text("on: "+p,It+15,270),u.text(`${A.value}`,10,280,{align:"left"});const Ut=u.getTextWidth(`${A.value}`);u.text(`${Z.value}`,Ut+15,280);const Vt=a(!1),o=a(!1),he=a(!1),i=a(!1),rt=a(!1);u.setFontSize(12);const ia=()=>{u.setFontSize(12),u.setTextColor(0),u.text("2023 HVHZ  mEPermit General Information Page",70,20,{maxWidth:"170"}),u.line(10,30,195,30)};u.setTextColor(0),ia(),u.setFontSize(12);const g=a((ye=(Le=D.$state.generalpdfinput[1])==null?void 0:Le.generalpdfData)==null?void 0:ye.totalData),Sa=[{category:"DBA",value:`${r.value}`},{category:"Roof Area",value:`${g.value}`},{category:"Job Address",value:`${W.value}`},{category:"meProcess Number",value:`${J.value}`},{category:"Master Permit",value:`${x.value}`}];let na=10,bt=60,X=50;u.setFontSize(12),Sa.forEach((Me,Lt)=>{const xe=X+Lt*10;u.text(Me.category,na,xe),u.text(Me.value,bt,xe),u.getTextWidth(Me.category);const Oe=u.getTextWidth(Me.value)*2;u.line(bt,xe+2,bt+Oe,xe+2)}),u.setTextColor("black"),u.setFontSize(12);const _e=100,Dt=a(!1),Ot=a(!1);V.value=H+40,D.$state.generalpdfinput[1].generalpdfData.roofCheck[0]==="reroof"?(Dt.value=!0,console.log(Dt.value)):Ot.value=!0,V.value=H+50,h=_e,console.log(h),u.text("Re-Roof: ",V.value,h);const et=h-3,Ht=Dt.value===!0?u.rect(V.value+20,et,4,4,"FD"):u.rect(V.value+20,et,4,4);V.value=H+100,h=_e,console.log(h),u.text("New Roof: ",V.value,h);const Ue=Ot.value===!0?u.rect(V.value+23,et,4,4,"FD"):u.rect(V.value+23,et,4,4);console.log(Ht,Ue),h=h+10;const Gt="Total: ",At="Low Slope: ",Yt="Steep Slope: ",jt=a(((ut=(ee=D.$state.generalpdfinput[1])==null?void 0:ee.generalpdfData)==null?void 0:ut.totalData)||""),Jt=a(((ht=(vt=D.$state.generalpdfinput[1])==null?void 0:vt.generalpdfData)==null?void 0:ht.slopeData)||""),Zt=a(((xt=(gt=D.$state.generalpdfinput[1])==null?void 0:gt.generalpdfData)==null?void 0:xt.steepData)||"");console.log(D.$state.generalpdfinput[1].generalpdfData),V.value=H+25,h=_e+10;const da=u.getTextWidth(At),ge=u.getTextWidth(`${Jt.value}`),t=V.value+5;u.text(At,t,h);const c=da+t;u.text(`${Jt.value}`,c,h),u.line(c,h,c+ge,h),V.value=c+ge;const C=u.getTextWidth(Yt),oe=u.getTextWidth(`${Zt.value}`),Mt=V.value+5;u.text(Yt,Mt,h);const m=C+Mt;u.text(`${Zt.value}`,m,h),u.line(m,h,m+oe,h),console.log(h,h),h=_e+10,V.value=m+oe,console.log(V.value);const l=u.getTextWidth(Gt),n=u.getTextWidth(`${jt.value}`),qt=V.value+5;u.text(Gt,qt,h);const k=l+qt;u.text(`${jt.value}`,k,h),u.line(k,h,k+n,h),V.value=k+n,console.log(D.$state.generalpdfinput[1]),D.$state.generalpdfinput[1].generalpdfData.slopeChk===!0&&(rt.value=!0,console.log("Slope Checked")),D.$state.generalpdfinput[1].generalpdfData.adtileChk===!0&&(Vt.value=!0),D.$state.generalpdfinput[1].generalpdfData.metalChk===!0&&(o.value=!0),D.$state.generalpdfinput[1].generalpdfData.mtileChk===!0&&(he.value=!0),D.$state.generalpdfinput[1].generalpdfData.shingleChk===!0&&(i.value=!0,console.log("Shingle Checked")),V.value=H-4,h=h+10,u.text("Low Slope: ",H,h);const ie=h-3,Kt=rt.value===!0?u.rect(V.value+27,ie,4,4,"FD"):u.rect(V.value+27,ie,4,4);console.log(Ht,Ue,Kt),V.value=V.value+4;const ca=V.value+32;console.log(V.value);const d=ca;console.log(V.value),u.text("Adhesive Set Tile: ",d,h);const Na=Vt.value===!0?u.rect(d+36,ie,4,4,"FD"):u.rect(d+36,ie,4,4);console.log(Ht,Ue,Na),console.log(V.value);const tt=d+43;console.log(V.value),u.text("Metal Panel: ",tt,h),o.value===!0?u.rect(tt+25,ie,4,4,"FD"):u.rect(tt+25,ie,4,4);const Ae=tt+35;console.log(V.value),u.text("Shingle: ",Ae,h);const ne=i.value===!0?u.rect(Ae+17,ie,4,4,"FD"):u.rect(Ae+17,ie,4,4);V.value=Ae;const Qt=Ae+28;console.log(V.value),u.text("Mechanical Fastened Tile: ",Qt,h);const pa=he.value===!0?u.rect(Qt+51,ie,4,4,"FD"):u.rect(Qt+51,ie,4,4);console.log(pa,ne),h=h+10,u.addImage(ft,"JPEG",H+40,h,100,100);const ua="GeneralPage.pdf",Xt=u.output("blob");(async(Me,Lt)=>{const xe=Me,Oe=xe;console.log(Oe);const at=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${A.value}/${Oe}`;try{const me=await fetch(at,{method:"PUT",headers:{"Content-Type":xe.type},body:Lt});me.ok?(Ce.value=at,alert("GeneralPage File uploaded successfully!")):alert(`Failed to upload file. Status: ${me.status}`)}catch(me){console.error("Error uploading file:",me),alert("An error occurred while uploading the file.")}})(ua,Xt)}};return(H,h)=>(Xl(),Fl("div"))}},Bs={__name:"LowSlopepdf",setup(K){var Qe,Be,ve,Se,Ie,Ve,re,be,De,H;const{getUser:$}=Wl(),S=Nl(),w=fl(),D=as(),W=a(((Qe=w.$state.roofList[0])==null?void 0:Qe.dim2)||""),x=a(((ve=(Be=S.$state.permitapp[0])==null?void 0:Be.formdt)==null?void 0:ve.address)||""),J=a(((Ie=(Se=S.$state.permitapp[0])==null?void 0:Se.formdt)==null?void 0:Ie.muni)||""),A=a(((re=(Ve=S.$state.permitapp[0])==null?void 0:Ve.formdt)==null?void 0:re.processNumber)||""),Z=Ds(),{dripedgeStore:r,dripinput:Ce}=vs(Z),s=a(((De=(be=S.$state.permitapp[0])==null?void 0:be.formdt)==null?void 0:De.muniProc)||""),f=a(((H=$.value[0])==null?void 0:H.dba)||""),ke=a(D.$state.burpdfinput);let Re=a(!1);const T=a("");function e(){ke.value.length!==1&&(Re.value=!0,Ct())}Tl(()=>{e()}),Al(async()=>{await Ml(Re).toBe(!0)});const Ct=()=>{var ee,ut,vt,ht,gt,xt,u,mt,Tt,Wt,ft,kt,$t,Rt,Bt,V,St,It;const h=as();if(h.$state.burpdfinput.length===0)console.log("lenghth is zero");else{const Ut=a((ut=(ee=h.$state.burpdfinput[0])==null?void 0:ee.burpdfData)==null?void 0:ut.height),Vt=a((ht=(vt=h.$state.burpdfinput[0])==null?void 0:vt.burpdfData)==null?void 0:ht.slope),o=a((xt=(gt=h.$state.burpdfinput[0])==null?void 0:gt.burpdfData)==null?void 0:xt.per),he=a((mt=(u=h.$state.burpdfinput[0])==null?void 0:u.burpdfData)==null?void 0:mt.deckType),i=new Rl({orientation:"portrait",unit:"mm",format:"a4",compress:!0});i.setGState(new i.GState({opacity:.9}));const rt="Approved";i.setFontSize(24),i.setTextColor("black"),i.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const ia=new Image,g=new Image;ia.src="/demo/images/officepaper.jpeg",g.src="/demo/images/logo.jpeg";const Sa=725,na=i.getPageInfo(1);na.pageContext.mediaBox.topRightX;const bt=na.pageContext.mediaBox.topRightY,X=a(0),Va=a(0);var I=595.28-585.28,p=bt-Sa;X.value=I,Va.value=p,console.log(X.value,Va.value),i.addImage(g,"JPEG",10,2,50,30),i.addImage(ia,"JPEG",0,0,210,297),i.setFontSize(12),i.setTextColor("green");var Le=new Date,ye=Le.toLocaleDateString();i.text(rt,10,270,{align:"left"});const _e=i.getTextWidth(rt);i.text("on: "+ye,_e+15,270),i.text(`${s.value}`,10,280,{align:"left"});const Dt=i.getTextWidth(`${s.value}`);i.text(`${J.value}`,Dt+15,280),i.setFontSize(12);const Ot=()=>{i.setFontSize(10),i.setTextColor(0),i.text('The low slope Built Up Roof (BUR) Assembly shall be installed in compliance with the HVHZ portions of Chapter 15 found in the 2023 Florida Building Code and the HVHZ Roofing Application Standards (RAS), RAS-111, RAS-117 and RAS-128. This roof assembly shall also comply with the listed requirements for a Class "A" fire rating including roof slope (incline), components and a fire barrier when required. The mePermit applicant agrees to comply with these installation requirements when obtaining this permit.',10,25,{maxWidth:"170"}),i.line(10,50,195,50)};i.setTextColor("black"),i.circle(185,45,2,"FD"),i.text("I agree",165,45),Ot(),i.setFontSize(12);const et=[{category:"DBA",value:`${f.value}`},{category:"Municipality",value:`${J.value}`},{category:"Job Address",value:`${x.value}`},{category:"meProcess Number",value:`${A.value}`}];let Ht=10,Ue=60,Gt=72;i.setFontSize(12),et.forEach((Ft,Da)=>{const de=Gt+Da*10;i.text(Ft.category,Ht,de),i.text(Ft.value,Ue,de),i.getTextWidth(Ft.category);const _t=i.getTextWidth(Ft.value)*2;i.line(Ue,de+2,Ue+_t,de+2)}),i.setFontSize(12);const At="Roof Area: ",Yt="Decktype: ",jt="Mean Roof Height: ",Jt="Roof Slope: ",Zt="Roof Perimeter: ",da="Type of Low Slope BUR Material: ",ge="Type of Low Slope BUR System: ",t="Attach P(1') Prime using P(1) Field Prescriptive Basesheet: ",c="Attach P(2) Perimeter using P(3) Corner Prescriptive: ",C=a(((Wt=(Tt=h.$state.burpdfinput[1])==null?void 0:Tt.burpdfData)==null?void 0:Wt.burMaterial)||""),oe=a(((kt=(ft=h.$state.burpdfinput[1])==null?void 0:ft.burpdfData)==null?void 0:kt.burSystem)||""),Mt=a(((Rt=($t=h.$state.burpdfinput[1])==null?void 0:$t.burpdfData)==null?void 0:Rt.p1)||""),m=a(((V=(Bt=h.$state.burpdfinput[1])==null?void 0:Bt.burpdfData)==null?void 0:V.p3)||"");console.log(Mt),X.value=I;const l=i.getTextWidth(At),n=i.getTextWidth(`${W.value}`),qt=X.value;i.text(At,qt,p);const k=l+qt;i.text(`${W.value}`,k,p),i.line(k,p+2,k+n,p+2),X.value=k+n;const ie=i.getTextWidth(jt),Kt=i.getTextWidth(`${Ut.value}`),ca=X.value+18;i.text(jt,ca,p);const d=ie+ca;i.text(`${Ut.value}`,d,p),i.line(d,p+2,d+Kt,p+2),X.value=d+Kt;const Na=i.getTextWidth(Jt),tt=i.getTextWidth(`${Vt.value}`),Ae=X.value+18;i.text(Jt,Ae,p);const ne=Na+Ae;i.text(`${Vt.value}`,ne,p),i.line(ne,p+2,ne+tt,p+2),X.value=ne+tt;const Qt=i.getTextWidth(Zt),pa=i.getTextWidth(`${o.value}`),ua=X.value+18;i.text(Zt,ua,p);const Xt=Qt+ua;i.text(`${o.value}`,Xt,p),i.line(Xt,p+2,Xt+pa,p+2),console.log(p,p),p=p+10,X.value=Xt+pa;const Ea=i.getTextWidth(Yt),Me=i.getTextWidth(`${he.value}`),Lt=I;i.text(Yt,Lt,p);const xe=Ea+Lt;i.text(`${he.value}`,xe,p),i.line(xe,p+2,xe+Me,p+2),p=p+10,X.value=I;const Oe="DripEdge Material: ",at="DripEdge Size: ";console.log(Z,Ce);const me=a(((St=Z.$state.dripinput[0])==null?void 0:St.dripMaterial)||""),va=a(((It=Z.$state.dripinput[2])==null?void 0:It.dripMaterial)||"");console.log(me,va);const tl=i.getTextWidth(Oe),al=i.getTextWidth(`${me.value}`),Ja=I;i.text(Oe,Ja,p);const wa=tl+Ja;i.text(`${me.value}`,wa,p),i.line(wa,p+2,wa+al,p+2),p=p+10;const Za=i.getTextWidth(at),za=i.getTextWidth(`${va.value}`),ll=I;i.text(at,ll,p);const v=Za+ll;i.text(`${va.value}`,v,p),i.line(v,p+2,v+za,p+2),p=p+10;const ul=i.getTextWidth(da),z=i.getTextWidth(`${C.value}`),qa=X.value;i.text(da,qa,p);const ha=ul+12;i.text(`${C.value}`,ha,p),i.line(ha,p+2,ha+z,p+2),X.value=ha+z,p=p+10,X.value=I,i.setFontSize(12),i.getTextWidth(ge);const ra=i.getTextWidth(`${oe.value}`),Pa=X.value;i.text(ge,Pa,p),p=p+10,i.setFontSize(8.5),X.value=I-3,i.text(`${oe.value}`,X.value,p),i.setFontSize(12),i.line(ra,p+2,ra,p+2),p=p+10,i.setFontSize(10),i.getTextWidth(t);const sl=i.getTextWidth(`${Mt.value}`),vl=I;i.text(t,vl,p),p=p+10;const yt=I;i.setFontSize(10),i.text(Mt.value,yt,p),i.line(yt,p+2,yt+sl+70,p+2),p=p+10,X.value=I;const Ca=i.getTextWidth(`${m.value}`),ba=X.value;i.text(c,ba,p),p=p+7,X.value=I;const ka=X.value;i.text(m.value,ka,p),i.line(ka,p+2,ka+Ca+70,p+2),p=p+10;const Ra="LowSlope.pdf",ga=i.output("blob");(async(Ft,Da)=>{const de=Ft,_t=de;console.log(_t);const Ia=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${s.value}/${_t}`;try{const Nt=await fetch(Ia,{method:"PUT",headers:{"Content-Type":de.type},body:Da});Nt.ok?(T.value=Ia,alert("LowSlope File uploaded successfully!")):alert(`Failed to upload file. Status: ${Nt.status}`)}catch(Nt){console.error("Error uploading file:",Nt),alert("An error occurred while uploading the file.")}})(Ra,ga)}};return(h,I)=>(Xl(),Fl("div"))}},Is={__name:"Shingle",setup(K){var ke,Re;const{getUser:$}=Wl(),S=As(),w=Nl(),D=fl(),W=Ms(),x=Xs(),J=fl(),A=Fs(),Z=a(((Re=(ke=w.$state.permitapp[0])==null?void 0:ke.formdt)==null?void 0:Re.muniProc)||""),r=a(J.$state.roofList);let Ce=a(!1);const s=Tl(()=>{if(r.value.length===0)return"";for(let T=0;T<r.value.length;T++)r.value[T].item==="Asphalt Shingle"&&(console.log(r.value[T].item),Ce.value=!0,f())});Al(async()=>{await Ml(s).toBe(!0),console.log(s)});const f=()=>{var Be,ve,Se,Ie,Ve,re,be,De,H,h,I,p,Le,ye,ee,ut,vt,ht,gt,xt,u,mt,Tt,Wt,ft,kt,$t,Rt,Bt,V,St,It;if(W.$state.inputshingle.length===0)console.log("lenghth is zero");else{console.log(S,x);let Ut=a(!1),Vt=a(!1);S.$state.systeminput.length!==0&&(Vt=!0,console.log(Vt)),x.$state.polyinput.length!==0&&(Ut=!0,console.log(Ut));const o=new Rl({orientation:"portrait",unit:"mm",format:"a4",compress:!0}),he=179,i=725,rt=o.getPageInfo(1);rt.pageContext.mediaBox.topRightX;const ia=rt.pageContext.mediaBox.topRightY,g=a(0),Sa=a(0);var T=595.28-585.28,e=ia-i;g.value=T,Sa.value=e;const na=a((ve=(Be=w.$state.permitapp[0])==null?void 0:Be.formdt)==null?void 0:ve.address),bt=a((Ie=(Se=w.$state.permitapp[0])==null?void 0:Se.formdt)==null?void 0:Ie.muni),X=a(((re=(Ve=w.$state.permitapp[0])==null?void 0:Ve.formdt)==null?void 0:re.processNumber)||""),Va=a($.value[0].dba),_e=a(((De=(be=W.$state.inputshingle[0])==null?void 0:be.shingleData)==null?void 0:De.height)||""),Dt=a(((h=(H=W.$state.inputshingle[0])==null?void 0:H.shingleData)==null?void 0:h.slope)||""),Ot=a(((p=(I=W.$state.inputshingle[0])==null?void 0:I.shingleData)==null?void 0:p.deckType)||""),et=a(D.$state.roofList[0].dim1),Ht=a("");o.setGState(new o.GState({opacity:.8}));const Ue="Approved";o.setFontSize(18),o.setTextColor(150,150,150),o.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const Gt=new Image,At=new Image;Gt.src="/demo/images/officepaper.jpeg",At.src="/demo/images/logo.jpeg",o.addImage(At,"JPEG",10,0,50,30),o.addImage(Gt,"JPEG",0,0,210,297),o.setFontSize(15),o.setTextColor("green");var Ct=new Date,Qe=Ct.toLocaleDateString();o.text(Ue,10,270,{align:"left"});const Yt=o.getTextWidth(Ue);o.text("on: "+Qe,Yt+15,270),o.text(`${Z.value}`,10,280,{align:"left"});const jt=o.getTextWidth(`${Z.value}`);o.text(`${bt.value}`,jt+15,280);const Jt=()=>{o.setFontSize(10),o.setTextColor(0),o.text("The Shingle roof system and its components shall be installed in strict compliance  with the HVHZportions of Chapter 15 FBC, the HVHZ Roof Application Standards(RAS) 111 & 115, and the submitted MDC(NOA) Notice of Acceptance(s).The mePermit applicant agrees to comply with these installation requirements when obtaining this permit.",10,25,{maxWidth:"200"}),o.line(10,43,195,43)};o.setTextColor(0),o.circle(185,39,2,"FD"),o.text("I agree",165,40),Jt(),o.setFontSize(12);const Zt=[{category:"DBA",value:`${Va.value}`},{category:"Municipality",value:`${bt.value}`},{category:"Job Address",value:`${na.value}`},{category:"meProcess Number",value:`${X.value}`}];let da=10,ge=60,t=50;o.setFontSize(12),Zt.forEach((F,G)=>{const U=t+G*10;o.text(F.category,da,U),o.text(F.value,ge,U),o.getTextWidth(F.category);const Y=o.getTextWidth(F.value)*2;o.line(ge,U+2,ge+Y,U+2)}),o.setFontSize(12);const c="Roof Area: ",C="Decktype: ",oe="Mean Roof Height: ",Mt="Roof Slope: ",m=1;e=e+5;const l=o.getTextWidth(c),n=o.getTextWidth(`${et.value}`),qt=g.value;o.text(c,qt,e);const k=l+qt;o.text(`${et.value}`,k,e),o.line(k,e+2,k+n,e+2),g.value=k+n;const ie=o.getTextWidth(oe),Kt=o.getTextWidth(`${_e.value}`),ca=g.value+10;o.text(oe,ca,e);const d=ie+ca;o.text(`${_e.value}`,d,e),o.line(d,e+2,d+Kt,e+2),g.value=d+Kt;const Na=o.getTextWidth(Mt),tt=o.getTextWidth(`${Dt.value}`),Ae=g.value+10;o.text(Mt,Ae,e);const ne=Na+Ae;o.text(`${Dt.value}`,ne,e),o.line(ne,e+2,ne+tt,e+2),g.value=ne+tt,e=e+10;const Qt=o.getTextWidth(C),pa=o.getTextWidth(`${Ot.value}`),ua=T;o.text(C,ua,e);const Xt=Qt+ua;o.text(`${Ot.value}`,Xt,e),o.line(Xt,e+2,Xt+pa,e+2),e=e+10;const Ea="Shingle NOA Number: ",Me="Shingle Applicant: ",Lt="Shingle Material: ",xe="Shingle Description: ",Oe="Fastened (UDL)NOA: ",at="UDL NOA Applicant: ",me="Fastened UDL Material: ",va="UDL Description: ",tl="Perscriptive: ";console.log(W.$state.inputshingle[0]);const al=a(((ye=(Le=W.$state.inputshingle[0])==null?void 0:Le.shingleData)==null?void 0:ye.noa)||""),Ja=a((ut=(ee=W.$state.inputshingle[0])==null?void 0:ee.shingleData)==null?void 0:ut.applicant)||"",wa=a(((ht=(vt=W.$state.inputshingle[0])==null?void 0:vt.shingleData)==null?void 0:ht.material)||""),Za=a(((xt=(gt=W.$state.inputshingle[0])==null?void 0:gt.shingleData)==null?void 0:xt.description)||""),za=a(((mt=(u=W.$state.inputshingle[0])==null?void 0:u.shingleData)==null?void 0:mt.prescriptiveSelection)||""),ll=o.getTextWidth(tl),v=o.getTextWidth(`${za.value}`),ul=T;o.text(tl,ul,e);const z=ll+10;o.text(`${za.value}`,z,e),o.line(z,e+m,z+v,e+m),e=e+8;const qa="DripEdge Material: ",ha="DripEdge Size: ";console.log(A);const ra=a(((Tt=A.$state.dripinputshin[1])==null?void 0:Tt.dripShinMaterial)||""),Pa=a(((Wt=A.$state.dripinputshin[3])==null?void 0:Wt.dripShinMaterial)||"");console.log(ra,Pa);const sl=o.getTextWidth(qa),vl=o.getTextWidth(`${ra.value}`),yt=T;o.text(qa,yt,e);const Ca=sl+yt;o.text(`${ra.value}`,Ca,e),o.line(Ca,e+m,Ca+vl,e+m),e=e+10;const ba=o.getTextWidth(ha),ka=o.getTextWidth(`${Pa.value}`),Ra=T;o.text(ha,Ra,e);const ga=ba+Ra;o.text(`${Pa.value}`,ga,e),o.line(ga,e+m,ga+ka,e+m),e=e+10;const Ba=o.getTextWidth(Me),Ft=o.getTextWidth(`${Ja.value}`),Da=T;o.text(Me,Da,e);const de=Da+Ba;o.text(`${Ja.value}`,de,e),o.line(de,e+m,de+Ft,e+m),g.value=de+Ft;const _t=o.getTextWidth(Ea),Ia=o.getTextWidth(`${al.value}`),Nt=g.value+3;o.text(Ea,Nt,e);const Ka=_t+Nt;o.text(`${al.value}`,Ka,e),o.line(Ka,e+m,Ka+Ia,e+m),g.value=Ka+Ia,e=e+10;const ol=T,$l=o.getTextWidth(Lt),Qa=o.getTextWidth(`${wa.value}`);o.text(Lt,ol,e);const Ua=ol+$l;o.text(`${wa.value}`,Ua,e),o.line(Ua,e+m,Ua+Qa,e+m),g.value=Ua+Qa,e=e+10,console.log(g.value,he);const ea=o.getTextWidth(`${Za.value}`),Aa=o.getTextWidth(xe);g.value=Ua+Qa+ea+Aa+25,console.log(ea,Aa);const il=T;if(o.text(xe,il,e),ea>170){e=e+4;const G=T;o.text(`${Za.value}`,G,e),o.line(G,e+m,G+ea,e+m),e=e+8}else{const F=il+Aa;o.text(`${Za.value}`,F,e),o.line(F,e+m,F+ea,e+m),g.value=F+ea}if(e=e+10,console.log(x.$state.polyinput.length),x.$state.polyinput.length===0){const F="n/a",G="n/a",U="n/a",Y="n/a",Te=o.getTextWidth(Oe),te=o.getTextWidth(F),lt=T;o.text(Oe,lt,e);const ae=lt+Te;o.text(F,ae,e),o.line(ae,e+m,ae+te,e+m),g.value=ae+te,console.log(g.value);const ce=o.getTextWidth(at),Xe=o.getTextWidth(G),He=g.value+2;o.text(at,He,e);const le=He+ce;o.text(G,le,e),o.line(le,e+m,le+Xe,e+m),g.value=le+Xe,console.log(g.value),g.value>he&&(e=e+10);const Q=g.value+2,ta=o.getTextWidth(me),st=o.getTextWidth(U);o.text(me,Q,e);const _=Q+ta;o.text(U,_,e),o.line(_,e+m,_+st,e+m),g.value=_+st,console.log(g.value),e=e+10,console.log(g.value);const Fe=o.getTextWidth(va),ot=o.getTextWidth(Y),We=T,pe=We+ot;console.log(pe),o.text(va,We,e),pe>he&&print(pe);const q=We+Fe;o.text(Y,q,e),o.line(q,e+m,q+ot,e+m),g.value=q+ot,e=e+8}else{const F=a(x.$state.polyinput[0].polyData.noa),G=a(x.$state.polyinput[0].polyData.applicant),U=a(x.$state.polyinput[0].polyData.material),Y=a(x.$state.polyinput[0].polyData.description),Te=o.getTextWidth(Oe),te=o.getTextWidth(`${F.value}`),lt=T;o.text(Oe,lt,e);const ae=Te+10;o.text(`${F.value}`,ae,e),o.line(ae,e+m,ae+te,e+m),g.value=ae+te;const ce=o.getTextWidth(at),Xe=o.getTextWidth(`${G.value}`),He=g.value+2;o.text(at,He,e);const le=He+ce;o.text(`${G.value}`,le,e),o.line(le,e+m,le+Xe,e+m),g.value=le+Xe,e=e+10;const Q=T,ta=o.getTextWidth(me),st=o.getTextWidth(`${U.value}`);o.text(me,Q,e);const _=Q+ta;o.text(`${U.value}`,_,e),o.line(_,e+m,_+st,e+m),g.value=_+st,e=e+10,console.log(g.value);const Fe=o.getTextWidth(va),ot=o.getTextWidth(`${Y.value}`),We=T,pe=We+ot;console.log(pe),o.text("UDL Description:",We,e),pe>he&&print(pe);const q=We+Fe;o.text(`${Y.value}`,q,e),o.line(q,e+m,q+ot,e+m),g.value=q+ot,console.log(g.value),e=e+10}const Oa="Self Adhered NOA: ",Ha="S/A NOA Applicant: ",xa="S/A System F: ",ma="S/A Material: ",Ta="S/A Description: ";if(console.log(S.$state.systeminput.length),S.$state.systeminput.length===0){const F="n/a",G="n/a",U="n/a",Y="n/a",Te="n/a",te=o.getTextWidth(Oa),lt=o.getTextWidth(F),ae=T;o.text(Oa,ae,e);const ce=ae+te;o.text(F,ce,e),o.line(ce,e,ce+lt,e),g.value=ce+lt,console.log(g.value);const Xe=o.getTextWidth(Ha),He=o.getTextWidth(G),le=g.value+3;o.text(Ha,le,e);const Q=le+Xe;o.text(G,Q,e),o.line(Q,e+m,Q+He,e+m),g.value=Q+He,console.log(g.value);const ta=o.getTextWidth(xa),st=g.value+3,_=o.getTextWidth(U);o.text(xa,st,e);const Fe=st+ta;o.text(U,Fe,e),o.line(Fe,e+m,Fe+_,e+m),g.value=Fe+_,console.log(g.value),e=e+10;const ot=o.getTextWidth(ma),We=o.getTextWidth(Y),pe=T;o.text(ma,pe,e);const q=pe+ot;o.text(Y,q,e),o.line(q,e+m,q+We,e+m),g.value=q+We,console.log(g.value);const hl=o.getTextWidth(Ta),Ga=o.getTextWidth(Te),Ma=g.value+3;o.text(Ta,Ma,e);const Ge=Ma+hl;o.text(Te,Ge,e),o.line(Ge,e+m,Ge+Ga,e+m),g.value=Ge+Ga,console.log(g.value)}else{console.log("Entered sbs line 509",S.$state);const F=a((kt=(ft=S.$state.systeminput[0])==null?void 0:ft.systemData)==null?void 0:kt.noa),G=a((Rt=($t=S.$state.systeminput[0])==null?void 0:$t.systemData)==null?void 0:Rt.manufacturer),U=a(S.$state.systeminput.pdfSystemValue),Y=a((V=(Bt=S.$state.systeminput[0])==null?void 0:Bt.systemData)==null?void 0:V.material),Te=a((It=(St=S.$state.systeminput[0])==null?void 0:St.systemData)==null?void 0:It.description),te=o.getTextWidth(Oa),lt=o.getTextWidth(`${F.value}`),ae=T;o.text(Oa,ae,e);const ce=ae+te;o.text(`${F.value}`,ce,e),o.line(ce,e+m,ce+lt,e+m),g.value=ce+lt;const Xe=o.getTextWidth(Ha),He=o.getTextWidth(`${G.value}`),le=g.value+3;o.text(Ha,le,e);const Q=le+Xe;o.text(`${G.value}`,Q,e),o.line(Q,e+m,Q+He,e+m),g.value=Q+He,console.log(g.value);const ta=o.getTextWidth(xa),st=o.getTextWidth(`${U.value}`),_=g.value+3;o.text(xa,_,e);const Fe=_+ta;o.text(`${U.value}`,Fe,e),o.line(Fe,e+m,Fe+st,e+m),g.value=Fe+st,e=e+10,console.log(g.value);const ot=o.getTextWidth(ma),We=o.getTextWidth(`${Y.value}`),pe=T;o.text(ma,pe,e);const q=pe+ot;o.text(`${Y.value}`,q,e),o.line(q,e+m,q+We,e+m),g.value=q+We,g.value>he&&(e=e+10),console.log(g.value);const hl=o.getTextWidth(Ta),Ga=o.getTextWidth(`${Te.value}`),Ma=g.value+3;o.text(Ta,Ma,e);const Ge=Ma+hl;o.text(`${Te.value}`,Ge,e),o.line(Ge,e+m,Ge+Ga,e+m),g.value=Ge+Ga,g.value>=he&&(e=e+10),console.log(g.value)}const La="Shingle.pdf",ya=o.output("blob");(async(F,G)=>{const U=F;console.log(U);const Y=U;console.log(Y);const Te=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${Z.value}/${Y}`;try{const te=await fetch(Te,{method:"PUT",headers:{"Content-Type":U.type},body:G});te.ok?(Ht.value=Te,alert("Shingle File uploaded successfully!")):alert(`Failed to upload file. Status: ${te.status}`)}catch(te){console.error("Error uploading file:",te),alert("An error occurred while uploading the file.")}})(La,ya)}};return(T,e)=>(Xl(),Fl("div"))}},Us=hs(()=>{const K=a([]),$=gs(()=>K.value);function S(w){K.value.push(w)}return{tilenoa:K,getNumber:$,addNoa:S}}),Os={__name:"TileAdhesive",setup(K){const $=os(),S=is(),{getUser:w}=Wl(),{tileInputvalues:D}=Ns(),{savedTileinput:W}=Es(),x=Nl(),J=fl(),A=a(J.$state.roofList);Us();const Z=ws();let r=a(!1);const Ce=Tl(()=>{if(A.value.length===0)return"";for(let f=0;f<A.value.length;f++)A.value[f].item==="Adhesive Set Tile"&&(console.log(A.value[f].item),r.value=!0,s())});Al(async()=>{await Ml(Ce).toBe(!0)});const s=()=>{var Be,ve,Se,Ie,Ve,re,be,De,H,h,I,p,Le,ye,ee,ut,vt,ht,gt,xt,u,mt,Tt,Wt,ft,kt,$t,Rt,Bt,V,St,It,Ut,Vt,o,he,i,rt,ia,g,Sa,na,bt,X,Va,_e,Dt,Ot,et,Ht,Ue,Gt,At,Yt,jt,Jt,Zt,da,ge,t,c,C,oe,Mt,m;console.log(D,(ve=(Be=W[0])==null?void 0:Be.savedValues)==null?void 0:ve.paddySelection);const f=a(((Ie=(Se=W[0])==null?void 0:Se.savedValues)==null?void 0:Ie.paddySelection)||""),ke=a(!1),Re=a(!1);if(console.log(f.value),f.value==="single"?(ke.value=!0,console.log(ke.value)):(Re.value=!0,console.log(Re.value)),D[0].length===0)console.log("lenghth is zero");else{const l=new Rl({orientation:"portrait",unit:"mm",format:"a4",compress:!0});let n=a(!1),qt=a(!1);S.$state.tilesysEinput.length!==0&&(n=!0,console.log(n)),$.$state.tilefinput.length!==0&&(qt=!0,console.log(qt));const k=179,ie=725,Kt=l.getPageInfo(1);Kt.pageContext.mediaBox.topRightX;const ca=Kt.pageContext.mediaBox.topRightY,d=a(0),Na=a(0);var T=595.28-585.28,e=ca-ie;d.value=T,Na.value=e;const tt=ke.value===!0?a(((Ve=D[0])==null?void 0:Ve.tileValues[0].singlepaddyData)||""):a(((re=D[0])==null?void 0:re.tileValues[0].doublepaddyData)||"");console.log(tt.value);const Ae=a(((De=(be=W[0])==null?void 0:be.savedValues)==null?void 0:De.height)||""),ne=a(((h=(H=W[0])==null?void 0:H.savedValues)==null?void 0:h.slope)||"");console.log(x.$state.permitapp[0].muniNum);const Qt=a(((p=(I=W[0])==null?void 0:I.savedValues)==null?void 0:p.area)||""),pa=a(((ye=(Le=W[0])==null?void 0:Le.savedValues)==null?void 0:ye.Decktype)||""),ua=a(((ut=(ee=W[0])==null?void 0:ee.savedValues)==null?void 0:ut.perimeter)||""),Xt=a(((ht=(vt=x.$state.permitapp[0])==null?void 0:vt.formdt)==null?void 0:ht.address)||""),Ea=a(((xt=(gt=x.$state.permitapp[0])==null?void 0:gt.formdt)==null?void 0:xt.muni)||""),Me=a(((mt=(u=x.$state.permitapp[0])==null?void 0:u.formdt)==null?void 0:mt.muniProc)||""),Lt=a(((Wt=(Tt=x.$state.permitapp[0])==null?void 0:Tt.formdt)==null?void 0:Wt.processNumber)||""),xe=a(""),Oe=a(((ft=w.value[0])==null?void 0:ft.dba)||"");l.setGState(new l.GState({opacity:.8}));const at="Approved";l.setFontSize(24),l.setTextColor(150,150,150),l.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const me=new Image,va=new Image;me.src="/demo/images/officepaper.jpeg",va.src="/demo/images/logo.jpeg",l.addImage(va,"JPEG",5,0,50,30),l.addImage(me,"JPEG",0,0,210,297),l.setFontSize(18),l.setTextColor("green");var Ct=new Date,Qe=Ct.toLocaleDateString();l.text(at,10,270,{align:"left"});const tl=l.getTextWidth(at);l.text("on: "+Qe,tl+15,270),l.text(`${Me.value}`,10,280,{align:"left"});const al=l.getTextWidth(`${Me.value}`);l.text(`${Ea.value}`,al+15,280),l.setFontSize(12);const Ja=()=>{l.setFontSize(12),l.setTextColor(0),l.text("The tile roof system and its components shall be installed in strict compliance with the FBC 2023 HVHZ portions of Chapter 15, the HVHZ Tile Application Standards: RAS-119, RAS-120 & RAS-127 and the submitted MDC Notice of Acceptance(s). The mePermit applicant agrees to comply with these installation requirements when obtaining this permit.",10,25,{maxWidth:"200"}),l.line(10,41,195,41)};l.setTextColor(0),l.circle(185,38,2,"FD"),l.text("I agree",165,39),Ja(),l.setFontSize(12),l.setFontSize(12);const wa=[{category:"DBA",value:`${Oe.value}`},{category:"Municipality",value:`${Ea.value}`},{category:"Job Address",value:`${Xt.value}`},{category:"meProcess Number",value:`${Lt.value}`}];let Za=10,za=60,ll=50;l.setFontSize(12),wa.forEach((b,P)=>{const M=ll+P*10;l.text(b.category,Za,M),l.text(b.value,za,M),l.getTextWidth(b.category);const R=l.getTextWidth(b.value)*2;l.line(za,M+2,za+R,M+2)}),l.setFontSize(12);const v=2,z=90,qa="Roof Area: ",ha="DeckType: ",ra="Mean Roof Height: ",Pa="Roof Slope: ",sl="Roof Perimeter: ";d.value=T;const vl=l.getTextWidth(qa),yt=l.getTextWidth(`${Qt.value}`),Ca=d.value;l.text(qa,Ca,z);const ba=vl+Ca;l.text(`${Qt.value}`,ba,z),l.line(ba,z+v,ba+yt,z+v),d.value=ba+yt,console.log(e,z);const ka=l.getTextWidth(ra),Ra=l.getTextWidth(`${Ae.value}`),ga=d.value+10;l.text(ra,ga,z);const Ba=ka+ga;l.text(`${Ae.value}`,Ba,z),l.line(Ba,z+v,Ba+Ra,z+v),d.value=Ba+Ra;const Ft=l.getTextWidth(Pa),Da=l.getTextWidth(`${ne.value}`),de=d.value+10;l.text(Pa,de,z);const _t=Ft+de;l.text(`${ne.value}`,_t,z),l.line(_t,z+v,_t+Da,z+v),d.value=_t+Da;const Ia=l.getTextWidth(sl),Nt=l.getTextWidth(`${ua.value}`),Ka=d.value+10;l.text(sl,Ka,z);const ol=Ia+Ka;l.text(`${ua.value}`,ol,z),l.line(ol,z+v,ol+Nt,z+v),console.log(z,e),e=z+10;const $l=l.getTextWidth(ha),Qa=l.getTextWidth(`${pa.value}`),Ua=T;l.text(ha,Ua,e);const ea=$l+Ua;l.text(`${pa.value}`,ea,e),l.line(ea,e+v,ea+Qa,e+v),e=e+10;const Aa="Tile NOA Number: ",il="Tile Applicant: ",Oa="Tile Material: ",Ha="Tile Description: ",xa="Fastened Underlayment(UDL)NOA: ",ma="UDL NOA Applicant: ",Ta="Fastened UDL Material: ",La="Select System E: ",ya="Design psf: ",nl="Anchor Base Sheet: ",F="UDL Description: ",G="Select Underlayment: ",U="DripEdge Material: ",Y="DripEdge Size: ",Te=a(((kt=Z.$state.dripinputadt[4])==null?void 0:kt.dripTileMaterial)||""),te=a((($t=Z.$state.dripinputadt[6])==null?void 0:$t.dripTileMaterial)||""),lt=l.getTextWidth(U),ae=l.getTextWidth(`${Te.value}`),ce=T;l.text(U,ce,e);const Xe=lt+ce;l.text(`${Te.value}`,Xe,e),l.line(Xe,e+v,Xe+ae,e+v),e=e+10;const He=l.getTextWidth(Y),le=l.getTextWidth(`${te.value}`),Q=T;l.text(Y,Q,e);const ta=He+Q;l.text(`${te.value}`,ta,e),l.line(ta,e+v,ta+le,e+v),e=e+10,console.log(W);const st=a(((Bt=(Rt=W[0])==null?void 0:Rt.savedValues)==null?void 0:Bt.zoneone.mf1)||""),_=a(((St=(V=W[0])==null?void 0:V.savedValues)==null?void 0:St.zoneone.lambda1)||""),Fe=a(((Ut=(It=W[0])==null?void 0:It.savedValues)==null?void 0:Ut.zoneone.mg1)||""),ot=a(((o=(Vt=W[0])==null?void 0:Vt.savedValues)==null?void 0:o.zoneone.mr1)||""),We=a(((i=(he=W[0])==null?void 0:he.savedValues)==null?void 0:i.zoneone.zone1)||""),pe=a(((ia=(rt=W[0])==null?void 0:rt.savedValues)==null?void 0:ia.zonetwo.mf2)||""),q=a(((Sa=(g=W[0])==null?void 0:g.savedValues)==null?void 0:Sa.zonetwo.lambda2)||""),hl=a(((bt=(na=W[0])==null?void 0:na.savedValues)==null?void 0:bt.zonetwo.mg2)||""),Ga=a(((Va=(X=W[0])==null?void 0:X.savedValues)==null?void 0:Va.zonetwo.mr2)||""),Ma=a(((Dt=(_e=W[0])==null?void 0:_e.savedValues)==null?void 0:Dt.zonetwo.zone2)||""),Ge=a(((et=(Ot=W[0])==null?void 0:Ot.savedValues)==null?void 0:et.zonethree.mf3)||""),Sl=a(((Ue=(Ht=W[0])==null?void 0:Ht.savedValues)==null?void 0:Ue.zonethree.lambda3)||""),Vl=a(((At=(Gt=W[0])==null?void 0:Gt.savedValues)==null?void 0:At.zonethree.mg3)||""),rl=a((jt=(Yt=W[0])==null?void 0:Yt.savedValues)==null?void 0:jt.zonethree.mr3),bl=a(((Zt=(Jt=W[0])==null?void 0:Jt.savedValues)==null?void 0:Zt.zonethree.zone3)||""),El=a((ge=(da=W[0])==null?void 0:da.savedValues)==null?void 0:ge.prescriptiveSelection.selectedBasesheet),wl=l.getTextWidth(El.value);console.log(El,wl);const Bl=T;l.text(G,Bl,e+v);const dl=T;if(e=e+10,l.text(`${El.value}`,dl,e),l.line(dl,e+v,dl+wl,e+v),e=e+10,S.$state.tilesysEinput.length===0){const b="n/a",P="n/a",M="n/a",R="n/a",Ze=l.getTextWidth(xa),we=l.getTextWidth(b),qe=T;l.text(xa,qe,e);const dt=qe+Ze+2;l.text(b,dt,e),l.line(dt,e+v,dt+we,e+v),d.value=dt+we,console.log(d.value);const Ke=l.getTextWidth(ma),la=l.getTextWidth(P),ct=d.value+2;l.text(ma,ct,e);const pt=ct+Ke;l.text(P,pt,e),l.line(pt,e+v,pt+la,e+v),d.value=pt+la,console.log(d.value),d.value>k&&(e=e+10);const ze=d.value+2,sa=l.getTextWidth(Ta),oa=l.getTextWidth(M);l.text(Ta,ze,e);const fa=ze+sa;l.text(M,fa,e),l.line(fa,e+v,fa+oa,e+v),d.value=fa+oa,console.log(d.value),d.value>k&&(e=e+10),console.log(d.value);const zt=l.getTextWidth(F),el=l.getTextWidth(R),$a=T,Pt=$a+el;console.log(Pt),l.text(F,$a,e),Pt>k&&print(Pt);const Pe=$a+zt;l.text(R,Pe,e),l.line(Pe,e+v,Pe+el,e+v),d.value=Pe+el,e=e+10}else{const b=a(S.$state.tilesysEinput[0].systemDataE.noa),P=a(S.$state.tilesysEinput[0].systemDataE.manufacturer),M=a(S.$state.tilesysEinput[0].systemDataE.material),R=a(S.$state.tilesysEinput[0].systemDataE.systemSelected),Ze=a(S.$state.tilesysEinput[0].systemDataE.dP),we=a(S.$state.tilesysEinput[0].systemDataE.Anchor_Base),qe=a(S.$state.tilesysEinput[0].systemDataE.tileCap),dt=l.getTextWidth(xa),Ke=l.getTextWidth(`${b.value}`),la=T;l.text(xa,la,e);const ct=Wa+dt;l.text(`${b.value}`,ct,e),l.line(ct,e+v,ct+Ke,e+v),d.value=ct+Ke;const pt=l.getTextWidth(ma),ze=l.getTextWidth(`${P.value}`),sa=d.value+2;l.text(ma,sa,e);const oa=sa+pt;l.text(`${P.value}`,oa,e),l.line(oa,e+v,oa+ze,e+v);const fa=l.getTextWidth(`${M.value}`);d.value=oa+fa,e=e+10;const zt=T,el=l.getTextWidth(Ta),$a=l.getTextWidth(`${M.value}`);l.text(Ta,zt,e);const Pt=zt+el;l.text(`${M.value}`,Pt,e),l.line(Pt,e+v,Pt+$a,e+v),d.value=Pt+$a,d.value>k&&(e=e+10);const Pe=d.value+5,Cl=l.getTextWidth(La),cl=l.getTextWidth(`${R.value}`);l.text(La,Pe,e);const Ya=Pe+Cl;l.text(`${R.value}`,Ya,e),l.line(Ya,e+v,Ya+cl,e+v),d.value=Ya+cl,d.value>k&&(e=e+10);const Fa=l.getTextWidth(ya),Kl=l.getTextWidth(`${Ze.value}`),Ql=d.value+3;l.text(ya,Ql,e);const Ul=Ql+Fa;l.text(`${Ze.value}`,Ul,e),l.line(Ul,e+v,Ul+Kl,e+v),d.value=Ul+Kl,console.log(d.value),e=e+10,l.getTextWidth(nl);const Ll=l.getTextWidth(`${we.value}`),ns=T;l.text(nl,ns,e),e=e+10;const Ol=T;l.text(`${we.value}`,Ol,e),l.line(Ol,e+v,Ol+Ll,e+v),d.value=Ol+Ll,e=e+10;const ds=l.getTextWidth(F),yl=l.getTextWidth(`${qe.value}`),_l=T;l.text(F,_l,e);const Hl=_l+ds;l.text(`${qe.value}`,Hl,e),l.line(Hl,e+v,Hl+yl,e+v),d.value=Hl+yl,console.log(d.value),e=e+10}const Dl="Self Adhered NOA: ",gl="S/A NOA Applicant: ",xl="S/A System F: ",_a="S/A Material: ",aa="S/A Description: ";if($.$state.tilefinput.length===0){const b="n/a",P="n/a",M="n/a",R="n/a",Ze="n/a",we=l.getTextWidth(Dl),qe=l.getTextWidth(b),dt=T;l.text(Dl,dt,e);const Ke=dt+we;l.text(b,Ke,e),l.line(Ke,e+v,Ke+qe,e+v),d.value=Ke+qe,console.log(d.value);const la=l.getTextWidth(gl),ct=l.getTextWidth(P),pt=d.value+3;l.text(gl,pt,e);const ze=pt+la;l.text(P,ze,e),l.line(ze,e+v,ze+ct,e+v),d.value=ze+ct,console.log(d.value);const sa=l.getTextWidth(xl),oa=d.value+3,fa=l.getTextWidth(M);l.text(xl,oa,e);const zt=oa+sa;l.text(M,zt,e),l.line(zt,e+v,zt+fa,e+v),d.value=zt+fa,console.log(d.value),e=e+10;const el=l.getTextWidth(_a),$a=l.getTextWidth(R),Pt=T;l.text(_a,Pt,e);const Pe=Pt+el;l.text(R,Pe,e),l.line(Pe,e+v,Pe+$a,e+v),d.value=Pe+$a,console.log(d.value);const Cl=l.getTextWidth(aa),cl=l.getTextWidth(Ze),Ya=d.value+3;l.text(aa,Ya,e);const Fa=Ya+Cl;l.text(Ze,Fa,e),l.line(Fa,e+v,Fa+cl,e+v),d.value=Fa+cl,console.log(d.value)}else{console.log("Entered sbs line 455",$.$state);const b=a($.$state.tilefinput[0].systemData.noa),P=a($.$state.tilefinput[0].systemData.manufacturer),M=a($.$state.tilefinput[0].systemData.pressure),R=a($.$state.tilefinput[0].systemData.material),Ze=a($.$state.tilefinput[0].systemData.description),we=l.getTextWidth(Dl),qe=l.getTextWidth(`${b.value}`),dt=T;l.text(Dl,dt,e);const Ke=dt+we;l.text(`${b.value}`,Ke,e),l.line(Ke,e+v,Ke+qe,e+v),d.value=Ke+qe;const la=l.getTextWidth(gl),ct=l.getTextWidth(`${P.value}`),pt=d.value+3;l.text(gl,pt,e);const ze=pt+la;l.text(`${P.value}`,ze,e),l.line(ze,e+v,ze+ct,e+v),d.value=ze+ct,console.log(d.value);const sa=l.getTextWidth(xl),oa=l.getTextWidth(`${M.value}`),fa=d.value+3;l.text(xl,fa,e);const zt=fa+sa;l.text(`${M.value}`,zt,e),l.line(zt,e+v,zt+oa,e+v),d.value=zt+oa,e=e+10;const el=l.getTextWidth(_a),$a=l.getTextWidth(`${R.value}`),Pt=T;l.text(_a,Pt,e);const Pe=Pt+el;l.text(`${R.value}`,Pe,e),l.line(Pe,e+v,Pe+$a,e+v),d.value=Pe+$a,d.value>k&&(e=e+10);const Cl=l.getTextWidth(aa),cl=l.getTextWidth(`${Ze.value}`),Ya=d.value+3;l.text(aa,Ya,e);const Fa=Ya+Cl;l.text(`${Ze.value}`,Fa,e),l.line(Fa,e+v,Fa+cl,e+v),d.value=Fa+cl,d.value>=k&&(e=e+10),console.log(d.value)}e=e+10;const ml=a(tt.value.noa),zl=a((c=(t=W[0])==null?void 0:t.savedValues)==null?void 0:c.applicant),Pl=a((oe=(C=W[0])==null?void 0:C.savedValues)==null?void 0:oe.material),Xa=a((m=(Mt=W[0])==null?void 0:Mt.savedValues)==null?void 0:m.description),Zl=l.getTextWidth(il),Il=l.getTextWidth(`${zl.value}`),ql=T;l.text(il,ql,e);const N=ql+Zl;l.text(`${zl.value}`,N,e),l.line(N,e+v,N+Il,e+v),d.value=N+Il;const O=l.getTextWidth(Aa),E=l.getTextWidth(`${ml.value}`),B=d.value+3;l.text(Aa,B,e);const L=O+B;l.text(`${ml.value}`,L,e),l.line(L,e+v,L+E,e+v),e=e+10;const y=l.getTextWidth(`${Pl.value}`);d.value>k&&(e=e+10),d.value=L+y;const se=T,j=l.getTextWidth(Oa),Ye=l.getTextWidth(`${Pl.value}`);l.text(Oa,se,e);const Et=se+j;l.text(`${Pl.value}`,Et,e),l.line(Et,e+v,Et+Ye,e+v),e=e+5;const it=l.getTextWidth(`${Xa.value}`);d.value=Et+it,d.value>k&&(e=e+5),console.log(d.value,k),e=e+5;const ue=l.getTextWidth(`${Xa.value}`),Ne=l.getTextWidth(Ha);console.log(ue,Ne);const Wa=T;if(l.text(Ha,Wa,e),ue>220){e=e+4;const b=T;l.text(`${Xa.value}`,b,e),l.line(b,e+v,b+ue,e+v),d.value=b+ue,e=e+8}else{const b=Wa+Ne;l.text(`${Xa.value}`,b,e),l.line(b,e+v,b+ue,e+v),d.value=b+ue,e=e+5}e=e+10,l.setFontSize(12);const fe=new Image;fe.src="/demo/images/lambda.png",console.log(d.value,e);const nt=[["Zone 1:",`${We.value}`,"x",`${_.value}`,"- Mg:",`${Fe.value}`,"= Mr1:",`${ot.value}`,"NOA Mf:",`${st.value}`],["Zone 2:",`${Ma.value}`,"x",`${q.value}`,"- Mg:",`${hl.value}`,"= Mr2:",`${Ga.value}`,"NOA Mf:",`${pe.value}`],["Zone 3:",`${bl.value}`,"x",`${Sl.value}`,"- Mg:",`${Vl.value}`,"= Mr2:",`${rl.value}`,"NOA Mf:",`${Ge.value}`]];console.log(nt);let je=T-1,Ee=e;nt.forEach(b=>{let P=je;b.forEach(M=>{console.log(P,Ee),l.text(String(M),P,Ee),P+=18}),l.addImage(fe,"png",50,Ee-4,5,5),l.addImage(fe,"png",50,Ee-4,5,5),l.addImage(fe,"png",50,Ee-4,5,5),Ee+=5,console.log(P,Ee)});const wt="TileAdhesive.pdf",Je=l.output("blob");(async(b,P)=>{const M=b,R=M;console.log(R);const Ze=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${Me.value}/${R}`;try{const we=await fetch(Ze,{method:"PUT",headers:{"Content-Type":M.type},body:P});we.ok?(xe.value=Ze,alert("TileAdhesive File uploaded successfully!")):alert(`Failed to upload file. Status: ${we.status}`)}catch(we){console.error("Error uploading file:",we),alert("An error occurred while uploading the file.")}})(wt,Je)}};return(f,ke)=>(Xl(),Fl("div"))}};function Hs(){const K=a(),$=a([]);let S=a([]);const w=zs(),D=a(),W=a("");let x="https://2dz45lw4aeav6valksiiquuwqq0ejsio.lambda-url.us-east-1.on.aws/";const{execute:J,then:A,data:Z}=ls(x,{method:"GET"},{immediate:!1}),r=Jl({noa:"",manufacturer:"",material:"",description:"",Table2:[],Table3:[],expiration_date:"",resistance:[],selection:"",select_tile:[],tile_map:[],table2_map:[],two_ten_d_RS_Nails:null,one_number_eight_screw:null,two_number_eight_screw:null,mechanicaltilefastener:[],fastenerValues:[],height:null,area:null,slope:null,perimeter:null,decktype:null});function Ce(f){K.value=f,console.log(K.value),D.value=Number(K.value),s()}const s=async()=>{try{const f=await J({params:{NOA:D.value}}).then(ke=>($.value=Z.value,console.log(Z.value),$.value));console.log(f.length),f.length===0||(console.log($.value),r.noa=$.value[0].NOA,r.manufacturer=$.value[0].applicant,r.material=$.value[0].material,r.selection=$.value[0].AdhesiveMaterials,r.description=$.value[0].description,r.select_tile=$.value[0].Select_Tile,r.tile_map=$.value[0].Tile_Map,r.table2_map=$.value[0].Table2_Map,r.Table2=$.value[0].Table2,r.Table3=$.value[0].Table3,r.resistance=$.value[0].Resistance,r.expiration_date=$.value[0].expiration_date,r.two_ten_d_RS_Nails=$.value[0].two_ten_d_RS_Nails,r.one_number_eight_screw=$.value[0].one_number_eight_screw,r.two_number_eight_screw=$.value[0].two_number_eight_screw,r.mechanicaltilefastener=$.value[0].mechanicaltilefastener,r.fastenerValues=$.value[0].fastenerValues,w.addNoa(r),console.log(r,"System added"))}catch(f){console.log("Error, fectching data",f)}return S};return{input:K,fetchData:s,takeMechInput:Ce,noaNum:$,error:W,results:S,...xs(r),mechStore:w}}const Gs={__name:"TileMechanical",setup(K){const{getUser:$}=Wl(),S=a(!1),w=Nl(),D=fl(),W=a(D.$state.roofList),{mechStore:x}=Hs(),J=os(),A=is(),Z=Ps(),r=Tl(()=>{if(W.value.length===0)return"";for(let s=0;s<W.value.length;s++)W.value[s].item==="Mechanical Fastened Tile"&&(console.log(W.value[s].item),S.value=!0,Ce())});Al(async()=>{await Ml(r).toBe(!0),console.log(r)});const Ce=()=>{var T,e,Ct,Qe,Be,ve,Se,Ie,Ve,re,be,De,H,h,I,p,Le,ye,ee,ut,vt,ht,gt,xt,u,mt,Tt,Wt,ft,kt,$t,Rt,Bt,V,St,It,Ut,Vt,o,he,i,rt,ia,g,Sa,na,bt,X,Va,_e,Dt,Ot,et,Ht,Ue,Gt,At,Yt,jt,Jt;if(x.tilemech.value.length===0)console.log("lenghth is   zero");else{let Zt=a(!1),da=a(!1),ge=a(!1);((e=(T=x.tilemech.value[0])==null?void 0:T.Table2)==null?void 0:e.content)==="multiple"&&(ge=!0),A.$state.tilesysEinput.length!==0&&(Zt=!0,console.log(Zt,A)),J.$state.tilefinput.length!==0&&(da=!0,console.log(da));const t=new Rl({orientation:"portrait",unit:"mm",format:"a4",compress:!0});console.log((Ct=x.tilemech.value[0])==null?void 0:Ct.Table2);const c=1,C=90,oe=179,Mt=725,m=t.getPageInfo(1);console.log(m),m.pageContext.mediaBox.topRightX;const l=m.pageContext.mediaBox.topRightY,n=a(0),qt=a(0);var s=l-Mt,f=595.28-585.28;n.value=f,qt.value=s,console.log(w.$state.permitapp),console.log(x.tilemech.value[0]);const k=a(((Qe=x.tilemech.value[0])==null?void 0:Qe.height)||"N/A"),ie=a(((Be=x.tilemech.value[0])==null?void 0:Be.slope)||"N/A"),Kt=a(((ve=x.tilemech.value[0])==null?void 0:ve.decktype)||"N/A"),ca=a(((Se=x.tilemech.value[0])==null?void 0:Se.perimeter)||"N/A");a((Ve=(Ie=A.$state.tilesysEinput[0])==null?void 0:Ie.systemDataE)==null?void 0:Ve.prescriptiveSelection),console.log(x.tilemech.value[0].prescriptiveSelection);const d=a(((re=x.tilemech.value[0])==null?void 0:re.prescriptiveSelection)||"N/A"),Na=a(((be=x.tilemech.value[0])==null?void 0:be.area)||""),tt=a(((H=(De=w.$state.permitapp[0])==null?void 0:De.formdt)==null?void 0:H.address)||""),Ae=a(((I=(h=w.$state.permitapp[0])==null?void 0:h.formdt)==null?void 0:I.muni)||"");a(((Le=(p=w.$state.permitapp[0])==null?void 0:p.formdt)==null?void 0:Le.processNumber)||"");const ne=a(((ee=(ye=w.$state.permitapp[0])==null?void 0:ye.formdt)==null?void 0:ee.muniProc)||""),Qt=a(((ut=Z.$state.dripinputmecht[5])==null?void 0:ut.dripMTileMaterial)||""),pa=a(((vt=Z.$state.dripinputmecht[7])==null?void 0:vt.dripMTileMaterial)||"");console.log(x.tilemech.value[0]),s=s+10;const ua=a(((ht=x.tilemech.value[0])==null?void 0:ht.mf1)||""),Xt=a(((gt=x.tilemech.value[0])==null?void 0:gt.lambda1)||""),Ea=a(((xt=x.tilemech.value[0])==null?void 0:xt.mg1)||""),Me=a(((u=x.tilemech.value[0])==null?void 0:u.mr1)||""),Lt=a(((mt=x.tilemech.value[0])==null?void 0:mt.zoneone)||""),xe=a(((Tt=x.tilemech.value[0])==null?void 0:Tt.mf2)||""),Oe=a(((Wt=x.tilemech.value[0])==null?void 0:Wt.lambda2)||""),at=a(((ft=x.tilemech.value[0])==null?void 0:ft.mg2)||""),me=a(((kt=x.tilemech.value[0])==null?void 0:kt.mr2)||""),va=a((($t=x.tilemech.value[0])==null?void 0:$t.zonetwo)||""),tl=a(((Rt=x.tilemech.value[0])==null?void 0:Rt.mf3)||""),al=a(((Bt=x.tilemech.value[0])==null?void 0:Bt.lambda3)||""),Ja=a(((V=x.tilemech.value[0])==null?void 0:V.mg3)||""),wa=a(x.tilemech.value[0].mr3||""),Za=a(((St=x.tilemech.value[0])==null?void 0:St.zonethree)||""),za=a(""),ll=a($.value[0].dba);t.setGState(new t.GState({opacity:.8}));const v="Approved";t.setFontSize(24),t.setTextColor(150,150,150),t.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const ul=new Image,z=new Image,qa=new Image;ul.src="/demo/images/officepaper.jpeg",z.src="/demo/images/logo.jpeg",qa.src="/demo/images/lambda.png",t.addImage(z,"JPEG",10,0,50,30),t.addImage(ul,"JPEG",0,0,210,297),t.setFontSize(15),t.setTextColor("green");var ke=new Date,Re=ke.toLocaleDateString();t.text(v,10,270,{align:"left"});const ha=t.getTextWidth(v);t.text("on: "+Re,ha+15,270),t.text(`${ne.value}`,10,280,{align:"left"});const ra=t.getTextWidth(`${ne.value}`);t.text(`${Ae.value}`,ra+15,280);const Pa=()=>{t.setFontSize(12),t.setTextColor(0),t.text("The tile roof system and its components shall be installed in strict compliance with the FBC 2023 HVHZ portions of Chapter 15, the HVHZ Tile Application Standards: RAS-119, RAS-120 & RAS-127 and the submitted MDC Notice of Acceptance(s).",10,29,{maxWidth:"200"}),t.line(10,41,195,41)};t.setTextColor(0),t.circle(189,38,2,"FD"),t.text("I agree",165,39),Pa(),t.setFontSize(12);const sl=[{category:"DBA",value:`${ll.value}`},{category:"Municipality",value:`${Ae.value}`},{category:"Job Address",value:`${tt.value}`},{category:"Process Number",value:`${ne.value}`}];let vl=10,yt=60,Ca=50;t.setFontSize(12),sl.forEach((N,O)=>{const E=Ca+O*10;t.text(N.category,vl,E),t.text(N.value,yt,E),t.getTextWidth(N.category);const B=t.getTextWidth(N.value)*2;t.line(yt,E+2,yt+B,E+2)}),t.setFontSize(12),console.log(s);const ba="Roof Perimeter: ",ka=t.getTextWidth("Roof Area: "),Ra=t.getTextWidth(`${Na.value}`);t.text("Roof Area:",f,C);const ga=ka+10;t.text(`${Na.value}`,ga,C),t.line(ga,C+c,ga+Ra,C+c),n.value=ka+Ra,console.log(n.value);const Ba=t.getTextWidth("Mean Roof Height:"),Ft=t.getTextWidth(`${k.value}`),Da=n.value+15;t.text("Mean Roof Height:",Da,C);const de=Ba+45;t.text(`${k.value}`,de,C),t.line(de,C+c,de+Ft,C+c),n.value=Ba+Ft,console.log(n.value),t.getTextWidth("Roof Slope: ");const _t=t.getTextWidth(`${ie.value}`),Ia=n.value+50;t.text("Roof Slope:",Ia,C);const Nt=Ia+25;t.text(`${ie.value}`,Nt,C),t.line(Nt,C+c,Nt+_t,C+c),n.value=n.value+Nt;const Ka=t.getTextWidth(ba),ol=t.getTextWidth(`${ca.value}`),$l=n.value-30;t.text(ba,$l,C);const Qa=Ka+$l+2;t.text(`${ca.value}`,Qa,C),t.line(Qa,C+c,Qa+ol,C+c),s=C+30;const Ua=t.getTextWidth("Deck Type"),ea=t.getTextWidth(`${Kt.value}`);n.value=n.value+Ua-30,t.text("Decktype:",n.value,s);const Aa=n.value+20;t.text(`${Kt.value}`,Aa,s),t.line(Aa,s+c,Aa+ea,s+c),n.value=Aa+ea;const il="Tile NOA Number: ",Oa="Tile Applicant: ",Ha="Tile Material: ",xa="Tile Type: ",ma="Tile Description: ",Ta="Select Mechanical Tile Fastener: ",La="Fastened (UDL) NOA: ",ya="(UDL) NOA Applicant: ",nl="Fastened (UDL) Material: ",F="Select System E: ",G="Design psf: ",U="Anchor Base Sheet: ",Y="(UDL) Description: ",Te="Prescriptive: ",te="DripEdge Material: ",lt="DripEdge Size: ";console.log(x.tilemech.value[0]),console.log(x.tilemech.value[0]);const ae=a((It=x.tilemech.value[0])==null?void 0:It.noa),ce=a((Ut=x.tilemech.value[0])==null?void 0:Ut.manufacturer),Xe=a((Vt=x.tilemech.value[0])==null?void 0:Vt.material),He=ge===!0?a((o=x.tilemech.value[0])==null?void 0:o.tiletype):a((he=x.tilemech.value[0])==null?void 0:he.material),le=ge!==!0?a((i=x.tilemech.value[0])==null?void 0:i.savedfastener):a((rt=x.tilemech.value[0])==null?void 0:rt.description),Q=ge===!0?a((ia=x.tilemech.value[0])==null?void 0:ia.savedfastener):a((g=x.tilemech.value[0])==null?void 0:g.description);console.log((Sa=x.tilemech.value[0])==null?void 0:Sa.description,(na=x.tilemech.value[0])==null?void 0:na.savedfastener),t.getTextWidth(Te);const ta=t.getTextWidth(`${d.value}`),st=f;t.text(Te,st,s-15);const _=f;s=s-9,t.text(`${d.value}`,_,s),t.line(_,s+c,_+ta,s+c),s=s+10;const Fe=t.getTextWidth(te),ot=t.getTextWidth(`${Qt.value}`),We=f;t.text(te,We,s);const pe=Fe+We;t.text(`${Qt.value}`,pe,s),t.line(pe,s+c,pe+ot,s+c),s=s+8;const q=t.getTextWidth(lt),hl=t.getTextWidth(`${pa.value}`),Ga=f;t.text(lt,Ga,s);const Ma=q+Ga;if(t.text(`${pa.value}`,Ma,s),t.line(Ma,s+c,Ma+hl,s+c),s=s+10,t.setFontSize(12),A.$state.tilesysEinput.length===0){const N="n/a",O="n/a",E="n/a",B="n/a",L=t.getTextWidth(La),y=t.getTextWidth(N),se=f;t.text(La,se,s);const j=se+L;t.text(N,j,s),t.line(j,s+c,j+y,s+c),n.value=j+y,console.log(n.value);const Ye=t.getTextWidth(ya),Et=t.getTextWidth(O),it=n.value+2;t.text(ya,it,s);const ue=it+Ye;t.text(O,ue,s),t.line(ue,s+c,ue+Et,s+c),n.value=ue+Et,console.log(n.value),n.value>oe&&(s=s+10);const Ne=n.value+2,Wa=t.getTextWidth(nl),fe=t.getTextWidth(E);t.text(nl,Ne,s);const nt=Ne+Wa;t.text(E,nt,s),t.line(nt,s+c,nt+fe,s+c),n.value=nt+fe,console.log(n.value),n.value>oe&&(s=s+10),s=s+10;const je=t.getTextWidth(Y),Ee=t.getTextWidth(B),wt=f,Je=wt+Ee;console.log(Je),t.text(Y,wt,s),Je>oe&&print(Je);const $e=wt+je;t.text(B,$e,s),t.line($e,s+c,$e+Ee,s+c),n.value=$e+Ee,s=s+10}else{console.log(A.$state.tilesysEinput);const N=a(((X=(bt=A.$state.tilesysEinput[0])==null?void 0:bt.systemDataE)==null?void 0:X.noa)||"N/A"),O=a(((_e=(Va=A.$state.tilesysEinput[0])==null?void 0:Va.systemDataE)==null?void 0:_e.manufacturer)||"N/A"),E=a(((Ot=(Dt=A.$state.tilesysEinput[0])==null?void 0:Dt.systemDataE)==null?void 0:Ot.material)||"N/A"),B=a(((Ht=(et=A.$state.tilesysEinput[0])==null?void 0:et.systemDataE)==null?void 0:Ht.systemSelected)||"N/A"),L=a(((Gt=(Ue=A.$state.tilesysEinput[0])==null?void 0:Ue.systemDataE)==null?void 0:Gt.dP)||"N/A"),y=a(((Yt=(At=A.$state.tilesysEinput[0])==null?void 0:At.systemDataE)==null?void 0:Yt.Anchor_Base)||"N/A"),se=a(((Jt=(jt=A.$state.tilesysEinput[0])==null?void 0:jt.systemDataE)==null?void 0:Jt.tileCap)||"N/A"),j=t.getTextWidth(La),Ye=t.getTextWidth(`${N.value}`),Et=f;t.text(La,Et,s);const it=Et+j;t.text(`${N.value}`,it,s),t.line(it,s+c,it+Ye,s+c),n.value=it+Ye;const ue=t.getTextWidth(ya),Ne=t.getTextWidth(`${O.value}`),Wa=n.value+2;t.text(ya,Wa,s);const fe=Wa+ue;t.text(`${O.value}`,fe,s),t.line(fe,s+c,fe+Ne,s+c);const nt=t.getTextWidth(`${E.value}`);n.value=fe+nt,s=s+10;const je=f,Ee=t.getTextWidth(nl),wt=t.getTextWidth(`${E.value}`);t.text(nl,je,s);const Je=je+Ee;t.text(`${E.value}`,Je,s),t.line(Je,s+c,Je+wt,s+c),n.value=Je+wt,n.value>oe&&(s=s+10);const $e=n.value+5,b=t.getTextWidth(F),P=t.getTextWidth(`${B.value}`);t.text(F,$e,s);const M=$e+b;t.text(`${B.value}`,M,s),t.line(M,s+c,M+P,s+c),n.value=M+P,n.value>oe&&(s=s+10);const R=t.getTextWidth(G),Ze=t.getTextWidth(`${L.value}`),we=n.value+3;t.text(G,we,s);const qe=we+R;t.text(`${L.value}`,qe,s),t.line(qe,s+c,qe+Ze,s+c),n.value=qe+Ze,console.log(n.value),s=s+10,t.getTextWidth(U);const dt=t.getTextWidth(`${y.value}`),Ke=f;t.text(U,Ke,s),s=s+10;const la=f;t.text(`${y.value}`,la,s),t.line(la,s+c,la+dt,s+c),n.value=la+dt,s=s+10;const ct=t.getTextWidth(Y),pt=t.getTextWidth(`${se.value}`),ze=f;t.text(Y,ze,s);const sa=ze+ct;t.text(`${se.value}`,sa,s),t.line(sa,s+c,sa+pt,s+c),n.value=sa+pt,console.log(n.value),s=s+10}const Ge="Self Adhered NOA: ",Sl="S/A NOA Applicant: ",Vl="S/A System F: ",rl="S/A Material: ",bl="S/A Description: ";if(J.$state.tilefinput.length===0){const N="n/a",O="n/a",E="n/a",B="n/a",L="n/a",y=t.getTextWidth(Ge),se=t.getTextWidth(N),j=f;t.text(Ge,j,s);const Ye=j+y;t.text(N,Ye,s),t.line(Ye,s+c,Ye+se,s+c),n.value=Ye+se,console.log(n.value);const Et=t.getTextWidth(Sl);t.getTextWidth(O);const it=n.value+3,ue=t.getTextWidth(E);t.text(Sl,it,s);const Ne=it+Et;t.text(O,Ne,s),t.line(Ne,s+c,Ne+ue,s+c),n.value=Ne+ue,console.log(n.value);const Wa=t.getTextWidth(Vl),fe=t.getTextWidth(E),nt=n.value+3;t.text(Vl,nt,s);const je=nt+Wa;t.text(E,je,s),t.line(je,s+c,je+fe,s+c),n.value=je+fe,console.log(n.value),s=s+10;const Ee=t.getTextWidth(rl),wt=t.getTextWidth(B),Je=f;t.text(rl,Je,s);const $e=Je+Ee;t.text(B,$e,s),t.line($e,s+c,$e+wt,s+c),n.value=$e+wt,console.log(n.value);const b=t.getTextWidth(bl),P=t.getTextWidth(L),M=n.value+3;t.text(bl,M,s);const R=M+b;t.text(L,R,s),t.line(R,s+c,R+P,s+c),n.value=R+P,console.log(n.value)}else{console.log("Entered sbs line 455",J.$state);const N=a(J.$state.tilefinput[0].systemData.noa),O=a(J.$state.tilefinput[0].systemData.manufacturer),E=a(J.$state.tilefinput[0].systemData.pressure),B=a(J.$state.tilefinput[0].systemData.material),L=a(J.$state.tilefinput[0].systemData.description),y=t.getTextWidth(Ge),se=t.getTextWidth(`${N.value}`),j=f;t.text(Ge,j,s);const Ye=j+y;t.text(`${N.value}`,Ye,s),t.line(Ye,s+c,Ye+se,s+c),n.value=Ye+se;const Et=t.getTextWidth(Sl),it=t.getTextWidth(`${O.value}`),ue=n.value+3;t.text(Sl,ue,s);const Ne=ue+Et;t.text(`${O.value}`,Ne,s),t.line(Ne,s+c,Ne+it,s+c),n.value=Ne+it,console.log(n.value);const Wa=t.getTextWidth(Vl),fe=t.getTextWidth(`${E.value}`),nt=n.value+3;t.text(Vl,nt,s);const je=nt+Wa;t.text(`${E.value}`,je,s),t.line(je,s+c,je+fe,s+c),n.value=je+fe,s=s+10;const Ee=t.getTextWidth(rl),wt=t.getTextWidth(`${B.value}`),Je=f;t.text(rl,Je,s);const $e=Je+Ee;t.text(`${B.value}`,$e,s),t.line($e,s+c,$e+wt,s+c),n.value=$e+wt,n.value>oe&&(s=s+10);const b=t.getTextWidth(bl),P=t.getTextWidth(`${L.value}`),M=n.value+3;t.text(bl,M,s);const R=M+b;t.text(`${L.value}`,R,s),t.line(R,s+c,R+P,s+c),n.value=R+P,n.value>=oe&&(s=s+10),console.log(n.value)}s=s+10;const El=t.getTextWidth(`${ce.value}`),wl=t.getTextWidth(Oa),Bl=f;t.text(Oa,Bl,s);const dl=Bl+wl;t.text(`${ce.value}`,dl,s),t.line(dl,s+c,dl+El,s+c),n.value=dl+wl+10;const Dl=t.getTextWidth(il),gl=t.getTextWidth(`${ae.value}`),xl=n.value+Dl;t.text(il,xl,s);const _a=xl+38;t.text(`${ae.value}`,_a,s),t.line(_a,s+c,_a+gl,s+c),n.value=_a+gl,s=s+10;const aa=s;if(ge===!0){const N=t.getTextWidth(xa),O=t.getTextWidth(`${He.value}`),E=f;t.text(xa,E,aa);const B=E+N;n.value=N+O,t.text(`${He.value}`,B,aa),t.line(B,aa+c,B+O,aa+c),s=s+10;const L=t.getTextWidth(Ta),y=t.getTextWidth(`${Q.value}`);console.log(Q.value),n.value=f;const se=n.value;t.text(Ta,se,s),console.log(n.value);const j=se+L;t.text(`${Q.value}`,j,s),t.line(j,s+c,j+y,s+c),n.value=j+y,s=s+10}else{const N=t.getTextWidth(Ha),O=t.getTextWidth(`${Xe.value}`);n.value=f,console.log(Xe.value);const E=n.value;t.text(Ha,E,aa);const B=E+N;t.text(`${Xe.value}`,B,aa),t.line(B,aa+c,B+O,aa+c),n.value=N+O+20,console.log(n.value);const L=t.getTextWidth(ma),y=t.getTextWidth(`${le.value}`),se=n.value+10;t.text(ma,se,s);const j=se+L;t.text(`${le.value}`,j,s),t.line(j,s+c,j+y,s+c),n.value=j+y}s=s+10;const ml=new Image;ml.src="/demo/images/lambda.png";const zl=[["Zone 1:",`${Lt.value}`,"x",`${Xt.value}`,"- Mg:",`${Ea.value}`,"= Mr1:",`${Me.value}`,"NOA Mf:",`${ua.value}`],["Zone 2:",`${va.value}`,"x",`${Oe.value}`,"- Mg:",`${at.value}`,"= Mr2:",`${me.value}`,"NOA Mf:",`${xe.value}`],["Zone 3:",`${Za.value}`,"x",`${al.value}`,"- Mg:",`${Ja.value}`,"= Mr2:",`${wa.value}`,"NOA Mf:",`${tl.value}`]];console.log(zl);let Pl=f-1,Xa=s;zl.forEach(N=>{let O=Pl;N.forEach(E=>{t.text(String(E),O,Xa),O+=18}),t.addImage(ml,"png",50,Xa-4,5,5),t.addImage(ml,"png",50,Xa-4,5,5),t.addImage(ml,"png",50,Xa-4,5,5),Xa+=5,Xa+=5}),s=s+20;const Zl="MechanicalTile.pdf",Il=t.output("blob");(async(N,O)=>{const E=N,B=E;console.log(B);const L=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${ne.value}/${B}`;try{const y=await fetch(L,{method:"PUT",headers:{"Content-Type":E.type},body:O});y.ok?(za.value=L,alert("Mechanical File uploaded successfully!")):alert(`Failed to upload file. Status: ${y.status}`)}catch(y){console.error("Error uploading file:",y),alert("An error occurred while uploading the file.")}})(Zl,Il)}};return(s,f)=>(Xl(),Fl("div"))}},Ys=K=>(Ss("data-v-4e5173d8"),K=K(),Vs(),K),js={class:"card"},Js=Ys(()=>ja("p",null,"The roof systems you selected",-1)),Zs={class:"rounded border border-surface-200 dark:border-surface-700 p-6 bg-surface-0 dark:bg-surface-900"},qs={__name:"Summarys",setup(K){var Ve,re,be,De,H;const{accountUsers:$}=Wl(),S=bs();a(!1);const w=a(!1);let D=a(!1),W=a(!1),x=a(!1),J=a(!1),A=a(!1);const Z=a("");a(""),a("");const r=Nl(),Ce=fl(),s=a(Ce.$state.roofList);a(((re=(Ve=r.$state.permitapp[0])==null?void 0:Ve.formdt)==null?void 0:re.processNumber)||"");const f=ss(),ke=a(f.$state.generalpdfinput),Re=a(((De=(be=r.$state.permitapp[0])==null?void 0:be.formdt)==null?void 0:De.muniProc)||"");a(!1),a(((H=S.$state.countinput[0])==null?void 0:H.countData)||""),a(!1),a(!1),a(!1),a(!1);const{confirmResponse:T,resp:e}=Wl(),{getSignpdf:Ct}=ks();function Qe(){$.value.forEach((h,I)=>{Z.value=h.dba})}const Be=Tl(()=>{Ct(Re.value),w.value=!0,console.log(e,T),console.log(Re.value)}),ve=Jl({dim:"",item:""}),Se=Tl(()=>{if(s.value.length===0)return"";for(let h=0;h<s.value.length;h++)s.value[h].item==="Asphalt Shingle"?(J.value=!0,ve.dim=s.value[h].dim1,ve.item=s.value[h].item):s.value[h].item==="Low Slope"?A.value=!0:s.value[h].item==="Adhesive Set Tile"?(console.log(s.value[h].item),W.value=!0):s.value[h].item==="Mechanical Fastened Tile"?(console.log(s.value[h].item),x.value=!0):ke.value.length!==1&&(D.value=!0),console.log(s.value)});ms(()=>{Qe()});const Ie=a([{status:"RoofSystems",date:"15/10/2020 10:30",icon:"pi pi-cog",color:"#9C27B0",image:"/src/assets/img/roofing_tile.jpg"},{status:"Processing",date:"15/10/2020 14:00",icon:"pi pi-cog",color:"#673AB7"},{status:ve.item,date:"15/10/2020 14:00",icon:"pi pi-cog",color:"#673AB7"}]);return Ts(Qe,Se,Be),Al(async()=>{await Ml(Se).toBe(!0)}),(h,I)=>{const p=us,Le=ps,ye=cs;return Xl(),Fl(Ws,null,[ja("div",js,[pl(ye,{value:Ie.value,align:"alternate",class:"customized-timeline",style:{"margin-top":"50px"}},{marker:kl(ee=>[ja("span",{class:"flex w-8 h-8 items-center justify-center text-white rounded-full z-10 shadow-sm",style:fs({backgroundColor:ee.item.color})},[ja("i",{class:$s(ee.item.icon)},null,2)],4)]),content:kl(ee=>[pl(Le,{class:"mt-4"},{title:kl(()=>[es(ts(ee.item.status),1)]),subtitle:kl(()=>[es(ts(ee.item.date),1)]),content:kl(()=>[Js,pl(p,{label:"Read more",text:""})]),_:2},1024)]),_:1},8,["value"])]),ja("div",Zs,[ja("div",null,[pl(Rs)]),Gl(ja("div",null,[pl(Is)],512),[[Yl,jl(J)]]),Gl(ja("div",null,[pl(Os)],512),[[Yl,jl(W)]]),Gl(ja("div",null,[pl(Gs)],512),[[Yl,jl(x)]]),Gl(ja("div",null,[pl(Bs)],512),[[Yl,jl(A)]])])],64)}}},xo=Cs(qs,[["__scopeId","data-v-4e5173d8"]]);export{xo as default};
