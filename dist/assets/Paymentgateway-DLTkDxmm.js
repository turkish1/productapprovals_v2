import{s as k}from"./index-kMDKeC2S.js";import{q as C,r as a,o as P,c as g,d as x,f as e,g as p,aa as U,e as q,y as z,ap as h,t as N,z as B}from"./index-BFqjGFLr.js";import{u as E}from"./useAxios-C1sQ5HoP.js";import{u as M}from"./use-signpdf-kkQoTLK2.js";import{u as T}from"./permitapp-Cb90VBzy.js";import"./index-B4ZeXHKF.js";const D=C("downloadinput",{state:()=>({downloadinput:[],id:0}),actions:{addDownload(d){this.downloadinput.push({downloadData:d,completed:!1})},reset(){this.$reset()}}});function $(){const d=a(),m=a("");a([]);const t=a(),_=a("");let v="https://9sg5obrcp0.execute-api.us-east-1.amazonaws.com/downloadpdf/downloadpdf";const{execute:w,then:o,data:u}=E(v,{method:"GET"},{immediate:!1}),f=D();function i(r){d.value=r,m.value=d.value+"/",c()}const c=async()=>{try{const r=await w({params:{processnumber:m.value}}).then(b=>{t.value=u.value.download_url,console.log(u.value.download_url),console.log(t.value)});return f.addDownload(t.value),r}catch(r){console.log("Error, fectching data",r)}};return{error:_,getNumber:i,zip_download_url:t,store:f,fetchData:c}}const Y={class:"card"},G={class:"flex flex-col w-1/3 gap-2 shadow-lg shadow-cyan-800",style:{"margin-left":"850px","margin-top":"440px"}},j={class:"payment-widget"},A=e("h2",{style:{color:"black"}},"Credit Card Payment",-1),F={class:"form-group"},H=e("label",{for:"cardholder-name"},"Cardholder Name",-1),I={class:"form-group"},J=e("label",{for:"card-number"},"Card Number",-1),K={class:"form-group small-inputs"},L=e("label",{for:"expiry-date"},"Expiry Date",-1),O=e("label",{for:"cvv"},"CVV",-1),Q=e("button",{type:"submit"},"Pay",-1),R={key:0,class:"confirmation"},W=49.99,le={__name:"Paymentgateway",setup(d){const m=T(),t=a(""),{getNumbers:_}=M(),v=a(m.$state.permitapp[0].formdt.processNumber);t.value=v.value.length!==0?v.value:"files",console.log(t.value);function w(){_(t.value)}P(()=>{w()});const o=a({cardholderName:"",cardNumber:"",expiryDate:"",cvv:""}),u=a(!1),{getNumber:f}=$(),i=a(!1),c=a(!1),r=D(),b=a(""),V=()=>{if(f(t.value),console.log(t.value),!o.value.cardholderName||!o.value.cardNumber||!o.value.expiryDate||!o.value.cvv){alert("Please fill out all fields.");return}i.value=!0,c.value=!0,setTimeout(()=>{o.value.cardholderName="",o.value.cardNumber="",o.value.expiryDate="",o.value.cvv="",i.value=!1},3e3),c.value=!1,u.value=!0,b.value=r.$state.downloadinput[0].downloadData},S=()=>{const y=b.value;console.log(y);const l="processnumber.zip",n=document.createElement("a");n.href=y,n.download=l,n.click(),n.remove()};return(y,l)=>{const n=k;return g(),x("div",Y,[e("div",G,[p(q(n,{icon:"pi pi-arrow-circle-down",severity:"info","aria-label":"User",onClick:S},null,512),[[U,u.value]]),e("div",j,[A,e("form",{onSubmit:z(V,["prevent"])},[e("div",F,[H,p(e("input",{type:"text",id:"cardholder-name","onUpdate:modelValue":l[0]||(l[0]=s=>o.value.cardholderName=s),placeholder:"Boris Gomez",required:""},null,512),[[h,o.value.cardholderName]])]),e("div",I,[J,p(e("input",{type:"text",id:"card-number","onUpdate:modelValue":l[1]||(l[1]=s=>o.value.cardNumber=s),maxlength:"19",placeholder:"1234 5678 9012 3456",required:""},null,512),[[h,o.value.cardNumber]])]),e("div",K,[e("div",null,[L,p(e("input",{type:"text",id:"expiry-date","onUpdate:modelValue":l[2]||(l[2]=s=>o.value.expiryDate=s),maxlength:"5",placeholder:"MM/YY",required:""},null,512),[[h,o.value.expiryDate]])]),e("div",null,[O,p(e("input",{type:"text",id:"cvv","onUpdate:modelValue":l[3]||(l[3]=s=>o.value.cvv=s),maxlength:"4",placeholder:"123",required:""},null,512),[[h,o.value.cvv]])])]),Q],32),i.value?(g(),x("div",R,[e("p",null,"Thank you, "+N(o.value.cardholderName)+"! Your payment of $"+N(W)+" was processed.",1)])):B("",!0)])])])}}};export{le as default};
