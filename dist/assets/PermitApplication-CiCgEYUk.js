import{a as x,b as se,u as U,_ as te}from"./use-createProcessnumber-BksLTDOs.js";import{e,h as F,f as T,g as y,A,Z as N,ae,o as d,c as _,i as o,j as r,K as le,a as I,S as ne,z as re,d as k,t as W,T as ie,p as q,q as O,ao as L,w as ce,F as de,x as ue}from"./index-DKVSdg1j.js";import{s as pe}from"./index-B_ygH2WL.js";import{s as me}from"./index-CTd_ljr3.js";import{s as j}from"./index-CWYbw1RK.js";import{s as z}from"./index-BTWWFby1.js";import{s as _e}from"./index-HicS1qql.js";import{u as C}from"./accountsStore-Be9WD2n6.js";import{u as M}from"./permitapp-jOTQvmn0.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as fe}from"./FileSaver-mWgIr5Vx.js";import"./index-CBGjd_J8.js";import"./index-DO4r6JvV.js";import"./index-DrlnFe7b.js";import"./useAxios-DrqbPnrz.js";import"./processStore-DpJEkr2J.js";import"./index-CT1CVUKW.js";import"./index-C9xIShlR.js";import"./index-Bmu6IduS.js";import"./index-DGTb9GdE.js";import"./index-D0J4_w7N.js";function Y(){const{resNum:s,lastNum:t}=x();se();const a=e(""),p=e(new Date().getFullYear()),m=e(6),g=e("me"),l=Array.from({length:10**m.value},(b,$)=>`${g.value}${p.value}${String($).padStart(m.value,"0")}`),u=x();return console.log(u),a.value=l[0]+1,t.value!==0||(a.value=t.value+1),{pNum:a,lastNum:t,resNum:s,test:u}}e(1);e("");const ve=F(),G=e(!1);U();const{accountUsers:f}=C();console.log(f._value[0]);e("me");M();T({address:"",muni:"",license:"",folio:"",contractor:"",permit:"",processNumber:"",date:new Date});const ge=e(""),be=e(""),H=e(""),he=e(""),ye=e("");y(()=>{A.init({duration:800,easing:"ease-in-out",once:!0})});N(()=>{if(f._value[0].name==="")return ve.push("/");G.value=!0,ge.value=f._value[0].name,be.value=f._value[0].email,H.value=f._value[0].phone,he.value=f._value[0].secondary_status,ye.value=f._value[0].dba,console.log(f._value[0].phone)});e(!1);Y();x();H.value=f._value[0].phone;e(null);e("");e("");y(()=>{G.value=!0});e();e([{name:"Roofing Permit",code:"RP"},{name:"Doors Permit",code:"DP"},{name:"Windows Permit",code:"WP"}]);ae(async()=>{});const $e={},v=s=>(q("data-v-b7c3e20d"),s=s(),O(),s),we={id:"permitapp",ref:"permitapp",class:"flex flex-col md:flex-row gap-2",style:{"margin-left":"220px","background-color":"#eae7e2"}},Pe={class:"md:w-3/4"},Ve={class:"row",style:{"background-color":"#eae7e2"}},ke={class:"card flex flex-col gap-1",style:{"background-color":"#eae7e2"}},Se=v(()=>o("div",{class:"font-semibold text-xl"},"Permit Application",-1)),xe={class:"card flex justify-center",style:{"background-color":"#eae7e2"}},De={class:"flex flex-col mt-3 grow basis-0 gap-3",style:{"max-width":"300px"}},Ie=v(()=>o("label",{for:"license"},"License Status",-1)),Ue={class:"card flex flex-col gap-2",style:{"background-color":"#eae7e2"}},Ae={class:"flex flex-col grow basis-0 gap-2"},Ne=v(()=>o("label",{for:"addr"},"Property Address",-1)),Ce={key:1,class:"pi pi-spin pi-spinner",style:{"font-size":"2rem"}},Me={class:"flex flex-col mt-3 grow basis-0 gap-3"},Re=v(()=>o("label",{for:"dba"},"DBA ",-1)),Be={class:"flex flex-col mt-3 grow basis-0 gap-3"},Ee=v(()=>o("label",{for:"contractor"},"Contractor Name",-1)),Le={class:"flex flex-col mt-3 grow basis-0 gap-3"},Fe=v(()=>o("label",{for:"phone"},"Cell Phone Number",-1)),Te={class:"flex flex-col mt-3 grow basis-0 gap-3"},We=v(()=>o("label",{for:"Email"},"Email",-1)),qe={key:0},Oe=v(()=>o("br",null,null,-1)),je=v(()=>o("br",null,null,-1));function ze(s,t,a,p,m,g){const l=_e,u=z,b=j,$=me,w=pe,V=ie;return d(),_("div",we,[o("div",Pe,[o("form",null,[o("div",Ve,[o("div",ke,[Se,o("div",xe,[r(l,{modelValue:s.selectedApplication,"onUpdate:modelValue":t[0]||(t[0]=n=>s.selectedApplication=n),options:s.type,showClear:"",optionLabel:"name",placeholder:"Select a permit type",class:"w-full md:w-56"},null,8,["modelValue","options"])]),o("div",De,[Ie,r(u,{id:"license",modelValue:s.licenseStatus,"onUpdate:modelValue":t[1]||(t[1]=n=>s.licenseStatus=n),type:"text",placeholder:"name"},null,8,["modelValue"])]),o("div",Ue,[o("form",{class:"w-3/4",onSubmit:t[7]||(t[7]=(...n)=>s.onSubmit&&s.onSubmit(...n))},[o("div",Ae,[Ne,le(r(u,{id:"addr",type:"text",modelValue:s.address,"onUpdate:modelValue":t[2]||(t[2]=n=>s.address=n),placeholder:"address"},null,8,["modelValue"]),[[V,"Make sure that either street or avenue is spelled out, direction could be shorten (sw)",void 0,{top:!0}]]),s.loading?(d(),_("i",Ce)):(d(),I(b,{key:0,id:"search",type:"button",label:"Search",class:"w-1/3",style:{"background-color":"#a4b5b9"},raised:"",icon:"pi pi-search-plus",loading:s.loading,onClick:s.load,onInput:s.createHtml},null,8,["loading","onClick","onInput"]))]),o("div",Me,[Re,r(u,{id:"dba",modelValue:s.dba,"onUpdate:modelValue":t[3]||(t[3]=n=>s.dba=n),type:"text",placeholder:"name"},null,8,["modelValue"])]),o("div",Be,[Ee,r(u,{id:"contractor",modelValue:s.contractor,"onUpdate:modelValue":t[4]||(t[4]=n=>s.contractor=n),type:"text",placeholder:"name"},null,8,["modelValue"])]),o("div",Le,[Fe,r($,{modelValue:s.phone,"onUpdate:modelValue":t[5]||(t[5]=n=>s.phone=n),mask:"(999) 999-9999",placeholder:"(999) 999-9999",invalid:s.phone===""},null,8,["modelValue","invalid"])]),o("div",Te,[We,r(u,{modelValue:s.email,"onUpdate:modelValue":t[6]||(t[6]=n=>s.email=n),invalid:s.email===null,error:s.emailError},null,8,["modelValue","invalid","error"]),s.invalid?(d(),I(w,{key:0,severity:"error"},{default:ne(()=>[re("Email is required")]),_:1})):k("",!0)]),s.responseMessage?(d(),_("p",qe,W(s.responseMessage),1)):k("",!0),Oe],32),je])])])])])],512)}const Ye=D($e,[["render",ze],["__scopeId","data-v-b7c3e20d"]]),Ge={key:0,class:"loading-indicator"},He={__name:"ScrollFunction",setup(s){const t=[{content:"This is content from Page 1"}],a=e([t[0]]),p=e(!1),m=e(0),g=()=>{m.value<t.length-1&&(p.value=!0,setTimeout(()=>{m.value++,a.value.push(t[m.value]),p.value=!1},1e3))},l=e(null),{stop:u}=L(l,([{isIntersecting:b}])=>{b&&g(),console.log(l)},{threshold:1});return console.log(L()),y(()=>{ce(()=>{m.value===t.length-1&&u()})}),(b,$)=>(d(),_("div",{ref_key:"scrollContainer",ref:l,class:"infinite-container"},[(d(!0),_(de,null,ue(a.value,(w,V)=>(d(),_("div",{key:V,class:"page-content"},[o("div",null,[r(Ye)])]))),128)),p.value?(d(),_("div",Ge,"Loading more content...")):k("",!0)],512))}},Ke=D(He,[["__scopeId","data-v-685d1615"]]),P=s=>(q("data-v-6bb23867"),s=s(),O(),s),Ze={class:"md:w-3/4"},Je={class:"container"},Qe={"data-aos":"fade-up-left","data-aos-delay":"500"},Xe={class:"row",style:{"background-color":"#eae7e2"}},eo={class:"card flex flex-col gap-1",style:{"background-color":"#eae7e2"}},oo={class:"card flex flex-col gap-2",style:{"background-color":"#eae7e2"}},so={class:"flex flex-col mt-3 grow basis-0 gap-3"},to=P(()=>o("label",{for:"muni"},"Municipality",-1)),ao={class:"flex flex-col mt-3 grow basis-0 gap-3"},lo=P(()=>o("label",{for:"folio"},"Folio",-1)),no={class:"flex flex-col mt-3 grow basis-0 gap-3"},ro=P(()=>o("label",{for:"permit"},"Master Permit",-1)),io={class:"flex flex-col mt-3 grow basis-0 gap-3"},co=P(()=>o("label",{for:"processnum"},"mEProcess Number",-1)),uo={key:0},po=P(()=>o("br",null,null,-1)),mo=P(()=>o("br",null,null,-1)),_o={"data-aos":"fade-up-right","data-aos-delay":"500"},fo={__name:"PermitApp2",setup(s){e(1);const t=e(""),a=F(),p=e(!1);e(),e(),e();const{procData:m,procReceive:g}=U(),{accountUsers:l,getUser:u,addUser:b}=C();console.log(l._value[0]),e("me");const $=M(),w=T({address:"",muni:"",license:"",folio:"",contractor:"",permit:"",processNumber:"",date:new Date}),V=e(""),n=e(""),R=e(""),K=e(""),Z=e("");y(()=>{A.init({duration:800,easing:"ease-in-out",once:!0})}),N(()=>{if(l._value[0].name==="")return a.push("/");p.value=!0,V.value=l._value[0].name,n.value=l._value[0].email,R.value=l._value[0].phone,K.value=l._value[0].secondary_status,Z.value=l._value[0].dba,console.log(l._value[0].phone)}),e(!1),Y(),x(),R.value=l._value[0].phone;const J=e(null),B=e("");e(""),y(()=>{p.value=!0});const Q=async()=>{g(w)},E=e();e([{name:"Roofing Permit",code:"RP"},{name:"Doors Permit",code:"DP"},{name:"Windows Permit",code:"WP"}]);function X(i,c){i=w,c=E.value,i.length!==0&&($.addSystem(i,c,B.value),console.log(i,c,B.value,"System added"))}return(i,c)=>{const S=z,ee=j,oe=fe;return d(),_("div",{id:"permitapp",ref_key:"permitapp",ref:J,class:"flex flex-col md:flex-row gap-2",style:{"margin-left":"220px","background-color":"#eae7e2"}},[o("div",Ze,[o("div",Je,[o("div",Qe,[o("form",null,[o("div",Xe,[o("div",eo,[o("div",oo,[o("form",{class:"w-3/4",onSubmit:Q},[o("div",so,[to,r(S,{id:"muni",modelValue:i.muni,"onUpdate:modelValue":c[0]||(c[0]=h=>i.muni=h),type:"text",placeholder:"municipality"},null,8,["modelValue"])]),o("div",ao,[lo,r(S,{id:"folio",modelValue:i.folio,"onUpdate:modelValue":c[1]||(c[1]=h=>i.folio=h),type:"text",placeholder:"folio",onInput:i.updatemEProcess},null,8,["modelValue","onInput"])]),o("div",no,[ro,r(S,{id:"permit",modelValue:i.permit,"onUpdate:modelValue":c[2]||(c[2]=h=>i.permit=h),type:"text",placeholder:"20000000"},null,8,["modelValue"])]),o("div",io,[co,r(S,{id:"processnum",modelValue:i.processNumber,"onUpdate:modelValue":c[3]||(c[3]=h=>i.processNumber=h),type:"text",placeholder:"process number"},null,8,["modelValue"])]),t.value?(d(),_("p",uo,W(t.value),1)):k("",!0),po,r(ee,{id:"submit",type:"submit",label:"Submit",class:"w-1/3",style:{"background-color":"#a4b5b9"},raised:"",as:"router-link",to:"/roofsystem",onClick:c[4]||(c[4]=h=>X(w,E.value)),onChange:i.generatePdf},null,8,["onChange"])],32),mo,o("div",_o,[r(oe)])])])])])])])])],512)}}},vo=D(fo,[["__scopeId","data-v-6bb23867"]]),go={id:"permitapp",ref:"permitapp",class:"flex flex-col md:flex-row gap-2",style:{"margin-left":"220px","background-color":"#eae7e2"}},bo={class:"md:w-3/4"},ho={class:"container"},yo={__name:"PermitApplication",setup(s){e(1);const t=e(!1);U();const{accountUsers:a,getUser:p,addUser:m}=C();console.log(a._value[0]);const g=useaccountStore();return storeToRefs(g),M(),y(()=>{A.init({duration:800,easing:"ease-in-out",once:!1})}),N(()=>{if(a._value[0].name==="")return router.push("/");t.value=!0,contractor.value=a._value[0].name,email.value=a._value[0].email,phone.value=a._value[0].phone,licenseStatus.value=a._value[0].secondary_status,dba.value=a._value[0].dba,console.log(a._value[0].phone)}),y(()=>{t.value=!0}),e(),e([{name:"Roofing Permit",code:"RP"},{name:"Doors Permit",code:"DP"},{name:"Windows Permit",code:"WP"}]),(l,u)=>{const b=te;return d(),_("div",go,[t.value?(d(),I(b,{key:0})):k("",!0),o("div",bo,[o("div",ho,[r(Ke),r(vo)])])],512)}}},qo=D(yo,[["__scopeId","data-v-405f0ded"]]);export{qo as default};
