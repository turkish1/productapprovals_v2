import{s as C}from"./index-RZeBD0S9.js";import{u as B,a as H,b as F}from"./usePostMechanicalLambda-CouOpttq.js";import{u as L}from"./useDripedge-DdWmged2.js";import{u as R}from"./roofList-KnhdmxeJ.js";import{e as r,f as h,Y as U,h as G,w as P,g as Y,ad as A,ae as J,o as K,c as Q,j as k,k as V,aj as w,i as y,al as W,E as x,I as X,ak as Z,D as O}from"./index-DeFQHjIT.js";import{a as ee}from"./use-tileMechanical-BMUtUJC4.js";const le={class:"flex flex-col w-96 mb-4 gap-3",style:{"margin-left":"20px"}},te=y("label",{style:{color:"#122620"}},"Drip Edge Material",-1),ae=y("label",{style:{color:"#122620"}},"Drip Edge Size",-1),pe={__name:"DripEdMechTile",emits:["update-valuesize"],setup(a,{emit:o}){const{selectDripEdge:l,selectDripEdgeSize:e,holdSize:i,type:n}=L(),{dripEdge:t}=B(),u=R(),s=r(u.$state.roofList),d=r();H();const v=r(null),m=F();console.log(m);const _=o;let E=r(!1);const f=r(),b=h({DripEdgeMaterial:"",DripEdgeSize:""}),q=U(()=>{if(console.log(s.value),s.value.length===0)return"";for(let c=0;c<s.value.length;c++)s.value[c].item==="Mechanical Fastened Tile"&&(console.log(s.value[c].item),E.value=!0,d.value=n.value);g()}),p=h({DripEdgeMaterial:"",DripEdgeSize:""}),$=()=>{_("update-valuesize",e.value),p.DripEdgeSize=e.value,console.log(e.value),M()};G(()=>{console.log("Select element:",v.value),D()});function g(){for(let c=0;c<s.value.length;c++)s.value[c].item==="Mechanical Fastened Tile"&&(console.log(s.value[c].item),I())}function D(c){d.value=n.value,console.log(d.value,c)}function M(){console.log(l.value),l.value?(l.value==="Galvanized Steel Metal ¹"&&(f.value=i.value.size1,g()),l.value==="Stainless Steel Metal ²"&&(f.value=i.value.size2,g()),l.value==="Aluminum Metal ³"&&(f.value=i.value.size3,g()),l.value==="Copper Metal ⁴"&&(f.value=i.value.size4,g())):console.log("The element not mounted yet"),b.DripEdgeMaterial=l.value,b.DripEdgeSize=e.value,j(),g()}function I(){console.log(l.value),p.DripEdgeMaterial=l.value,console.log(p.DripEdgeMaterial),T()}const T=async c=>{console.log(p.DripEdgeSize),E.value===!0&&(p.DripEdgeSize=e.value,console.log(p.DripEdgeSize),m.insertDripAtIndex(5,p.DripEdgeMaterial),m.insertDripAtIndex(7,p.DripEdgeSize),console.log(m))},j=async()=>{await t(b)};return P(d,f,n),Y(D,M),A(async()=>{await J(q).toBe(!0)}),(c,S)=>{const N=C;return K(),Q("div",le,[te,k(N,{modelValue:V(l),"onUpdate:modelValue":[S[0]||(S[0]=z=>w(l)?l.value=z:null),D],options:d.value,placeholder:"make selection"},null,8,["modelValue","options"]),ae,k(N,{ref_key:"selectSizeRef",ref:v,modelValue:V(e),"onUpdate:modelValue":S[1]||(S[1]=z=>w(e)?e.value=z:null),options:f.value,onClick:M,onChange:$,onUpdateValuesize:T,placeholder:"make selection"},null,8,["modelValue","options"])])}}};function me({min:a=null,max:o=null,required:l=!1}){const e=r(null);return{errorHeightMessage:e,validateTileHeight:n=>{const t=n;return a!==null&&t<a?(e.value=`Number must be greater than or equal to ${a}`,console.log("min",t,a),!1):o!==null&&t>=a&&t>=o?(e.value=`Number must be less than or equal to ${o}`,console.log("max",t),!1):l&&(n==null||n==="")?(e.value="This field is required",console.log("required"),!1):(e.value=null,!0)}}}function fe({min:a=null,max:o=null,required:l=!1}){const e=r(null);return{errorMessage:e,validateNumber:n=>{const t=n;return a!==null&&t<a?(e.value=`Number must be greater than or equal to ${a}`,!1):o!==null&&t>=a&&t>=o?(e.value=`Number must be less than or equal to ${o}`,console.log("max",t),!1):l&&(n==null||n==="")?(e.value="This field is required",console.log("required"),!1):(e.value=null,!0)}}}function ge(){const a=h({}),o=r(!1),l=r(!1);function e(t){return Array.isArray(t==null?void 0:t.value)?t.value:t}function i(t,u){Object.keys(t).forEach(s=>delete t[s]),Object.assign(t,u||{})}return{mechTilenoa:a,isThiscomplextile:o,isCompTileValid:l,useNoaTick:async t=>{var _;await W();const u=e(t),s=u==null?void 0:u[0];if(!s)return;const d=((_=s==null?void 0:s.Table2)==null?void 0:_.content)==="multiple";o.value=!!d,l.value=!0;const v={noa:s.noa,manufacturer:s.manufacturer??s.applicant??"",material:s.material??""},m=d?{select_tile:s.select_tile??""}:{description:s.description??""};console.log(v,m),i(a,{...v,...m})}}}const oe=x("tileMechInput",{state:()=>({tileMechInput:[],id:0}),actions:{addSystem(a){this.tileMechInput.push({tileMechNumber:a,completed:!1})},reset(){this.$reset()}},getters:{tileMechNumber:a=>a.tileMechNumber}});function ve(){let a=r([]);const o=oe(),l=r(""),e=h({noa:[]});function i(){u()}const n=X(()=>"https://h3gd9z0q32.execute-api.us-east-1.amazonaws.com/mechanicaltileNumberstaging"),{data:t}=Z(n).get().json(),u=async()=>{e.noa=t,o.addSystem(e),console.log("System added")};return{tileMechNumber:e,fetchData:u,callNumber:i,errors:l,results:a,...O(e),mechanicalStore:o}}const se=x("multiinput",{state:()=>({multiinput:[],id:0}),actions:{addData(a){this.multiinput.push({multiData:a,completed:!1})},reset(){this.$reset()}}});function he(){const a=r([]),o=r([]),l=h({select_tile:[],tile_map:[],table2_map:[],table2:"",noa:"",manufacturer:"",material:"",description:"",Table2:[],Table3:[],expiration_date:"",resistance:[],selection:"",select_tile:[],tile_map:[],tileType:"",table2_map:[],two_ten_d_RS_Nails:null,one_number_eight_screw:null,two_number_eight_screw:null,savedfastener:"",fastenerValues:[],height:null,area:null,slope:null,perimeter:null,decktype:null}),e=ee(),i=se();function n(t,u){o.value=t.value,a.value=u,console.log(t,u),console.log(e),console.log(o.value[0].Table2.content),l.table2=o.value[0].Table2.content,l.select_tile=o.value[0].select_tile,l.table2_map=o.value[0].table2_map,l.tile_map=o.value[0].tile_map,console.log(l),i.addData(l)}return{multiTiles:l,workoutData:n,multiStore:i,getmechStore:e}}export{pe as _,ve as a,ge as b,fe as c,me as d,he as u};
