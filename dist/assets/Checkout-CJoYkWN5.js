import{E as qa,P as Ka,c as Jt,d as Zt,D as Qa,s as La,r as s,o as Fa,f as Ze,F as za,m as ya,t as ba,a8 as la,as as va,at as ha,ao as _a,e as Ee,i as pa,a2 as el,a1 as tl,am as Da,g as ga,ap as ma,k as Ta,V as al,p as ll,j as ol}from"./index-CgNQnJ6L.js";import{s as sl}from"./index-Bml49LEo.js";import{s as il}from"./index-Bek5i8xj.js";import{s as nl}from"./index-CYYWrO-X.js";import{a as Ba,u as dl}from"./generalpageStore-DKpWUWUl.js";import{u as sa}from"./accountsStore-CB8Lzx5g.js";import{u as ia}from"./permitapp-Bl5YahaJ.js";import{u as oa}from"./roofList-BrSQlseT.js";import{_ as Ra}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{E as Ct}from"./jspdf.es.min-ugMk-sCR.js";import{u as Ea}from"./burpdfStore-BYtVZEuw.js";import{a as cl,u as ul,b as pl}from"./systemfStore-CQLqoxvW.js";import{u as Oa}from"./dripEdgeStore-B8Vvtl0V.js";import{u as vl}from"./tilenoaStore-CwO54eaA.js";import{u as Ia,a as Ua}from"./tilesysfStore-DUqwa6rE.js";import{u as hl}from"./use-tileMechanical-pYZvMT-d.js";import"./index-Dyb14ImA.js";import"./pdfsignStore-BPKdML_o.js";import"./useAxios-BA6bsTvR.js";var xl=function(I){var g=I.dt;return`
.p-skeleton {
    overflow: hidden;
    background: `.concat(g("skeleton.background"),`;
    border-radius: `).concat(g("skeleton.border.radius"),`;
}

.p-skeleton::after {
    content: "";
    animation: p-skeleton-animation 1.2s infinite;
    height: 100%;
    left: 0;
    position: absolute;
    right: 0;
    top: 0;
    transform: translateX(-100%);
    z-index: 1;
    background: linear-gradient( 90deg, rgba(255, 255, 255, 0), `).concat(g("skeleton.animation.background"),`, rgba(255, 255, 255, 0) );
}

.p-skeleton-circle {
    border-radius: 50%;
}

.p-skeleton-animation-none::after {
    animation: none;
}

@keyframes p-skeleton-animation {
    from {
        transform: translateX(-100%);
    }
    to {
        transform: translateX(100%);
    }
}
`)},gl={root:{position:"relative"}},ml={root:function(I){var g=I.props;return["p-skeleton p-component",{"p-skeleton-circle":g.shape==="circle","p-skeleton-animation-none":g.animation==="none"}]}},Tl=qa.extend({name:"skeleton",theme:xl,classes:ml,inlineStyles:gl}),Wl={name:"BaseSkeleton",extends:Ka,props:{shape:{type:String,default:"rectangle"},size:{type:String,default:null},width:{type:String,default:"100%"},height:{type:String,default:"1rem"},borderRadius:{type:String,default:null},animation:{type:String,default:"wave"}},style:Tl,provide:function(){return{$pcSkeleton:this,$parentInstance:this}}},Ya={name:"Skeleton",extends:Wl,inheritAttrs:!1,computed:{containerStyle:function(){return this.size?{width:this.size,height:this.size,borderRadius:this.borderRadius}:{width:this.width,height:this.height,borderRadius:this.borderRadius}}}};function rl(se,I,g,k,M,C){return Jt(),Zt("div",Qa({class:se.cx("root"),style:[se.sx("root"),C.containerStyle],"aria-hidden":"true"},se.ptmi("root")),null,16)}Ya.render=rl;const fl={class:"terminal"},$l={class:"terminal-content"},Sl=8,Vl={__name:"Terminal",setup(se){const I=ia(),{permitapp:g}=La(I),{accountUsers:k}=sa();let M=s(),C=s(),V=s(),p=s(),A=s();g.value.forEach((v,l)=>{M.value=v.formdt.permit,C.value=v.formdt.processNumber,p.value=v.formdt.address,A.value=v.formdt.contractor});const ie=["Initializing system...","Loading modules...","Connecting to server...","Server connection established.",`${k._value[0].dba}...`,`${k._value[0].license}...`,`${k._value[0].expiration_date}...`,`${k._value[0].secondary_status}...`,`${C.value}...`,`${p.value}...`,`${A.value}...`],ne=s([]);function qe(){let v=0;const l=setInterval(()=>{v<ie.length?(ne.value.length>=Sl&&ne.value.shift(),ne.value.push(ie[v]),v++):clearInterval(l)},1e3)}return Fa(()=>{qe()}),Fa(()=>{if(k._value[0].DBA==="")return console.log(k._value[0]),null;V.value=k._value[0].dba,console.log(k._value[0])}),(v,l)=>(Jt(),Zt("div",fl,[Ze("div",$l,[(Jt(!0),Zt(za,null,ya(ne.value,(h,e)=>(Jt(),Zt("div",{key:e,class:"terminal-line"},ba(h),1))),128))])]))}},bl=Ra(Vl,[["__scopeId","data-v-f32bdab3"]]),Al={__name:"Generalpagepdf",setup(se){const{getUser:I}=sa();let g=s(!1);const k=ia();oa();const M=Ba(),C=s(k.$state.permitapp[0].formdt.address),V=s(k.$state.permitapp[0].formdt.permit),p=s(k.$state.permitapp[0].formdt.processNumber),A=p.value.length!==0?p.value:"files",ie=s(I.value[0].dba),ne=s(""),qe=s(M.$state.generalpdfinput);function v(){qe.value.length!==1&&(g.value=!0)}la(()=>{v(),l()}),va(async()=>{await ha(g).toBe(!0),l()});const l=()=>{if(M.$state.generalpdfinput.length===0)console.log("lenghth is   zero");else{const i=new Ct({orientation:"portrait",unit:"mm",format:"a4",compress:!0});i.setGState(new i.GState({opacity:.9}));const Y="Approved";i.setFontSize(24),i.setTextColor("black"),i.setFont("helvetica"),i.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const he=new Image,ze=new Image,Ke=new Image;he.src="/demo/images/officepaper.jpeg",ze.src="/demo/images/logo.jpeg",Ke.src="/demo/images/DragAndDrop.jpeg";const d=725,L=i.getPageInfo(1),n=L.pageContext.mediaBox.topRightX,Qe=L.pageContext.mediaBox.topRightY;console.log(n);const m=s(0),o=s(0);var h=595.28-585.28,e=Qe-d;m.value=h,o.value=e,console.log(m.value,o.value),i.addImage(ze,"JPEG",10,10,50,30),i.addImage(he,"JPEG",0,0,210,297),i.setFontSize(12),i.setTextColor("green");var t=new Date,U=t.toLocaleDateString();i.text(Y,10,270,{align:"left"});const ae=i.getTextWidth(Y);i.text("on: "+U,ae+15,270),i.text(`${p.value}`,10,258,{align:"left"}),i.getTextWidth(`${p.value}`),console.log(C,V,p,ie);const a=s(!1),Le=s(!1),W=s(!1),ct=s(!1),ut=s(!1);i.setFontSize(12);const qt=()=>{i.setFontSize(10),i.setTextColor(0),i.text("2023 HVHZ  mEPermit General Information Page",70,20,{maxWidth:"170"}),i.line(10,41,195,41)};i.setTextColor(0),i.circle(185,38,2,"FD"),i.text("I agree",165,39),qt(),i.setFontSize(12),i.setFontSize(10);const Ut=[{category:"DBA",value:`${ie.value}`},{category:"Job Address",value:`${C.value}`},{category:"meProcess Number",value:`${p.value}`},{category:"Master Permit",value:`${V.value}`}];let $t=10,St=60,de=50;i.setFontSize(10),Ut.forEach((J,Ye)=>{const Me=de+Ye*10;i.text(J.category,$t,Me),i.text(J.value,St,Me),i.getTextWidth(J.category);const ee=i.getTextWidth(J.value)*2;i.line(St,Me+2,St+ee,Me+2)}),i.setFontSize(10);const D=100,x=s(!1);M.$state.generalpdfinput[0].generalpdfData.roofCheck[0]==="reroof"&&(x.value=!0,console.log(x.value)),m.value=h+70,e=D-15,console.log(e);const xe=new Ct.API.AcroFormCheckBox;i.text("Re-Roof: ",m.value,e);const ge=e-3;xe.fieldName="CheckBox6",console.log(x.value),xe.Rect=[m.value+20,ge,4,4],m.value=m.value+20,xe.value=x.value===!0?"On":"Off",xe.appearanceState=x.value===!0?"On":"Off",i.addField(xe),m.value=h+120,e=D-15,console.log(e);const me=new Ct.API.AcroFormCheckBox;i.text("New Roof: ",m.value,e);const Vt=e-3;me.fieldName="CheckBox7",me.Rect=[m.value+20,Vt,4,4],me.value=x.value===!0?"Off":"On",me.appearanceState=x.value===!0?"Off":"On",m.value=m.value+20,i.addField(me);const $="Total: ",pt="Low Slope: ",vt="Steep Slope: ",Be=s(M.$state.generalpdfinput[0].generalpdfData.totalData),Re=s(M.$state.generalpdfinput[0].generalpdfData.slopeData),Ae=s(M.$state.generalpdfinput[0].generalpdfData.steepData);console.log(M.$state.generalpdfinput[0].generalpdfData),m.value=h;const De=i.getTextWidth(pt),Te=i.getTextWidth(`${Re.value}`),Fe=m.value+2;i.text(pt,Fe,D);const E=De+Fe;i.text(`${Re.value}`,E,D),i.line(E,D,E+Te,D),m.value=E+Te;const wt=i.getTextWidth(vt),Oe=i.getTextWidth(`${Ae.value}`),We=m.value+2;i.text(vt,We,D);const c=wt+We;i.text(`${Ae.value}`,c,D),i.line(c,D,c+Oe,D),console.log(D,e),e=D+10,m.value=c+Oe,console.log(m.value);const bt=i.getTextWidth($),ye=i.getTextWidth(`${Be.value}`),j=m.value+2;i.text($,j,D);const Xe=bt+j;i.text(`${Be.value}`,Xe,D),i.line(Xe,D,Xe+ye,D),m.value=Xe+ye,M.$state.generalpdfinput[0].generalpdfData.slopeChk===!0&&(ut.value=!0),M.$state.generalpdfinput[0].generalpdfData.adtileChk===!0&&(a.value=!0),M.$state.generalpdfinput[0].generalpdfData.metalChk===!0&&(Le.value=!0),M.$state.generalpdfinput[0].generalpdfData.mtileChk===!0&&(W.value=!0),M.$state.generalpdfinput[0].generalpdfData.shingleChk===!0&&(ct.value=!0),m.value=h,e=e+10,console.log(e);const re=new Ct.API.AcroFormCheckBox;i.text("Low Slope: ",h,e);const Pt=e-3;re.fieldName="CheckBox1",re.Rect=[h+20,Pt,4,4],re.value=ut.value===!0?"On":"Off",re.appearanceState=ut.value===!0?"On":"Off",m.value=h+20,i.addField(re);const u=m.value+10,Ne=new Ct.API.AcroFormCheckBox;i.text("Mechanical Fastened Tile: ",u,e);const Et=e-3;Ne.fieldName="CheckBox2",Ne.Rect=[u+45,Et,4,4],Ne.value=ut.value===!0?"On":"Off",Ne.appearanceState=ut.value===!0?"On":"Off",m.value=u+20,i.addField(Ne);const Ie=m.value+30,ce=new Ct.API.AcroFormCheckBox;i.text("Adhesive Set Tile: ",Ie,e);const ht=e-3;ce.fieldName="CheckBox3",ce.Rect=[Ie+35,ht,4,4],ce.value=a.value===!0?"On":"Off",ce.appearanceState=a.value===!0?"On":"Off",m.value=Ie+10,i.addField(ce);const xt=m.value+35,ue=new Ct.API.AcroFormCheckBox;i.text("Shingle: ",xt,e);const At=e-3;ue.fieldName="CheckBox4",ue.Rect=[xt+20,At,4,4],ue.value=ct.value===!0?"On":"Off",ue.appearanceState=ct.value===!0?"On":"Off",m.value=xt+20,i.addField(ue);const _e=m.value+25,_=new Ct.API.AcroFormCheckBox;i.text("Metal Panel: ",_e,e);const Ue=e-3;_.fieldName="CheckBox5",_.Rect=[_e+20,Ue,4,4],_.value=Le.value===!0?"on":"Off",_.appearanceState=Le.value===!0?"On":"Off",m.value=_e+20,i.addField(_),e=e+10,i.addImage(Ke,"JPEG",h+40,e,120,120);const ke="GeneralPage.pdf",zt=i.output("blob");(async(J,Ye)=>{const Me=J,ee=Me;console.log(ee);const et=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${A}/${ee}`;try{const fe=await fetch(et,{method:"PUT",headers:{"Content-Type":Me.type},body:Ye});fe.ok?(ne.value=et,alert("File uploaded successfully!")):alert(`Failed to upload file. Status: ${fe.status}`)}catch(fe){console.error("Error uploading file:",fe),alert("An error occurred while uploading the file.")}})(ke,zt)}};return(h,e)=>(Jt(),Zt("div"))}},Dl={__name:"LowSlopepdf",setup(se){const{getUser:I}=sa(),g=ia(),k=oa(),M=Ea(),C=s(k.$state.roofList[0].dim2),V=s(g.$state.permitapp[0].formdt.address),p=s(g.$state.permitapp[0].formdt.muni),A=s(g.$state.permitapp[0].formdt.processNumber),ie=s(I.value[0].dba),ne=s(M.$state.burpdfinput);let qe=s(!1);const v=A.value.length!==0?A.value:"files",l=s("");function h(){ne.value.length!==1&&(qe.value=!0,e())}la(()=>{h()}),va(async()=>{await ha(qe).toBe(!0)});const e=()=>{const t=Ea();if(t.$state.burpdfinput.length===0)console.log("lenghth is zero");else{const ze=s(t.$state.burpdfinput[0].burpdfData.height),Ke=s(t.$state.burpdfinput[0].burpdfData.slope),d=s(t.$state.burpdfinput[0].burpdfData.per),L=s(t.$state.burpdfinput[0].burpdfData.deckType),n=new Ct({orientation:"portrait",unit:"mm",format:"a4",compress:!0});n.setGState(new n.GState({opacity:.9}));const Qe="Approved";n.setFontSize(24),n.setTextColor("black"),n.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const m=new Image,o=new Image;m.src="/demo/images/officepaper.jpeg",o.src="/demo/images/logo.jpeg";const ae=725,a=n.getPageInfo(1);a.pageContext.mediaBox.topRightX;const Le=a.pageContext.mediaBox.topRightY,W=s(0),ct=s(0);var U=595.28-585.28,i=Le-ae;W.value=U,ct.value=i,console.log(W.value,ct.value),n.addImage(o,"JPEG",10,2,50,30),n.addImage(m,"JPEG",0,0,210,297),n.setFontSize(14),n.setTextColor("red");var Y=new Date,he=Y.toLocaleDateString();n.text(Qe,10,270,{align:"left"});const ut=n.getTextWidth(Qe);n.text("on: "+he,ut+15,270),n.text(`${A.value}`,10,280,{align:"left"});const qt=n.getTextWidth(`${A.value}`);n.text(`${p.value}`,qt+15,280),n.setFontSize(12);const Ut=()=>{n.setFontSize(10),n.setTextColor(0),n.text('The low slope Built Up Roof (BUR) Assembly shall be installed in compliance with the HVHZ portions of Chapter 15 found in the 2023 Florida Building Code and the HVHZ Roofing Application Standards (RAS), RAS-111, RAS-117 and RAS-128. This roof assembly shall also comply with the listed requirements for a Class "A" fire rating including roof slope (incline), components and a fire barrier when required. The mePermit applicant agrees to comply with these installation requirements when obtaining this permit.',10,25,{maxWidth:"170"}),n.line(10,45,195,45)};n.setTextColor("black"),n.circle(185,40,2,"FD"),n.text("I agree",165,41),Ut(),n.setFontSize(12),n.setFontSize(10);const $t=[{category:"DBA",value:`${ie.value}`},{category:"Municipality",value:`${p.value}`},{category:"Job Address",value:`${V.value}`},{category:"meProcess Number",value:`${A.value}`}];let St=10,de=60,y=50;n.setFontSize(10),$t.forEach((He,Ft)=>{const mt=y+Ft*10;n.text(He.category,St,mt),n.text(He.value,de,mt),n.getTextWidth(He.category);const w=n.getTextWidth(He.value)*2;n.line(de,mt+2,de+w,mt+2)}),n.setFontSize(10);const x=100,xe="Roof Area: ",ge="Decktype: ",me="Mean Roof Height: ",Vt="Roof Slope: ",$="Roof Perimeter: ",pt="Type of Low Slope BUR Material: ",vt="Type of Low Slope BUR System: ",Be="Attach P(1') Prime using P(1) Field Prescriptive Basesheet: ",Re="Attach P(2) Perimeter using P(3) Corner Prescriptive: ",Ae=s(t.$state.burpdfinput[1].burpdfData.burMaterial),De=s(t.$state.burpdfinput[1].burpdfData.burSystem),Te=s(t.$state.burpdfinput[1].burpdfData.p1),Fe=s(t.$state.burpdfinput[1].burpdfData.p3);W.value=U;const E=n.getTextWidth(xe),wt=n.getTextWidth(`${C.value}`),Oe=W.value;n.text(xe,Oe,x);const We=E+Oe;n.text(`${C.value}`,We,x),n.line(We,x,We+wt,x),W.value=We+wt;const c=n.getTextWidth(me),bt=n.getTextWidth(`${ze.value}`),ye=W.value+2;n.text(me,ye,x);const j=c+ye;n.text(`${ze.value}`,j,x),n.line(j,x,j+bt,x),W.value=j+bt;const Xe=n.getTextWidth(Vt),re=n.getTextWidth(`${Ke.value}`),Pt=W.value+2;n.text(Vt,Pt,x);const u=Xe+Pt;n.text(`${Ke.value}`,u,x),n.line(u,x,u+re,x),W.value=u+re;const Ne=n.getTextWidth($),Et=n.getTextWidth(`${d.value}`),Ie=W.value+2;n.text($,Ie,x);const ce=Ne+Ie;n.text(`${d.value}`,ce,x),n.line(ce,x,ce+Et,x),console.log(x,i),i=x+10,W.value=ce+Et;const ht=n.getTextWidth(ge),xt=n.getTextWidth(`${L.value}`),ue=U;n.text(ge,ue,i);const At=ht+ue;n.text(`${L.value}`,At,i),n.line(At,i,At+xt,i),i=i+10,W.value=U;const _e=n.getTextWidth(pt),_=n.getTextWidth(`${Ae.value}`),Ue=W.value;n.text(pt,Ue,i);const ke=_e+12;n.text(`${Ae.value}`,ke,i),n.line(ke,i,ke+_,i),W.value=ke+_,i=i+10,W.value=U,n.setFontSize(9),n.getTextWidth(Be);const zt=n.getTextWidth(`${De.value}`),Dt=W.value;n.text(vt,Dt,i),i=i+10,W.value=U;const J=W.value;n.text(`${De.value}`,J,i),n.line(J,i,J+zt,i),i=i+10,n.setFontSize(10),n.getTextWidth(Be);const Ye=n.getTextWidth(`${Te.value}`),Me=U;n.text(Be,Me,i),i=i+7;const ee=U;n.text(`${Te.value}`,ee,i),n.line(ee,i,ee+Ye+70,i),i=i+10,W.value=U;const et=n.getTextWidth(`${Fe.value}`),fe=W.value;n.text(Re,fe,i),i=i+7,W.value=U;const Ce=W.value;n.text(`${Fe.value}`,Ce,i),n.line(Ce,i,Ce+et+70,i),i=i+10;const gt="LowSlope.pdf",Yt=n.output("blob");(async(He,Ft)=>{const mt=He,w=mt;console.log(w);const R=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${v}/${w}`;try{const F=await fetch(R,{method:"PUT",headers:{"Content-Type":mt.type},body:Ft});F.ok?(l.value=R,alert("File uploaded successfully!")):alert(`Failed to upload file. Status: ${F.status}`)}catch(F){console.error("Error uploading file:",F),alert("An error occurred while uploading the file.")}})(gt,Yt)}};return(t,U)=>(Jt(),Zt("div"))}},Fl={__name:"Shingle",setup(se){const{getUser:I}=sa(),g=cl(),k=ia(),M=oa(),C=ul(),V=pl(),p=oa(),A=s(p.$state.roofList);let ie=s(!1);const ne=la(()=>{if(console.log(A),A.value.length===0)return"";A.value[0].item==="Asphalt Shingle"&&(ie.value=!0,qe())});va(async()=>{await ha(ne).toBe(!0),console.log(ne)});const qe=()=>{if(C.$state.inputshingle.length===0)console.log("lenghth is zero");else{console.log(g,V);let t=s(!1),U=s(!1);g.$state.systeminput.length!==0&&(U=!0,console.log(U)),V.$state.polyinput.length!==0&&(t=!0,console.log(t));const i=s(k.$state.permitapp[0].formdt.address),Y=s(k.$state.permitapp[0].formdt.muni),he=s(k.$state.permitapp[0].formdt.processNumber),ze=s(I.value[0].dba),Ke=s(C.$state.inputshingle[0].shingleData.height),d=s(C.$state.inputshingle[0].shingleData.slope),L=s(C.$state.inputshingle[0].shingleData.deckType),n=s(M.$state.roofList[0].dim1),Qe=he.value.length!==0?he.value:"files",m=s(""),o=new Ct({orientation:"portrait",unit:"mm",format:"a4",compress:!0});o.setGState(new o.GState({opacity:.8}));const ae="Approved";o.setFontSize(24),o.setTextColor(150,150,150),o.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const a=new Image,Le=new Image;a.src="/demo/images/officepaper.jpeg",Le.src="/demo/images/logo.jpeg",o.addImage(Le,"JPEG",10,10,50,30),o.addImage(a,"JPEG",0,0,210,297),o.setFontSize(20),o.setTextColor(190,190,190);var v=new Date,l=v.toLocaleDateString();o.text(ae,10,270,{align:"left"});const W=o.getTextWidth(ae);o.text("on: "+l,W+15,270),o.text(`${he.value}`,10,280,{align:"left"});const ct=o.getTextWidth(`${he.value}`);o.text(`${Y.value}`,ct+15,280),o.setFontSize(12);const ut=()=>{o.setFontSize(12),o.setTextColor(0),o.text("The Shingle roof system and its components shall be installed in strict compliance  with the HVHZportions of Chapter 15 FBC, the HVHZ Roof Application Standards(RAS) 111 & 115, and the submitted MDC(NOA) Notice of Acceptance(s).The mePermit applicant agrees to comply with these installation requirements when obtaining this permit.",10,20,{maxWidth:"200"}),o.line(10,41,195,41)};o.setTextColor(0),o.circle(185,38,2,"FD"),o.text("I agree",165,39),ut(),o.setFontSize(12),o.setFontSize(14);const qt=[{category:"DBA",value:`${ze.value}`},{category:"Municipality",value:`${Y.value}`},{category:"Job Address",value:`${i.value}`},{category:"meProcess Number",value:`${he.value}`}];let Ut=10,$t=60,St=50;o.setFontSize(12),qt.forEach((w,R)=>{const F=St+R*10;o.text(w.category,Ut,F),o.text(w.value,$t,F),o.getTextWidth(w.category);const H=o.getTextWidth(w.value)*2;o.line($t,F+2,$t+H,F+2)}),o.setFontSize(12);const de=2,y=100;o.text("Roof Area:",10,y),o.text(`${n.value}`,35,y),o.line(35,y+de,45,y+de),o.text("Mean Roof Height:",50,y);const D=o.getTextWidth("Mean Roof Height:");o.text(`${Ke.value}`,y,y),o.line(90,y+de,70+D,y+de),o.text("Roof Slope:",80+D,y);const x=105+D;o.text(`${d.value}`,x,y);const xe=o.getTextWidth(`${d.value}`)*2;o.line(x,y+de,x+xe,y+de);const ge=108;o.text("Decktype:",10,ge);const me=30+xe;o.text(`${L.value}`,me,ge);const Vt=o.getTextWidth(`${L.value}`)*2;o.line(me,ge,me+Vt,ge);const $="Shingle NOA Number: ",pt="Shingle Applicant: ",vt="Shingle Material: ",Be="Shingle Description: ",Re="Fastened Underlayment(UDL)NOA: ",Ae="UDL NOA Applicant: ",De="Fastened UDL Material: ",Te="UDL Description: ",Fe="Perscriptive: ",E=179,wt=725,Oe=o.getPageInfo(1);console.log(Oe),Oe.pageContext.mediaBox.topRightX;const We=Oe.pageContext.mediaBox.topRightY,c=s(0),bt=s(0);var h=595.28-585.28,e=We-wt;c.value=h,bt.value=e,console.log(c.value,bt.value);const ye=s(C.$state.inputshingle[0].shingleData.noa),j=s(C.$state.inputshingle[0].shingleData.applicant),Xe=s(C.$state.inputshingle[0].shingleData.material),re=s(C.$state.inputshingle[0].shingleData.description),Pt=s(C.$state.inputshingle[0].shingleData.prescriptiveSelection),u=o.getTextWidth(Fe),Ne=o.getTextWidth(`${Pt.value}`),Et=h;o.text(Fe,Et,e);const Ie=u+10;o.text(`${Pt.value}`,Ie,e),o.line(Ie,e,Ie+Ne,e),e=e+10;const ce=o.getTextWidth(pt),ht=o.getTextWidth(`${j.value}`),xt=h;o.text(pt,xt,e);const ue=xt+ce;o.text(`${j.value}`,ue,e),o.line(ue,e,ue+ht,e),c.value=ue+ht;const At=o.getTextWidth($),_e=o.getTextWidth(`${ye.value}`),_=c.value+3;o.text($,_,e);const Ue=At+_;o.text(`${ye.value}`,Ue,e),o.line(Ue,e,Ue+_e,e),c.value=Ue+_e,c.value>E&&(e=e+10),console.log(c.value,E);const ke=c.value+2,zt=o.getTextWidth(vt),Dt=o.getTextWidth(`${Xe.value}`);o.text(vt,ke,e);const J=ke+zt;o.text(`${Xe.value}`,J,e),o.line(J,e,J+Dt,e),c.value=J+Dt,c.value>E&&(e=e+10),console.log(c.value,E);const Ye=o.getTextWidth(`${re.value}`),Me=o.getTextWidth(Be),ee=h;o.text(Be,ee,e);const et=ee+Me;if(o.text(`${re.value}`,et,e),o.line(et,e,et+Ye,e),c.value=et+Ye,e=e+10,console.log(V.$state.polyinput.length),V.$state.polyinput.length===0){const w="n/a",R="n/a",F="n/a",H="n/a",le=o.getTextWidth(Re),Z=o.getTextWidth(w),$e=h;o.text(Re,$e,e);const G=$e+le;o.text(w,G,e),o.line(G,e,G+Z,e),c.value=G+Z,console.log(c.value);const Se=o.getTextWidth(Ae),Tt=o.getTextWidth(R),tt=c.value+2;o.text(Ae,tt,e);const T=tt+Se;o.text(R,T,e),o.line(T,e,T+Tt,e),c.value=T+Tt,console.log(c.value),c.value>E&&(e=e+10);const r=c.value+2,b=o.getTextWidth(De),X=o.getTextWidth(F);o.text(De,r,e);const f=r+b;o.text(F,f,e),o.line(f,e,f+X,e),c.value=f+X,console.log(c.value),c.value>E&&(e=e+10),console.log(c.value);const z=o.getTextWidth(Te),B=o.getTextWidth(H),P=h,S=P+B;console.log(S),o.text(Te,P,e),S>E&&print(S);const N=P+z;o.text(H,N,e),o.line(N,e,N+B,e),c.value=N+B,e=e+10}else{const w=s(V.$state.polyinput[0].polyData.noa),R=s(V.$state.polyinput[0].polyData.applicant),F=s(V.$state.polyinput[0].polyData.material),H=s(V.$state.polyinput[0].polyData.description),le=o.getTextWidth(Re),Z=o.getTextWidth(`${w.value}`),$e=h;o.text(Re,$e,e);const G=ee+le;o.text(`${w.value}`,G,e),o.line(G,e,G+Z,e),c.value=G+Z;const Se=o.getTextWidth(Ae),Tt=o.getTextWidth(`${R.value}`),tt=c.value+2;o.text(Ae,tt,e);const T=tt+Se;o.text(`${R.value}`,T,e),o.line(T,e,T+Tt,e),c.value=T+Tt,c.value>E&&(e=e+10);const r=h,b=o.getTextWidth(De),X=o.getTextWidth(`${F.value}`);o.text(De,r,e);const f=r+b;o.text(`${F.value}`,f,e),o.line(f,e,f+X,e),c.value=f+X,c.value>E&&(e=e+10),console.log(c.value);const z=o.getTextWidth(Te),B=o.getTextWidth(`${H.value}`),P=c.value+2,S=P+B;console.log(S),o.text("UDL Description:",P,e),S>E&&print(S);const N=P+z;o.text(`${H.value}`,N,e),o.line(N,e,N+B,e),c.value=N+B,console.log(c.value),e=e+10}const fe="Self Adhered NOA: ",Ce="S/A NOA Applicant: ",gt="S/A System F: ",Yt="S/A Material: ",Bt="S/A Description: ";if(console.log(g.$state.systeminput.length),g.$state.systeminput.length===0){const w="n/a",R="n/a",F="n/a",H="n/a",le="n/a",Z=o.getTextWidth(fe),$e=o.getTextWidth(w),G=h;o.text(fe,G,e);const Se=G+Z;o.text(w,Se,e),o.line(Se,e,Se+$e,e),c.value=Se+$e,console.log(c.value);const Tt=o.getTextWidth(Ce),tt=o.getTextWidth(R),T=c.value+3;o.text(Ce,T,e);const r=T+Tt;o.text(R,r,e),o.line(r,e,r+tt,e),c.value=r+tt,console.log(c.value);const b=o.getTextWidth(gt),X=c.value+3;o.text(gt,X,e);const f=X+b;o.text(F,f,e),o.line(f,e,f+b,e),c.value=f+b,console.log(c.value),e=e+10;const z=o.getTextWidth(Yt),B=o.getTextWidth(H),P=h;o.text(Yt,P,e);const S=P+z;o.text(H,S,e),o.line(S,e,S+B,e),c.value=S+B,console.log(c.value);const N=o.getTextWidth(Bt),q=o.getTextWidth(le),K=c.value+3;o.text(Bt,K,e);const O=K+N;o.text(le,O,e),o.line(O,e,O+q,e),c.value=O+q,console.log(c.value)}else{console.log("Entered sbs line 455",g.$state);const w=s(g.$state.systeminput[0].systemData.noa),R=s(g.$state.systeminput[0].systemData.manufacturer),F=s(g.$state.systeminput.pdfSystemValue),H=s(g.$state.systeminput[0].systemData.material),le=s(g.$state.systeminput[0].systemData.description),Z=o.getTextWidth(fe),$e=o.getTextWidth(`${w.value}`),G=h;o.text(fe,G,e);const Se=G+Z;o.text(`${w.value}`,Se,e),o.line(Se,e,Se+$e,e),c.value=Se+$e;const Tt=o.getTextWidth(Ce),tt=o.getTextWidth(`${R.value}`),T=c.value+3;o.text(Ce,T,e);const r=T+Tt;o.text(`${R.value}`,r,e),o.line(r,e,r+tt,e),c.value=r+tt,console.log(c.value);const b=o.getTextWidth(gt),X=o.getTextWidth(`${F.value}`),f=c.value+3;o.text(gt,f,e);const z=f+b;o.text(`${F.value}`,z,e),o.line(z,e,z+X,e),c.value=z+X,e=e+10,console.log(c.value);const B=o.getTextWidth(Yt),P=o.getTextWidth(`${H.value}`),S=h;o.text(Yt,S,e);const N=S+B;o.text(`${H.value}`,N,e),o.line(N,e,N+P,e),c.value=N+P,c.value>E&&(e=e+10),console.log(c.value);const q=o.getTextWidth(Bt),K=o.getTextWidth(`${le.value}`),O=c.value+3;o.text(Bt,O,e);const oe=O+q;o.text(`${le.value}`,oe,e),o.line(oe,e,oe+K,e),c.value=oe+K,c.value>=E&&(e=e+10),console.log(c.value)}const He="Shingle.pdf",Ft=o.output("blob");(async(w,R)=>{const F=w,H=F;console.log(H);const le=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${Qe}/${H}`;try{const Z=await fetch(le,{method:"PUT",headers:{"Content-Type":F.type},body:R});Z.ok?(m.value=le,alert("File uploaded successfully!")):alert(`Failed to upload file. Status: ${Z.status}`)}catch(Z){console.error("Error uploading file:",Z),alert("An error occurred while uploading the file.")}})(He,Ft)}};return(v,l)=>(Jt(),Zt("div"))}},Xl=Ze("h1",null,"Generate PDF with Columns and Underlined Text",-1),Nl=[Xl],kl={__name:"TileAdhesive",setup(se){const I=Ia(),g=Ua(),{getUser:k}=sa(),M=ia(),C=oa(),V=s(C.$state.roofList),p=vl(),A=Oa();let ie=s(!1);const ne=la(()=>{if(V.value.length===0)return"";V.value[0].item==="Adhesive Set Tile"&&(ie.value=!0,qe())});va(async()=>{await ha(ne).toBe(!0)});const qe=()=>{if(console.log(p.tilenoa),p.tilenoa.value[0].length===0)console.log("lenghth is zero");else{const t=new Ct({orientation:"portrait",unit:"mm",format:"a4",compress:!0});let U=s(!1),i=s(!1);g.$state.tilesysEinput.length!==0&&(U=!0,console.log(U)),I.$state.tilefinput.length!==0&&(i=!0,console.log(i));const Y=179,he=725,ze=t.getPageInfo(1);ze.pageContext.mediaBox.topRightX;const Ke=ze.pageContext.mediaBox.topRightY,d=s(0),L=s(0);var v=595.28-585.28,l=Ke-he;d.value=v,L.value=l;const n=s(p.tilenoa.value[0].height),Qe=s(p.tilenoa.value[0].slope),m=s(p.tilenoa.value[0].area),o=s(p.tilenoa.value[0].deckType),ae=s(p.tilenoa.value[0].perimeter),a=s(M.$state.permitapp[0].formdt.address),Le=s(M.$state.permitapp[0].formdt.muni),W=s(M.$state.permitapp[0].formdt.processNumber),ct=W.value.length!==0?W.value:"files",ut=s(""),qt=s(k.value[0].dba);t.setGState(new t.GState({opacity:.8}));const Ut="Approved";t.setFontSize(24),t.setTextColor(150,150,150),t.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const $t=new Image,St=new Image;$t.src="/demo/images/officepaper.jpeg",St.src="/demo/images/logo.jpeg",t.addImage(St,"JPEG",10,1,50,30),t.addImage($t,"JPEG",0,0,210,297),t.setFontSize(20),t.setTextColor(190,190,190);var h=new Date,e=h.toLocaleDateString();t.text(Ut,10,270,{align:"left"});const de=t.getTextWidth(Ut);t.text("on: "+e,de+15,270),t.text(`${W.value}`,10,280,{align:"left"});const y=t.getTextWidth(`${W.value}`);t.text(`${Le.value}`,y+15,280),t.setFontSize(12);const D=()=>{t.setFontSize(12),t.setTextColor(0),t.text("The tile roof system and its components shall be installed in strict compliance with the FBC 2023 HVHZ portions of Chapter 15, the HVHZ Tile Application Standards: RAS-119, RAS-120 & RAS-127 and the submitted MDC Notice of Acceptance(s). The mePermit applicant agrees to comply with these installation requirements when obtaining this permit.",10,20,{maxWidth:"200"}),t.line(10,41,195,41)};t.setTextColor(0),t.circle(185,38,2,"FD"),t.text("I agree",165,39),D(),t.setFontSize(12),t.setFontSize(14);const x=[{category:"DBA",value:`${qt.value}`},{category:"Municipality",value:`${Le.value}`},{category:"Job Address",value:`${a.value}`},{category:"meProcess Number",value:`${W.value}`}];let xe=10,ge=60,me=50;t.setFontSize(12),x.forEach((te,ve)=>{const Q=me+ve*10;t.text(te.category,xe,Q),t.text(te.value,ge,Q),t.getTextWidth(te.category);const we=t.getTextWidth(te.value)*2;t.line(ge,Q+2,ge+we,Q+2)}),t.setFontSize(12);const $=90,pt="Roof Area: ",vt="Decktype: ",Be="Mean Roof Height: ",Re="Roof Slope: ",Ae="Roof Perimeter: ";d.value=v;const De=t.getTextWidth(pt),Te=t.getTextWidth(`${m.value}`),Fe=d.value;t.text(pt,Fe,$);const E=De+Fe;t.text(`${m.value}`,E,$),t.line(E,$,E+Te,$),d.value=E+Te,console.log(l,$);const wt=t.getTextWidth(Be),Oe=t.getTextWidth(`${n.value}`),We=d.value+2;t.text(Be,We,$);const c=wt+We;t.text(`${n.value}`,c,$),t.line(c,$,c+Oe,$),d.value=c+Oe;const bt=t.getTextWidth(Re),ye=t.getTextWidth(`${Qe.value}`),j=d.value+2;t.text(Re,j,$);const Xe=bt+j;t.text(`${Qe.value}`,Xe,$),t.line(Xe,$,Xe+ye,$),d.value=Xe+ye;const re=t.getTextWidth(Ae),Pt=t.getTextWidth(`${ae.value}`),u=d.value+2;t.text(Ae,u,$);const Ne=re+u;t.text(`${ae.value}`,Ne,$),t.line(Ne,$,Ne+Pt,$),console.log($,l),l=$+10;const Et=t.getTextWidth(vt),Ie=t.getTextWidth(`${o.value}`),ce=v;t.text(vt,ce,l);const ht=Et+ce;t.text(`${o.value}`,ht,l),t.line(ht,l,ht+Ie,l),l=l+10;const xt="Tile NOA Number: ",ue="Tile Applicant: ",At="Tile Material: ",_e="Tile Description: ",_="Fastened Underlayment(UDL)NOA: ",Ue="UDL NOA Applicant: ",ke="Fastened UDL Material: ",zt="Select System E: ",Dt="Design psf: ",J="Anchor Base Sheet: ",Ye="UDL Description: ",Me="Prescriptive: ",ee="DripEdge Materiall: ",et="DripEdge Size: ";console.log(p.tilenoa);const fe=s(A.$state.dripinput[0].dripData),Ce=s(A.$state.dripinput[3].dripData),gt=t.getTextWidth(ee),Yt=t.getTextWidth(`${fe.value}`),Bt=v;t.text(ee,Bt,l);const He=gt+Bt;t.text(`${fe.value}`,He,l),t.line(He,l,He+Yt,l),l=l+10;const Ft=t.getTextWidth(et),mt=t.getTextWidth(`${Ce.value}`),w=v;t.text(et,w,l);const R=Ft+w;t.text(`${Ce.value}`,R,l),t.line(R,l,R+mt,l),l=l+10;const F=s(p.tilenoa.value[0].mf1),H=s(p.tilenoa.value[0].lambda1),le=s(p.tilenoa.value[0].mg1),Z=s(p.tilenoa.value[0].mr1),$e=s(p.tilenoa.value[0].zoneone),G=s(p.tilenoa.value[0].mf2),Se=s(p.tilenoa.value[0].lambda2),Tt=s(p.tilenoa.value[0].mg2),tt=s(p.tilenoa.value[0].mr2),T=s(p.tilenoa.value[0].zonetwo),r=s(p.tilenoa.value[0].mf3),b=s(p.tilenoa.value[0].lambda3),X=s(p.tilenoa.value[0].mg3),f=s(p.tilenoa.value[0].mr3),z=s(p.tilenoa.value[0].zonethree),B=s(p.tilenoa.value[0].prescriptiveSelection.selectedBasesheet),P=t.getTextWidth(`${B.value.selectedBasesheet}`),S=v;t.text(Me,S,l);const N=v;l=l+10,t.text(`${B.value}`,N,l),t.line(N,l,N+P,l),l=l+10;const q=s(p.tilenoa.value[0].noa),K=s(p.tilenoa.value[0].applicant),O=s(p.tilenoa.value[0].material),oe=s(p.tilenoa.value[0].description),Ge=t.getTextWidth(ue),Ve=t.getTextWidth(`${K.value}`),at=v;t.text(ue,at,l);const je=at+Ge;t.text(`${K.value}`,je,l),t.line(je,l,je+Ve,l),d.value=je+Ve;const lt=t.getTextWidth(xt),pe=t.getTextWidth(`${q.value}`),be=d.value+3;t.text(xt,be,l);const Rt=lt+be;t.text(`${q.value}`,Rt,l),t.line(Rt,l,Rt+pe,l);const Ht=t.getTextWidth(`${O.value}`);d.value=Rt+Ht,d.value>Y&&(l=l+10);const Je=v,Qt=t.getTextWidth(At),Wa=t.getTextWidth(`${O.value}`);t.text(At,Je,l);const ea=Je+Qt;t.text(`${O.value}`,ea,l),t.line(ea,l,ea+Wa,l);const na=t.getTextWidth(`${oe.value}`);d.value=ea+na,d.value>Y&&(l=l+10),console.log(d.value,Y),l=l+10;const xa=t.getTextWidth(`${oe.value}`),Aa=t.getTextWidth(_e),Lt=v;t.text(_e,Lt,l);const da=Lt+Aa;if(t.text(`${oe.value}`,da,l),t.line(da,l,da+xa,l),d.value=da+xa,console.log(g),l=l+10,g.$state.tilesysEinput.length===0){const te="n/a",ve="n/a",Q="n/a",we="n/a",Wt=t.getTextWidth(_),ot=t.getTextWidth(te),Ot=v;t.text(_,Ot,l);const Xt=Ot+Wt;t.text(te,Xt,l),t.line(Xt,l,Xt+ot,l),d.value=Xt+ot,console.log(d.value);const st=t.getTextWidth(Ue),yt=t.getTextWidth(ve),rt=d.value+2;t.text(Ue,rt,l);const Nt=rt+st;t.text(ve,Nt,l),t.line(Nt,l,Nt+yt,l),d.value=Nt+yt,console.log(d.value),d.value>Y&&(l=l+10);const it=d.value+2,Gt=t.getTextWidth(ke),ft=t.getTextWidth(Q);t.text(ke,it,l);const nt=it+Gt;t.text(Q,nt,l),t.line(nt,l,nt+ft,l),d.value=nt+ft,console.log(d.value),d.value>Y&&(l=l+10),console.log(d.value);const It=t.getTextWidth(Ye),jt=t.getTextWidth(we),kt=v,Pe=kt+jt;console.log(Pe),t.text(Ye,kt,l),Pe>Y&&print(Pe);const dt=kt+It;t.text(we,dt,l),t.line(dt,l,dt+jt,l),d.value=dt+jt,l=l+10}else{const te=s(g.$state.tilesysEinput[0].systemDataE.noa),ve=s(g.$state.tilesysEinput[0].systemDataE.manufacturer),Q=s(g.$state.tilesysEinput[0].systemDataE.material),we=s(g.$state.tilesysEinput[0].systemDataE.systemSelected),Wt=s(g.$state.tilesysEinput[0].systemDataE.dP),ot=s(g.$state.tilesysEinput[0].systemDataE.Anchor_Base),Ot=s(g.$state.tilesysEinput[0].systemDataE.tileCap),Xt=t.getTextWidth(_),st=t.getTextWidth(`${te.value}`),yt=v;t.text(_,yt,l);const rt=Lt+Xt;t.text(`${te.value}`,rt,l),t.line(rt,l,rt+st,l),d.value=rt+st;const Nt=t.getTextWidth(Ue),it=t.getTextWidth(`${ve.value}`),Gt=d.value+2;t.text(Ue,Gt,l);const ft=Gt+Nt;t.text(`${ve.value}`,ft,l),t.line(ft,l,ft+it,l);const nt=t.getTextWidth(`${Q.value}`);d.value=ft+nt,l=l+10;const It=v,jt=t.getTextWidth(ke),kt=t.getTextWidth(`${Q.value}`);t.text(ke,It,l);const Pe=It+jt;t.text(`${Q.value}`,Pe,l),t.line(Pe,l,Pe+kt,l),d.value=Pe+kt,d.value>Y&&(l=l+10);const dt=d.value+5,ca=t.getTextWidth(zt),_t=t.getTextWidth(`${we.value}`);t.text(zt,dt,l);const Mt=dt+ca;t.text(`${we.value}`,Mt,l),t.line(Mt,l,Mt+_t,l),d.value=Mt+_t,d.value>Y&&(l=l+10);const ua=t.getTextWidth(Dt),ka=t.getTextWidth(`${Wt.value}`),Ma=d.value+3;t.text(Dt,Ma,l);const $a=Ma+ua;t.text(`${Wt.value}`,$a,l),t.line($a,l,$a+ka,l),d.value=$a+ka,console.log(d.value),l=l+10,t.getTextWidth(J);const Ca=t.getTextWidth(`${ot.value}`),Ja=v;t.text(J,Ja,l),l=l+10;const Sa=v;t.text(`${ot.value}`,Sa,l),t.line(Sa,l,Sa+Ca,l),d.value=Sa+Ca,l=l+10;const Za=t.getTextWidth(Ye),wa=t.getTextWidth(`${Ot.value}`),Pa=v;t.text(Ye,Pa,l);const Va=Pa+Za;t.text(`${Ot.value}`,Va,l),t.line(Va,l,Va+wa,l),d.value=Va+wa,console.log(d.value),l=l+10}const ta="Self Adhered NOA: ",aa="S/A NOA Applicant: ",Kt="S/A System F: ",ra="S/A Material: ",fa="S/A Description: ";if(I.$state.tilefinput.length===0){const te="n/a",ve="n/a",Q="n/a",we="n/a",Wt="n/a",ot=t.getTextWidth(ta),Ot=t.getTextWidth(te),Xt=v;t.text(ta,Xt,l);const st=Xt+ot;t.text(te,st,l),t.line(st,l,st+Ot,l),d.value=st+Ot,console.log(d.value);const yt=t.getTextWidth(aa),rt=t.getTextWidth(ve),Nt=d.value+3;t.text(aa,Nt,l);const it=Nt+yt;t.text(ve,it,l),t.line(it,l,it+rt,l),d.value=it+rt,console.log(d.value);const Gt=t.getTextWidth(Kt),ft=d.value+3;t.text(Kt,ft,l);const nt=ft+Gt;t.text(Q,nt,l),t.line(nt,l,nt+Gt,l),d.value=nt+Gt,console.log(d.value),l=l+10;const It=t.getTextWidth(ra),jt=t.getTextWidth(we),kt=v;t.text(ra,kt,l);const Pe=kt+It;t.text(we,Pe,l),t.line(Pe,l,Pe+jt,l),d.value=Pe+jt,console.log(d.value);const dt=t.getTextWidth(fa),ca=t.getTextWidth(Wt),_t=d.value+3;t.text(fa,_t,l);const Mt=_t+dt;t.text(Wt,Mt,l),t.line(Mt,l,Mt+ca,l),d.value=Mt+ca,console.log(d.value)}else{console.log("Entered sbs line 455",I.$state);const te=s(I.$state.tilefinput[0].systemData.noa),ve=s(I.$state.tilefinput[0].systemData.manufacturer),Q=s(I.$state.tilefinput[0].systemData.pressure),we=s(I.$state.tilefinput[0].systemData.material),Wt=s(I.$state.tilefinput[0].systemData.description),ot=t.getTextWidth(ta),Ot=t.getTextWidth(`${te.value}`),Xt=v;t.text(ta,Xt,l);const st=Xt+ot;t.text(`${te.value}`,st,l),t.line(st,l,st+Ot,l),d.value=st+Ot;const yt=t.getTextWidth(aa),rt=t.getTextWidth(`${ve.value}`),Nt=d.value+3;t.text(aa,Nt,l);const it=Nt+yt;t.text(`${ve.value}`,it,l),t.line(it,l,it+rt,l),d.value=it+rt,console.log(d.value);const Gt=t.getTextWidth(Kt),ft=t.getTextWidth(`${Q.value}`),nt=d.value+3;t.text(Kt,nt,l);const It=nt+Gt;t.text(`${Q.value}`,It,l),t.line(It,l,It+ft,l),d.value=It+ft,l=l+10;const jt=t.getTextWidth(ra),kt=t.getTextWidth(`${we.value}`),Pe=v;t.text(ra,Pe,l);const dt=Pe+jt;t.text(`${we.value}`,dt,l),t.line(dt,l,dt+kt,l),d.value=dt+kt,d.value>Y&&(l=l+10);const ca=t.getTextWidth(fa),_t=t.getTextWidth(`${Wt.value}`),Mt=d.value+3;t.text(fa,Mt,l);const ua=Mt+ca;t.text(`${Wt.value}`,ua,l),t.line(ua,l,ua+_t,l),d.value=ua+_t,d.value>=Y&&(l=l+10),console.log(d.value),l=l+10}l=l+10,t.setFont("times","normal"),console.log(p.tilenoa.value[0]);const Xa=[["Zone 1:",`${$e.value}`,"x λ",`${H.value}`,"- Mg:",`${le.value}`,"= Mr1:",`${Z.value}`,"NOA Mf:",`${F.value}`],["Zone 2:",`${T.value}`,"x λ",`${Se.value}`,"- Mg:",`${Tt.value}`,"= Mr2:",`${tt.value}`,"NOA Mf:",`${G.value}`],["Zone 3:",`${z.value}`,"x λ",`${b.value}`,"- Mg:",`${X.value}`,"= Mr2:",`${f.value}`,"NOA Mf:",`${r.value}`]];console.log(Xa);let Ha=v-5,Na=l;Xa.forEach(te=>{let ve=Ha;te.forEach(Q=>{t.text(String(Q),ve,Na),ve+=18}),Na+=5});const Ga="TileAdhesive.pdf",ja=t.output("blob");(async(te,ve)=>{const Q=te,we=Q;console.log(we);const Wt=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${ct}/${we}`;try{const ot=await fetch(Wt,{method:"PUT",headers:{"Content-Type":Q.type},body:ve});ot.ok?(ut.value=Wt,alert("File uploaded successfully!")):alert(`Failed to upload file. Status: ${ot.status}`)}catch(ot){console.error("Error uploading file:",ot),alert("An error occurred while uploading the file.")}})(Ga,ja)}};return(v,l)=>(Jt(),Zt("div",null,Nl))}},Ml={__name:"TileMechanical",setup(se){const{getUser:I}=sa();let g=s(!1);const k=ia(),M=oa(),C=s(M.$state.roofList),{mechStore:V}=hl(),p=Ia(),A=Ua(),ie=Oa(),ne=la(()=>{if(C.value.length===0)return"";C.value[0].item==="Mechanical Fastened Tile"&&(g.value=!0,qe())});va(async()=>{await ha(ne).toBe(!0),console.log(ne)});const qe=()=>{if(V.tilemech.value.length===0)console.log("lenghth is   zero");else{let t=s(!1),U=s(!1);A.$state.tilesysEinput.length!==0&&(t=!0,console.log(t)),p.$state.tilefinput.length!==0&&(U=!0,console.log(U)),console.log(V.tilemech.value[0]);const i=s(V.tilemech.value[0].height),Y=s(V.tilemech.value[0].slope),he=s(V.tilemech.value[0].deckType),ze=s(M.$state.roofList[0].dim3),Ke=s(k.$state.permitapp[0].formdt.address),d=s(k.$state.permitapp[0].formdt.muni),L=s(k.$state.permitapp[0].formdt.processNumber),n=s(ie.$state.dripinput[0].dripData),Qe=s(ie.$state.dripinput[3].dripData),m=L.value.length!==0?L.value:"files",o=s(""),ae=s(I.value[0].dba),a=new Ct({orientation:"portrait",unit:"mm",format:"a4",compress:!0});a.setGState(new a.GState({opacity:.8}));const Le="Approved";a.setFontSize(24),a.setTextColor(150,150,150),a.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const W=new Image,ct=new Image;W.src="/demo/images/officepaper.jpeg",ct.src="/demo/images/logo.jpeg",a.addImage(ct,"JPEG",10,10,50,30),a.addImage(W,"JPEG",0,0,210,297),a.setFontSize(20),a.setTextColor(190,190,190);var v=new Date,l=v.toLocaleDateString();a.text(Le,10,270,{align:"left"});const ut=a.getTextWidth(Le);a.text("on: "+l,ut+15,270),a.text(`${L.value}`,10,280,{align:"left"});const qt=a.getTextWidth(`${L.value}`);a.text(`${d.value}`,qt+15,280),a.setFontSize(12);const Ut=()=>{a.setFontSize(12),a.setTextColor(0),a.text("The tile roof system and its components shall be installed in strict compliance with the FBC 2023 HVHZ portions of Chapter 15, the HVHZ Tile Application Standards: RAS-119, RAS-120 & RAS-127 and the submitted MDC Notice of Acceptance(s).",10,20,{maxWidth:"200"}),a.line(10,41,195,41)};a.setTextColor(0),a.circle(185,38,2,"FD"),a.text("I agree",165,39),Ut(),a.setFontSize(12),a.setFontSize(14);const $t=[{category:"DBA",value:`${ae.value}`},{category:"Municipality",value:`${d.value}`},{category:"Job Address",value:`${Ke.value}`},{category:"meProcess Number",value:`${L.value}`}];let St=10,de=60,y=50;a.setFontSize(12),$t.forEach((T,r)=>{const b=y+r*10;a.text(T.category,St,b),a.text(T.value,de,b),a.getTextWidth(T.category);const X=a.getTextWidth(T.value)*2;a.line(de,b+2,de+X,b+2)}),a.setFontSize(12);const D=2,x=100;a.text("Roof Area:",10,x),a.text(`${ze.value}`,35,x),a.line(35,x+D,45,x+D),a.text("Mean Roof Height:",50,x);const xe=a.getTextWidth("Mean Roof Height:");a.text(`${i.value}`,x,x),a.line(90,x+D,70+xe,x+D),a.text("Roof Slope:",80+xe,x);const ge=105+xe;a.text(`${Y.value}`,ge,x);const me=a.getTextWidth(`${Y.value}`)*2;a.line(ge,x+D,ge+me,x+D);const Vt=108;a.text("Decktype:",10,Vt);const $=30+me;a.text(`${he.value}`,$,Vt);const pt=a.getTextWidth(`${he.value}`)*2;a.line($,Vt,$+pt,Vt);const vt="Tile NOA Number: ",Be="Tile Applicant: ",Re="Tile Material: ",Ae="Tile Description: ",De="Fastened (UDL) NOA: ",Te="(UDL) NOA Applicant: ",Fe="Fastened (UDL) Material: ",E="Select System E: ",wt="Design psf: ",Oe="Anchor Base Sheet: ",We="(UDL) Description: ",c="Prescriptive: ",bt="DripEdge Matetiral: ",ye="DripEdge Size: ",j=179,Xe=725,re=a.getPageInfo(1);console.log(re),re.pageContext.mediaBox.topRightX;const Pt=re.pageContext.mediaBox.topRightY,u=s(0),Ne=s(0);var h=595.28-585.28,e=Pt-Xe;u.value=h,Ne.value=e,console.log(u.value,Ne.value);const Et=s(V.tilemech.value[0].noa),Ie=s(V.tilemech.value[0].manufacturer),ce=s(V.tilemech.value[0].material),ht=s(V.tilemech.value[0].description);a.getTextWidth(c);const xt=h;a.text(c,xt,e),e=e+10,e=e+10;const ue=a.getTextWidth(bt),At=a.getTextWidth(`${n.value}`),_e=h;a.text(bt,_e,e);const _=ue+_e;a.text(`${n.value}`,_,e),a.line(_,e,_+At,e),e=e+10;const Ue=a.getTextWidth(ye),ke=a.getTextWidth(`${Qe.value}`),zt=h;a.text(ye,zt,e);const Dt=Ue+zt;a.text(`${Qe.value}`,Dt,e),a.line(Dt,e,Dt+ke,e),e=e+10;const J=a.getTextWidth(`${Ie.value}`),Ye=a.getTextWidth(Be),Me=h;a.text(Be,Me,e);const ee=Me+Ye;a.text(`${Ie.value}`,ee,e),a.line(ee,e,ee+J,e),u.value=ee+J;const et=a.getTextWidth(vt),fe=a.getTextWidth(`${Et.value}`),Ce=u.value+et;a.text(vt,u.value+2,e),a.text(`${Et.value}`,Ce+2,e),a.line(Ce,e,Ce+fe,e),u.value=Ce+fe;const gt=e,Yt=a.getTextWidth(Re),Bt=a.getTextWidth(`${ce.value}`),He=u.value+5;a.text(Re,He,gt);const Ft=He+Yt;a.text(`${ce.value}`,Ft,gt),a.line(Ft,gt,Ft+Bt,gt),u.value=Ft+Bt,e=e+10;const mt=a.getTextWidth(`${ht.value}`),w=a.getTextWidth(Ae),R=h;a.text(Ae,R,e);const F=R+w;if(a.text(`${ht.value}`,F,e),a.line(F,e,F+mt,e),u.value=F+mt,e=e+10,A.$state.tilesysEinput.length===0){const T="n/a",r="n/a",b="n/a",X="n/a",f=a.getTextWidth(De),z=a.getTextWidth(T),B=h;a.text(De,B,e);const P=B+f;a.text(T,P,e),a.line(P,e,P+z,e),u.value=P+z,console.log(u.value);const S=a.getTextWidth(Te),N=a.getTextWidth(r),q=u.value+2;a.text(Te,q,e);const K=q+S;a.text(r,K,e),a.line(K,e,K+N,e),u.value=K+N,console.log(u.value),u.value>j&&(e=e+10);const O=u.value+2,oe=a.getTextWidth(Fe),Ge=a.getTextWidth(b);a.text(Fe,O,e);const Ve=O+oe;a.text(b,Ve,e),a.line(Ve,e,Ve+Ge,e),u.value=Ve+Ge,console.log(u.value),u.value>j&&(e=e+10),console.log(u.value);const at=a.getTextWidth(We),je=a.getTextWidth(X),lt=h,pe=lt+je;console.log(pe),a.text(We,lt,e),pe>j&&print(pe);const be=lt+at;a.text(X,be,e),a.line(be,e,be+je,e),u.value=be+je,e=e+10}else{const T=s(A.$state.tilesysEinput[0].systemDataE.noa),r=s(A.$state.tilesysEinput[0].systemDataE.manufacturer),b=s(A.$state.tilesysEinput[0].systemDataE.material),X=s(A.$state.tilesysEinput[0].systemDataE.systemSelected),f=s(A.$state.tilesysEinput[0].systemDataE.dP),z=s(A.$state.tilesysEinput[0].systemDataE.Anchor_Base),B=s(A.$state.tilesysEinput[0].systemDataE.tileCap),P=a.getTextWidth(De),S=a.getTextWidth(`${T.value}`),N=h;a.text(De,N,e);const q=R+P;a.text(`${T.value}`,q,e),a.line(q,e,q+S,e),u.value=q+S;const K=a.getTextWidth(Te),O=a.getTextWidth(`${r.value}`),oe=u.value+2;a.text(Te,oe,e);const Ge=oe+K;a.text(`${r.value}`,Ge,e),a.line(Ge,e,Ge+O,e);const Ve=a.getTextWidth(`${b.value}`);u.value=Ge+Ve,e=e+10;const at=h,je=a.getTextWidth(Fe),lt=a.getTextWidth(`${b.value}`);a.text(Fe,at,e);const pe=at+je;a.text(`${b.value}`,pe,e),a.line(pe,e,pe+lt,e),u.value=pe+lt,u.value>j&&(e=e+10);const be=u.value+5,Rt=a.getTextWidth(E),Ht=a.getTextWidth(`${X.value}`);a.text(E,be,e);const Je=be+Rt;a.text(`${X.value}`,Je,e),a.line(Je,e,Je+Ht,e),u.value=Je+Ht,u.value>j&&(e=e+10);const Qt=a.getTextWidth(wt),Wa=a.getTextWidth(`${f.value}`),ea=u.value+3;a.text(wt,ea,e);const na=ea+Qt;a.text(`${f.value}`,na,e),a.line(na,e,na+Wa,e),u.value=na+Wa,console.log(u.value),e=e+10,a.getTextWidth(Oe);const xa=a.getTextWidth(`${z.value}`),Aa=h;a.text(Oe,Aa,e),e=e+10;const Lt=h;a.text(`${z.value}`,Lt,e),a.line(Lt,e,Lt+xa,e),u.value=Lt+xa,e=e+10;const da=a.getTextWidth(We),ta=a.getTextWidth(`${B.value}`),aa=h;a.text(We,aa,e);const Kt=aa+da;a.text(`${B.value}`,Kt,e),a.line(Kt,e,Kt+ta,e),u.value=Kt+ta,console.log(u.value),e=e+10}const H="Self Adhered NOA: ",le="S/A NOA Applicant: ",Z="S/A System F: ",$e="S/A Material: ",G="S/A Description: ";if(p.$state.tilefinput.length===0){const T="n/a",r="n/a",b="n/a",X="n/a",f="n/a",z=a.getTextWidth(H),B=a.getTextWidth(T),P=h;a.text(H,P,e);const S=P+z;a.text(T,S,e),a.line(S,e,S+B,e),u.value=S+B,console.log(u.value);const N=a.getTextWidth(le),q=a.getTextWidth(r),K=u.value+3;a.text(le,K,e);const O=K+N;a.text(r,O,e),a.line(O,e,O+q,e),u.value=O+q,console.log(u.value);const oe=a.getTextWidth(Z),Ge=u.value+3;a.text(Z,Ge,e);const Ve=Ge+oe;a.text(b,Ve,e),a.line(Ve,e,Ve+oe,e),u.value=Ve+oe,console.log(u.value),e=e+10;const at=a.getTextWidth($e),je=a.getTextWidth(X),lt=h;a.text($e,lt,e);const pe=lt+at;a.text(X,pe,e),a.line(pe,e,pe+je,e),u.value=pe+je,console.log(u.value);const be=a.getTextWidth(G),Rt=a.getTextWidth(f),Ht=u.value+3;a.text(G,Ht,e);const Je=Ht+be;a.text(f,Je,e),a.line(Je,e,Je+Rt,e),u.value=Je+Rt,console.log(u.value)}else{console.log("Entered sbs line 455",p.$state);const T=s(p.$state.tilefinput[0].systemData.noa),r=s(p.$state.tilefinput[0].systemData.manufacturer),b=s(p.$state.tilefinput[0].systemData.pressure),X=s(p.$state.tilefinput[0].systemData.material),f=s(p.$state.tilefinput[0].systemData.description),z=a.getTextWidth(H),B=a.getTextWidth(`${T.value}`),P=h;a.text(H,P,e);const S=P+z;a.text(`${T.value}`,S,e),a.line(S,e,S+B,e),u.value=S+B;const N=a.getTextWidth(le),q=a.getTextWidth(`${r.value}`),K=u.value+3;a.text(le,K,e);const O=K+N;a.text(`${r.value}`,O,e),a.line(O,e,O+q,e),u.value=O+q,console.log(u.value);const oe=a.getTextWidth(Z),Ge=a.getTextWidth(`${b.value}`),Ve=u.value+3;a.text(Z,Ve,e);const at=Ve+oe;a.text(`${b.value}`,at,e),a.line(at,e,at+Ge,e),u.value=at+Ge,e=e+10;const je=a.getTextWidth($e),lt=a.getTextWidth(`${X.value}`),pe=h;a.text($e,pe,e);const be=pe+je;a.text(`${X.value}`,be,e),a.line(be,e,be+lt,e),u.value=be+lt,u.value>j&&(e=e+10);const Rt=a.getTextWidth(G),Ht=a.getTextWidth(`${f.value}`),Je=u.value+3;a.text(G,Je,e);const Qt=Je+Rt;a.text(`${f.value}`,Qt,e),a.line(Qt,e,Qt+Ht,e),u.value=Qt+Ht,u.value>=j&&(e=e+10),console.log(u.value)}const Se="MechanicalTile.pdf",Tt=a.output("blob");(async(T,r)=>{const b=T,X=b;console.log(X);const f=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${m}/${X}`;try{const z=await fetch(f,{method:"PUT",headers:{"Content-Type":b.type},body:r});z.ok?(o.value=f,alert("File uploaded successfully!")):alert(`Failed to upload file. Status: ${z.status}`)}catch(z){console.error("Error uploading file:",z),alert("An error occurred while uploading the file.")}})(Se,Tt)}};return(v,l)=>(Jt(),Zt("div"))}},Cl=se=>(ll("data-v-2c965252"),se=se(),ol(),se),wl={class:"card"},Pl=Cl(()=>Ze("p",null,"The roof systems you selected",-1)),El={class:"rounded border border-surface-200 dark:border-surface-700 p-6 bg-surface-0 dark:bg-surface-900"},zl={class:"flex mb-4"},Bl={class:"flex justify-between mt-4"},Rl={__name:"Checkout",setup(se){var ze,Ke;const{accountUsers:I}=sa(),g=s(!1),k=s(!1);s("");let M=s(!1),C=s(!1),V=s(!1),p=s(!1),A=s(!1);const ie=s("");s(""),s(""),s("");const ne=ia(),qe=oa(),v=s(qe.$state.roofList),l=s(((Ke=(ze=ne.$state.permitapp[0])==null?void 0:ze.formdt)==null?void 0:Ke.processNumber)||""),h=Ba(),e=s(h.$state.generalpdfinput),{getNumbers:t}=dl(l.value);function U(){I.value.forEach((d,L)=>{ie.value=d.dba})}const i=la(()=>{t(l.value),k.value=!0,setTimeout(()=>{k.value=!0},1e3),console.log(l.value)}),Y=la(()=>{if(v.value.length===0)return"";v.value[0].item==="Asphalt Shingle"?p.value=!0:v.value[0].item==="Low Slope"?A.value=!0:v.value[0].item==="Adhesive Set Tile"?C.value=!0:v.value[0].item==="Mechanical Fastened Tile"?V.value=!0:e.value.length!==1&&(M.value=!0)});Fa(()=>{U()}),_a(U,Y,i);const he=s([{status:"RoofSystems",date:"15/10/2020 10:30",icon:"pi pi-cog",color:"#9C27B0",image:"/src/assets/img/roofing_tile.jpg"},{status:"Processing",date:"15/10/2020 14:00",icon:"pi pi-cog",color:"#673AB7"}]);return va(async()=>{await ha(Y).toBe(!0)}),(d,L)=>{const n=nl,Qe=il,m=sl,o=Ya;return Jt(),Zt(za,null,[Ze("div",wl,[Ee(m,{value:he.value,align:"alternate",class:"customized-timeline"},{marker:pa(ae=>[Ze("span",{class:"flex w-8 h-8 items-center justify-center text-white rounded-full z-10 shadow-sm",style:el({backgroundColor:ae.item.color})},[Ze("i",{class:tl(ae.item.icon)},null,2)],4)]),content:pa(ae=>[Ee(Qe,{class:"mt-4"},{title:pa(()=>[Da(ba(ae.item.status),1)]),subtitle:pa(()=>[Da(ba(ae.item.date),1)]),content:pa(()=>[Pl,Ee(n,{label:"Read more",text:""})]),_:2},1024)]),_:1},8,["value"])]),ga(Ee(Ta(al),{color:"#784EA7",size:"100px",style:{"margin-top":"400px","margin-left":"850px"}},null,512),[[ma,g.value]]),Ze("div",El,[Ze("div",zl,[Ee(bl),Ze("div",null,[Ee(o,{width:"10rem",class:"mb-2"}),Ee(o,{width:"5rem",class:"mb-2"}),Ee(o,{height:"2rem",width:"30rem",modelValue:ie.value,"onUpdate:modelValue":L[0]||(L[0]=ae=>ie.value=ae)},{default:pa(()=>[Da(ba(d.db),1)]),_:1},8,["modelValue"])])]),Ee(o,{width:"100%",height:"150px"}),Ze("div",Bl,[Ee(o,{width:"4rem",height:"2rem"}),Ee(o,{width:"4rem",height:"2rem"})]),ga(Ze("div",null,[Ee(Fl)],512),[[ma,Ta(p)]]),ga(Ze("div",null,[Ee(kl)],512),[[ma,Ta(C)]]),ga(Ze("div",null,[Ee(Ml)],512),[[ma,Ta(V)]]),ga(Ze("div",null,[Ee(Dl)],512),[[ma,Ta(A)]]),Ze("div",null,[Ee(Al)])])],64)}}},so=Ra(Rl,[["__scopeId","data-v-2c965252"]]);export{so as default};
