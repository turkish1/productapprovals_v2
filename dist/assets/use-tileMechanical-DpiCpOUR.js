import{aK as b,e as n,I as y,f as g,C as w}from"./index-CWzlT8KI.js";import{u as v}from"./useAxios-CDNBhiSD.js";const A=b(()=>{const r=n([]),l=y(()=>r.value);function s(o){r.value.push(o)}return{tilemech:r,getNumber:l,addNoa:s}});function R(){const r=n();n([]),n([]);const l=A(),s=n(""),o=n("");let u="https://2dz45lw4aeav6valksiiquuwqq0ejsio.lambda-url.us-east-1.on.aws/";const{execute:_,then:N,data:S}=v(u,{method:"GET"},{immediate:!1}),p=g({noa:"",manufacturer:"",material:"",description:"",Table2:[],Table3:[],expiration_date:"",resistance:[],selection:"",select_tile:[],tile_map:[],table2_map:[],two_ten_d_RS_Nails:null,one_number_eight_screw:null,two_number_eight_screw:null,mechanicaltilefastener:[],fastenerValues:[],height:"",area:"",slope:"",perimeter:"",decktype:"",savedfastener:"",tiletype:""}),d=a=>String(a??"").replace(/\D/g,""),m=a=>a.padStart(8,"0");async function f(a){return r.value=d(a),s.value=m(r.value),await c()}const h=a=>{let t=(a==null?void 0:a.data)??a;if(typeof t=="string")try{t=JSON.parse(t)}catch{return[]}if(t&&typeof t=="object"&&"body"in t){let e=t.body;if(typeof e=="string")try{e=JSON.parse(e)}catch{return[]}return console.log(Array.isArray(e)?e:e?[e]:[]),Array.isArray(e)?e:e?[e]:[]}return Array.isArray(t)?t:t?[t]:[]},c=async()=>{try{const a=await _({params:{NOA:s.value}}),t=h(a);if(console.log(JSON.parse(t[0].value.body)),!t.length)return[];const e=JSON.parse(t[0].value.body);console.log(e);const i={noa:e[0].NOA,manufacturer:typeof e[0].applicant=="string"?e[0].applicant.trim():e[0].applicant,material:e[0].material,selection:e[0].AdhesiveMaterials??e[0].AdhesiveMaterial,description:e[0].description,select_tile:e[0].Select_Tile,tile_map:e[0].Tile_Map,table2_map:e[0].Table2_Map,Table2:e[0].Table2,Table3:e[0].Table3,resistance:e[0].Resistance,expiration_date:e[0].expiration_date,two_ten_d_RS_Nails:e[0].two_ten_d_RS_Nails,one_number_eight_screw:e[0].one_number_eight_screw,two_number_eight_screw:e[0].two_number_eight_screw,mechanicaltilefastener:e[0].mechanicaltilefastener,fastenerValues:e[0].fastenerValues};return console.log(i),l.addNoa(i),i}catch(a){return(a==null?void 0:a.code)==="ERR_CANCELED"||(a==null?void 0:a.name)==="CanceledError"||(console.error("Error fetching data:",a),o.value="Failed to load NOA"),null}};return{input:r,fetchData:c,takeMechInput:f,error:o,...w(p),mechStore:l}}export{R as a,A as u};
