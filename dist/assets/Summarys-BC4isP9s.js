import{s as cs}from"./index-CHhHyF7B.js";import{s as ps}from"./index-DzjzjJdu.js";import{s as us}from"./index-DyJ14qwf.js";import{e as a,j as Jl,ab as Tl,at as Dl,au as Al,o as Ml,c as Xl,N as vs,aE as hs,O as gs,L as xs,f as ms,ap as Ts,g as ja,h as pl,l as kl,R as Gl,aq as Yl,p as jl,F as Ws,a5 as fs,n as $s,q as es,t as ts,W as Ss,X as Vs}from"./index-B7YXQbz9.js";import{u as rs,c as bs}from"./pdfsignStore-D_t9qptg.js";import{u as ls}from"./useAxios-DazCpAai.js";import{u as Nl}from"./accountsStore-BZ0OwGA0.js";import{u as ss}from"./generalpageStore-Mp6oYC67.js";import{u as Fl}from"./permitapp-DqGQvKJR.js";import{u as Wl}from"./roofList-DaF-FvaJ.js";import{E as Rl}from"./jspdf.es.min-BlVFxbtO.js";import{a as as,u as Ds}from"./dripEdgeStore-CxVxthQu.js";import{b as As,a as Ms,c as Xs,u as Ns}from"./systemfStore-dw15ZYZR.js";import{a as Fs,b as Es,u as ws}from"./tilevalueStore-BWeUDKby.js";import{u as os,a as is}from"./tilesysfStore-DNd7eKM9.js";import{u as Ps,a as zs}from"./dripEdgeMechTileStore-BW7jPwpM.js";import{_ as Cs}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-WbqToBhY.js";import"./reset-store-z739EleH.js";function ks(){const _=a(),$=a(""),V=a(""),X=a(""),D=Jl({status:"",message:"",isFinished:"",isLoading:""}),T=Jl({status:"",message:"",isFinished:"",isLoading:""}),g=a("");let G="https://4cgf7owinctxji4vx56hnisxh40iskps.lambda-url.us-east-1.on.aws/";const{execute:A,then:K,data:r}=ls(G,{method:"GET"},{immediate:!1});function Qe(x){if(_.value=x,V.value=_.value+"/",V.value==="undefined/")return""}const{confirmResponse:s,addResponse:f}=rs();function ge(x){console.log(x),X.value=x+"/",oe()}const oe=async()=>{try{const x=await A({params:{processnumber:X.value}}).then(e=>{console.log(e),T.status=e.response.value.status,T.message=e.data.value,T.isFinished=e.isFinished,T.isLoading=e.isLoading});f(T)}catch(x){console.log("Error, fectching data",x)}};return{error:g,getNumbers:Qe,sendProc:X,getSignpdf:ge,fetchSignPdf:oe,sentInput:$,result:T,confirmResponse:s,results:D}}const Rs={__name:"Generalpagepdf",setup(_){var oe,x,e,zt,Be,re,Ie,be,De,Ae,Me,Xe,C;const{getUser:$}=Nl();let V=a(!1);const X=Fl();Wl();const D=ss(),T=a(((x=(oe=X.$state.permitapp[0])==null?void 0:oe.formdt)==null?void 0:x.address)||""),g=a(((zt=(e=X.$state.permitapp[0])==null?void 0:e.formdt)==null?void 0:zt.permit)||"N|A"),G=a(((re=(Be=X.$state.permitapp[0])==null?void 0:Be.formdt)==null?void 0:re.processNumber)||""),A=a(((be=(Ie=X.$state.permitapp[0])==null?void 0:Ie.formdt)==null?void 0:be.muniProc)||""),K=a(((Ae=(De=X.$state.permitapp[0])==null?void 0:De.formdt)==null?void 0:Ae.muni)||"");a((Xe=(Me=D.$state.generalpdfinput[1])==null?void 0:Me.generalpdfData)==null?void 0:Xe.totalData);const r=a(((C=$.value[0])==null?void 0:C.dba)||""),Qe=a(""),s=a(D.$state.generalpdfinput);function f(){s.value.length!==1&&(V.value=!0)}Tl(()=>{f()}),Dl(async()=>{await Al(V).toBe(!0),ge()});const ge=()=>{var ie,Ct,ct,pt,ut,vt,ht,gt;if(D.$state.generalpdfinput.length===0)console.log("lenghth is   zero");else{const u=new Rl({orientation:"portrait",unit:"mm",format:"a4",compress:!0});u.setGState(new u.GState({opacity:.9}));const xt="Approved";u.setFontSize(24),u.setTextColor("black"),u.setFont("helvetica"),u.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const mt=new Image,Tt=new Image,Wt=new Image;mt.src="/demo/images/officepaper.jpeg",Tt.src="/demo/images/logo.jpeg",Wt.src="/demo/images/DragAndDrop.jpeg";const kt=725,ft=u.getPageInfo(1),Rt=ft.pageContext.mediaBox.topRightX,Bt=ft.pageContext.mediaBox.topRightY;console.log(Rt);const S=a(0),$t=a(0);var Z=595.28-585.28,W=Bt-kt;S.value=Z,$t.value=W,console.log(S.value,$t.value),u.addImage(Tt,"JPEG",10,10,50,30),u.addImage(mt,"JPEG",0,0,210,297),u.setFontSize(12),u.setTextColor("green");var U=new Date,p=U.toLocaleDateString();u.text(xt,10,270,{align:"left"});const It=u.getTextWidth(xt);u.text("on: "+p,It+15,270),u.text(`${A.value}`,10,280,{align:"left"});const Ut=u.getTextWidth(`${A.value}`);u.text(`${K.value}`,Ut+15,280);const St=a(!1),o=a(!1),xe=a(!1),i=a(!1),Vt=a(!1);u.setFontSize(12);const ia=()=>{u.setFontSize(12),u.setTextColor(0),u.text("2023 HVHZ  mEPermit General Information Page",70,20,{maxWidth:"170"}),u.line(10,30,195,30)};u.setTextColor(0),ia(),u.setFontSize(12);const h=a((Ct=(ie=D.$state.generalpdfinput[1])==null?void 0:ie.generalpdfData)==null?void 0:Ct.totalData),Sa=[{category:"DBA",value:`${r.value}`},{category:"Roof Area",value:`${h.value}`},{category:"Job Address",value:`${T.value}`},{category:"meProcess Number",value:`${G.value}`},{category:"Master Permit",value:`${g.value}`}];let na=10,rt=60,N=50;u.setFontSize(12),Sa.forEach((Fe,Lt)=>{const Te=N+Lt*10;u.text(Fe.category,na,Te),u.text(Fe.value,rt,Te),u.getTextWidth(Fe.category);const Oe=u.getTextWidth(Fe.value)*2;u.line(rt,Te+2,rt+Oe,Te+2)}),u.setTextColor("black"),u.setFontSize(12);const Le=100,bt=a(!1),Ot=a(!1);S.value=Z+40,D.$state.generalpdfinput[1].generalpdfData.roofCheck[0]==="reroof"?(bt.value=!0,console.log(bt.value)):Ot.value=!0,S.value=Z+50,W=Le,console.log(W),u.text("Re-Roof: ",S.value,W);const ye=W-3,Ht=bt.value===!0?u.rect(S.value+20,ye,4,4,"FD"):u.rect(S.value+20,ye,4,4);S.value=Z+100,W=Le,console.log(W),u.text("New Roof: ",S.value,W);const Ue=Ot.value===!0?u.rect(S.value+23,ye,4,4,"FD"):u.rect(S.value+23,ye,4,4);console.log(Ht,Ue),W=W+10;const Gt="Total: ",Dt="Low Slope: ",Yt="Steep Slope: ",jt=a(((pt=(ct=D.$state.generalpdfinput[1])==null?void 0:ct.generalpdfData)==null?void 0:pt.totalData)||""),Jt=a(((vt=(ut=D.$state.generalpdfinput[1])==null?void 0:ut.generalpdfData)==null?void 0:vt.slopeData)||""),Zt=a(((gt=(ht=D.$state.generalpdfinput[1])==null?void 0:ht.generalpdfData)==null?void 0:gt.steepData)||"");console.log(D.$state.generalpdfinput[1].generalpdfData),S.value=Z+25,W=Le+10;const da=u.getTextWidth(Dt),me=u.getTextWidth(`${Jt.value}`),t=S.value+5;u.text(Dt,t,W);const c=da+t;u.text(`${Jt.value}`,c,W),u.line(c,W,c+me,W),S.value=c+me;const k=u.getTextWidth(Yt),ne=u.getTextWidth(`${Zt.value}`),At=S.value+5;u.text(Yt,At,W);const m=k+At;u.text(`${Zt.value}`,m,W),u.line(m,W,m+ne,W),console.log(W,W),W=Le+10,S.value=m+ne,console.log(S.value);const l=u.getTextWidth(Gt),n=u.getTextWidth(`${jt.value}`),qt=S.value+5;u.text(Gt,qt,W);const R=l+qt;u.text(`${jt.value}`,R,W),u.line(R,W,R+n,W),S.value=R+n,console.log(D.$state.generalpdfinput[1]),D.$state.generalpdfinput[1].generalpdfData.slopeChk===!0&&(Vt.value=!0,console.log("Slope Checked")),D.$state.generalpdfinput[1].generalpdfData.adtileChk===!0&&(St.value=!0),D.$state.generalpdfinput[1].generalpdfData.metalChk===!0&&(o.value=!0),D.$state.generalpdfinput[1].generalpdfData.mtileChk===!0&&(xe.value=!0),D.$state.generalpdfinput[1].generalpdfData.shingleChk===!0&&(i.value=!0,console.log("Shingle Checked")),S.value=Z-4,W=W+10,u.text("Low Slope: ",Z,W);const de=W-3,Kt=Vt.value===!0?u.rect(S.value+27,de,4,4,"FD"):u.rect(S.value+27,de,4,4);console.log(Ht,Ue,Kt),S.value=S.value+4;const ca=S.value+32;console.log(S.value);const d=ca;console.log(S.value),u.text("Adhesive Set Tile: ",d,W);const Fa=St.value===!0?u.rect(d+36,de,4,4,"FD"):u.rect(d+36,de,4,4);console.log(Ht,Ue,Fa),console.log(S.value);const _e=d+43;console.log(S.value),u.text("Metal Panel: ",_e,W),o.value===!0?u.rect(_e+25,de,4,4,"FD"):u.rect(_e+25,de,4,4);const Ne=_e+35;console.log(S.value),u.text("Shingle: ",Ne,W);const ce=i.value===!0?u.rect(Ne+17,de,4,4,"FD"):u.rect(Ne+17,de,4,4);S.value=Ne;const Qt=Ne+28;console.log(S.value),u.text("Mechanical Fastened Tile: ",Qt,W);const pa=xe.value===!0?u.rect(Qt+51,de,4,4,"FD"):u.rect(Qt+51,de,4,4);console.log(pa,ce),W=W+10,u.addImage(Wt,"JPEG",Z+40,W,100,100);const ua="GeneralPage.pdf",Mt=u.output("blob");(async(Fe,Lt)=>{const Te=Fe,Oe=Te;console.log(Oe);const et=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${A.value}/${Oe}`;try{const We=await fetch(et,{method:"PUT",headers:{"Content-Type":Te.type},body:Lt});We.ok?(Qe.value=et,alert("GeneralPage File uploaded successfully!")):alert(`Failed to upload file. Status: ${We.status}`)}catch(We){console.error("Error uploading file:",We),alert("An error occurred while uploading the file.")}})(ua,Mt)}};return(Z,W)=>(Ml(),Xl("div"))}},Bs={__name:"LowSlopepdf",setup(_){var Be,re,Ie,be,De,Ae,Me,Xe,C,Z;const{getUser:$}=Nl(),V=Fl(),X=Wl(),D=as(),T=a(((Be=X.$state.roofList[0])==null?void 0:Be.dim2)||""),g=a(((Ie=(re=V.$state.permitapp[0])==null?void 0:re.formdt)==null?void 0:Ie.address)||""),G=a(((De=(be=V.$state.permitapp[0])==null?void 0:be.formdt)==null?void 0:De.muni)||""),A=a(((Me=(Ae=V.$state.permitapp[0])==null?void 0:Ae.formdt)==null?void 0:Me.processNumber)||""),K=Ds(),{dripedgeStore:r,dripinput:Qe}=vs(K),s=a(((C=(Xe=V.$state.permitapp[0])==null?void 0:Xe.formdt)==null?void 0:C.muniProc)||""),f=a(((Z=$.value[0])==null?void 0:Z.dba)||""),ge=a(D.$state.burpdfinput);let oe=a(!1);const x=a("");function e(){ge.value.length!==1&&(oe.value=!0,zt())}Tl(()=>{e()}),Dl(async()=>{await Al(oe).toBe(!0)});const zt=()=>{var ct,pt,ut,vt,ht,gt,u,xt,mt,Tt,Wt,kt,ft,Rt,Bt,S,$t,It;const W=as();if(W.$state.burpdfinput.length===0)console.log("lenghth is zero");else{const Ut=a((pt=(ct=W.$state.burpdfinput[0])==null?void 0:ct.burpdfData)==null?void 0:pt.height),St=a((vt=(ut=W.$state.burpdfinput[0])==null?void 0:ut.burpdfData)==null?void 0:vt.slope),o=a((gt=(ht=W.$state.burpdfinput[0])==null?void 0:ht.burpdfData)==null?void 0:gt.per),xe=a((xt=(u=W.$state.burpdfinput[0])==null?void 0:u.burpdfData)==null?void 0:xt.deckType),i=new Rl({orientation:"portrait",unit:"mm",format:"a4",compress:!0});i.setGState(new i.GState({opacity:.9}));const Vt="Approved";i.setFontSize(24),i.setTextColor("black"),i.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const ia=new Image,h=new Image;ia.src="/demo/images/officepaper.jpeg",h.src="/demo/images/logo.jpeg";const Sa=725,na=i.getPageInfo(1);na.pageContext.mediaBox.topRightX;const rt=na.pageContext.mediaBox.topRightY,N=a(0),Va=a(0);var U=595.28-585.28,p=rt-Sa;N.value=U,Va.value=p,console.log(N.value,Va.value),i.addImage(h,"JPEG",10,2,50,30),i.addImage(ia,"JPEG",0,0,210,297),i.setFontSize(12),i.setTextColor("green");var ie=new Date,Ct=ie.toLocaleDateString();i.text(Vt,10,270,{align:"left"});const Le=i.getTextWidth(Vt);i.text("on: "+Ct,Le+15,270),i.text(`${s.value}`,10,280,{align:"left"});const bt=i.getTextWidth(`${s.value}`);i.text(`${G.value}`,bt+15,280),i.setFontSize(12);const Ot=()=>{i.setFontSize(10),i.setTextColor(0),i.text('The low slope Built Up Roof (BUR) Assembly shall be installed in compliance with the HVHZ portions of Chapter 15 found in the 2023 Florida Building Code and the HVHZ Roofing Application Standards (RAS), RAS-111, RAS-117 and RAS-128. This roof assembly shall also comply with the listed requirements for a Class "A" fire rating including roof slope (incline), components and a fire barrier when required. The mePermit applicant agrees to comply with these installation requirements when obtaining this permit.',10,25,{maxWidth:"170"}),i.line(10,50,195,50)};i.setTextColor("black"),i.circle(185,45,2,"FD"),i.text("I agree",165,45),Ot(),i.setFontSize(12);const ye=[{category:"DBA",value:`${f.value}`},{category:"Municipality",value:`${G.value}`},{category:"Job Address",value:`${g.value}`},{category:"meProcess Number",value:`${A.value}`}];let Ht=10,Ue=60,Gt=72;i.setFontSize(12),ye.forEach((Xt,Da)=>{const pe=Gt+Da*10;i.text(Xt.category,Ht,pe),i.text(Xt.value,Ue,pe),i.getTextWidth(Xt.category);const _t=i.getTextWidth(Xt.value)*2;i.line(Ue,pe+2,Ue+_t,pe+2)}),i.setFontSize(12);const Dt="Roof Area: ",Yt="Decktype: ",jt="Mean Roof Height: ",Jt="Roof Slope: ",Zt="Roof Perimeter: ",da="Type of Low Slope BUR Material: ",me="Type of Low Slope BUR System: ",t="Attach P(1') Prime using P(1) Field Prescriptive Basesheet: ",c="Attach P(2) Perimeter using P(3) Corner Prescriptive: ",k=a(((Tt=(mt=W.$state.burpdfinput[1])==null?void 0:mt.burpdfData)==null?void 0:Tt.burMaterial)||""),ne=a(((kt=(Wt=W.$state.burpdfinput[1])==null?void 0:Wt.burpdfData)==null?void 0:kt.burSystem)||""),At=a(((Rt=(ft=W.$state.burpdfinput[1])==null?void 0:ft.burpdfData)==null?void 0:Rt.p1)||""),m=a(((S=(Bt=W.$state.burpdfinput[1])==null?void 0:Bt.burpdfData)==null?void 0:S.p3)||"");console.log(At),N.value=U;const l=i.getTextWidth(Dt),n=i.getTextWidth(`${T.value}`),qt=N.value;i.text(Dt,qt,p);const R=l+qt;i.text(`${T.value}`,R,p),i.line(R,p+2,R+n,p+2),N.value=R+n;const de=i.getTextWidth(jt),Kt=i.getTextWidth(`${Ut.value}`),ca=N.value+18;i.text(jt,ca,p);const d=de+ca;i.text(`${Ut.value}`,d,p),i.line(d,p+2,d+Kt,p+2),N.value=d+Kt;const Fa=i.getTextWidth(Jt),_e=i.getTextWidth(`${St.value}`),Ne=N.value+18;i.text(Jt,Ne,p);const ce=Fa+Ne;i.text(`${St.value}`,ce,p),i.line(ce,p+2,ce+_e,p+2),N.value=ce+_e;const Qt=i.getTextWidth(Zt),pa=i.getTextWidth(`${o.value}`),ua=N.value+18;i.text(Zt,ua,p);const Mt=Qt+ua;i.text(`${o.value}`,Mt,p),i.line(Mt,p+2,Mt+pa,p+2),console.log(p,p),p=p+10,N.value=Mt+pa;const Ea=i.getTextWidth(Yt),Fe=i.getTextWidth(`${xe.value}`),Lt=U;i.text(Yt,Lt,p);const Te=Ea+Lt;i.text(`${xe.value}`,Te,p),i.line(Te,p+2,Te+Fe,p+2),p=p+10,N.value=U;const Oe="DripEdge Material: ",et="DripEdge Size: ";console.log(K,Qe);const We=a((($t=K.$state.dripinput[0])==null?void 0:$t.dripMaterial)||""),va=a(((It=K.$state.dripinput[2])==null?void 0:It.dripMaterial)||"");console.log(We,va);const tl=i.getTextWidth(Oe),al=i.getTextWidth(`${We.value}`),Ja=U;i.text(Oe,Ja,p);const wa=tl+Ja;i.text(`${We.value}`,wa,p),i.line(wa,p+2,wa+al,p+2),p=p+10;const Za=i.getTextWidth(et),Pa=i.getTextWidth(`${va.value}`),ll=U;i.text(et,ll,p);const v=Za+ll;i.text(`${va.value}`,v,p),i.line(v,p+2,v+Pa,p+2),p=p+10;const ul=i.getTextWidth(da),P=i.getTextWidth(`${k.value}`),qa=N.value;i.text(da,qa,p);const ha=ul+12;i.text(`${k.value}`,ha,p),i.line(ha,p+2,ha+P,p+2),N.value=ha+P,p=p+10,N.value=U,i.setFontSize(12),i.getTextWidth(me);const ra=i.getTextWidth(`${ne.value}`),za=N.value;i.text(me,za,p),p=p+10,i.setFontSize(8.5),N.value=U-3,i.text(`${ne.value}`,N.value,p),i.setFontSize(12),i.line(ra,p+2,ra,p+2),p=p+10,i.setFontSize(10),i.getTextWidth(t);const sl=i.getTextWidth(`${At.value}`),vl=U;i.text(t,vl,p),p=p+10;const yt=U;i.setFontSize(10),i.text(At.value,yt,p),i.line(yt,p+2,yt+sl+70,p+2),p=p+10,N.value=U;const Ca=i.getTextWidth(`${m.value}`),ba=N.value;i.text(c,ba,p),p=p+7,N.value=U;const ka=N.value;i.text(m.value,ka,p),i.line(ka,p+2,ka+Ca+70,p+2),p=p+10;const Ra="LowSlope.pdf",ga=i.output("blob");(async(Xt,Da)=>{const pe=Xt,_t=pe;console.log(_t);const Ia=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${s.value}/${_t}`;try{const Nt=await fetch(Ia,{method:"PUT",headers:{"Content-Type":pe.type},body:Da});Nt.ok?(x.value=Ia,alert("LowSlope File uploaded successfully!")):alert(`Failed to upload file. Status: ${Nt.status}`)}catch(Nt){console.error("Error uploading file:",Nt),alert("An error occurred while uploading the file.")}})(Ra,ga)}};return(W,U)=>(Ml(),Xl("div"))}},Is={__name:"Shingle",setup(_){var ge,oe;const{getUser:$}=Nl(),V=As(),X=Fl(),D=Wl(),T=Ms(),g=Xs(),G=Wl(),A=Ns(),K=a(((oe=(ge=X.$state.permitapp[0])==null?void 0:ge.formdt)==null?void 0:oe.muniProc)||""),r=a(G.$state.roofList);let Qe=a(!1);const s=Tl(()=>{if(r.value.length===0)return"";for(let x=0;x<r.value.length;x++)r.value[x].item==="Asphalt Shingle"&&(console.log(r.value[x].item),Qe.value=!0,f())});Dl(async()=>{await Al(s).toBe(!0),console.log(s)});const f=()=>{var re,Ie,be,De,Ae,Me,Xe,C,Z,W,U,p,ie,Ct,ct,pt,ut,vt,ht,gt,u,xt,mt,Tt,Wt,kt,ft,Rt,Bt,S,$t,It;if(T.$state.inputshingle.length===0)console.log("lenghth is zero");else{console.log(V,g);let Ut=a(!1),St=a(!1);V.$state.systeminput.length!==0&&(St=!0,console.log(St)),g.$state.polyinput.length!==0&&(Ut=!0,console.log(Ut));const o=new Rl({orientation:"portrait",unit:"mm",format:"a4",compress:!0}),xe=179,i=725,Vt=o.getPageInfo(1);Vt.pageContext.mediaBox.topRightX;const ia=Vt.pageContext.mediaBox.topRightY,h=a(0),Sa=a(0);var x=595.28-585.28,e=ia-i;h.value=x,Sa.value=e;const na=a((Ie=(re=X.$state.permitapp[0])==null?void 0:re.formdt)==null?void 0:Ie.address),rt=a((De=(be=X.$state.permitapp[0])==null?void 0:be.formdt)==null?void 0:De.muni),N=a(((Me=(Ae=X.$state.permitapp[0])==null?void 0:Ae.formdt)==null?void 0:Me.processNumber)||""),Va=a($.value[0].dba),Le=a(((C=(Xe=T.$state.inputshingle[0])==null?void 0:Xe.shingleData)==null?void 0:C.height)||""),bt=a(((W=(Z=T.$state.inputshingle[0])==null?void 0:Z.shingleData)==null?void 0:W.slope)||""),Ot=a(((p=(U=T.$state.inputshingle[0])==null?void 0:U.shingleData)==null?void 0:p.deckType)||""),ye=a(D.$state.roofList[0].dim1),Ht=a("");o.setGState(new o.GState({opacity:.8}));const Ue="Approved";o.setFontSize(18),o.setTextColor(150,150,150),o.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const Gt=new Image,Dt=new Image;Gt.src="/demo/images/officepaper.jpeg",Dt.src="/demo/images/logo.jpeg",o.addImage(Dt,"JPEG",10,0,50,30),o.addImage(Gt,"JPEG",0,0,210,297),o.setFontSize(15),o.setTextColor("green");var zt=new Date,Be=zt.toLocaleDateString();o.text(Ue,10,270,{align:"left"});const Yt=o.getTextWidth(Ue);o.text("on: "+Be,Yt+15,270),o.text(`${K.value}`,10,280,{align:"left"});const jt=o.getTextWidth(`${K.value}`);o.text(`${rt.value}`,jt+15,280);const Jt=()=>{o.setFontSize(10),o.setTextColor(0),o.text("The Shingle roof system and its components shall be installed in strict compliance  with the HVHZportions of Chapter 15 FBC, the HVHZ Roof Application Standards(RAS) 111 & 115, and the submitted MDC(NOA) Notice of Acceptance(s).The mePermit applicant agrees to comply with these installation requirements when obtaining this permit.",10,25,{maxWidth:"200"}),o.line(10,43,195,43)};o.setTextColor(0),o.circle(185,39,2,"FD"),o.text("I agree",165,40),Jt(),o.setFontSize(12);const Zt=[{category:"DBA",value:`${Va.value}`},{category:"Municipality",value:`${rt.value}`},{category:"Job Address",value:`${na.value}`},{category:"meProcess Number",value:`${N.value}`}];let da=10,me=60,t=50;o.setFontSize(12),Zt.forEach((F,Y)=>{const O=t+Y*10;o.text(F.category,da,O),o.text(F.value,me,O),o.getTextWidth(F.category);const j=o.getTextWidth(F.value)*2;o.line(me,O+2,me+j,O+2)}),o.setFontSize(12);const c="Roof Area: ",k="Decktype: ",ne="Mean Roof Height: ",At="Roof Slope: ",m=1;e=e+5;const l=o.getTextWidth(c),n=o.getTextWidth(`${ye.value}`),qt=h.value;o.text(c,qt,e);const R=l+qt;o.text(`${ye.value}`,R,e),o.line(R,e+2,R+n,e+2),h.value=R+n;const de=o.getTextWidth(ne),Kt=o.getTextWidth(`${Le.value}`),ca=h.value+10;o.text(ne,ca,e);const d=de+ca;o.text(`${Le.value}`,d,e),o.line(d,e+2,d+Kt,e+2),h.value=d+Kt;const Fa=o.getTextWidth(At),_e=o.getTextWidth(`${bt.value}`),Ne=h.value+10;o.text(At,Ne,e);const ce=Fa+Ne;o.text(`${bt.value}`,ce,e),o.line(ce,e+2,ce+_e,e+2),h.value=ce+_e,e=e+10;const Qt=o.getTextWidth(k),pa=o.getTextWidth(`${Ot.value}`),ua=x;o.text(k,ua,e);const Mt=Qt+ua;o.text(`${Ot.value}`,Mt,e),o.line(Mt,e+2,Mt+pa,e+2),e=e+10;const Ea="Shingle NOA Number: ",Fe="Shingle Applicant: ",Lt="Shingle Material: ",Te="Shingle Description: ",Oe="Fastened (UDL)NOA: ",et="UDL NOA Applicant: ",We="Fastened UDL Material: ",va="UDL Description: ",tl="Perscriptive: ";console.log(T.$state.inputshingle[0]);const al=a(((Ct=(ie=T.$state.inputshingle[0])==null?void 0:ie.shingleData)==null?void 0:Ct.noa)||""),Ja=a((pt=(ct=T.$state.inputshingle[0])==null?void 0:ct.shingleData)==null?void 0:pt.applicant)||"",wa=a(((vt=(ut=T.$state.inputshingle[0])==null?void 0:ut.shingleData)==null?void 0:vt.material)||""),Za=a(((gt=(ht=T.$state.inputshingle[0])==null?void 0:ht.shingleData)==null?void 0:gt.description)||""),Pa=a(((xt=(u=T.$state.inputshingle[0])==null?void 0:u.shingleData)==null?void 0:xt.prescriptiveSelection)||""),ll=o.getTextWidth(tl),v=o.getTextWidth(`${Pa.value}`),ul=x;o.text(tl,ul,e);const P=ll+10;o.text(`${Pa.value}`,P,e),o.line(P,e+m,P+v,e+m),e=e+8;const qa="DripEdge Material: ",ha="DripEdge Size: ";console.log(A);const ra=a(((mt=A.$state.dripinputshin[1])==null?void 0:mt.dripShinMaterial)||""),za=a(((Tt=A.$state.dripinputshin[3])==null?void 0:Tt.dripShinMaterial)||"");console.log(ra,za);const sl=o.getTextWidth(qa),vl=o.getTextWidth(`${ra.value}`),yt=x;o.text(qa,yt,e);const Ca=sl+yt;o.text(`${ra.value}`,Ca,e),o.line(Ca,e+m,Ca+vl,e+m),e=e+10;const ba=o.getTextWidth(ha),ka=o.getTextWidth(`${za.value}`),Ra=x;o.text(ha,Ra,e);const ga=ba+Ra;o.text(`${za.value}`,ga,e),o.line(ga,e+m,ga+ka,e+m),e=e+10;const Ba=o.getTextWidth(Fe),Xt=o.getTextWidth(`${Ja.value}`),Da=x;o.text(Fe,Da,e);const pe=Da+Ba;o.text(`${Ja.value}`,pe,e),o.line(pe,e+m,pe+Xt,e+m),h.value=pe+Xt;const _t=o.getTextWidth(Ea),Ia=o.getTextWidth(`${al.value}`),Nt=h.value+3;o.text(Ea,Nt,e);const Ka=_t+Nt;o.text(`${al.value}`,Ka,e),o.line(Ka,e+m,Ka+Ia,e+m),h.value=Ka+Ia,e=e+10;const ol=x,fl=o.getTextWidth(Lt),Qa=o.getTextWidth(`${wa.value}`);o.text(Lt,ol,e);const Ua=ol+fl;o.text(`${wa.value}`,Ua,e),o.line(Ua,e+m,Ua+Qa,e+m),h.value=Ua+Qa,e=e+10,console.log(h.value,xe);const ea=o.getTextWidth(`${Za.value}`),Aa=o.getTextWidth(Te);h.value=Ua+Qa+ea+Aa+25,console.log(ea,Aa);const il=x;if(o.text(Te,il,e),ea>170){e=e+4;const Y=x;o.text(`${Za.value}`,Y,e),o.line(Y,e+m,Y+ea,e+m),e=e+8}else{const F=il+Aa;o.text(`${Za.value}`,F,e),o.line(F,e+m,F+ea,e+m),h.value=F+ea}if(e=e+10,console.log(g.$state.polyinput.length),g.$state.polyinput.length===0){const F="n/a",Y="n/a",O="n/a",j="n/a",fe=o.getTextWidth(Oe),te=o.getTextWidth(F),tt=x;o.text(Oe,tt,e);const ae=tt+fe;o.text(F,ae,e),o.line(ae,e+m,ae+te,e+m),h.value=ae+te,console.log(h.value);const ue=o.getTextWidth(et),Ee=o.getTextWidth(Y),He=h.value+2;o.text(et,He,e);const le=He+ue;o.text(Y,le,e),o.line(le,e+m,le+Ee,e+m),h.value=le+Ee,console.log(h.value),h.value>xe&&(e=e+10);const Q=h.value+2,ta=o.getTextWidth(We),at=o.getTextWidth(O);o.text(We,Q,e);const ee=Q+ta;o.text(O,ee,e),o.line(ee,e+m,ee+at,e+m),h.value=ee+at,console.log(h.value),e=e+10,console.log(h.value);const we=o.getTextWidth(va),lt=o.getTextWidth(j),$e=x,ve=$e+lt;console.log(ve),o.text(va,$e,e),ve>xe&&print(ve);const q=$e+we;o.text(j,q,e),o.line(q,e+m,q+lt,e+m),h.value=q+lt,e=e+8}else{const F=a(g.$state.polyinput[0].polyData.noa),Y=a(g.$state.polyinput[0].polyData.applicant),O=a(g.$state.polyinput[0].polyData.material),j=a(g.$state.polyinput[0].polyData.description),fe=o.getTextWidth(Oe),te=o.getTextWidth(`${F.value}`),tt=x;o.text(Oe,tt,e);const ae=fe+10;o.text(`${F.value}`,ae,e),o.line(ae,e+m,ae+te,e+m),h.value=ae+te;const ue=o.getTextWidth(et),Ee=o.getTextWidth(`${Y.value}`),He=h.value+2;o.text(et,He,e);const le=He+ue;o.text(`${Y.value}`,le,e),o.line(le,e+m,le+Ee,e+m),h.value=le+Ee,e=e+10;const Q=x,ta=o.getTextWidth(We),at=o.getTextWidth(`${O.value}`);o.text(We,Q,e);const ee=Q+ta;o.text(`${O.value}`,ee,e),o.line(ee,e+m,ee+at,e+m),h.value=ee+at,e=e+10,console.log(h.value);const we=o.getTextWidth(va),lt=o.getTextWidth(`${j.value}`),$e=x,ve=$e+lt;console.log(ve),o.text("UDL Description:",$e,e),ve>xe&&print(ve);const q=$e+we;o.text(`${j.value}`,q,e),o.line(q,e+m,q+lt,e+m),h.value=q+lt,console.log(h.value),e=e+10}const Oa="Self Adhered NOA: ",Ha="S/A NOA Applicant: ",xa="S/A System F: ",ma="S/A Material: ",Ta="S/A Description: ";if(console.log(V.$state.systeminput.length),V.$state.systeminput.length===0){const F="n/a",Y="n/a",O="n/a",j="n/a",fe="n/a",te=o.getTextWidth(Oa),tt=o.getTextWidth(F),ae=x;o.text(Oa,ae,e);const ue=ae+te;o.text(F,ue,e),o.line(ue,e,ue+tt,e),h.value=ue+tt,console.log(h.value);const Ee=o.getTextWidth(Ha),He=o.getTextWidth(Y),le=h.value+3;o.text(Ha,le,e);const Q=le+Ee;o.text(Y,Q,e),o.line(Q,e+m,Q+He,e+m),h.value=Q+He,console.log(h.value);const ta=o.getTextWidth(xa),at=h.value+3,ee=o.getTextWidth(O);o.text(xa,at,e);const we=at+ta;o.text(O,we,e),o.line(we,e+m,we+ee,e+m),h.value=we+ee,console.log(h.value),e=e+10;const lt=o.getTextWidth(ma),$e=o.getTextWidth(j),ve=x;o.text(ma,ve,e);const q=ve+lt;o.text(j,q,e),o.line(q,e+m,q+$e,e+m),h.value=q+$e,console.log(h.value);const hl=o.getTextWidth(Ta),Ga=o.getTextWidth(fe),Ma=h.value+3;o.text(Ta,Ma,e);const Ge=Ma+hl;o.text(fe,Ge,e),o.line(Ge,e+m,Ge+Ga,e+m),h.value=Ge+Ga,console.log(h.value)}else{console.log("Entered sbs line 509",V.$state);const F=a((kt=(Wt=V.$state.systeminput[0])==null?void 0:Wt.systemData)==null?void 0:kt.noa),Y=a((Rt=(ft=V.$state.systeminput[0])==null?void 0:ft.systemData)==null?void 0:Rt.manufacturer),O=a(V.$state.systeminput.pdfSystemValue),j=a((S=(Bt=V.$state.systeminput[0])==null?void 0:Bt.systemData)==null?void 0:S.material),fe=a((It=($t=V.$state.systeminput[0])==null?void 0:$t.systemData)==null?void 0:It.description),te=o.getTextWidth(Oa),tt=o.getTextWidth(`${F.value}`),ae=x;o.text(Oa,ae,e);const ue=ae+te;o.text(`${F.value}`,ue,e),o.line(ue,e+m,ue+tt,e+m),h.value=ue+tt;const Ee=o.getTextWidth(Ha),He=o.getTextWidth(`${Y.value}`),le=h.value+3;o.text(Ha,le,e);const Q=le+Ee;o.text(`${Y.value}`,Q,e),o.line(Q,e+m,Q+He,e+m),h.value=Q+He,console.log(h.value);const ta=o.getTextWidth(xa),at=o.getTextWidth(`${O.value}`),ee=h.value+3;o.text(xa,ee,e);const we=ee+ta;o.text(`${O.value}`,we,e),o.line(we,e+m,we+at,e+m),h.value=we+at,e=e+10,console.log(h.value);const lt=o.getTextWidth(ma),$e=o.getTextWidth(`${j.value}`),ve=x;o.text(ma,ve,e);const q=ve+lt;o.text(`${j.value}`,q,e),o.line(q,e+m,q+$e,e+m),h.value=q+$e,h.value>xe&&(e=e+10),console.log(h.value);const hl=o.getTextWidth(Ta),Ga=o.getTextWidth(`${fe.value}`),Ma=h.value+3;o.text(Ta,Ma,e);const Ge=Ma+hl;o.text(`${fe.value}`,Ge,e),o.line(Ge,e+m,Ge+Ga,e+m),h.value=Ge+Ga,h.value>=xe&&(e=e+10),console.log(h.value)}const La="Shingle.pdf",ya=o.output("blob");(async(F,Y)=>{const O=F;console.log(O);const j=O;console.log(j);const fe=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${K.value}/${j}`;try{const te=await fetch(fe,{method:"PUT",headers:{"Content-Type":O.type},body:Y});te.ok?(Ht.value=fe,alert("Shingle File uploaded successfully!")):alert(`Failed to upload file. Status: ${te.status}`)}catch(te){console.error("Error uploading file:",te),alert("An error occurred while uploading the file.")}})(La,ya)}};return(x,e)=>(Ml(),Xl("div"))}},Us=hs(()=>{const _=a([]),$=gs(()=>_.value);function V(X){_.value.push(X)}return{tilenoa:_,getNumber:$,addNoa:V}}),Os={__name:"TileAdhesive",setup(_){const $=os(),V=is(),{getUser:X}=Nl(),{tileInputvalues:D}=Fs(),{savedTileinput:T}=Es(),g=Fl(),G=Wl(),A=a(G.$state.roofList);Us();const K=ws();let r=a(!1);const Qe=Tl(()=>{if(A.value.length===0)return"";for(let f=0;f<A.value.length;f++)A.value[f].item==="Adhesive Set Tile"&&(console.log(A.value[f].item),r.value=!0,s())});Dl(async()=>{await Al(Qe).toBe(!0)});const s=()=>{var re,Ie,be,De,Ae,Me,Xe,C,Z,W,U,p,ie,Ct,ct,pt,ut,vt,ht,gt,u,xt,mt,Tt,Wt,kt,ft,Rt,Bt,S,$t,It,Ut,St,o,xe,i,Vt,ia,h,Sa,na,rt,N,Va,Le,bt,Ot,ye,Ht,Ue,Gt,Dt,Yt,jt,Jt,Zt,da,me,t,c,k,ne,At,m;console.log(D,(Ie=(re=T[0])==null?void 0:re.savedValues)==null?void 0:Ie.paddySelection);const f=a(((De=(be=T[0])==null?void 0:be.savedValues)==null?void 0:De.paddySelection)||""),ge=a(!1),oe=a(!1);if(console.log(f.value),f.value==="single"?(ge.value=!0,console.log(ge.value)):(oe.value=!0,console.log(oe.value)),D[0].length===0)console.log("lenghth is zero");else{const l=new Rl({orientation:"portrait",unit:"mm",format:"a4",compress:!0});let n=a(!1),qt=a(!1);V.$state.tilesysEinput.length!==0&&(n=!0,console.log(n)),$.$state.tilefinput.length!==0&&(qt=!0,console.log(qt));const R=179,de=725,Kt=l.getPageInfo(1);Kt.pageContext.mediaBox.topRightX;const ca=Kt.pageContext.mediaBox.topRightY,d=a(0),Fa=a(0);var x=595.28-585.28,e=ca-de;d.value=x,Fa.value=e;const _e=ge.value===!0?a(((Ae=D[0])==null?void 0:Ae.tileValues[0].singlepaddyData)||""):a(((Me=D[0])==null?void 0:Me.tileValues[0].doublepaddyData)||"");console.log(_e.value);const Ne=a(((C=(Xe=T[0])==null?void 0:Xe.savedValues)==null?void 0:C.height)||""),ce=a(((W=(Z=T[0])==null?void 0:Z.savedValues)==null?void 0:W.slope)||"");console.log(g.$state.permitapp[0].muniNum);const Qt=a(((p=(U=T[0])==null?void 0:U.savedValues)==null?void 0:p.area)||""),pa=a(((Ct=(ie=T[0])==null?void 0:ie.savedValues)==null?void 0:Ct.Decktype)||""),ua=a(((pt=(ct=T[0])==null?void 0:ct.savedValues)==null?void 0:pt.perimeter)||""),Mt=a(((vt=(ut=g.$state.permitapp[0])==null?void 0:ut.formdt)==null?void 0:vt.address)||""),Ea=a(((gt=(ht=g.$state.permitapp[0])==null?void 0:ht.formdt)==null?void 0:gt.muni)||""),Fe=a(((xt=(u=g.$state.permitapp[0])==null?void 0:u.formdt)==null?void 0:xt.muniProc)||""),Lt=a(((Tt=(mt=g.$state.permitapp[0])==null?void 0:mt.formdt)==null?void 0:Tt.processNumber)||""),Te=a(""),Oe=a(((Wt=X.value[0])==null?void 0:Wt.dba)||"");l.setGState(new l.GState({opacity:.8}));const et="Approved";l.setFontSize(24),l.setTextColor(150,150,150),l.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const We=new Image,va=new Image;We.src="/demo/images/officepaper.jpeg",va.src="/demo/images/logo.jpeg",l.addImage(va,"JPEG",5,0,50,30),l.addImage(We,"JPEG",0,0,210,297),l.setFontSize(18),l.setTextColor("green");var zt=new Date,Be=zt.toLocaleDateString();l.text(et,10,270,{align:"left"});const tl=l.getTextWidth(et);l.text("on: "+Be,tl+15,270),l.text(`${Fe.value}`,10,280,{align:"left"});const al=l.getTextWidth(`${Fe.value}`);l.text(`${Ea.value}`,al+15,280),l.setFontSize(12);const Ja=()=>{l.setFontSize(12),l.setTextColor(0),l.text("The tile roof system and its components shall be installed in strict compliance with the FBC 2023 HVHZ portions of Chapter 15, the HVHZ Tile Application Standards: RAS-119, RAS-120 & RAS-127 and the submitted MDC Notice of Acceptance(s). The mePermit applicant agrees to comply with these installation requirements when obtaining this permit.",10,25,{maxWidth:"200"}),l.line(10,41,195,41)};l.setTextColor(0),l.circle(185,38,2,"FD"),l.text("I agree",165,39),Ja(),l.setFontSize(12),l.setFontSize(12);const wa=[{category:"DBA",value:`${Oe.value}`},{category:"Municipality",value:`${Ea.value}`},{category:"Job Address",value:`${Mt.value}`},{category:"meProcess Number",value:`${Lt.value}`}];let Za=10,Pa=60,ll=50;l.setFontSize(12),wa.forEach((b,z)=>{const M=ll+z*10;l.text(b.category,Za,M),l.text(b.value,Pa,M),l.getTextWidth(b.category);const B=l.getTextWidth(b.value)*2;l.line(Pa,M+2,Pa+B,M+2)}),l.setFontSize(12);const v=2,P=90,qa="Roof Area: ",ha="DeckType: ",ra="Mean Roof Height: ",za="Roof Slope: ",sl="Roof Perimeter: ";d.value=x;const vl=l.getTextWidth(qa),yt=l.getTextWidth(`${Qt.value}`),Ca=d.value;l.text(qa,Ca,P);const ba=vl+Ca;l.text(`${Qt.value}`,ba,P),l.line(ba,P+v,ba+yt,P+v),d.value=ba+yt,console.log(e,P);const ka=l.getTextWidth(ra),Ra=l.getTextWidth(`${Ne.value}`),ga=d.value+10;l.text(ra,ga,P);const Ba=ka+ga;l.text(`${Ne.value}`,Ba,P),l.line(Ba,P+v,Ba+Ra,P+v),d.value=Ba+Ra;const Xt=l.getTextWidth(za),Da=l.getTextWidth(`${ce.value}`),pe=d.value+10;l.text(za,pe,P);const _t=Xt+pe;l.text(`${ce.value}`,_t,P),l.line(_t,P+v,_t+Da,P+v),d.value=_t+Da;const Ia=l.getTextWidth(sl),Nt=l.getTextWidth(`${ua.value}`),Ka=d.value+10;l.text(sl,Ka,P);const ol=Ia+Ka;l.text(`${ua.value}`,ol,P),l.line(ol,P+v,ol+Nt,P+v),console.log(P,e),e=P+10;const fl=l.getTextWidth(ha),Qa=l.getTextWidth(`${pa.value}`),Ua=x;l.text(ha,Ua,e);const ea=fl+Ua;l.text(`${pa.value}`,ea,e),l.line(ea,e+v,ea+Qa,e+v),e=e+10;const Aa="Tile NOA Number: ",il="Tile Applicant: ",Oa="Tile Material: ",Ha="Tile Description: ",xa="Fastened Underlayment(UDL)NOA: ",ma="UDL NOA Applicant: ",Ta="Fastened UDL Material: ",La="Select System E: ",ya="Design psf: ",nl="Anchor Base Sheet: ",F="UDL Description: ",Y="Select Underlayment: ",O="DripEdge Material: ",j="DripEdge Size: ",fe=a(((kt=K.$state.dripinputadt[4])==null?void 0:kt.dripTileMaterial)||""),te=a(((ft=K.$state.dripinputadt[6])==null?void 0:ft.dripTileMaterial)||""),tt=l.getTextWidth(O),ae=l.getTextWidth(`${fe.value}`),ue=x;l.text(O,ue,e);const Ee=tt+ue;l.text(`${fe.value}`,Ee,e),l.line(Ee,e+v,Ee+ae,e+v),e=e+10;const He=l.getTextWidth(j),le=l.getTextWidth(`${te.value}`),Q=x;l.text(j,Q,e);const ta=He+Q;l.text(`${te.value}`,ta,e),l.line(ta,e+v,ta+le,e+v),e=e+10,console.log(T);const at=a(((Bt=(Rt=T[0])==null?void 0:Rt.savedValues)==null?void 0:Bt.zoneone.mf1)||""),ee=a((($t=(S=T[0])==null?void 0:S.savedValues)==null?void 0:$t.zoneone.lambda1)||""),we=a(((Ut=(It=T[0])==null?void 0:It.savedValues)==null?void 0:Ut.zoneone.mg1)||""),lt=a(((o=(St=T[0])==null?void 0:St.savedValues)==null?void 0:o.zoneone.mr1)||""),$e=a(((i=(xe=T[0])==null?void 0:xe.savedValues)==null?void 0:i.zoneone.zone1)||""),ve=a(((ia=(Vt=T[0])==null?void 0:Vt.savedValues)==null?void 0:ia.zonetwo.mf2)||""),q=a(((Sa=(h=T[0])==null?void 0:h.savedValues)==null?void 0:Sa.zonetwo.lambda2)||""),hl=a(((rt=(na=T[0])==null?void 0:na.savedValues)==null?void 0:rt.zonetwo.mg2)||""),Ga=a(((Va=(N=T[0])==null?void 0:N.savedValues)==null?void 0:Va.zonetwo.mr2)||""),Ma=a(((bt=(Le=T[0])==null?void 0:Le.savedValues)==null?void 0:bt.zonetwo.zone2)||""),Ge=a(((ye=(Ot=T[0])==null?void 0:Ot.savedValues)==null?void 0:ye.zonethree.mf3)||""),$l=a(((Ue=(Ht=T[0])==null?void 0:Ht.savedValues)==null?void 0:Ue.zonethree.lambda3)||""),Sl=a(((Dt=(Gt=T[0])==null?void 0:Gt.savedValues)==null?void 0:Dt.zonethree.mg3)||""),Vl=a((jt=(Yt=T[0])==null?void 0:Yt.savedValues)==null?void 0:jt.zonethree.mr3),rl=a(((Zt=(Jt=T[0])==null?void 0:Jt.savedValues)==null?void 0:Zt.zonethree.zone3)||""),El=a((me=(da=T[0])==null?void 0:da.savedValues)==null?void 0:me.prescriptiveSelection.selectedBasesheet),wl=l.getTextWidth(El.value);console.log(El,wl);const Bl=x;l.text(Y,Bl,e+v);const dl=x;if(e=e+10,l.text(`${El.value}`,dl,e),l.line(dl,e+v,dl+wl,e+v),e=e+10,V.$state.tilesysEinput.length===0){const b="n/a",z="n/a",M="n/a",B="n/a",Ze=l.getTextWidth(xa),Ce=l.getTextWidth(b),qe=x;l.text(xa,qe,e);const it=qe+Ze+2;l.text(b,it,e),l.line(it,e+v,it+Ce,e+v),d.value=it+Ce,console.log(d.value);const Ke=l.getTextWidth(ma),la=l.getTextWidth(z),nt=d.value+2;l.text(ma,nt,e);const dt=nt+Ke;l.text(z,dt,e),l.line(dt,e+v,dt+la,e+v),d.value=dt+la,console.log(d.value),d.value>R&&(e=e+10);const ke=d.value+2,sa=l.getTextWidth(Ta),oa=l.getTextWidth(M);l.text(Ta,ke,e);const fa=ke+sa;l.text(M,fa,e),l.line(fa,e+v,fa+oa,e+v),d.value=fa+oa,console.log(d.value),d.value>R&&(e=e+10),console.log(d.value);const wt=l.getTextWidth(F),el=l.getTextWidth(B),$a=x,Pt=$a+el;console.log(Pt),l.text(F,$a,e),Pt>R&&print(Pt);const Re=$a+wt;l.text(B,Re,e),l.line(Re,e+v,Re+el,e+v),d.value=Re+el,e=e+10}else{const b=a(V.$state.tilesysEinput[0].systemDataE.noa),z=a(V.$state.tilesysEinput[0].systemDataE.manufacturer),M=a(V.$state.tilesysEinput[0].systemDataE.material),B=a(V.$state.tilesysEinput[0].systemDataE.systemSelected),Ze=a(V.$state.tilesysEinput[0].systemDataE.dP),Ce=a(V.$state.tilesysEinput[0].systemDataE.Anchor_Base),qe=a(V.$state.tilesysEinput[0].systemDataE.tileCap),it=l.getTextWidth(xa),Ke=l.getTextWidth(`${b.value}`),la=x;l.text(xa,la,e);const nt=Wa+it;l.text(`${b.value}`,nt,e),l.line(nt,e+v,nt+Ke,e+v),d.value=nt+Ke;const dt=l.getTextWidth(ma),ke=l.getTextWidth(`${z.value}`),sa=d.value+2;l.text(ma,sa,e);const oa=sa+dt;l.text(`${z.value}`,oa,e),l.line(oa,e+v,oa+ke,e+v);const fa=l.getTextWidth(`${M.value}`);d.value=oa+fa,e=e+10;const wt=x,el=l.getTextWidth(Ta),$a=l.getTextWidth(`${M.value}`);l.text(Ta,wt,e);const Pt=wt+el;l.text(`${M.value}`,Pt,e),l.line(Pt,e+v,Pt+$a,e+v),d.value=Pt+$a,d.value>R&&(e=e+10);const Re=d.value+5,Cl=l.getTextWidth(La),cl=l.getTextWidth(`${B.value}`);l.text(La,Re,e);const Ya=Re+Cl;l.text(`${B.value}`,Ya,e),l.line(Ya,e+v,Ya+cl,e+v),d.value=Ya+cl,d.value>R&&(e=e+10);const Na=l.getTextWidth(ya),Kl=l.getTextWidth(`${Ze.value}`),Ql=d.value+3;l.text(ya,Ql,e);const Ul=Ql+Na;l.text(`${Ze.value}`,Ul,e),l.line(Ul,e+v,Ul+Kl,e+v),d.value=Ul+Kl,console.log(d.value),e=e+10,l.getTextWidth(nl);const Ll=l.getTextWidth(`${Ce.value}`),ns=x;l.text(nl,ns,e),e=e+10;const Ol=x;l.text(`${Ce.value}`,Ol,e),l.line(Ol,e+v,Ol+Ll,e+v),d.value=Ol+Ll,e=e+10;const ds=l.getTextWidth(F),yl=l.getTextWidth(`${qe.value}`),_l=x;l.text(F,_l,e);const Hl=_l+ds;l.text(`${qe.value}`,Hl,e),l.line(Hl,e+v,Hl+yl,e+v),d.value=Hl+yl,console.log(d.value),e=e+10}const bl="Self Adhered NOA: ",gl="S/A NOA Applicant: ",xl="S/A System F: ",_a="S/A Material: ",aa="S/A Description: ";if($.$state.tilefinput.length===0){const b="n/a",z="n/a",M="n/a",B="n/a",Ze="n/a",Ce=l.getTextWidth(bl),qe=l.getTextWidth(b),it=x;l.text(bl,it,e);const Ke=it+Ce;l.text(b,Ke,e),l.line(Ke,e+v,Ke+qe,e+v),d.value=Ke+qe,console.log(d.value);const la=l.getTextWidth(gl),nt=l.getTextWidth(z),dt=d.value+3;l.text(gl,dt,e);const ke=dt+la;l.text(z,ke,e),l.line(ke,e+v,ke+nt,e+v),d.value=ke+nt,console.log(d.value);const sa=l.getTextWidth(xl),oa=d.value+3,fa=l.getTextWidth(M);l.text(xl,oa,e);const wt=oa+sa;l.text(M,wt,e),l.line(wt,e+v,wt+fa,e+v),d.value=wt+fa,console.log(d.value),e=e+10;const el=l.getTextWidth(_a),$a=l.getTextWidth(B),Pt=x;l.text(_a,Pt,e);const Re=Pt+el;l.text(B,Re,e),l.line(Re,e+v,Re+$a,e+v),d.value=Re+$a,console.log(d.value);const Cl=l.getTextWidth(aa),cl=l.getTextWidth(Ze),Ya=d.value+3;l.text(aa,Ya,e);const Na=Ya+Cl;l.text(Ze,Na,e),l.line(Na,e+v,Na+cl,e+v),d.value=Na+cl,console.log(d.value)}else{console.log("Entered sbs line 455",$.$state);const b=a($.$state.tilefinput[0].systemData.noa),z=a($.$state.tilefinput[0].systemData.manufacturer),M=a($.$state.tilefinput[0].systemData.pressure),B=a($.$state.tilefinput[0].systemData.material),Ze=a($.$state.tilefinput[0].systemData.description),Ce=l.getTextWidth(bl),qe=l.getTextWidth(`${b.value}`),it=x;l.text(bl,it,e);const Ke=it+Ce;l.text(`${b.value}`,Ke,e),l.line(Ke,e+v,Ke+qe,e+v),d.value=Ke+qe;const la=l.getTextWidth(gl),nt=l.getTextWidth(`${z.value}`),dt=d.value+3;l.text(gl,dt,e);const ke=dt+la;l.text(`${z.value}`,ke,e),l.line(ke,e+v,ke+nt,e+v),d.value=ke+nt,console.log(d.value);const sa=l.getTextWidth(xl),oa=l.getTextWidth(`${M.value}`),fa=d.value+3;l.text(xl,fa,e);const wt=fa+sa;l.text(`${M.value}`,wt,e),l.line(wt,e+v,wt+oa,e+v),d.value=wt+oa,e=e+10;const el=l.getTextWidth(_a),$a=l.getTextWidth(`${B.value}`),Pt=x;l.text(_a,Pt,e);const Re=Pt+el;l.text(`${B.value}`,Re,e),l.line(Re,e+v,Re+$a,e+v),d.value=Re+$a,d.value>R&&(e=e+10);const Cl=l.getTextWidth(aa),cl=l.getTextWidth(`${Ze.value}`),Ya=d.value+3;l.text(aa,Ya,e);const Na=Ya+Cl;l.text(`${Ze.value}`,Na,e),l.line(Na,e+v,Na+cl,e+v),d.value=Na+cl,d.value>=R&&(e=e+10),console.log(d.value)}e=e+10;const ml=a(_e.value.noa),Pl=a((c=(t=T[0])==null?void 0:t.savedValues)==null?void 0:c.applicant),zl=a((ne=(k=T[0])==null?void 0:k.savedValues)==null?void 0:ne.material),Xa=a((m=(At=T[0])==null?void 0:At.savedValues)==null?void 0:m.description),Zl=l.getTextWidth(il),Il=l.getTextWidth(`${Pl.value}`),ql=x;l.text(il,ql,e);const E=ql+Zl;l.text(`${Pl.value}`,E,e),l.line(E,e+v,E+Il,e+v),d.value=E+Il;const H=l.getTextWidth(Aa),w=l.getTextWidth(`${ml.value}`),I=d.value+3;l.text(Aa,I,e);const L=H+I;l.text(`${ml.value}`,L,e),l.line(L,e+v,L+w,e+v),e=e+10;const y=l.getTextWidth(`${zl.value}`);d.value>R&&(e=e+10),d.value=L+y;const se=x,J=l.getTextWidth(Oa),Ye=l.getTextWidth(`${zl.value}`);l.text(Oa,se,e);const Ft=se+J;l.text(`${zl.value}`,Ft,e),l.line(Ft,e+v,Ft+Ye,e+v),e=e+5;const st=l.getTextWidth(`${Xa.value}`);d.value=Ft+st,d.value>R&&(e=e+5),console.log(d.value,R),e=e+5;const he=l.getTextWidth(`${Xa.value}`),Pe=l.getTextWidth(Ha);console.log(he,Pe);const Wa=x;if(l.text(Ha,Wa,e),he>220){e=e+4;const b=x;l.text(`${Xa.value}`,b,e),l.line(b,e+v,b+he,e+v),d.value=b+he,e=e+8}else{const b=Wa+Pe;l.text(`${Xa.value}`,b,e),l.line(b,e+v,b+he,e+v),d.value=b+he,e=e+5}e=e+10,l.setFontSize(12);const Se=new Image;Se.src="/demo/images/lambda.png",console.log(d.value,e);const ot=[["Zone 1:",`${$e.value}`,"x",`${ee.value}`,"- Mg:",`${we.value}`,"= Mr1:",`${lt.value}`,"NOA Mf:",`${at.value}`],["Zone 2:",`${Ma.value}`,"x",`${q.value}`,"- Mg:",`${hl.value}`,"= Mr2:",`${Ga.value}`,"NOA Mf:",`${ve.value}`],["Zone 3:",`${rl.value}`,"x",`${$l.value}`,"- Mg:",`${Sl.value}`,"= Mr2:",`${Vl.value}`,"NOA Mf:",`${Ge.value}`]];console.log(ot);let je=x-1,ze=e;ot.forEach(b=>{let z=je;b.forEach(M=>{console.log(z,ze),l.text(String(M),z,ze),z+=18}),l.addImage(Se,"png",50,ze-4,5,5),l.addImage(Se,"png",50,ze-4,5,5),l.addImage(Se,"png",50,ze-4,5,5),ze+=5,console.log(z,ze)});const Et="TileAdhesive.pdf",Je=l.output("blob");(async(b,z)=>{const M=b,B=M;console.log(B);const Ze=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${Fe.value}/${B}`;try{const Ce=await fetch(Ze,{method:"PUT",headers:{"Content-Type":M.type},body:z});Ce.ok?(Te.value=Ze,alert("TileAdhesive File uploaded successfully!")):alert(`Failed to upload file. Status: ${Ce.status}`)}catch(Ce){console.error("Error uploading file:",Ce),alert("An error occurred while uploading the file.")}})(Et,Je)}};return(f,ge)=>(Ml(),Xl("div"))}};function Hs(){const _=a(),$=a([]);let V=a([]);const X=Ps(),D=a(),T=a("");let g="https://2dz45lw4aeav6valksiiquuwqq0ejsio.lambda-url.us-east-1.on.aws/";const{execute:G,then:A,data:K}=ls(g,{method:"GET"},{immediate:!1}),r=Jl({noa:"",manufacturer:"",material:"",description:"",Table2:[],Table3:[],expiration_date:"",resistance:[],selection:"",select_tile:[],tile_map:[],table2_map:[],two_ten_d_RS_Nails:null,one_number_eight_screw:null,two_number_eight_screw:null,mechanicaltilefastener:[],fastenerValues:[],height:null,area:null,slope:null,perimeter:null,decktype:null});function Qe(f){_.value=f,console.log(_.value),D.value=Number(_.value),s()}const s=async()=>{try{const f=await G({params:{NOA:D.value}}).then(ge=>($.value=K.value,console.log(K.value),$.value));console.log(f.length),f.length===0||(console.log($.value),r.noa=$.value[0].NOA,r.manufacturer=$.value[0].applicant,r.material=$.value[0].material,r.selection=$.value[0].AdhesiveMaterials,r.description=$.value[0].description,r.select_tile=$.value[0].Select_Tile,r.tile_map=$.value[0].Tile_Map,r.table2_map=$.value[0].Table2_Map,r.Table2=$.value[0].Table2,r.Table3=$.value[0].Table3,r.resistance=$.value[0].Resistance,r.expiration_date=$.value[0].expiration_date,r.two_ten_d_RS_Nails=$.value[0].two_ten_d_RS_Nails,r.one_number_eight_screw=$.value[0].one_number_eight_screw,r.two_number_eight_screw=$.value[0].two_number_eight_screw,r.mechanicaltilefastener=$.value[0].mechanicaltilefastener,r.fastenerValues=$.value[0].fastenerValues,X.addNoa(r),console.log(r,"System added"))}catch(f){console.log("Error, fectching data",f)}return V};return{input:_,fetchData:s,takeMechInput:Qe,noaNum:$,error:T,results:V,...xs(r),mechStore:X}}const Gs={__name:"TileMechanical",setup(_){const{getUser:$}=Nl(),V=a(!1),X=Fl(),D=Wl(),T=a(D.$state.roofList),{mechStore:g}=Hs(),G=os(),A=is(),K=zs(),r=Tl(()=>{if(T.value.length===0)return"";for(let s=0;s<T.value.length;s++)T.value[s].item==="Mechanical Fastened Tile"&&(console.log(T.value[s].item),V.value=!0,Qe())});Dl(async()=>{await Al(r).toBe(!0),console.log(r)});const Qe=()=>{var x,e,zt,Be,re,Ie,be,De,Ae,Me,Xe,C,Z,W,U,p,ie,Ct,ct,pt,ut,vt,ht,gt,u,xt,mt,Tt,Wt,kt,ft,Rt,Bt,S,$t,It,Ut,St,o,xe,i,Vt,ia,h,Sa,na,rt,N,Va,Le,bt,Ot,ye,Ht,Ue,Gt,Dt,Yt,jt,Jt;if(g.tilemech.value.length===0)console.log("lenghth is   zero");else{let Zt=a(!1),da=a(!1),me=a(!1);((e=(x=g.tilemech.value[0])==null?void 0:x.Table2)==null?void 0:e.content)==="multiple"&&(me=!0),A.$state.tilesysEinput.length!==0&&(Zt=!0,console.log(Zt,A)),G.$state.tilefinput.length!==0&&(da=!0,console.log(da));const t=new Rl({orientation:"portrait",unit:"mm",format:"a4",compress:!0});console.log((zt=g.tilemech.value[0])==null?void 0:zt.Table2);const c=1,k=90,ne=179,At=725,m=t.getPageInfo(1);console.log(m),m.pageContext.mediaBox.topRightX;const l=m.pageContext.mediaBox.topRightY,n=a(0),qt=a(0);var s=l-At,f=595.28-585.28;n.value=f,qt.value=s,console.log(X.$state.permitapp),console.log(g.tilemech.value[0]);const R=a(((Be=g.tilemech.value[0])==null?void 0:Be.height)||"N/A"),de=a(((re=g.tilemech.value[0])==null?void 0:re.slope)||"N/A"),Kt=a(((Ie=g.tilemech.value[0])==null?void 0:Ie.decktype)||"N/A"),ca=a(((be=g.tilemech.value[0])==null?void 0:be.perimeter)||"N/A");a((Ae=(De=A.$state.tilesysEinput[0])==null?void 0:De.systemDataE)==null?void 0:Ae.prescriptiveSelection),console.log(g.tilemech.value[0].prescriptiveSelection);const d=a(((Me=g.tilemech.value[0])==null?void 0:Me.prescriptiveSelection)||"N/A"),Fa=a(((Xe=g.tilemech.value[0])==null?void 0:Xe.area)||""),_e=a(((Z=(C=X.$state.permitapp[0])==null?void 0:C.formdt)==null?void 0:Z.address)||""),Ne=a(((U=(W=X.$state.permitapp[0])==null?void 0:W.formdt)==null?void 0:U.muni)||"");a(((ie=(p=X.$state.permitapp[0])==null?void 0:p.formdt)==null?void 0:ie.processNumber)||"");const ce=a(((ct=(Ct=X.$state.permitapp[0])==null?void 0:Ct.formdt)==null?void 0:ct.muniProc)||""),Qt=a(((pt=K.$state.dripinputmecht[5])==null?void 0:pt.dripMTileMaterial)||""),pa=a(((ut=K.$state.dripinputmecht[7])==null?void 0:ut.dripMTileMaterial)||"");console.log(g.tilemech.value[0]),s=s+10;const ua=a(((vt=g.tilemech.value[0])==null?void 0:vt.mf1)||""),Mt=a(((ht=g.tilemech.value[0])==null?void 0:ht.lambda1)||""),Ea=a(((gt=g.tilemech.value[0])==null?void 0:gt.mg1)||""),Fe=a(((u=g.tilemech.value[0])==null?void 0:u.mr1)||""),Lt=a(((xt=g.tilemech.value[0])==null?void 0:xt.zoneone)||""),Te=a(((mt=g.tilemech.value[0])==null?void 0:mt.mf2)||""),Oe=a(((Tt=g.tilemech.value[0])==null?void 0:Tt.lambda2)||""),et=a(((Wt=g.tilemech.value[0])==null?void 0:Wt.mg2)||""),We=a(((kt=g.tilemech.value[0])==null?void 0:kt.mr2)||""),va=a(((ft=g.tilemech.value[0])==null?void 0:ft.zonetwo)||""),tl=a(((Rt=g.tilemech.value[0])==null?void 0:Rt.mf3)||""),al=a(((Bt=g.tilemech.value[0])==null?void 0:Bt.lambda3)||""),Ja=a(((S=g.tilemech.value[0])==null?void 0:S.mg3)||""),wa=a(g.tilemech.value[0].mr3||""),Za=a((($t=g.tilemech.value[0])==null?void 0:$t.zonethree)||""),Pa=a(""),ll=a($.value[0].dba);t.setGState(new t.GState({opacity:.8}));const v="Approved";t.setFontSize(24),t.setTextColor(150,150,150),t.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const ul=new Image,P=new Image,qa=new Image;ul.src="/demo/images/officepaper.jpeg",P.src="/demo/images/logo.jpeg",qa.src="/demo/images/lambda.png",t.addImage(P,"JPEG",10,0,50,30),t.addImage(ul,"JPEG",0,0,210,297),t.setFontSize(15),t.setTextColor("green");var ge=new Date,oe=ge.toLocaleDateString();t.text(v,10,270,{align:"left"});const ha=t.getTextWidth(v);t.text("on: "+oe,ha+15,270),t.text(`${ce.value}`,10,280,{align:"left"});const ra=t.getTextWidth(`${ce.value}`);t.text(`${Ne.value}`,ra+15,280);const za=()=>{t.setFontSize(12),t.setTextColor(0),t.text("The tile roof system and its components shall be installed in strict compliance with the FBC 2023 HVHZ portions of Chapter 15, the HVHZ Tile Application Standards: RAS-119, RAS-120 & RAS-127 and the submitted MDC Notice of Acceptance(s).",10,29,{maxWidth:"200"}),t.line(10,41,195,41)};t.setTextColor(0),t.circle(189,38,2,"FD"),t.text("I agree",165,39),za(),t.setFontSize(12);const sl=[{category:"DBA",value:`${ll.value}`},{category:"Municipality",value:`${Ne.value}`},{category:"Job Address",value:`${_e.value}`},{category:"Process Number",value:`${ce.value}`}];let vl=10,yt=60,Ca=50;t.setFontSize(12),sl.forEach((E,H)=>{const w=Ca+H*10;t.text(E.category,vl,w),t.text(E.value,yt,w),t.getTextWidth(E.category);const I=t.getTextWidth(E.value)*2;t.line(yt,w+2,yt+I,w+2)}),t.setFontSize(12),console.log(s);const ba="Roof Perimeter: ",ka=t.getTextWidth("Roof Area: "),Ra=t.getTextWidth(`${Fa.value}`);t.text("Roof Area:",f,k);const ga=ka+10;t.text(`${Fa.value}`,ga,k),t.line(ga,k+c,ga+Ra,k+c),n.value=ka+Ra,console.log(n.value);const Ba=t.getTextWidth("Mean Roof Height:"),Xt=t.getTextWidth(`${R.value}`),Da=n.value+15;t.text("Mean Roof Height:",Da,k);const pe=Ba+45;t.text(`${R.value}`,pe,k),t.line(pe,k+c,pe+Xt,k+c),n.value=Ba+Xt,console.log(n.value),t.getTextWidth("Roof Slope: ");const _t=t.getTextWidth(`${de.value}`),Ia=n.value+50;t.text("Roof Slope:",Ia,k);const Nt=Ia+25;t.text(`${de.value}`,Nt,k),t.line(Nt,k+c,Nt+_t,k+c),n.value=n.value+Nt;const Ka=t.getTextWidth(ba),ol=t.getTextWidth(`${ca.value}`),fl=n.value-30;t.text(ba,fl,k);const Qa=Ka+fl+2;t.text(`${ca.value}`,Qa,k),t.line(Qa,k+c,Qa+ol,k+c),s=k+30;const Ua=t.getTextWidth("Deck Type"),ea=t.getTextWidth(`${Kt.value}`);n.value=n.value+Ua-30,t.text("Decktype:",n.value,s);const Aa=n.value+20;t.text(`${Kt.value}`,Aa,s),t.line(Aa,s+c,Aa+ea,s+c),n.value=Aa+ea;const il="Tile NOA Number: ",Oa="Tile Applicant: ",Ha="Tile Material: ",xa="Tile Type: ",ma="Tile Description: ",Ta="Select Mechanical Tile Fastener: ",La="Fastened (UDL) NOA: ",ya="(UDL) NOA Applicant: ",nl="Fastened (UDL) Material: ",F="Select System E: ",Y="Design psf: ",O="Anchor Base Sheet: ",j="(UDL) Description: ",fe="Prescriptive: ",te="DripEdge Material: ",tt="DripEdge Size: ";console.log(g.tilemech.value[0]),console.log(g.tilemech.value[0]);const ae=a((It=g.tilemech.value[0])==null?void 0:It.noa),ue=a((Ut=g.tilemech.value[0])==null?void 0:Ut.manufacturer),Ee=a((St=g.tilemech.value[0])==null?void 0:St.material),He=me===!0?a((o=g.tilemech.value[0])==null?void 0:o.tiletype):a((xe=g.tilemech.value[0])==null?void 0:xe.material),le=me!==!0?a((i=g.tilemech.value[0])==null?void 0:i.savedfastener):a((Vt=g.tilemech.value[0])==null?void 0:Vt.description),Q=me===!0?a((ia=g.tilemech.value[0])==null?void 0:ia.savedfastener):a((h=g.tilemech.value[0])==null?void 0:h.description);console.log((Sa=g.tilemech.value[0])==null?void 0:Sa.description,(na=g.tilemech.value[0])==null?void 0:na.savedfastener),t.getTextWidth(fe);const ta=t.getTextWidth(`${d.value}`),at=f;t.text(fe,at,s-15);const ee=f;s=s-9,t.text(`${d.value}`,ee,s),t.line(ee,s+c,ee+ta,s+c),s=s+10;const we=t.getTextWidth(te),lt=t.getTextWidth(`${Qt.value}`),$e=f;t.text(te,$e,s);const ve=we+$e;t.text(`${Qt.value}`,ve,s),t.line(ve,s+c,ve+lt,s+c),s=s+8;const q=t.getTextWidth(tt),hl=t.getTextWidth(`${pa.value}`),Ga=f;t.text(tt,Ga,s);const Ma=q+Ga;if(t.text(`${pa.value}`,Ma,s),t.line(Ma,s+c,Ma+hl,s+c),s=s+10,t.setFontSize(12),A.$state.tilesysEinput.length===0){const E="n/a",H="n/a",w="n/a",I="n/a",L=t.getTextWidth(La),y=t.getTextWidth(E),se=f;t.text(La,se,s);const J=se+L;t.text(E,J,s),t.line(J,s+c,J+y,s+c),n.value=J+y,console.log(n.value);const Ye=t.getTextWidth(ya),Ft=t.getTextWidth(H),st=n.value+2;t.text(ya,st,s);const he=st+Ye;t.text(H,he,s),t.line(he,s+c,he+Ft,s+c),n.value=he+Ft,console.log(n.value),n.value>ne&&(s=s+10);const Pe=n.value+2,Wa=t.getTextWidth(nl),Se=t.getTextWidth(w);t.text(nl,Pe,s);const ot=Pe+Wa;t.text(w,ot,s),t.line(ot,s+c,ot+Se,s+c),n.value=ot+Se,console.log(n.value),n.value>ne&&(s=s+10),s=s+10;const je=t.getTextWidth(j),ze=t.getTextWidth(I),Et=f,Je=Et+ze;console.log(Je),t.text(j,Et,s),Je>ne&&print(Je);const Ve=Et+je;t.text(I,Ve,s),t.line(Ve,s+c,Ve+ze,s+c),n.value=Ve+ze,s=s+10}else{console.log(A.$state.tilesysEinput);const E=a(((N=(rt=A.$state.tilesysEinput[0])==null?void 0:rt.systemDataE)==null?void 0:N.noa)||"N/A"),H=a(((Le=(Va=A.$state.tilesysEinput[0])==null?void 0:Va.systemDataE)==null?void 0:Le.manufacturer)||"N/A"),w=a(((Ot=(bt=A.$state.tilesysEinput[0])==null?void 0:bt.systemDataE)==null?void 0:Ot.material)||"N/A"),I=a(((Ht=(ye=A.$state.tilesysEinput[0])==null?void 0:ye.systemDataE)==null?void 0:Ht.systemSelected)||"N/A"),L=a(((Gt=(Ue=A.$state.tilesysEinput[0])==null?void 0:Ue.systemDataE)==null?void 0:Gt.dP)||"N/A"),y=a(((Yt=(Dt=A.$state.tilesysEinput[0])==null?void 0:Dt.systemDataE)==null?void 0:Yt.Anchor_Base)||"N/A"),se=a(((Jt=(jt=A.$state.tilesysEinput[0])==null?void 0:jt.systemDataE)==null?void 0:Jt.tileCap)||"N/A"),J=t.getTextWidth(La),Ye=t.getTextWidth(`${E.value}`),Ft=f;t.text(La,Ft,s);const st=Ft+J;t.text(`${E.value}`,st,s),t.line(st,s+c,st+Ye,s+c),n.value=st+Ye;const he=t.getTextWidth(ya),Pe=t.getTextWidth(`${H.value}`),Wa=n.value+2;t.text(ya,Wa,s);const Se=Wa+he;t.text(`${H.value}`,Se,s),t.line(Se,s+c,Se+Pe,s+c);const ot=t.getTextWidth(`${w.value}`);n.value=Se+ot,s=s+10;const je=f,ze=t.getTextWidth(nl),Et=t.getTextWidth(`${w.value}`);t.text(nl,je,s);const Je=je+ze;t.text(`${w.value}`,Je,s),t.line(Je,s+c,Je+Et,s+c),n.value=Je+Et,n.value>ne&&(s=s+10);const Ve=n.value+5,b=t.getTextWidth(F),z=t.getTextWidth(`${I.value}`);t.text(F,Ve,s);const M=Ve+b;t.text(`${I.value}`,M,s),t.line(M,s+c,M+z,s+c),n.value=M+z,n.value>ne&&(s=s+10);const B=t.getTextWidth(Y),Ze=t.getTextWidth(`${L.value}`),Ce=n.value+3;t.text(Y,Ce,s);const qe=Ce+B;t.text(`${L.value}`,qe,s),t.line(qe,s+c,qe+Ze,s+c),n.value=qe+Ze,console.log(n.value),s=s+10,t.getTextWidth(O);const it=t.getTextWidth(`${y.value}`),Ke=f;t.text(O,Ke,s),s=s+10;const la=f;t.text(`${y.value}`,la,s),t.line(la,s+c,la+it,s+c),n.value=la+it,s=s+10;const nt=t.getTextWidth(j),dt=t.getTextWidth(`${se.value}`),ke=f;t.text(j,ke,s);const sa=ke+nt;t.text(`${se.value}`,sa,s),t.line(sa,s+c,sa+dt,s+c),n.value=sa+dt,console.log(n.value),s=s+10}const Ge="Self Adhered NOA: ",$l="S/A NOA Applicant: ",Sl="S/A System F: ",Vl="S/A Material: ",rl="S/A Description: ";if(G.$state.tilefinput.length===0){const E="n/a",H="n/a",w="n/a",I="n/a",L="n/a",y=t.getTextWidth(Ge),se=t.getTextWidth(E),J=f;t.text(Ge,J,s);const Ye=J+y;t.text(E,Ye,s),t.line(Ye,s+c,Ye+se,s+c),n.value=Ye+se,console.log(n.value);const Ft=t.getTextWidth($l);t.getTextWidth(H);const st=n.value+3,he=t.getTextWidth(w);t.text($l,st,s);const Pe=st+Ft;t.text(H,Pe,s),t.line(Pe,s+c,Pe+he,s+c),n.value=Pe+he,console.log(n.value);const Wa=t.getTextWidth(Sl),Se=t.getTextWidth(w),ot=n.value+3;t.text(Sl,ot,s);const je=ot+Wa;t.text(w,je,s),t.line(je,s+c,je+Se,s+c),n.value=je+Se,console.log(n.value),s=s+10;const ze=t.getTextWidth(Vl),Et=t.getTextWidth(I),Je=f;t.text(Vl,Je,s);const Ve=Je+ze;t.text(I,Ve,s),t.line(Ve,s+c,Ve+Et,s+c),n.value=Ve+Et,console.log(n.value);const b=t.getTextWidth(rl),z=t.getTextWidth(L),M=n.value+3;t.text(rl,M,s);const B=M+b;t.text(L,B,s),t.line(B,s+c,B+z,s+c),n.value=B+z,console.log(n.value)}else{console.log("Entered sbs line 455",G.$state);const E=a(G.$state.tilefinput[0].systemData.noa),H=a(G.$state.tilefinput[0].systemData.manufacturer),w=a(G.$state.tilefinput[0].systemData.pressure),I=a(G.$state.tilefinput[0].systemData.material),L=a(G.$state.tilefinput[0].systemData.description),y=t.getTextWidth(Ge),se=t.getTextWidth(`${E.value}`),J=f;t.text(Ge,J,s);const Ye=J+y;t.text(`${E.value}`,Ye,s),t.line(Ye,s+c,Ye+se,s+c),n.value=Ye+se;const Ft=t.getTextWidth($l),st=t.getTextWidth(`${H.value}`),he=n.value+3;t.text($l,he,s);const Pe=he+Ft;t.text(`${H.value}`,Pe,s),t.line(Pe,s+c,Pe+st,s+c),n.value=Pe+st,console.log(n.value);const Wa=t.getTextWidth(Sl),Se=t.getTextWidth(`${w.value}`),ot=n.value+3;t.text(Sl,ot,s);const je=ot+Wa;t.text(`${w.value}`,je,s),t.line(je,s+c,je+Se,s+c),n.value=je+Se,s=s+10;const ze=t.getTextWidth(Vl),Et=t.getTextWidth(`${I.value}`),Je=f;t.text(Vl,Je,s);const Ve=Je+ze;t.text(`${I.value}`,Ve,s),t.line(Ve,s+c,Ve+Et,s+c),n.value=Ve+Et,n.value>ne&&(s=s+10);const b=t.getTextWidth(rl),z=t.getTextWidth(`${L.value}`),M=n.value+3;t.text(rl,M,s);const B=M+b;t.text(`${L.value}`,B,s),t.line(B,s+c,B+z,s+c),n.value=B+z,n.value>=ne&&(s=s+10),console.log(n.value)}s=s+10;const El=t.getTextWidth(`${ue.value}`),wl=t.getTextWidth(Oa),Bl=f;t.text(Oa,Bl,s);const dl=Bl+wl;t.text(`${ue.value}`,dl,s),t.line(dl,s+c,dl+El,s+c),n.value=dl+wl+10;const bl=t.getTextWidth(il),gl=t.getTextWidth(`${ae.value}`),xl=n.value+bl;t.text(il,xl,s);const _a=xl+38;t.text(`${ae.value}`,_a,s),t.line(_a,s+c,_a+gl,s+c),n.value=_a+gl,s=s+10;const aa=s;if(me===!0){const E=t.getTextWidth(xa),H=t.getTextWidth(`${He.value}`),w=f;t.text(xa,w,aa);const I=w+E;n.value=E+H,t.text(`${He.value}`,I,aa),t.line(I,aa+c,I+H,aa+c),s=s+10;const L=t.getTextWidth(Ta),y=t.getTextWidth(`${Q.value}`);console.log(Q.value),n.value=f;const se=n.value;t.text(Ta,se,s),console.log(n.value);const J=se+L;t.text(`${Q.value}`,J,s),t.line(J,s+c,J+y,s+c),n.value=J+y,s=s+10}else{const E=t.getTextWidth(Ha),H=t.getTextWidth(`${Ee.value}`);n.value=f,console.log(Ee.value);const w=n.value;t.text(Ha,w,aa);const I=w+E;t.text(`${Ee.value}`,I,aa),t.line(I,aa+c,I+H,aa+c),n.value=E+H+20,console.log(n.value);const L=t.getTextWidth(ma),y=t.getTextWidth(`${le.value}`),se=n.value+10;t.text(ma,se,s);const J=se+L;t.text(`${le.value}`,J,s),t.line(J,s+c,J+y,s+c),n.value=J+y}s=s+10;const ml=new Image;ml.src="/demo/images/lambda.png";const Pl=[["Zone 1:",`${Lt.value}`,"x",`${Mt.value}`,"- Mg:",`${Ea.value}`,"= Mr1:",`${Fe.value}`,"NOA Mf:",`${ua.value}`],["Zone 2:",`${va.value}`,"x",`${Oe.value}`,"- Mg:",`${et.value}`,"= Mr2:",`${We.value}`,"NOA Mf:",`${Te.value}`],["Zone 3:",`${Za.value}`,"x",`${al.value}`,"- Mg:",`${Ja.value}`,"= Mr2:",`${wa.value}`,"NOA Mf:",`${tl.value}`]];console.log(Pl);let zl=f-1,Xa=s;Pl.forEach(E=>{let H=zl;E.forEach(w=>{t.text(String(w),H,Xa),H+=18}),t.addImage(ml,"png",50,Xa-4,5,5),t.addImage(ml,"png",50,Xa-4,5,5),t.addImage(ml,"png",50,Xa-4,5,5),Xa+=5,Xa+=5}),s=s+20;const Zl="MechanicalTile.pdf",Il=t.output("blob");(async(E,H)=>{const w=E,I=w;console.log(I);const L=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${ce.value}/${I}`;try{const y=await fetch(L,{method:"PUT",headers:{"Content-Type":w.type},body:H});y.ok?(Pa.value=L,alert("Mechanical File uploaded successfully!")):alert(`Failed to upload file. Status: ${y.status}`)}catch(y){console.error("Error uploading file:",y),alert("An error occurred while uploading the file.")}})(Zl,Il)}};return(s,f)=>(Ml(),Xl("div"))}},Ys=_=>(Ss("data-v-1d23eceb"),_=_(),Vs(),_),js={class:"card"},Js=Ys(()=>ja("p",null,"The roof systems you selected",-1)),Zs={class:"rounded border border-surface-200 dark:border-surface-700 p-6 bg-surface-0 dark:bg-surface-900"},qs={__name:"Summarys",setup(_){var be,De,Ae,Me,Xe;const{accountUsers:$}=Nl(),V=bs();a(!1);const X=a(!1);let D=a(!1),T=a(!1),g=a(!1),G=a(!1),A=a(!1);const K=a("");a(""),a("");const r=Fl(),Qe=Wl(),s=a(Qe.$state.roofList);a(((De=(be=r.$state.permitapp[0])==null?void 0:be.formdt)==null?void 0:De.processNumber)||"");const f=ss(),ge=a(f.$state.generalpdfinput),oe=a(((Me=(Ae=r.$state.permitapp[0])==null?void 0:Ae.formdt)==null?void 0:Me.muniProc)||"");a(!1),a(((Xe=V.$state.countinput[0])==null?void 0:Xe.countData)||""),a(!1),a(!1),a(!1),a(!1);const{getSignpdf:x}=ks();function e(){$.value.forEach((C,Z)=>{K.value=C.dba})}const zt=Tl(()=>{x(oe.value),X.value=!0,setTimeout(()=>{X.value=!0},1e3),console.log(oe.value)}),Be=Jl({dim:"",item:""}),re=Tl(()=>{if(s.value.length===0)return"";for(let C=0;C<s.value.length;C++)s.value[C].item==="Asphalt Shingle"?(G.value=!0,Be.dim=s.value[C].dim1,Be.item=s.value[C].item):s.value[C].item==="Low Slope"?A.value=!0:s.value[C].item==="Adhesive Set Tile"?(console.log(s.value[C].item),T.value=!0):s.value[C].item==="Mechanical Fastened Tile"?(console.log(s.value[C].item),g.value=!0):ge.value.length!==1&&(D.value=!0),console.log(s.value)});ms(()=>{e()});const Ie=a([{status:"RoofSystems",date:"15/10/2020 10:30",icon:"pi pi-cog",color:"#9C27B0",image:"/src/assets/img/roofing_tile.jpg"},{status:"Processing",date:"15/10/2020 14:00",icon:"pi pi-cog",color:"#673AB7"},{status:Be.item,date:"15/10/2020 14:00",icon:"pi pi-cog",color:"#673AB7"}]);return Ts(e,re,zt),Dl(async()=>{await Al(re).toBe(!0)}),(C,Z)=>{const W=us,U=ps,p=cs;return Ml(),Xl(Ws,null,[ja("div",js,[pl(p,{value:Ie.value,align:"alternate",class:"customized-timeline",style:{"margin-top":"50px"}},{marker:kl(ie=>[ja("span",{class:"flex w-8 h-8 items-center justify-center text-white rounded-full z-10 shadow-sm",style:fs({backgroundColor:ie.item.color})},[ja("i",{class:$s(ie.item.icon)},null,2)],4)]),content:kl(ie=>[pl(U,{class:"mt-4"},{title:kl(()=>[es(ts(ie.item.status),1)]),subtitle:kl(()=>[es(ts(ie.item.date),1)]),content:kl(()=>[Js,pl(W,{label:"Read more",text:""})]),_:2},1024)]),_:1},8,["value"])]),ja("div",Zs,[ja("div",null,[pl(Rs)]),Gl(ja("div",null,[pl(Is)],512),[[Yl,jl(G)]]),Gl(ja("div",null,[pl(Os)],512),[[Yl,jl(T)]]),Gl(ja("div",null,[pl(Gs)],512),[[Yl,jl(g)]]),Gl(ja("div",null,[pl(Bs)],512),[[Yl,jl(A)]])])],64)}}},xo=Cs(qs,[["__scopeId","data-v-1d23eceb"]]);export{xo as default};
