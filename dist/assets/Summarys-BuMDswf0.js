import{s as po}from"./index-Bd2opj1O.js";import{s as uo}from"./index-BmxqyUhV.js";import{s as vo}from"./index-BXK7P9OC.js";import{e as l,_ as Al,ae as Ml,ag as Xl,o as Nl,c as Fl,C as ho,au as xo,D as go,f as lo,y as mo,h as To,ad as Wo,i as Ha,j as pl,p as Rl,H as Yl,af as Gl,k as Jl,F as fo,V as $o,n as So,q as eo,t as to}from"./index-LUI4m8zE.js";import{u as El}from"./accountsStore-DsdbpKKm.js";import{c as Vo}from"./countStore-CN1wJond.js";import{u as oo}from"./generalpageStore-DN90gr66.js";import{u as wl}from"./permitapp-DnwbP4E1.js";import{u as ml}from"./roofList-D7lLNAb_.js";import{E as Bl}from"./jspdf.es.min-f9xKkjJY.js";import{a as ao,u as ro}from"./dripEdgeStore-CJTiGDUB.js";import{b as bo,a as Do,c as Ao,u as Mo}from"./systemfStore-CD5lUIjw.js";import{a as Xo,b as No,u as Fo}from"./tilevalueStore-DTv78Zzo.js";import{u as so,a as io}from"./tilesysfStore-BxpFwr1Q.js";import{u as Eo,a as wo}from"./dripEdgeMechTileStore-aqEzPZD4.js";import{u as zo}from"./useAxios-DFaKvlda.js";import"./index-BbAv3gtr.js";import"./reset-store-CQ8us459.js";const Po={__name:"Generalpagepdf",setup(dt){var z,g,e,ye,_e,Ve,re,be,P,Z,ne,C,c;const{getUser:$}=El();let b=l(!1);const B=wl();ml();const S=oo(),m=l(((g=(z=B.$state.permitapp[0])==null?void 0:z.formdt)==null?void 0:g.address)||""),x=l(((ye=(e=B.$state.permitapp[0])==null?void 0:e.formdt)==null?void 0:ye.permit)||"N|A"),H=l(((Ve=(_e=B.$state.permitapp[0])==null?void 0:_e.formdt)==null?void 0:Ve.processNumber)||""),X=l(((be=(re=B.$state.permitapp[0])==null?void 0:re.formdt)==null?void 0:be.muniProc)||""),ee=l(((Z=(P=B.$state.permitapp[0])==null?void 0:P.formdt)==null?void 0:Z.muni)||"");l((C=(ne=S.$state.generalpdfinput[1])==null?void 0:ne.generalpdfData)==null?void 0:C.totalData);const D=l(((c=$.value[0])==null?void 0:c.dba)||""),Y=l(""),o=l(S.$state.generalpdfinput);function W(){o.value.length!==1&&(b.value=!0)}Al(()=>{W()}),Ml(async()=>{await Xl(b).toBe(!0),Se()});const Se=()=>{var ct,pt,ut,vt,ht,xt,gt,mt;if(S.$state.generalpdfinput.length===0)console.log("lenghth is   zero");else{const u=new Bl({orientation:"portrait",unit:"mm",format:"a4",compress:!0});u.setGState(new u.GState({opacity:.9}));const Tt="Approved";u.setFontSize(24),u.setTextColor("black"),u.setFont("helvetica"),u.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const Wt=new Image,ft=new Image,$t=new Image;Wt.src="/demo/images/officepaper.jpeg",ft.src="/demo/images/logo.jpeg",$t.src="/demo/images/DragAndDrop.jpeg";const Ut=725,St=u.getPageInfo(1),Ot=St.pageContext.mediaBox.topRightX,Ht=St.pageContext.mediaBox.topRightY;console.log(Ot);const f=l(0),Vt=l(0);var U=595.28-585.28,T=Ht-Ut;f.value=U,Vt.value=T,console.log(f.value,Vt.value),u.addImage(ft,"JPEG",10,10,50,30),u.addImage(Wt,"JPEG",0,0,210,297),u.setFontSize(12),u.setTextColor("green");var Bt=new Date,It=Bt.toLocaleDateString();u.text(Tt,10,270,{align:"left"});const Yt=u.getTextWidth(Tt);u.text("on: "+It,Yt+15,270),u.text(`${X.value}`,10,280,{align:"left"});const i=u.getTextWidth(`${X.value}`);u.text(`${ee.value}`,i+15,280);const rt=l(!1),s=l(!1),ke=l(!1),oa=l(!1),bt=l(!1);u.setFontSize(12);const ma=()=>{u.setFontSize(12),u.setTextColor(0),u.text("2023 HVHZ  mEPermit General Information Page",70,20,{maxWidth:"170"}),u.line(10,30,195,30)};u.setTextColor(0),ma(),u.setFontSize(12);const n=l((pt=(ct=S.$state.generalpdfinput[1])==null?void 0:ct.generalpdfData)==null?void 0:pt.totalData),sa=[{category:"DBA",value:`${D.value}`},{category:"Roof Area",value:`${n.value}`},{category:"Job Address",value:`${m.value}`},{category:"meProcess Number",value:`${H.value}`},{category:"Master Permit",value:`${x.value}`}];let Ta=10,Dt=60,Wa=50;u.setFontSize(12),sa.forEach((Ue,Nt)=>{const Xe=Wa+Nt*10;u.text(Ue.category,Ta,Xe),u.text(Ue.value,Dt,Xe),u.getTextWidth(Ue.category);const ot=u.getTextWidth(Ue.value)*2;u.line(Dt,Xe+2,Dt+ot,Xe+2)}),u.setTextColor("black"),u.setFontSize(12);const et=100,Re=l(!1),Gt=l(!1);f.value=U+40,S.$state.generalpdfinput[1].generalpdfData.roofCheck[0]==="reroof"?(Re.value=!0,console.log(Re.value)):Gt.value=!0,f.value=U+50,T=et,console.log(T),u.text("Re-Roof: ",f.value,T);const Q=T-3,De=Re.value===!0?u.rect(f.value+20,Q,4,4,"FD"):u.rect(f.value+20,Q,4,4);f.value=U+120,T=et,console.log(T),u.text("New Roof: ",f.value,T);const tt=Gt.value===!0?u.rect(f.value+25,Q,4,4,"FD"):u.rect(f.value+25,Q,4,4);console.log(De,tt),T=T+10;const At="Total: ",Mt="Low Slope: ",Xt="Steep Slope: ",Jt=l(((vt=(ut=S.$state.generalpdfinput[1])==null?void 0:ut.generalpdfData)==null?void 0:vt.totalData)||""),jt=l(((xt=(ht=S.$state.generalpdfinput[1])==null?void 0:ht.generalpdfData)==null?void 0:xt.slopeData)||""),Zt=l(((mt=(gt=S.$state.generalpdfinput[1])==null?void 0:gt.generalpdfData)==null?void 0:mt.steepData)||"");console.log(S.$state.generalpdfinput[1].generalpdfData),f.value=U+25,T=et+10;const ia=u.getTextWidth(Mt),Be=u.getTextWidth(`${jt.value}`),a=f.value+5;u.text(Mt,a,T);const p=ia+a;u.text(`${jt.value}`,p,T),u.line(p,T,p+Be,T),f.value=p+Be;const I=u.getTextWidth(Xt),de=u.getTextWidth(`${Zt.value}`),qt=f.value+5;u.text(Xt,qt,T);const Ae=I+qt;u.text(`${Zt.value}`,Ae,T),u.line(Ae,T,Ae+de,T),console.log(T,T),T=et+10,f.value=Ae+de,console.log(f.value);const h=u.getTextWidth(At),t=u.getTextWidth(`${Jt.value}`),Kt=f.value+5;u.text(At,Kt,T);const Ie=h+Kt;u.text(`${Jt.value}`,Ie,T),u.line(Ie,T,Ie+t,T),f.value=Ie+t,console.log(S.$state.generalpdfinput[1]),S.$state.generalpdfinput[1].generalpdfData.slopeChk===!0&&(bt.value=!0,console.log("Slope Checked")),S.$state.generalpdfinput[1].generalpdfData.adtileChk===!0&&(rt.value=!0),S.$state.generalpdfinput[1].generalpdfData.metalChk===!0&&(s.value=!0),S.$state.generalpdfinput[1].generalpdfData.mtileChk===!0&&(ke.value=!0),S.$state.generalpdfinput[1].generalpdfData.shingleChk===!0&&(oa.value=!0,console.log("Shingle Checked")),f.value=U-4,T=T+10,u.text("Low Slope: ",U,T);const A=T-3,wa=bt.value===!0?u.rect(f.value+27,A,4,4,"FD"):u.rect(f.value+27,A,4,4);console.log(De,tt,wa),f.value=f.value+4;const Qt=f.value+32;console.log(f.value);const at=Qt;console.log(f.value),u.text("Adhesive Set Tile: ",at,T);const d=rt.value===!0?u.rect(at+36,A,4,4,"FD"):u.rect(at+36,A,4,4);console.log(De,tt,d),console.log(f.value);const na=at+43;console.log(f.value),u.text("Metal Panel: ",na,T),s.value===!0?u.rect(na+25,A,4,4,"FD"):u.rect(na+25,A,4,4);const Me=na+35;console.log(f.value),u.text("Shingle: ",Me,T);const lt=oa.value===!0?u.rect(Me+17,A,4,4,"FD"):u.rect(Me+17,A,4,4);f.value=Me;const ce=Me+28;console.log(f.value),u.text("Mechanical Fastened Tile: ",ce,T);const fa=ke.value===!0?u.rect(ce+51,A,4,4,"FD"):u.rect(ce+51,A,4,4);console.log(fa,lt),T=T+10,u.addImage($t,"JPEG",U+40,T,100,100);const $a="GeneralPage.pdf",da=u.output("blob");(async(Ue,Nt)=>{const Xe=Ue,ot=Xe;console.log(ot);const Ft=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${X.value}/${ot}`;try{const Ne=await fetch(Ft,{method:"PUT",headers:{"Content-Type":Xe.type},body:Nt});Ne.ok?(Y.value=Ft,alert("GeneralPage File uploaded successfully!")):alert(`Failed to upload file. Status: ${Ne.status}`)}catch(Ne){console.error("Error uploading file:",Ne),alert("An error occurred while uploading the file.")}})($a,da)}};return(U,T)=>(Nl(),Fl("div"))}},Co={__name:"LowSlopepdf",setup(dt){var z,g,e,ye,_e,Ve,re,be,P;const{getUser:$}=El(),b=wl(),B=ao(),S=l(((g=(z=b.$state.permitapp[0])==null?void 0:z.formdt)==null?void 0:g.address)||""),m=l(((ye=(e=b.$state.permitapp[0])==null?void 0:e.formdt)==null?void 0:ye.muni)||""),x=l(((Ve=(_e=b.$state.permitapp[0])==null?void 0:_e.formdt)==null?void 0:Ve.processNumber)||""),H=ro();ho(H);const X=l(((be=(re=b.$state.permitapp[0])==null?void 0:re.formdt)==null?void 0:be.muniProc)||""),ee=l(((P=$.value[0])==null?void 0:P.dba)||""),D=l(B.$state.burpdfinput);let Y=l(!1);const o=l("");function W(){D.value.length!==1&&(Y.value=!0,Se())}Al(()=>{W()}),Ml(async()=>{await Xl(Y).toBe(!0)});const Se=()=>{var Bt,It,ct,pt,ut,vt,ht,xt,gt,mt,u,Tt,Wt,ft,$t,Ut,St,Ot;const Z=ao(),ne=ml();if(Z.$state.burpdfinput.length===0)console.log("lenghth is zero");else{const Ht=l((It=(Bt=Z.$state.burpdfinput[0])==null?void 0:Bt.burpdfData)==null?void 0:It.height),f=l((pt=(ct=Z.$state.burpdfinput[0])==null?void 0:ct.burpdfData)==null?void 0:pt.slope),Vt=l((vt=(ut=Z.$state.burpdfinput[0])==null?void 0:ut.burpdfData)==null?void 0:vt.per),Yt=l((xt=(ht=Z.$state.burpdfinput[0])==null?void 0:ht.burpdfData)==null?void 0:xt.deckType),i=new Bl({orientation:"portrait",unit:"mm",format:"a4",compress:!0});i.setGState(new i.GState({opacity:.9}));const rt="Approved";i.setFontSize(24),i.setTextColor("black"),i.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const s=new Image,ke=new Image;s.src="/demo/images/officepaper.jpeg",ke.src="/demo/images/logo.jpeg";const oa=725,bt=i.getPageInfo(1);bt.pageContext.mediaBox.topRightX;const ma=bt.pageContext.mediaBox.topRightY,n=l(0),sa=l(0);var C=595.28-585.28,c=ma-oa;n.value=C,sa.value=c,console.log(n.value,sa.value),i.addImage(ke,"JPEG",10,2,50,30),i.addImage(s,"JPEG",0,0,210,297),i.setFontSize(12),i.setTextColor("green");var U=new Date,T=U.toLocaleDateString();i.text(rt,10,270,{align:"left"});const Ta=i.getTextWidth(rt);i.text("on: "+T,Ta+15,270),i.text(`${X.value}`,10,280,{align:"left"});const Dt=i.getTextWidth(`${X.value}`);i.text(`${m.value}`,Dt+15,280),i.setFontSize(12);const Wa=()=>{i.setFontSize(10),i.setTextColor(0),i.text('The low slope Built Up Roof (BUR) Assembly shall be installed in compliance with the HVHZ portions of Chapter 15 found in the 2023 Florida Building Code and the HVHZ Roofing Application Standards (RAS), RAS-111, RAS-117 and RAS-128. This roof assembly shall also comply with the listed requirements for a Class "A" fire rating including roof slope (incline), components and a fire barrier when required. The mePermit applicant agrees to comply with these installation requirements when obtaining this permit.',10,25,{maxWidth:"170"}),i.line(10,50,195,50)};i.setTextColor("black"),i.circle(185,45,2,"FD"),i.text("I agree",165,45),Wa(),i.setFontSize(12);const Ea=[{category:"DBA",value:`${ee.value}`},{category:"Municipality",value:`${m.value}`},{category:"Job Address",value:`${S.value}`},{category:"meProcess Number",value:`${x.value}`}];let et=10,Re=60,Gt=72;i.setFontSize(12),Ea.forEach((G,pe)=>{const Oe=Gt+pe*10;i.text(G.category,et,Oe),i.text(G.value,Re,Oe),i.getTextWidth(G.category);const ra=i.getTextWidth(G.value)*2;i.line(Re,Oe+2,Re+ra,Oe+2)}),i.setFontSize(12);const Q=2;console.log(ne.$state.roofList);const De=l("");for(let G=0;G<ne.$state.roofList.length;G++)ne.$state.roofList[G].item==="Low Slope"&&(De.value=ne.$state.roofList[G].dim2);const tt=De.value;console.log(`${tt}`,De.value);const At="Roof Area: ",Mt="Decktype: ",Xt="Mean Roof Height: ",Jt="Roof Slope: ",jt="Roof Perimeter: ",Zt="Type of Low Slope BUR Material: ",ia="Type of Low Slope BUR System: ",Be="Attach P(1') Prime using P(1) Field Prescriptive Basesheet: ",a="Attach P(2) Perimeter using P(3) Corner Prescriptive: ",p=l(((mt=(gt=Z.$state.burpdfinput[1])==null?void 0:gt.burpdfData)==null?void 0:mt.burMaterial)||""),I=l(((Tt=(u=Z.$state.burpdfinput[1])==null?void 0:u.burpdfData)==null?void 0:Tt.burSystem)||""),de=l(((ft=(Wt=Z.$state.burpdfinput[1])==null?void 0:Wt.burpdfData)==null?void 0:ft.p1)||""),qt=l(((Ut=($t=Z.$state.burpdfinput[1])==null?void 0:$t.burpdfData)==null?void 0:Ut.p3)||""),[Ae,h]=(()=>{var pe;const G=I.value.split(/:(.+)/);return console.log(G),[G[0].trim(),((pe=G[1])==null?void 0:pe.trim())??""]})();n.value=C;const t=i.getTextWidth(At),Kt=i.getTextWidth(`${tt}`),Ie=n.value;i.text(At,Ie,c);const A=t+Ie;i.text(`${tt}`,A,c),i.line(A,c+2,A+Kt,c+2),n.value=A+Kt;const wa=i.getTextWidth(Xt),Qt=i.getTextWidth(`${Ht.value}`),at=n.value+18;i.text(Xt,at,c);const d=wa+at;i.text(`${Ht.value}`,d,c),i.line(d,c+2,d+Qt,c+2),n.value=d+Qt;const na=i.getTextWidth(Jt),Me=i.getTextWidth(`${f.value}`),lt=n.value+18;i.text(Jt,lt,c);const ce=na+lt;i.text(`${f.value}`,ce,c),i.line(ce,c+2,ce+Me,c+2),n.value=ce+Me;const fa=i.getTextWidth(jt),$a=i.getTextWidth(`${Vt.value}`),da=n.value+18;i.text(jt,da,c);const Lt=fa+da;i.text(`${Vt.value}`,Lt,c),i.line(Lt,c+2,Lt+$a,c+2),console.log(c,c),c=c+10,n.value=Lt+$a;const Ue=i.getTextWidth(Mt),Nt=i.getTextWidth(`${Yt.value}`),Xe=C;i.text(Mt,Xe,c);const ot=Ue+Xe;i.text(`${Yt.value}`,ot,c),i.line(ot,c+2,ot+Nt,c+2),c=c+10,n.value=C;const Ft="DripEdge Material: ",Ne="DripEdge Size: ",yt=l(((St=H.$state.dripinput[0])==null?void 0:St.dripMaterial)||""),ca=l(((Ot=H.$state.dripinput[2])==null?void 0:Ot.dripMaterial)||"");console.log(yt,ca);const tl=i.getTextWidth(Ft),al=i.getTextWidth(`${yt.value}`),Ya=C;i.text(Ft,Ya,c);const za=tl+Ya;i.text(`${yt.value}`,za,c),i.line(za,c+2,za+al,c+2),c=c+10;const Ga=i.getTextWidth(Ne),Pa=i.getTextWidth(`${ca.value}`),Ja=C;i.text(Ne,Ja,c);const v=Ga+Ja;i.text(`${ca.value}`,v,c),i.line(v,c+2,v+Pa,c+2),c=c+10;const ul=i.getTextWidth(Zt),k=i.getTextWidth(`${p.value}`),ja=n.value;i.text(Zt,ja,c);const pa=ul+12;i.text(`${p.value}`,pa,c),i.line(pa,c+2,pa+k,c+2),n.value=pa+k,c=c+10,n.value=C,i.setFontSize(12);const Ca=i.getTextWidth(ia),ka=i.getTextWidth(Ae),ll=i.getTextWidth(h),Za=n.value;i.text(ia,Za,c),n.value=Ca+15,i.text(Ae,n.value,c),i.line(n.value,c+Q,n.value+ka,c+Q),c=c+10,i.text(h,C,c),i.line(C,c+Q,C+ll,c+Q),c=c+10,i.getTextWidth(Be);const qa=i.getTextWidth(`${de.value}`),Sa=C;i.text(Be,Sa,c),c=c+10;const _t=C;i.text(de.value,_t,c),i.line(_t,c+Q,_t+qa,c+Q),c=c+10,n.value=C;const ol=i.getTextWidth(`${qt.value}`),Va=n.value;i.text(a,Va,c),c=c+7,n.value=C;const ea=n.value;i.text(qt.value,ea,c),i.line(ea,c+Q,ea+ol,c+Q),c=c+10;const Et="LowSlope.pdf",Ra=i.output("blob");(async(G,pe)=>{const Oe=G,ra=Oe;console.log(ra);const Ba=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${X.value}/${ra}`;try{const He=await fetch(Ba,{method:"PUT",headers:{"Content-Type":Oe.type},body:pe});He.ok?(o.value=Ba,alert("LowSlope File uploaded successfully!")):alert(`Failed to upload file. Status: ${He.status}`)}catch(He){console.error("Error uploading file:",He),alert("An error occurred while uploading the file.")}})(Et,Ra)}};return(Z,ne)=>(Nl(),Fl("div"))}},ko={__name:"Shingle",setup(dt){var W,Se;const{getUser:$}=El(),b=bo(),B=wl(),S=Do(),m=Ao(),x=ml(),H=Mo(),X=l(((Se=(W=B.$state.permitapp[0])==null?void 0:W.formdt)==null?void 0:Se.muniProc)||""),ee=l(x.$state.roofList);let D=l(!1);const Y=Al(()=>{if(ee.value.length===0)return"";for(let z=0;z<ee.value.length;z++)ee.value[z].item==="Asphalt Shingle"&&(console.log(ee.value[z].item),D.value=!0,o())});Ml(async()=>{await Xl(Y).toBe(!0),console.log(Y)});const o=()=>{var Ve,re,be,P,Z,ne,C,c,U,T,Bt,It,ct,pt,ut,vt,ht,xt,gt,mt,u,Tt,Wt,ft,$t,Ut,St,Ot,Ht,f,Vt,Yt;const z=ml();if(console.log(z.$state.roofList),S.$state.inputshingle.length===0)console.log("lenghth is zero");else{console.log(b,m);let i=l(!1),rt=l(!1);b.$state.systeminput.length!==0&&(rt=!0,console.log(rt)),m.$state.polyinput.length!==0&&(i=!0,console.log(i));const s=new Bl({orientation:"portrait",unit:"mm",format:"a4",compress:!0}),ke=179,oa=725,bt=s.getPageInfo(1);bt.pageContext.mediaBox.topRightX;const ma=bt.pageContext.mediaBox.topRightY,n=l(0),sa=l(0);var g=595.28-585.28,e=ma-oa;n.value=g,sa.value=e;const Ta=l((re=(Ve=B.$state.permitapp[0])==null?void 0:Ve.formdt)==null?void 0:re.address),Dt=l((P=(be=B.$state.permitapp[0])==null?void 0:be.formdt)==null?void 0:P.muni),Wa=l(((ne=(Z=B.$state.permitapp[0])==null?void 0:Z.formdt)==null?void 0:ne.processNumber)||""),Ea=l($.value[0].dba),et=l(((c=(C=S.$state.inputshingle[0])==null?void 0:C.shingleData)==null?void 0:c.height)||""),Re=l(((T=(U=S.$state.inputshingle[0])==null?void 0:U.shingleData)==null?void 0:T.slope)||""),Gt=l(((It=(Bt=S.$state.inputshingle[0])==null?void 0:Bt.shingleData)==null?void 0:It.deckType)||"");console.log(z.$state.roofList);const Q=l("");for(let r=0;r<z.$state.roofList.length;r++)console.log(z.$state.roofList[r].item),z.$state.roofList[r].item==="Asphalt Shingle"&&(Q.value=z.$state.roofList[r].dim1);const De=Q.value;console.log(`${De}`);const tt=l("");s.setGState(new s.GState({opacity:.8}));const At="Approved";s.setFontSize(18),s.setTextColor(150,150,150),s.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const Mt=new Image,Xt=new Image;Mt.src="/demo/images/officepaper.jpeg",Xt.src="/demo/images/logo.jpeg",s.addImage(Xt,"JPEG",10,0,50,30),s.addImage(Mt,"JPEG",0,0,210,297),s.setFontSize(15),s.setTextColor("green");var ye=new Date,_e=ye.toLocaleDateString();s.text(At,10,270,{align:"left"});const Jt=s.getTextWidth(At);s.text("on: "+_e,Jt+15,270),s.text(`${X.value}`,10,280,{align:"left"});const jt=s.getTextWidth(`${X.value}`);s.text(`${Dt.value}`,jt+15,280);const Zt=()=>{s.setFontSize(10),s.setTextColor(0),s.text("The Shingle roof system and its components shall be installed in strict compliance  with the HVHZportions of Chapter 15 FBC, the HVHZ Roof Application Standards(RAS) 111 & 115, and the submitted MDC(NOA) Notice of Acceptance(s).The mePermit applicant agrees to comply with these installation requirements when obtaining this permit.",10,25,{maxWidth:"200"}),s.line(10,43,195,43)};s.setTextColor(0),s.circle(185,39,2,"FD"),s.text("I agree",165,40),Zt(),s.setFontSize(12);const ia=[{category:"DBA",value:`${Ea.value}`},{category:"Municipality",value:`${Dt.value}`},{category:"Job Address",value:`${Ta.value}`},{category:"meProcess Number",value:`${Wa.value}`}];let Be=10,a=60,p=50;s.setFontSize(12),ia.forEach((r,q)=>{const R=p+q*10;s.text(r.category,Be,R),s.text(r.value,a,R),s.getTextWidth(r.category);const L=s.getTextWidth(r.value)*2;s.line(a,R+2,a+L,R+2)}),s.setFontSize(12);const I="Roof Area: ",de="Decktype: ",qt="Mean Roof Height: ",Ae="Roof Slope: ",h=1;e=e+5;const t=s.getTextWidth(I),Kt=s.getTextWidth(`${De}`),Ie=n.value;s.text(I,Ie,e);const A=t+Ie;s.text(`${De}`,A,e),s.line(A,e+2,A+Kt,e+2),n.value=A+Kt;const wa=s.getTextWidth(qt),Qt=s.getTextWidth(`${et.value}`),at=n.value+10;s.text(qt,at,e);const d=wa+at;s.text(`${et.value}`,d,e),s.line(d,e+2,d+Qt,e+2),n.value=d+Qt;const na=s.getTextWidth(Ae),Me=s.getTextWidth(`${Re.value}`),lt=n.value+10;s.text(Ae,lt,e);const ce=na+lt;s.text(`${Re.value}`,ce,e),s.line(ce,e+2,ce+Me,e+2),n.value=ce+Me,e=e+10;const fa=s.getTextWidth(de),$a=s.getTextWidth(`${Gt.value}`),da=g;s.text(de,da,e);const Lt=fa+da;s.text(`${Gt.value}`,Lt,e),s.line(Lt,e+2,Lt+$a,e+2),e=e+10;const Ue="Shingle NOA Number: ",Nt="Shingle Applicant: ",Xe="Shingle Material: ",ot="Shingle Description: ",Ft="Fastened (UDL)NOA: ",Ne="UDL NOA Applicant: ",yt="Fastened UDL Material: ",ca="UDL Description: ",tl="Prescriptive Attachment: ";console.log(S.$state.inputshingle[0]);const al=l(((pt=(ct=S.$state.inputshingle[0])==null?void 0:ct.shingleData)==null?void 0:pt.noa)||""),Ya=l((vt=(ut=S.$state.inputshingle[0])==null?void 0:ut.shingleData)==null?void 0:vt.applicant)||"",za=l(((xt=(ht=S.$state.inputshingle[0])==null?void 0:ht.shingleData)==null?void 0:xt.material)||""),Ga=l(((mt=(gt=S.$state.inputshingle[0])==null?void 0:gt.shingleData)==null?void 0:mt.description)||""),Pa=l(((Tt=(u=S.$state.inputshingle[0])==null?void 0:u.shingleData)==null?void 0:Tt.prescriptiveSelection)||""),Ja=s.getTextWidth(tl),v=s.getTextWidth(`${Pa.value}`),ul=g;s.text(tl,ul,e);const k=Ja+10;s.text(`${Pa.value}`,k,e),s.line(k,e+h,k+v,e+h),e=e+8;const ja="DripEdge Material: ",pa="DripEdge Size: ";console.log(H);const Ca=l(((Wt=H.$state.dripinputshin[1])==null?void 0:Wt.dripShinMaterial)||""),ka=l(((ft=H.$state.dripinputshin[3])==null?void 0:ft.dripShinMaterial)||"");console.log(Ca,ka);const ll=s.getTextWidth(ja),Za=s.getTextWidth(`${Ca.value}`),qa=g;s.text(ja,qa,e);const Sa=ll+qa;s.text(`${Ca.value}`,Sa,e),s.line(Sa,e+h,Sa+Za,e+h),e=e+10;const _t=s.getTextWidth(pa),ol=s.getTextWidth(`${ka.value}`),Va=g;s.text(pa,Va,e);const ea=_t+Va;if(s.text(`${ka.value}`,ea,e),s.line(ea,e+h,ea+ol,e+h),e=e+10,console.log(m.$state.polyinput.length),m.$state.polyinput.length===0){const r="n/a",q="n/a",R="n/a",L="n/a",We=s.getTextWidth(Ft),te=s.getTextWidth(r),st=g;s.text(Ft,st,e);const ae=st+We;s.text(r,ae,e),s.line(ae,e+h,ae+te,e+h),n.value=ae+te,console.log(n.value);const le=s.getTextWidth(Ne),Ye=s.getTextWidth(q),Ge=n.value+2;s.text(Ne,Ge,e);const y=Ge+le;s.text(q,y,e),s.line(y,e+h,y+Ye,e+h),n.value=y+Ye,console.log(n.value),n.value>ke&&(e=e+10);const oe=n.value+2,aa=s.getTextWidth(yt),Fe=s.getTextWidth(R);s.text(yt,oe,e);const ue=oe+aa;s.text(R,ue,e),s.line(ue,e+h,ue+Fe,e+h),n.value=ue+Fe,console.log(n.value),e=e+10,console.log(n.value);const Ee=s.getTextWidth(ca),Je=s.getTextWidth(L),ve=g,we=ve+Je;console.log(we),s.text(ca,ve,e),we>ke&&print(we);const K=ve+Ee;s.text(L,K,e),s.line(K,e+h,K+Je,e+h),n.value=K+Je,e=e+8}else{const r=l(m.$state.polyinput[0].polyData.noa),q=l(m.$state.polyinput[0].polyData.applicant),R=l(m.$state.polyinput[0].polyData.material),L=l(m.$state.polyinput[0].polyData.description),We=s.getTextWidth(Ft),te=s.getTextWidth(`${r.value}`),st=g;s.text(Ft,st,e);const ae=We+10;s.text(`${r.value}`,ae,e),s.line(ae,e+h,ae+te,e+h),n.value=ae+te;const le=s.getTextWidth(Ne),Ye=s.getTextWidth(`${q.value}`),Ge=n.value+2;s.text(Ne,Ge,e);const y=Ge+le;s.text(`${q.value}`,y,e),s.line(y,e+h,y+Ye,e+h),n.value=y+Ye,e=e+10;const oe=g,aa=s.getTextWidth(yt),Fe=s.getTextWidth(`${R.value}`);s.text(yt,oe,e);const ue=oe+aa;s.text(`${R.value}`,ue,e),s.line(ue,e+h,ue+Fe,e+h),n.value=ue+Fe,e=e+10,console.log(n.value);const Ee=s.getTextWidth(ca),Je=s.getTextWidth(`${L.value}`),ve=g,we=ve+Je;console.log(we),s.text("UDL Description:",ve,e),we>ke&&print(we);const K=ve+Ee;s.text(`${L.value}`,K,e),s.line(K,e+h,K+Je,e+h),n.value=K+Je,console.log(n.value),e=e+10}const Et="Self Adhered NOA: ",Ra="S/A NOA Applicant: ",ua="S/A System F: ",G="S/A Material: ",pe="S/A Description: ";if(console.log(b.$state.systeminput.length),b.$state.systeminput.length===0){const r="n/a",q="n/a",R="n/a",L="n/a",We="n/a",te=s.getTextWidth(Et),st=s.getTextWidth(r),ae=g;s.text(Et,ae,e);const le=ae+te;s.text(r,le,e),s.line(le,e,le+st,e),n.value=le+st,console.log(n.value);const Ye=s.getTextWidth(Ra),Ge=s.getTextWidth(q),y=n.value+3;s.text(Ra,y,e);const oe=y+Ye;s.text(q,oe,e),s.line(oe,e+h,oe+Ge,e+h),n.value=oe+Ge,console.log(n.value);const aa=s.getTextWidth(ua),Fe=n.value+3,ue=s.getTextWidth(R);s.text(ua,Fe,e);const Ee=Fe+aa;s.text(R,Ee,e),s.line(Ee,e+h,Ee+ue,e+h),n.value=Ee+ue,console.log(n.value),e=e+10;const Je=s.getTextWidth(G),ve=s.getTextWidth(L),we=g;s.text(G,we,e);const K=we+Je;s.text(L,K,e),s.line(K,e+h,K+ve,e+h),n.value=K+ve,console.log(n.value);const nl=s.getTextWidth(pe),Ia=s.getTextWidth(We),ha=n.value+3;s.text(pe,ha,e);const it=ha+nl;s.text(We,it,e),s.line(it,e+h,it+Ia,e+h),n.value=it+Ia,console.log(n.value)}else{console.log("Entered sbs line 509",b.$state);const r=l((Ut=($t=b.$state.systeminput[0])==null?void 0:$t.systemData)==null?void 0:Ut.noa),q=l((Ot=(St=b.$state.systeminput[0])==null?void 0:St.systemData)==null?void 0:Ot.manufacturer),R=l(b.$state.systeminput.pdfSystemValue),L=l((f=(Ht=b.$state.systeminput[0])==null?void 0:Ht.systemData)==null?void 0:f.material),We=l((Yt=(Vt=b.$state.systeminput[0])==null?void 0:Vt.systemData)==null?void 0:Yt.description),te=s.getTextWidth(Et),st=s.getTextWidth(`${r.value}`),ae=g;s.text(Et,ae,e);const le=ae+te;s.text(`${r.value}`,le,e),s.line(le,e+h,le+st,e+h),n.value=le+st;const Ye=s.getTextWidth(Ra),Ge=s.getTextWidth(`${q.value}`),y=n.value+3;s.text(Ra,y,e);const oe=y+Ye;s.text(`${q.value}`,oe,e),s.line(oe,e+h,oe+Ge,e+h),n.value=oe+Ge,console.log(n.value);const aa=s.getTextWidth(ua),Fe=s.getTextWidth(`${R.value}`),ue=n.value+3;s.text(ua,ue,e);const Ee=ue+aa;s.text(`${R.value}`,Ee,e),s.line(Ee,e+h,Ee+Fe,e+h),n.value=Ee+Fe,console.log(n.value);const Je=s.getTextWidth(G),ve=s.getTextWidth(`${L.value}`),we=n.value+5;s.text(G,we,e);const K=we+Je;s.text(`${L.value}`,K,e),s.line(K,e+h,K+ve,e+h),n.value=K+ve,e=e+10,console.log(n.value);const nl=s.getTextWidth(pe),Ia=s.getTextWidth(`${We.value}`),ha=g;s.text(pe,ha,e);const it=ha+nl;s.text(`${We.value}`,it,e),s.line(it,e+h,it+Ia,e+h)}e=e+10;const Oe=s.getTextWidth(Nt),ra=s.getTextWidth(`${Ya.value}`),Ba=g;s.text(Nt,Ba,e);const He=Ba+Oe;s.text(`${Ya.value}`,He,e),s.line(He,e+h,He+ra,e+h),n.value=He+ra;const vl=s.getTextWidth(Ue),Tl=s.getTextWidth(`${al.value}`),sl=n.value+3;s.text(Ue,sl,e);const ta=vl+sl;s.text(`${al.value}`,ta,e),s.line(ta,e+h,ta+Tl,e+h),n.value=ta+Tl,e=e+10;const il=g,hl=s.getTextWidth(Xe),Ka=s.getTextWidth(`${za.value}`);s.text(Xe,il,e);const ba=il+hl;s.text(`${za.value}`,ba,e),s.line(ba,e+h,ba+Ka,e+h),n.value=ba+Ka,e=e+10,console.log(n.value,ke);const wt=s.getTextWidth(`${Ga.value}`),Da=s.getTextWidth(ot);n.value=ba+Ka+wt+Da+25,console.log(wt,Da);const va=g;if(s.text(ot,va,e),wt>170){e=e+4;const q=g;s.text(`${Ga.value}`,q,e),s.line(q,e+h,q+wt,e+h),e=e+8}else{const r=va+Da;s.text(`${Ga.value}`,r,e),s.line(r,e+h,r+wt,e+h),n.value=r+wt}e=e+10;const Qa="Shingle.pdf",La=s.output("blob");(async(r,q)=>{const R=r;console.log(R);const L=R;console.log(L);const We=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${X.value}/${L}`;try{const te=await fetch(We,{method:"PUT",headers:{"Content-Type":R.type},body:q});te.ok?(tt.value=We,alert("Shingle File uploaded successfully!")):alert(`Failed to upload file. Status: ${te.status}`)}catch(te){console.error("Error uploading file:",te),alert("An error occurred while uploading the file.")}})(Qa,La)}};return(z,g)=>(Nl(),Fl("div"))}},Ro=xo(()=>{const dt=l([]),$=go(()=>dt.value);function b(B){dt.value.push(B)}return{tilenoa:dt,getNumber:$,addNoa:b}}),Bo={__name:"TileAdhesive",setup(dt){const $=so(),b=io(),{getUser:B}=El(),{tileInputvalues:S}=Xo(),{savedTileinput:m}=No(),x=wl(),H=ml(),X=l(H.$state.roofList);Ro();const ee=Fo();let D=l(!1);const Y=Al(()=>{if(X.value.length===0)return"";for(let W=0;W<X.value.length;W++)X.value[W].item==="Adhesive Set Tile"&&(console.log(X.value[W].item),D.value=!0,o())});Ml(async()=>{await Xl(Y).toBe(!0)});const o=()=>{var Ve,re,be,P,Z,ne,C,c,U,T,Bt,It,ct,pt,ut,vt,ht,xt,gt,mt,u,Tt,Wt,ft,$t,Ut,St,Ot,Ht,f,Vt,Yt,i,rt,s,ke,oa,bt,ma,n,sa,Ta,Dt,Wa,Ea,et,Re,Gt,Q,De,tt,At,Mt,Xt,Jt,jt,Zt,ia,Be,a,p,I,de,qt,Ae,h;console.log(S,(re=(Ve=m[0])==null?void 0:Ve.savedValues)==null?void 0:re.paddySelection);const W=l(((P=(be=m[0])==null?void 0:be.savedValues)==null?void 0:P.paddySelection)||""),Se=l(!1),z=l(!1);if(console.log(W.value),W.value==="single"?(Se.value=!0,console.log(Se.value),z.value=!1):(z.value=!0,console.log(z.value)),((Z=S[0])==null?void 0:Z.length)===0)console.log("lenghth is zero");else{const t=new Bl({orientation:"portrait",unit:"mm",format:"a4",compress:!0});let Kt=l(!1),Ie=l(!1);b.$state.tilesysEinput.length!==0&&(Kt=!0,console.log(Kt)),$.$state.tilefinput.length!==0&&(Ie=!0,console.log(Ie));const A=179,wa=725,Qt=t.getPageInfo(1);Qt.pageContext.mediaBox.topRightX;const at=Qt.pageContext.mediaBox.topRightY,d=l(0),na=l(0);var g=595.28-585.28,e=at-wa;d.value=g,na.value=e;const Me=Se.value===!0?l(((ne=S[0])==null?void 0:ne.tileValues[0].singlepaddyData)||""):l(((C=S[0])==null?void 0:C.tileValues[0].doublepaddyData)||"");console.log(Me.value);const lt=l(((U=(c=m[0])==null?void 0:c.savedValues)==null?void 0:U.height)||""),ce=l(((Bt=(T=m[0])==null?void 0:T.savedValues)==null?void 0:Bt.slope)||"");console.log(x.$state.permitapp[0].muniNum);const fa=l(((ct=(It=m[0])==null?void 0:It.savedValues)==null?void 0:ct.area)||""),$a=l(((ut=(pt=m[0])==null?void 0:pt.savedValues)==null?void 0:ut.Decktype)||""),da=l(((ht=(vt=m[0])==null?void 0:vt.savedValues)==null?void 0:ht.perimeter)||""),Lt=l(((gt=(xt=x.$state.permitapp[0])==null?void 0:xt.formdt)==null?void 0:gt.address)||""),Ue=l(((u=(mt=x.$state.permitapp[0])==null?void 0:mt.formdt)==null?void 0:u.muni)||""),Nt=l(((Wt=(Tt=x.$state.permitapp[0])==null?void 0:Tt.formdt)==null?void 0:Wt.muniProc)||""),Xe=l((($t=(ft=x.$state.permitapp[0])==null?void 0:ft.formdt)==null?void 0:$t.processNumber)||""),ot=l(""),Ft=l(((Ut=B.value[0])==null?void 0:Ut.dba)||"");t.setGState(new t.GState({opacity:.8}));const Ne="Approved";t.setFontSize(24),t.setTextColor(150,150,150),t.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const yt=new Image,ca=new Image;yt.src="/demo/images/officepaper.jpeg",ca.src="/demo/images/logo.jpeg",t.addImage(ca,"JPEG",5,0,50,30),t.addImage(yt,"JPEG",0,0,210,297),t.setFontSize(18),t.setTextColor("green");var ye=new Date,_e=ye.toLocaleDateString();t.text(Ne,10,270,{align:"left"});const tl=t.getTextWidth(Ne);t.text("on: "+_e,tl+15,270),t.text(`${Nt.value}`,10,280,{align:"left"});const al=t.getTextWidth(`${Nt.value}`);t.text(`${Ue.value}`,al+15,280),t.setFontSize(12);const Ya=()=>{t.setFontSize(12),t.setTextColor(0),t.text("The tile roof system and its components shall be installed in strict compliance with the FBC 2023 HVHZ portions of Chapter 15, the HVHZ Tile Application Standards: RAS-119, RAS-120 & RAS-127 and the submitted MDC Notice of Acceptance(s). The mePermit applicant agrees to comply with these installation requirements when obtaining this permit.",10,25,{maxWidth:"200"}),t.line(10,41,195,41)};t.setTextColor(0),t.circle(185,38,2,"FD"),t.text("I agree",165,39),Ya(),t.setFontSize(12),t.setFontSize(12);const za=[{category:"DBA",value:`${Ft.value}`},{category:"Municipality",value:`${Ue.value}`},{category:"Job Address",value:`${Lt.value}`},{category:"meProcess Number",value:`${Xe.value}`}];let Ga=10,Pa=60,Ja=50;t.setFontSize(12),za.forEach((V,F)=>{const M=Ja+F*10;t.text(V.category,Ga,M),t.text(V.value,Pa,M),t.getTextWidth(V.category);const ge=t.getTextWidth(V.value)*2;t.line(Pa,M+2,Pa+ge,M+2)}),t.setFontSize(12);const v=2,k=90,ja="Roof Area: ",pa="DeckType: ",Ca="Mean Roof Height: ",ka="Roof Slope: ",ll="Roof Perimeter: ";d.value=g;const Za=t.getTextWidth(ja),qa=t.getTextWidth(`${fa.value}`),Sa=d.value;t.text(ja,Sa,k);const _t=Za+Sa;t.text(`${fa.value}`,_t,k),t.line(_t,k+v,_t+qa,k+v),d.value=_t+qa,console.log(e,k);const ol=t.getTextWidth(Ca),Va=t.getTextWidth(`${lt.value}`),ea=d.value+10;t.text(Ca,ea,k);const Et=ol+ea;t.text(`${lt.value}`,Et,k),t.line(Et,k+v,Et+Va,k+v),d.value=Et+Va;const Ra=t.getTextWidth(ka),ua=t.getTextWidth(`${ce.value}`),G=d.value+10;t.text(ka,G,k);const pe=Ra+G;t.text(`${ce.value}`,pe,k),t.line(pe,k+v,pe+ua,k+v),d.value=pe+ua;const Oe=t.getTextWidth(ll),ra=t.getTextWidth(`${da.value}`),Ba=d.value+10;t.text(ll,Ba,k);const He=Oe+Ba;t.text(`${da.value}`,He,k),t.line(He,k+v,He+ra,k+v),console.log(k,e),e=k+10;const vl=t.getTextWidth(pa),Tl=t.getTextWidth(`${$a.value}`),sl=g;t.text(pa,sl,e);const ta=vl+sl;t.text(`${$a.value}`,ta,e),t.line(ta,e+v,ta+Tl,e+v),e=e+10;const il="Tile NOA Number: ",hl="Tile Applicant: ",Ka="Tile Material: ",ba="Tile Description: ",wt="Fastened Underlayment(UDL)NOA: ",Da="UDL NOA Applicant: ",va="Fastened UDL Material: ",Qa="Select System E: ",La="Design psf: ",Wl="Anchor Base Sheet: ",r="UDL Description: ",q="Select Underlayment: ",R="DripEdge Material: ",L="DripEdge Size: ",We=l(((St=ee.$state.dripinputadt[4])==null?void 0:St.dripTileMaterial)||""),te=l(((Ot=ee.$state.dripinputadt[6])==null?void 0:Ot.dripTileMaterial)||""),st=t.getTextWidth(R),ae=t.getTextWidth(`${We.value}`),le=g;t.text(R,le,e);const Ye=st+le;t.text(`${We.value}`,Ye,e),t.line(Ye,e+v,Ye+ae,e+v),e=e+10;const Ge=t.getTextWidth(L),y=t.getTextWidth(`${te.value}`),oe=g;t.text(L,oe,e);const aa=Ge+oe;t.text(`${te.value}`,aa,e),t.line(aa,e+v,aa+y,e+v),e=e+10,console.log(m);const Fe=l(((f=(Ht=m[0])==null?void 0:Ht.savedValues)==null?void 0:f.zoneone.mf1)||""),ue=l(((Yt=(Vt=m[0])==null?void 0:Vt.savedValues)==null?void 0:Yt.zoneone.lambda1)||""),Ee=l(((rt=(i=m[0])==null?void 0:i.savedValues)==null?void 0:rt.zoneone.mg1)||""),Je=l(((ke=(s=m[0])==null?void 0:s.savedValues)==null?void 0:ke.zoneone.mr1)||""),ve=l(((bt=(oa=m[0])==null?void 0:oa.savedValues)==null?void 0:bt.zoneone.zone1)||""),we=l(((n=(ma=m[0])==null?void 0:ma.savedValues)==null?void 0:n.zonetwo.mf2)||""),K=l(((Ta=(sa=m[0])==null?void 0:sa.savedValues)==null?void 0:Ta.zonetwo.lambda2)||""),nl=l(((Wa=(Dt=m[0])==null?void 0:Dt.savedValues)==null?void 0:Wa.zonetwo.mg2)||""),Ia=l(((et=(Ea=m[0])==null?void 0:Ea.savedValues)==null?void 0:et.zonetwo.mr2)||""),ha=l(((Gt=(Re=m[0])==null?void 0:Re.savedValues)==null?void 0:Gt.zonetwo.zone2)||""),it=l(((De=(Q=m[0])==null?void 0:Q.savedValues)==null?void 0:De.zonethree.mf3)||""),fl=l(((At=(tt=m[0])==null?void 0:tt.savedValues)==null?void 0:At.zonethree.lambda3)||""),$l=l(((Xt=(Mt=m[0])==null?void 0:Mt.savedValues)==null?void 0:Xt.zonethree.mg3)||""),Sl=l((jt=(Jt=m[0])==null?void 0:Jt.savedValues)==null?void 0:jt.zonethree.mr3),jl=l(((ia=(Zt=m[0])==null?void 0:Zt.savedValues)==null?void 0:ia.zonethree.zone3)||""),Vl=l((a=(Be=m[0])==null?void 0:Be.savedValues)==null?void 0:a.prescriptiveSelection.selectedBasesheet),zl=t.getTextWidth(Vl.value);console.log(Vl,zl);const rl=g;t.text(q,rl,e+v);const Pl=g;if(e=e+10,t.text(`${Vl.value}`,Pl,e),t.line(Pl,e+v,Pl+zl,e+v),e=e+10,b.$state.tilesysEinput.length===0){const V="n/a",F="n/a",M="n/a",ge="n/a",Ke=t.getTextWidth(wt),me=t.getTextWidth(V),Pt=g;t.text(wt,Pt,e);const Ct=Pt+Ke+2;t.text(V,Ct,e),t.line(Ct,e+v,Ct+me,e+v),d.value=Ct+me,console.log(d.value);const $e=t.getTextWidth(Da),Na=t.getTextWidth(F),Qe=d.value+2;t.text(Da,Qe,e);const nt=Qe+$e;t.text(F,nt,e),t.line(nt,e+v,nt+Na,e+v),d.value=nt+Na,console.log(d.value),d.value>A&&(e=e+10);const Te=d.value+2,dl=t.getTextWidth(va),xa=t.getTextWidth(M);t.text(va,Te,e);const Le=Te+dl;t.text(M,Le,e),t.line(Le,e+v,Le+xa,e+v),d.value=Le+xa,console.log(d.value),d.value>A&&(e=e+10),console.log(d.value);const kt=t.getTextWidth(r),el=t.getTextWidth(ge),ga=g,Rt=ga+el;console.log(Rt),t.text(r,ga,e),Rt>A&&print(Rt);const Ce=ga+kt;t.text(ge,Ce,e),t.line(Ce,e+v,Ce+el,e+v),d.value=Ce+el,e=e+10}else{const V=l(b.$state.tilesysEinput[0].systemDataE.noa),F=l(b.$state.tilesysEinput[0].systemDataE.manufacturer),M=l(b.$state.tilesysEinput[0].systemDataE.material),ge=l(b.$state.tilesysEinput[0].systemDataE.systemSelected),Ke=l(b.$state.tilesysEinput[0].systemDataE.dP),me=l(b.$state.tilesysEinput[0].systemDataE.Anchor_Base),Pt=l(b.$state.tilesysEinput[0].systemDataE.tileCap),Ct=t.getTextWidth(Da),$e=t.getTextWidth(`${F.value}`),Na=g;t.text(Da,Na,e);const Qe=Na+Ct;t.text(`${F.value}`,Qe,e),t.line(Qe,e+v,Qe+$e,e+v);const nt=t.getTextWidth(`${M.value}`);d.value=Qe+nt;const Te=t.getTextWidth(wt),dl=t.getTextWidth(`${V.value}`),xa=d.value+40;t.text(wt,xa,e),d.value=xa,console.log(d.value,xa);const Le=Te+d.value;console.log(Le),t.text(`${V.value}`,Le,e),t.line(Le,e+v,Le+dl,e+v),d.value=Le+dl,e=e+10;const kt=g,el=t.getTextWidth(va),ga=t.getTextWidth(`${M.value}`);t.text(va,kt,e);const Rt=kt+el;t.text(`${M.value}`,Rt,e),t.line(Rt,e+v,Rt+ga,e+v),d.value=Rt+ga,d.value>A&&(e=e+10);const Ce=d.value+5,kl=t.getTextWidth(Qa),cl=t.getTextWidth(`${ge.value}`);t.text(Qa,Ce,e);const Oa=Ce+kl;t.text(`${ge.value}`,Oa,e),t.line(Oa,e+v,Oa+cl,e+v),d.value=Oa+cl,d.value>A&&(e=e+10);const Fa=t.getTextWidth(La),Kl=t.getTextWidth(`${Ke.value}`),Ql=d.value+3;t.text(La,Ql,e);const Ul=Ql+Fa;t.text(`${Ke.value}`,Ul,e),t.line(Ul,e+v,Ul+Kl,e+v),d.value=Ul+Kl,console.log(d.value),e=e+10,t.getTextWidth(Wl);const Ll=t.getTextWidth(`${me.value}`),no=g;t.text(Wl,no,e),e=e+10;const Ol=g;t.text(`${me.value}`,Ol,e),t.line(Ol,e+v,Ol+Ll,e+v),d.value=Ol+Ll,e=e+10;const co=t.getTextWidth(r),yl=t.getTextWidth(`${Pt.value}`),_l=g;t.text(r,_l,e);const Hl=_l+co;t.text(`${Pt.value}`,Hl,e),t.line(Hl,e+v,Hl+yl,e+v),d.value=Hl+yl,console.log(d.value),e=e+10}const xl="Self Adhered NOA: ",gl="S/A NOA Applicant: ",ya="S/A System F: ",la="S/A Material: ",_a="S/A Description: ";if($.$state.tilefinput.length===0){const V="n/a",F="n/a",M="n/a",ge="n/a",Ke="n/a",me=t.getTextWidth(xl),Pt=t.getTextWidth(V),Ct=g;t.text(xl,Ct,e);const $e=Ct+me;t.text(V,$e,e),t.line($e,e+v,$e+Pt,e+v),d.value=$e+Pt,console.log(d.value);const Na=t.getTextWidth(gl),Qe=t.getTextWidth(F),nt=d.value+3;t.text(gl,nt,e);const Te=nt+Na;t.text(F,Te,e),t.line(Te,e+v,Te+Qe,e+v),d.value=Te+Qe,console.log(d.value);const dl=t.getTextWidth(ya),xa=d.value+3,Le=t.getTextWidth(M);t.text(ya,xa,e);const kt=xa+dl;t.text(M,kt,e),t.line(kt,e+v,kt+Le,e+v),d.value=kt+Le,console.log(d.value),e=e+10;const el=t.getTextWidth(la),ga=t.getTextWidth(ge),Rt=g;t.text(la,Rt,e);const Ce=Rt+el;t.text(ge,Ce,e),t.line(Ce,e+v,Ce+ga,e+v),d.value=Ce+ga,console.log(d.value);const kl=t.getTextWidth(_a),cl=t.getTextWidth(Ke),Oa=d.value+3;t.text(_a,Oa,e);const Fa=Oa+kl;t.text(Ke,Fa,e),t.line(Fa,e+v,Fa+cl,e+v),d.value=Fa+cl,console.log(d.value)}else{console.log("Entered sbs line 455",$.$state);const V=l($.$state.tilefinput[0].systemData.noa),F=l($.$state.tilefinput[0].systemData.manufacturer),M=l($.$state.tilefinput[0].systemData.pressure),ge=l($.$state.tilefinput[0].systemData.material),Ke=l($.$state.tilefinput[0].systemData.description),me=t.getTextWidth(xl),Pt=t.getTextWidth(`${V.value}`),Ct=g;t.text(xl,Ct,e);const $e=Ct+me;t.text(`${V.value}`,$e,e),t.line($e,e+v,$e+Pt,e+v),d.value=$e+Pt;const Na=t.getTextWidth(gl),Qe=t.getTextWidth(`${F.value}`),nt=d.value+3;t.text(gl,nt,e);const Te=nt+Na;t.text(`${F.value}`,Te,e),t.line(Te,e+v,Te+Qe,e+v),d.value=Te+Qe,console.log(d.value);const dl=t.getTextWidth(ya),xa=t.getTextWidth(`${M.value}`),Le=d.value+3;t.text(ya,Le,e);const kt=Le+dl;t.text(`${M.value}`,kt,e),t.line(kt,e+v,kt+xa,e+v),d.value=kt+xa,e=e+10;const el=t.getTextWidth(la),ga=t.getTextWidth(`${ge.value}`),Rt=g;t.text(la,Rt,e);const Ce=Rt+el;t.text(`${ge.value}`,Ce,e),t.line(Ce,e+v,Ce+ga,e+v),d.value=Ce+ga,d.value>A&&(e=e+10);const kl=t.getTextWidth(_a),cl=t.getTextWidth(`${Ke.value}`),Oa=d.value+3;t.text(_a,Oa,e);const Fa=Oa+kl;t.text(`${Ke.value}`,Fa,e),t.line(Fa,e+v,Fa+cl,e+v),d.value=Fa+cl,d.value>=A&&(e=e+10),console.log(d.value)}e=e+10;const Cl=l(Me.value.noa),Il=l((I=(p=m[0])==null?void 0:p.savedValues)==null?void 0:I.applicant),Ua=l((qt=(de=m[0])==null?void 0:de.savedValues)==null?void 0:qt.material),bl=l((h=(Ae=m[0])==null?void 0:Ae.savedValues)==null?void 0:h.description),Zl=t.getTextWidth(hl),ql=t.getTextWidth(`${Il.value}`),E=g;t.text(hl,E,e);const w=E+Zl;t.text(`${Il.value}`,w,e),t.line(w,e+v,w+ql,e+v),d.value=w+ql;const N=t.getTextWidth(il),O=t.getTextWidth(`${Cl.value}`),se=d.value+3;t.text(il,se,e);const J=N+se;t.text(`${Cl.value}`,J,e),t.line(J,e+v,J+O,e+v),e=e+10;const he=t.getTextWidth(`${Ua.value}`);d.value>A&&(e=e+10),d.value=J+he;const j=g,je=t.getTextWidth(Ka),Aa=t.getTextWidth(`${Ua.value}`);t.text(Ka,j,e);const fe=j+je;t.text(`${Ua.value}`,fe,e),t.line(fe,e+v,fe+Aa,e+v),e=e+5;const zt=t.getTextWidth(`${bl.value}`);d.value=fe+zt,d.value>A&&(e=e+5),console.log(d.value,A),e=e+5;const _=t.getTextWidth(`${bl.value}`),Ma=t.getTextWidth(ba);console.log(_,Ma);const Ze=g;if(t.text(ba,Ze,e),_>220){e=e+4;const V=g;t.text(`${bl.value}`,V,e),t.line(V,e+v,V+_,e+v),d.value=V+_,e=e+8}else{const V=Ze+Ma;t.text(`${bl.value}`,V,e),t.line(V,e+v,V+_,e+v),d.value=V+_,e=e+5}e=e+5,t.setFontSize(12);const ze=new Image;ze.src="/demo/images/lambda.png",console.log(d.value,e);const Pe=[["Zone 1:",`${ve.value}`,"x",`${ue.value}`,"- Mg:",`${Ee.value}`,"= Mr1:",`${Je.value}`,"NOA Mf:",`${Fe.value}`],["Zone 2:",`${ha.value}`,"x",`${K.value}`,"- Mg:",`${nl.value}`,"= Mr2:",`${Ia.value}`,"NOA Mf:",`${we.value}`],["Zone 3:",`${jl.value}`,"x",`${fl.value}`,"- Mg:",`${$l.value}`,"= Mr3:",`${Sl.value}`,"NOA Mf:",`${it.value}`]];console.log(Pe);let Xa=g-1,ie=e;Pe.forEach(V=>{let F=Xa;V.forEach(M=>{console.log(F,ie),t.text(String(M),F,ie),F+=18}),t.addImage(ze,"png",50,ie-4,5,5),t.addImage(ze,"png",50,ie-4,5,5),t.addImage(ze,"png",50,ie-4,5,5),ie+=5,console.log(F,ie)});const qe="TileAdhesive.pdf",xe=t.output("blob");(async(V,F)=>{const M=V,ge=M;console.log(ge);const Ke=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${Nt.value}/${ge}`;try{const me=await fetch(Ke,{method:"PUT",headers:{"Content-Type":M.type},body:F});me.ok?(ot.value=Ke,alert("TileAdhesive File uploaded successfully!")):alert(`Failed to upload file. Status: ${me.status}`)}catch(me){console.error("Error uploading file:",me),alert("An error occurred while uploading the file.")}})(qe,xe)}};return(W,Se)=>(Nl(),Fl("div"))}};function Io(){const dt=l(),$=l([]);let b=l([]);const B=Eo(),S=l(),m=l("");let x="https://2dz45lw4aeav6valksiiquuwqq0ejsio.lambda-url.us-east-1.on.aws/";const{execute:H,then:X,data:ee}=zo(x,{method:"GET"},{immediate:!1}),D=lo({noa:"",manufacturer:"",material:"",description:"",Table2:[],Table3:[],expiration_date:"",resistance:[],selection:"",select_tile:[],tile_map:[],table2_map:[],two_ten_d_RS_Nails:null,one_number_eight_screw:null,two_number_eight_screw:null,mechanicaltilefastener:[],fastenerValues:[],height:null,area:null,slope:null,perimeter:null,decktype:null,expiration_date:""});function Y(W){dt.value=W,console.log(dt.value),S.value=Number(dt.value),o()}const o=async()=>{try{const W=await H({params:{NOA:S.value}}).then(Se=>($.value=ee.value,console.log(ee.value),$.value));console.log(W.length),W.length===0||(console.log($.value),D.noa=$.value[0].NOA,D.manufacturer=$.value[0].applicant,D.material=$.value[0].material,D.selection=$.value[0].AdhesiveMaterials,D.description=$.value[0].description,D.select_tile=$.value[0].Select_Tile,D.tile_map=$.value[0].Tile_Map,D.table2_map=$.value[0].Table2_Map,D.expiration_date=$.value[0].expiration_date,D.Table2=$.value[0].Table2,D.Table3=$.value[0].Table3,D.resistance=$.value[0].Resistance,D.expiration_date=$.value[0].expiration_date,D.two_ten_d_RS_Nails=$.value[0].two_ten_d_RS_Nails,D.one_number_eight_screw=$.value[0].one_number_eight_screw,D.two_number_eight_screw=$.value[0].two_number_eight_screw,D.mechanicaltilefastener=$.value[0].mechanicaltilefastener,D.fastenerValues=$.value[0].fastenerValues,B.addNoa(D),console.log(D,"System added"))}catch(W){console.log("Error, fectching data",W)}return b};return{input:dt,fetchData:o,takeMechInput:Y,noaNum:$,error:m,results:b,...mo(D),mechStore:B}}const Uo={__name:"TileMechanical",setup(dt){const{getUser:$}=El(),b=l(!1),B=wl(),S=ml(),m=l(S.$state.roofList),{mechStore:x}=Io(),H=so(),X=io(),ee=wo(),D=Al(()=>{if(m.value.length===0)return"";for(let o=0;o<m.value.length;o++)m.value[o].item==="Mechanical Fastened Tile"&&(console.log(m.value[o].item),b.value=!0,Y())});Ml(async()=>{await Xl(D).toBe(!0),console.log(D)});const Y=()=>{var g,e,ye,_e,Ve,re,be,P,Z,ne,C,c,U,T,Bt,It,ct,pt,ut,vt,ht,xt,gt,mt,u,Tt,Wt,ft,$t,Ut,St,Ot,Ht,f,Vt,Yt,i,rt,s,ke,oa,bt,ma,n,sa,Ta,Dt,Wa,Ea,et,Re,Gt,Q,De,tt,At,Mt,Xt,Jt,jt;if(x.tilemech.value.length===0)console.log("lenghth is   zero");else{let Zt=l(!1),ia=l(!1),Be=l(!1);((e=(g=x.tilemech.value[0])==null?void 0:g.Table2)==null?void 0:e.content)==="multiple"&&(Be=!0),X.$state.tilesysEinput.length!==0&&(Zt=!0,console.log(Zt,X)),H.$state.tilefinput.length!==0&&(ia=!0,console.log(ia));const a=new Bl({orientation:"portrait",unit:"mm",format:"a4",compress:!0});console.log((ye=x.tilemech.value[0])==null?void 0:ye.Table2);const p=1,I=90,de=179,qt=725,Ae=a.getPageInfo(1);console.log(Ae),Ae.pageContext.mediaBox.topRightX;const h=Ae.pageContext.mediaBox.topRightY,t=l(0),Kt=l(0);var o=h-qt,W=595.28-585.28;t.value=W,Kt.value=o,console.log(B.$state.permitapp),console.log(x.tilemech.value[0]);const Ie=l(((_e=x.tilemech.value[0])==null?void 0:_e.height)||"N/A"),A=l(((Ve=x.tilemech.value[0])==null?void 0:Ve.slope)||"N/A"),wa=l(((re=x.tilemech.value[0])==null?void 0:re.decktype)||"N/A"),Qt=l(((be=x.tilemech.value[0])==null?void 0:be.perimeter)||"N/A");l((Z=(P=X.$state.tilesysEinput[0])==null?void 0:P.systemDataE)==null?void 0:Z.prescriptiveSelection),console.log(x.tilemech.value[0].prescriptiveSelection);const at=l(((ne=x.tilemech.value[0])==null?void 0:ne.prescriptiveSelection)||"N/A"),d=l(((C=x.tilemech.value[0])==null?void 0:C.area)||""),na=l(((U=(c=B.$state.permitapp[0])==null?void 0:c.formdt)==null?void 0:U.address)||""),Me=l(((Bt=(T=B.$state.permitapp[0])==null?void 0:T.formdt)==null?void 0:Bt.muni)||"");l(((ct=(It=B.$state.permitapp[0])==null?void 0:It.formdt)==null?void 0:ct.processNumber)||"");const lt=l(((ut=(pt=B.$state.permitapp[0])==null?void 0:pt.formdt)==null?void 0:ut.muniProc)||""),ce=l(((vt=ee.$state.dripinputmecht[5])==null?void 0:vt.dripMTileMaterial)||""),fa=l(((ht=ee.$state.dripinputmecht[7])==null?void 0:ht.dripMTileMaterial)||"");console.log(x.tilemech.value),o=o+10;const $a=l(((xt=x.tilemech.value[0])==null?void 0:xt.mf1)||""),da=l(((gt=x.tilemech.value[0])==null?void 0:gt.lambda1)||""),Lt=l(((mt=x.tilemech.value[0])==null?void 0:mt.mg1)||""),Ue=l(((u=x.tilemech.value[0])==null?void 0:u.mr1)||""),Nt=l(((Tt=x.tilemech.value[0])==null?void 0:Tt.zoneone)||""),Xe=l(((Wt=x.tilemech.value[0])==null?void 0:Wt.mf2)||""),ot=l(((ft=x.tilemech.value[0])==null?void 0:ft.lambda2)||""),Ft=l((($t=x.tilemech.value[0])==null?void 0:$t.mg2)||""),Ne=l(((Ut=x.tilemech.value[0])==null?void 0:Ut.mr2)||""),yt=l(((St=x.tilemech.value[0])==null?void 0:St.zonetwo)||""),ca=l(((Ot=x.tilemech.value[0])==null?void 0:Ot.mf3)||""),tl=l(((Ht=x.tilemech.value[0])==null?void 0:Ht.lambda3)||""),al=l(((f=x.tilemech.value[0])==null?void 0:f.mg3)||""),Ya=l(x.tilemech.value[0].mr3||""),za=l(((Vt=x.tilemech.value[0])==null?void 0:Vt.zonethree)||""),Ga=l(""),Pa=l($.value[0].dba);a.setGState(new a.GState({opacity:.8}));const Ja="Approved";a.setFontSize(24),a.setTextColor(150,150,150),a.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const v=new Image,ul=new Image,k=new Image;v.src="/demo/images/officepaper.jpeg",ul.src="/demo/images/logo.jpeg",k.src="/demo/images/lambda.png",a.addImage(ul,"JPEG",10,0,50,30),a.addImage(v,"JPEG",0,0,210,297),a.setFontSize(15),a.setTextColor("green");var Se=new Date,z=Se.toLocaleDateString();a.text(Ja,10,270,{align:"left"});const ja=a.getTextWidth(Ja);a.text("on: "+z,ja+15,270),a.text(`${lt.value}`,10,280,{align:"left"});const pa=a.getTextWidth(`${lt.value}`);a.text(`${Me.value}`,pa+15,280);const Ca=()=>{a.setFontSize(12),a.setTextColor(0),a.text("The tile roof system and its components shall be installed in strict compliance with the FBC 2023 HVHZ portions of Chapter 15, the HVHZ Tile Application Standards: RAS-119, RAS-120 & RAS-127 and the submitted MDC Notice of Acceptance(s).",10,29,{maxWidth:"200"}),a.line(10,41,195,41)};a.setTextColor(0),a.circle(189,38,2,"FD"),a.text("I agree",165,39),Ca(),a.setFontSize(12);const ka=[{category:"DBA",value:`${Pa.value}`},{category:"Municipality",value:`${Me.value}`},{category:"Job Address",value:`${na.value}`},{category:"Process Number",value:`${lt.value}`}];let ll=10,Za=60,qa=50;a.setFontSize(12),ka.forEach((E,w)=>{const N=qa+w*10;a.text(E.category,ll,N),a.text(E.value,Za,N),a.getTextWidth(E.category);const O=a.getTextWidth(E.value)*2;a.line(Za,N+2,Za+O,N+2)}),a.setFontSize(12),console.log(o);const Sa="Roof Perimeter: ",_t=a.getTextWidth("Roof Area: "),ol=a.getTextWidth(`${d.value}`);a.text("Roof Area:",W,I);const Va=_t+10;a.text(`${d.value}`,Va,I),a.line(Va,I+p,Va+ol,I+p),t.value=_t+ol,console.log(t.value);const ea=a.getTextWidth("Mean Roof Height:"),Et=a.getTextWidth(`${Ie.value}`),Ra=t.value+15;a.text("Mean Roof Height:",Ra,I);const ua=ea+45;a.text(`${Ie.value}`,ua,I),a.line(ua,I+p,ua+Et,I+p),t.value=ea+Et,console.log(t.value),a.getTextWidth("Roof Slope: ");const G=a.getTextWidth(`${A.value}`),pe=t.value+50;a.text("Roof Slope:",pe,I);const Oe=pe+25;a.text(`${A.value}`,Oe,I),a.line(Oe,I+p,Oe+G,I+p),t.value=t.value+Oe;const ra=a.getTextWidth(Sa),Ba=a.getTextWidth(`${Qt.value}`),He=t.value-30;a.text(Sa,He,I);const vl=ra+He+2;a.text(`${Qt.value}`,vl,I),a.line(vl,I+p,vl+Ba,I+p),o=I+30;const Tl=a.getTextWidth("Deck Type"),sl=a.getTextWidth(`${wa.value}`);t.value=t.value+Tl-30,a.text("Decktype:",t.value,o);const ta=t.value+20;a.text(`${wa.value}`,ta,o),a.line(ta,o+p,ta+sl,o+p),t.value=ta+sl;const il="Tile NOA Number: ",hl="Tile Applicant: ",Ka="Tile Material: ",ba="Tile Type: ",wt="Tile Description: ",Da="Select Mechanical Tile Fastener: ",va="Fastened (UDL) NOA: ",Qa="(UDL) NOA Applicant: ",La="Fastened (UDL) Material: ",Wl="Select System E: ",r="Design psf: ",q="Anchor Base Sheet: ",R="(UDL) Description: ",L="Prescriptive: ",We="DripEdge Material: ",te="DripEdge Size: ";console.log(x.tilemech.value[0]),console.log(x.tilemech.value[0]);const st=l((Yt=x.tilemech.value[0])==null?void 0:Yt.noa),ae=l((i=x.tilemech.value[0])==null?void 0:i.manufacturer),le=l((rt=x.tilemech.value[0])==null?void 0:rt.material),Ye=Be===!0?l((s=x.tilemech.value[0])==null?void 0:s.tiletype):l((ke=x.tilemech.value[0])==null?void 0:ke.material),Ge=Be!==!0?l((oa=x.tilemech.value[0])==null?void 0:oa.savedfastener):l((bt=x.tilemech.value[0])==null?void 0:bt.description),y=Be===!0?l((ma=x.tilemech.value[0])==null?void 0:ma.savedfastener):l((n=x.tilemech.value[0])==null?void 0:n.description);console.log((sa=x.tilemech.value[0])==null?void 0:sa.description,(Ta=x.tilemech.value[0])==null?void 0:Ta.savedfastener),a.getTextWidth(L);const oe=a.getTextWidth(`${at.value}`),aa=W;a.text(L,aa,o-15);const Fe=W;o=o-9,a.text(`${at.value}`,Fe,o),a.line(Fe,o+p,Fe+oe,o+p),o=o+10;const ue=a.getTextWidth(We),Ee=a.getTextWidth(`${ce.value}`),Je=W;a.text(We,Je,o);const ve=ue+Je;a.text(`${ce.value}`,ve,o),a.line(ve,o+p,ve+Ee,o+p),o=o+8;const we=a.getTextWidth(te),K=a.getTextWidth(`${fa.value}`),nl=W;a.text(te,nl,o);const Ia=we+nl;if(a.text(`${fa.value}`,Ia,o),a.line(Ia,o+p,Ia+K,o+p),o=o+10,a.setFontSize(12),X.$state.tilesysEinput.length===0){const E="n/a",w="n/a",N="n/a",O="n/a",se=a.getTextWidth(va),J=a.getTextWidth(E),he=W;a.text(va,he,o);const j=he+se;a.text(E,j,o),a.line(j,o+p,j+J,o+p),t.value=j+J,console.log(t.value);const je=a.getTextWidth(Qa),Aa=a.getTextWidth(w),fe=t.value+2;a.text(Qa,fe,o);const zt=fe+je;a.text(w,zt,o),a.line(zt,o+p,zt+Aa,o+p),t.value=zt+Aa,console.log(t.value),t.value>de&&(o=o+10);const _=t.value+2,Ma=a.getTextWidth(La),Ze=a.getTextWidth(N);a.text(La,_,o);const ze=_+Ma;a.text(N,ze,o),a.line(ze,o+p,ze+Ze,o+p),t.value=ze+Ze,console.log(t.value),t.value>de&&(o=o+10),o=o+10;const Pe=a.getTextWidth(R),Xa=a.getTextWidth(O),ie=W,qe=ie+Xa;console.log(qe),a.text(R,ie,o),qe>de&&print(qe);const xe=ie+Pe;a.text(O,xe,o),a.line(xe,o+p,xe+Xa,o+p),t.value=xe+Xa,o=o+10}else{console.log(X.$state.tilesysEinput);const E=l(((Wa=(Dt=X.$state.tilesysEinput[0])==null?void 0:Dt.systemDataE)==null?void 0:Wa.noa)||"N/A"),w=l(((et=(Ea=X.$state.tilesysEinput[0])==null?void 0:Ea.systemDataE)==null?void 0:et.manufacturer)||"N/A"),N=l(((Gt=(Re=X.$state.tilesysEinput[0])==null?void 0:Re.systemDataE)==null?void 0:Gt.material)||"N/A"),O=l(((De=(Q=X.$state.tilesysEinput[0])==null?void 0:Q.systemDataE)==null?void 0:De.systemSelected)||"N/A"),se=l(((At=(tt=X.$state.tilesysEinput[0])==null?void 0:tt.systemDataE)==null?void 0:At.dP)||"N/A"),J=l(((Xt=(Mt=X.$state.tilesysEinput[0])==null?void 0:Mt.systemDataE)==null?void 0:Xt.Anchor_Base)||"N/A"),he=l(((jt=(Jt=X.$state.tilesysEinput[0])==null?void 0:Jt.systemDataE)==null?void 0:jt.tileCap)||"N/A"),j=a.getTextWidth(va),je=a.getTextWidth(`${E.value}`),Aa=W;a.text(va,Aa,o);const fe=Aa+j;a.text(`${E.value}`,fe,o),a.line(fe,o+p,fe+je,o+p),t.value=fe+je;const zt=a.getTextWidth(Qa),_=a.getTextWidth(`${w.value}`),Ma=t.value+2;a.text(Qa,Ma,o);const Ze=Ma+zt;a.text(`${w.value}`,Ze,o),a.line(Ze,o+p,Ze+_,o+p);const ze=a.getTextWidth(`${N.value}`);t.value=Ze+ze,o=o+10;const Pe=W,Xa=a.getTextWidth(La),ie=a.getTextWidth(`${N.value}`);a.text(La,Pe,o);const qe=Pe+Xa;a.text(`${N.value}`,qe,o),a.line(qe,o+p,qe+ie,o+p),t.value=qe+ie,t.value>de&&(o=o+10);const xe=t.value+5,Dl=a.getTextWidth(Wl),V=a.getTextWidth(`${O.value}`);a.text(Wl,xe,o);const F=xe+Dl;a.text(`${O.value}`,F,o),a.line(F,o+p,F+V,o+p),t.value=F+V,t.value>de&&(o=o+10);const M=a.getTextWidth(r),ge=a.getTextWidth(`${se.value}`),Ke=t.value+3;a.text(r,Ke,o);const me=Ke+M;a.text(`${se.value}`,me,o),a.line(me,o+p,me+ge,o+p),t.value=me+ge,console.log(t.value),o=o+10,a.getTextWidth(q);const Pt=a.getTextWidth(`${J.value}`),Ct=W;a.text(q,Ct,o),o=o+10;const $e=W;a.text(`${J.value}`,$e,o),a.line($e,o+p,$e+Pt,o+p),t.value=$e+Pt,o=o+10;const Na=a.getTextWidth(R),Qe=a.getTextWidth(`${he.value}`),nt=W;a.text(R,nt,o);const Te=nt+Na;a.text(`${he.value}`,Te,o),a.line(Te,o+p,Te+Qe,o+p),t.value=Te+Qe,console.log(t.value),o=o+10}const ha="Self Adhered NOA: ",it="S/A NOA Applicant: ",fl="S/A System F: ",$l="S/A Material: ",Sl="S/A Description: ";if(H.$state.tilefinput.length===0){const E="n/a",w="n/a",N="n/a",O="n/a",se="n/a",J=a.getTextWidth(ha),he=a.getTextWidth(E),j=W;a.text(ha,j,o);const je=j+J;a.text(E,je,o),a.line(je,o+p,je+he,o+p),t.value=je+he,console.log(t.value);const Aa=a.getTextWidth(it);a.getTextWidth(w);const fe=t.value+3,zt=a.getTextWidth(N);a.text(it,fe,o);const _=fe+Aa;a.text(w,_,o),a.line(_,o+p,_+zt,o+p),t.value=_+zt,console.log(t.value);const Ma=a.getTextWidth(fl),Ze=a.getTextWidth(N),ze=t.value+3;a.text(fl,ze,o);const Pe=ze+Ma;a.text(N,Pe,o),a.line(Pe,o+p,Pe+Ze,o+p),t.value=Pe+Ze,console.log(t.value),o=o+10;const Xa=a.getTextWidth($l),ie=a.getTextWidth(O),qe=W;a.text($l,qe,o);const xe=qe+Xa;a.text(O,xe,o),a.line(xe,o+p,xe+ie,o+p),t.value=xe+ie,console.log(t.value);const Dl=a.getTextWidth(Sl),V=a.getTextWidth(se),F=t.value+3;a.text(Sl,F,o);const M=F+Dl;a.text(se,M,o),a.line(M,o+p,M+V,o+p),t.value=M+V,console.log(t.value)}else{console.log("Entered sbs line 455",H.$state);const E=l(H.$state.tilefinput[0].systemData.noa),w=l(H.$state.tilefinput[0].systemData.manufacturer),N=l(H.$state.tilefinput[0].systemData.pressure),O=l(H.$state.tilefinput[0].systemData.material),se=l(H.$state.tilefinput[0].systemData.description),J=a.getTextWidth(ha),he=a.getTextWidth(`${E.value}`),j=W;a.text(ha,j,o);const je=j+J;a.text(`${E.value}`,je,o),a.line(je,o+p,je+he,o+p),t.value=je+he;const Aa=a.getTextWidth(it),fe=a.getTextWidth(`${w.value}`),zt=t.value+3;a.text(it,zt,o);const _=zt+Aa;a.text(`${w.value}`,_,o),a.line(_,o+p,_+fe,o+p),t.value=_+fe,console.log(t.value);const Ma=a.getTextWidth(fl),Ze=a.getTextWidth(`${N.value}`),ze=t.value+3;a.text(fl,ze,o);const Pe=ze+Ma;a.text(`${N.value}`,Pe,o),a.line(Pe,o+p,Pe+Ze,o+p),t.value=Pe+Ze,o=o+10;const Xa=a.getTextWidth($l),ie=a.getTextWidth(`${O.value}`),qe=W;a.text($l,qe,o);const xe=qe+Xa;a.text(`${O.value}`,xe,o),a.line(xe,o+p,xe+ie,o+p),t.value=xe+ie,t.value>de&&(o=o+10);const Dl=a.getTextWidth(Sl),V=a.getTextWidth(`${se.value}`),F=t.value+3;a.text(Sl,F,o);const M=F+Dl;a.text(`${se.value}`,M,o),a.line(M,o+p,M+V,o+p),t.value=M+V,t.value>=de&&(o=o+10),console.log(t.value)}o=o+10;const jl=a.getTextWidth(`${ae.value}`),Vl=a.getTextWidth(hl),zl=W;a.text(hl,zl,o);const rl=zl+Vl;a.text(`${ae.value}`,rl,o),a.line(rl,o+p,rl+jl,o+p),t.value=rl+Vl+10;const Pl=a.getTextWidth(il),xl=a.getTextWidth(`${st.value}`),gl=t.value+Pl;a.text(il,gl,o);const ya=gl+38;a.text(`${st.value}`,ya,o),a.line(ya,o+p,ya+xl,o+p),t.value=ya+xl,o=o+10;const la=o;if(Be===!0){const E=a.getTextWidth(ba),w=a.getTextWidth(`${Ye.value}`),N=W;a.text(ba,N,la);const O=N+E;t.value=E+w,a.text(`${Ye.value}`,O,la),a.line(O,la+p,O+w,la+p),o=o+10;const se=a.getTextWidth(Da),J=a.getTextWidth(`${y.value}`);console.log(y.value),t.value=W;const he=t.value;a.text(Da,he,o),console.log(t.value);const j=he+se;a.text(`${y.value}`,j,o),a.line(j,o+p,j+J,o+p),t.value=j+J,o=o+10}else{const E=a.getTextWidth(Ka),w=a.getTextWidth(`${le.value}`);t.value=W,console.log(le.value);const N=t.value;a.text(Ka,N,la);const O=N+E;a.text(`${le.value}`,O,la),a.line(O,la+p,O+w,la+p),t.value=E+w+20,console.log(t.value);const se=a.getTextWidth(wt),J=a.getTextWidth(`${Ge.value}`),he=t.value+10;a.text(wt,he,o);const j=he+se;a.text(`${Ge.value}`,j,o),a.line(j,o+p,j+J,o+p),t.value=j+J}o=o+10;const _a=new Image;_a.src="/demo/images/lambda.png";const Cl=[["Zone 1:",`${Nt.value}`,"x",`${da.value}`,"- Mg:",`${Lt.value}`,"= Mr1:",`${Ue.value}`,"NOA Mf:",`${$a.value}`],["Zone 2:",`${yt.value}`,"x",`${ot.value}`,"- Mg:",`${Ft.value}`,"= Mr2:",`${Ne.value}`,"NOA Mf:",`${Xe.value}`],["Zone 3:",`${za.value}`,"x",`${tl.value}`,"- Mg:",`${al.value}`,"= Mr3:",`${Ya.value}`,"NOA Mf:",`${ca.value}`]];console.log(Cl);let Il=W-1,Ua=o;Cl.forEach(E=>{let w=Il;E.forEach(N=>{a.text(String(N),w,Ua),w+=18}),a.addImage(_a,"png",50,Ua-4,5,5),a.addImage(_a,"png",50,Ua-4,5,5),a.addImage(_a,"png",50,Ua-4,5,5),Ua+=5,Ua+=5}),o=o+20;const bl="MechanicalTile.pdf",Zl=a.output("blob");(async(E,w)=>{const N=E,O=N;console.log(O);const se=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${lt.value}/${O}`;try{const J=await fetch(se,{method:"PUT",headers:{"Content-Type":N.type},body:w});J.ok?(Ga.value=se,alert("Mechanical File uploaded successfully!")):alert(`Failed to upload file. Status: ${J.status}`)}catch(J){console.error("Error uploading file:",J),alert("An error occurred while uploading the file.")}})(bl,Zl)}};return(o,W)=>(Nl(),Fl("div"))}},Oo={id:"summary",class:"card-system"},Ho=Ha("p",null,"The roof systems you selected",-1),Yo={class:"rounded border border-surface-200 dark:border-surface-700 p-6 bg-surface-0 dark:bg-surface-900"},ds={__name:"Summarys",setup(dt){var ye,_e,Ve,re,be;const{accountUsers:$}=El(),b=Vo();l(!1),l(!1);let B=l(!1),S=l(!1),m=l(!1),x=l(!1),H=l(!1);const X=l("");l(""),l("");const ee=wl(),D=ml(),Y=l(D.$state.roofList);l(((_e=(ye=ee.$state.permitapp[0])==null?void 0:ye.formdt)==null?void 0:_e.processNumber)||"");const o=oo(),W=l(o.$state.generalpdfinput);l(((re=(Ve=ee.$state.permitapp[0])==null?void 0:Ve.formdt)==null?void 0:re.muniProc)||""),l(!1),l(((be=b.$state.countinput[0])==null?void 0:be.countData)||""),l(!1),l(!1),l(!1),l(!1);function Se(){$.value.forEach((P,Z)=>{X.value=P.dba})}const z=lo({dim:"",item:""}),g=Al(()=>{if(Y.value.length===0)return"";for(let P=0;P<Y.value.length;P++)Y.value[P].item==="Asphalt Shingle"?(x.value=!0,z.dim=Y.value[P].dim1,z.item=Y.value[P].item):Y.value[P].item==="Low Slope"?H.value=!0:Y.value[P].item==="Adhesive Set Tile"?(console.log(Y.value[P].item),S.value=!0):Y.value[P].item==="Mechanical Fastened Tile"?(console.log(Y.value[P].item),m.value=!0):W.value.length!==1&&(B.value=!0),console.log(Y.value)});To(()=>{Se()});const e=l([{status:"RoofSystems",date:"15/10/2020 10:30",icon:"pi pi-cog",color:"#9C27B0",image:"/src/assets/img/roofing_tile.jpg"},{status:"Processing",date:"15/10/2020 14:00",icon:"pi pi-cog",color:"#673AB7"},{status:z.item,date:"15/10/2020 14:00",icon:"pi pi-cog",color:"#673AB7"}]);return Wo(Se,g,()=>{}),Ml(async()=>{await Xl(g).toBe(!0)}),(P,Z)=>{const ne=vo,C=uo,c=po;return Nl(),Fl(fo,null,[Ha("div",Oo,[pl(c,{value:e.value,align:"alternate",class:"customized-timeline",style:{"margin-top":"50px"}},{marker:Rl(U=>[Ha("span",{class:"flex w-8 h-8 items-center justify-center text-white rounded-full z-10 shadow-sm",style:$o({backgroundColor:U.item.color})},[Ha("i",{class:So(U.item.icon)},null,2)],4)]),content:Rl(U=>[pl(C,{class:"mt-4"},{title:Rl(()=>[eo(to(U.item.status),1)]),subtitle:Rl(()=>[eo(to(U.item.date),1)]),content:Rl(()=>[Ho,pl(ne,{label:"Read more",text:""})]),_:2},1024)]),_:1},8,["value"])]),Ha("div",Yo,[Ha("div",null,[pl(Po)]),Yl(Ha("div",null,[pl(ko)],512),[[Gl,Jl(x)]]),Yl(Ha("div",null,[pl(Bo)],512),[[Gl,Jl(S)]]),Yl(Ha("div",null,[pl(Uo)],512),[[Gl,Jl(m)]]),Yl(Ha("div",null,[pl(Co)],512),[[Gl,Jl(H)]])])],64)}}};export{ds as default};
