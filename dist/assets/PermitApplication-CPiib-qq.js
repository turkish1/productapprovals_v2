import{u as U,a as T,b as W,_ as se}from"./use-createProcessnumber-CnvZrZjw.js";import{r as o,u as F,a as L,o as h,A as D,a7 as A,as as te,b as c,c as u,e,d as n,f as ae,P as I,h as le,am as ne,x as V,t as O,T as re,p as z,i as j,az as E,au as ie,F as de,k as ce}from"./index-BtL7OrFW.js";import{s as ue}from"./index-BKQwuHos.js";import{s as pe}from"./index-Q585TLSM.js";import{s as q}from"./index-CFoD2rkF.js";import{s as G}from"./index-Cpvzq_QC.js";import{s as me}from"./index-CPzBNmSW.js";import{u as C}from"./accountsStore-DzIgCO3V.js";import{u as N}from"./permitapp-DgaEL9au.js";import{_ as x}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as _e}from"./FileSaver-B2CSh9Vt.js";import"./index-c57c4o2O.js";import"./index-CZCpuU6J.js";import"./index-DjST9Qy2.js";import"./useAxios-CzUQpN59.js";import"./processStore-CUu1SgkI.js";import"./index-BSxjWLq7.js";import"./index-VlH9RIPB.js";import"./index-2_wkO2MS.js";import"./index-C7T5KNtK.js";import"./index-CC4DTeuj.js";import"./index-BtYxoT0Y.js";o(1);o("");const fe=F(),H=o(!1);U();const{accountUsers:m}=C();console.log(m._value[0]);o("me");N();L({address:"",muni:"",license:"",folio:"",contractor:"",permit:"",processNumber:"",date:new Date});const ve=o(""),ge=o(""),J=o(""),be=o(""),he=o("");h(()=>{D.init({duration:800,easing:"ease-in-out",once:!0})});A(()=>{if(m._value[0].name==="")return fe.push("/");H.value=!0,ve.value=m._value[0].name,ge.value=m._value[0].email,J.value=m._value[0].phone,be.value=m._value[0].secondary_status,he.value=m._value[0].dba,console.log(m._value[0].phone)});o(!1);T();W();J.value=m._value[0].phone;o(null);o("");o("");h(()=>{H.value=!0});o();o([{name:"Roofing Permit",code:"RP"},{name:"Doors Permit",code:"DP"},{name:"Windows Permit",code:"WP"}]);te(async()=>{});const ye={},_=s=>(z("data-v-b7c3e20d"),s=s(),j(),s),$e={id:"permitapp",ref:"permitapp",class:"flex flex-col md:flex-row gap-2",style:{"margin-left":"220px","background-color":"#eae7e2"}},Pe={class:"md:w-3/4"},we={class:"row",style:{"background-color":"#eae7e2"}},Ve={class:"card flex flex-col gap-1",style:{"background-color":"#eae7e2"}},ke=_(()=>e("div",{class:"font-semibold text-xl"},"Permit Application",-1)),Se={class:"card flex justify-center",style:{"background-color":"#eae7e2"}},xe={class:"flex flex-col mt-3 grow basis-0 gap-3",style:{"max-width":"300px"}},Ie=_(()=>e("label",{for:"license"},"License Status",-1)),Ue={class:"card flex flex-col gap-2",style:{"background-color":"#eae7e2"}},De={class:"flex flex-col grow basis-0 gap-2"},Ae=_(()=>e("label",{for:"addr"},"Property Address",-1)),Ce={key:1,class:"pi pi-spin pi-spinner",style:{"font-size":"2rem"}},Ne={class:"flex flex-col mt-3 grow basis-0 gap-3"},Me=_(()=>e("label",{for:"dba"},"DBA ",-1)),Re={class:"flex flex-col mt-3 grow basis-0 gap-3"},Be=_(()=>e("label",{for:"contractor"},"Contractor Name",-1)),Ee={class:"flex flex-col mt-3 grow basis-0 gap-3"},Te=_(()=>e("label",{for:"phone"},"Cell Phone Number",-1)),We={class:"flex flex-col mt-3 grow basis-0 gap-3"},Fe=_(()=>e("label",{for:"Email"},"Email",-1)),Le={key:0},Oe=_(()=>e("br",null,null,-1)),ze=_(()=>e("br",null,null,-1));function je(s,t,i,f,g,y){const l=me,p=G,b=q,k=pe,$=ue,w=re;return c(),u("div",$e,[e("div",Pe,[e("form",null,[e("div",we,[e("div",Ve,[ke,e("div",Se,[n(l,{modelValue:s.selectedApplication,"onUpdate:modelValue":t[0]||(t[0]=a=>s.selectedApplication=a),options:s.type,showClear:"",optionLabel:"name",placeholder:"Select a permit type",class:"w-full md:w-56"},null,8,["modelValue","options"])]),e("div",xe,[Ie,n(p,{id:"license",modelValue:s.licenseStatus,"onUpdate:modelValue":t[1]||(t[1]=a=>s.licenseStatus=a),type:"text",placeholder:"name"},null,8,["modelValue"])]),e("div",Ue,[e("form",{class:"w-3/4",onSubmit:t[7]||(t[7]=(...a)=>s.onSubmit&&s.onSubmit(...a))},[e("div",De,[Ae,ae(n(p,{id:"addr",type:"text",modelValue:s.address,"onUpdate:modelValue":t[2]||(t[2]=a=>s.address=a),placeholder:"address"},null,8,["modelValue"]),[[w,"Make sure that either street or avenue is spelled out, direction could be shorten (sw)",void 0,{top:!0}]]),s.loading?(c(),u("i",Ce)):(c(),I(b,{key:0,id:"search",type:"button",label:"Search",class:"w-1/3",style:{"background-color":"#a4b5b9"},raised:"",icon:"pi pi-search-plus",loading:s.loading,onClick:s.load,onInput:s.createHtml},null,8,["loading","onClick","onInput"]))]),e("div",Ne,[Me,n(p,{id:"dba",modelValue:s.dba,"onUpdate:modelValue":t[3]||(t[3]=a=>s.dba=a),type:"text",placeholder:"name"},null,8,["modelValue"])]),e("div",Re,[Be,n(p,{id:"contractor",modelValue:s.contractor,"onUpdate:modelValue":t[4]||(t[4]=a=>s.contractor=a),type:"text",placeholder:"name"},null,8,["modelValue"])]),e("div",Ee,[Te,n(k,{modelValue:s.phone,"onUpdate:modelValue":t[5]||(t[5]=a=>s.phone=a),mask:"(999) 999-9999",placeholder:"(999) 999-9999",invalid:s.phone===""},null,8,["modelValue","invalid"])]),e("div",We,[Fe,n(p,{modelValue:s.email,"onUpdate:modelValue":t[6]||(t[6]=a=>s.email=a),invalid:s.email===null,error:s.emailError},null,8,["modelValue","invalid","error"]),s.invalid?(c(),I($,{key:0,severity:"error"},{default:le(()=>[ne("Email is required")]),_:1})):V("",!0)]),s.responseMessage?(c(),u("p",Le,O(s.responseMessage),1)):V("",!0),Oe],32),ze])])])])])],512)}const qe=x(ye,[["render",je],["__scopeId","data-v-b7c3e20d"]]),Ge={key:0,class:"loading-indicator"},He={__name:"ScrollFunction",setup(s){const t=[{content:"This is content from Page 1"}],i=o([t[0]]),f=o(!1),g=o(0),y=()=>{g.value<t.length-1&&(f.value=!0,setTimeout(()=>{g.value++,i.value.push(t[g.value]),f.value=!1},1e3))},l=o(null),{stop:p}=E(l,([{isIntersecting:b}])=>{b&&y(),console.log(l)},{threshold:1});return console.log(E()),h(()=>{ie(()=>{g.value===t.length-1&&p()})}),(b,k)=>(c(),u("div",{ref_key:"scrollContainer",ref:l,class:"infinite-container"},[(c(!0),u(de,null,ce(i.value,($,w)=>(c(),u("div",{key:w,class:"page-content"},[e("div",null,[n(qe)])]))),128)),f.value?(c(),u("div",Ge,"Loading more content...")):V("",!0)],512))}},Je=x(He,[["__scopeId","data-v-685d1615"]]),P=s=>(z("data-v-6bb23867"),s=s(),j(),s),Ke={class:"md:w-3/4"},Qe={class:"container"},Xe={"data-aos":"fade-up-left","data-aos-delay":"500"},Ye={class:"row",style:{"background-color":"#eae7e2"}},Ze={class:"card flex flex-col gap-1",style:{"background-color":"#eae7e2"}},eo={class:"card flex flex-col gap-2",style:{"background-color":"#eae7e2"}},oo={class:"flex flex-col mt-3 grow basis-0 gap-3"},so=P(()=>e("label",{for:"muni"},"Municipality",-1)),to={class:"flex flex-col mt-3 grow basis-0 gap-3"},ao=P(()=>e("label",{for:"folio"},"Folio",-1)),lo={class:"flex flex-col mt-3 grow basis-0 gap-3"},no=P(()=>e("label",{for:"permit"},"Master Permit",-1)),ro={class:"flex flex-col mt-3 grow basis-0 gap-3"},io=P(()=>e("label",{for:"processnum"},"mEProcess Number",-1)),co={key:0},uo=P(()=>e("br",null,null,-1)),po=P(()=>e("br",null,null,-1)),mo={"data-aos":"fade-up-right","data-aos-delay":"500"},_o={__name:"PermitApp2",setup(s){o(1);const t=o(""),i=F(),f=o(!1);o(),o(),o();const{procData:g,procReceive:y}=U(),{accountUsers:l,getUser:p,addUser:b}=C();console.log(l._value[0]),o("me");const k=N(),$=L({address:"",muni:"",license:"",folio:"",contractor:"",permit:"",processNumber:"",date:new Date}),w=o(""),a=o(""),M=o(""),K=o(""),Q=o("");h(()=>{D.init({duration:800,easing:"ease-in-out",once:!0})}),A(()=>{if(l._value[0].name==="")return i.push("/");f.value=!0,w.value=l._value[0].name,a.value=l._value[0].email,M.value=l._value[0].phone,K.value=l._value[0].secondary_status,Q.value=l._value[0].dba,console.log(l._value[0].phone)}),o(!1),T(),W(),M.value=l._value[0].phone;const X=o(null),R=o("");o(""),h(()=>{f.value=!0});const Y=async()=>{y($)},B=o();o([{name:"Roofing Permit",code:"RP"},{name:"Doors Permit",code:"DP"},{name:"Windows Permit",code:"WP"}]);function Z(r,d){r=$,d=B.value,r.length!==0&&(k.addSystem(r,d,R.value),console.log(r,d,R.value,"System added"))}return(r,d)=>{const S=G,ee=q,oe=_e;return c(),u("div",{id:"permitapp",ref_key:"permitapp",ref:X,class:"flex flex-col md:flex-row gap-2",style:{"margin-left":"220px","background-color":"#eae7e2"}},[e("div",Ke,[e("div",Qe,[e("div",Xe,[e("form",null,[e("div",Ye,[e("div",Ze,[e("div",eo,[e("form",{class:"w-3/4",onSubmit:Y},[e("div",oo,[so,n(S,{id:"muni",modelValue:r.muni,"onUpdate:modelValue":d[0]||(d[0]=v=>r.muni=v),type:"text",placeholder:"municipality"},null,8,["modelValue"])]),e("div",to,[ao,n(S,{id:"folio",modelValue:r.folio,"onUpdate:modelValue":d[1]||(d[1]=v=>r.folio=v),type:"text",placeholder:"folio",onInput:r.updatemEProcess},null,8,["modelValue","onInput"])]),e("div",lo,[no,n(S,{id:"permit",modelValue:r.permit,"onUpdate:modelValue":d[2]||(d[2]=v=>r.permit=v),type:"text",placeholder:"20000000"},null,8,["modelValue"])]),e("div",ro,[io,n(S,{id:"processnum",modelValue:r.processNumber,"onUpdate:modelValue":d[3]||(d[3]=v=>r.processNumber=v),type:"text",placeholder:"process number"},null,8,["modelValue"])]),t.value?(c(),u("p",co,O(t.value),1)):V("",!0),uo,n(ee,{id:"submit",type:"submit",label:"Submit",class:"w-1/3",style:{"background-color":"#a4b5b9"},raised:"",as:"router-link",to:"/roofsystem",onClick:d[4]||(d[4]=v=>Z($,B.value)),onChange:r.generatePdf},null,8,["onChange"])],32),po,e("div",mo,[n(oe)])])])])])])])])],512)}}},fo=x(_o,[["__scopeId","data-v-6bb23867"]]),vo={id:"permitapp",ref:"permitapp",class:"flex flex-col md:flex-row gap-2",style:{"margin-left":"220px","background-color":"#eae7e2"}},go={class:"md:w-3/4"},bo={class:"container"},ho={__name:"PermitApplication",setup(s){o(1);const t=o(!1);U();const{accountUsers:i,getUser:f,addUser:g}=C();console.log(i._value[0]);const y=useaccountStore();return storeToRefs(y),N(),h(()=>{D.init({duration:800,easing:"ease-in-out",once:!1})}),A(()=>{if(i._value[0].name==="")return router.push("/");t.value=!0,contractor.value=i._value[0].name,email.value=i._value[0].email,phone.value=i._value[0].phone,licenseStatus.value=i._value[0].secondary_status,dba.value=i._value[0].dba,console.log(i._value[0].phone)}),h(()=>{t.value=!0}),o(),o([{name:"Roofing Permit",code:"RP"},{name:"Doors Permit",code:"DP"},{name:"Windows Permit",code:"WP"}]),(l,p)=>{const b=se;return c(),u("div",vo,[t.value?(c(),I(b,{key:0})):V("",!0),e("div",go,[e("div",bo,[n(Je),n(fo)])])],512)}}},Oo=x(ho,[["__scopeId","data-v-405f0ded"]]);export{Oo as default};
