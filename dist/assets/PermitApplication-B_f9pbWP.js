import{u as x,a as se,_ as te}from"./lastNumber-DYCEYTPA.js";import{C as ae,e,u as T,f as F,h as $,A as U,_ as A,ae as le,o as d,c as _,i as o,j as r,H as ne,a as I,p as re,q as ie,d as k,t as W,T as ce,K as q,L as O,ap as L,g as de,F as ue,x as pe}from"./index-DSTqCLlX.js";import{s as me}from"./index-CSnTWySz.js";import{s as _e}from"./index-C4OJGSsf.js";import{s as j}from"./index-DYYjDgrc.js";import{s as H}from"./index-6Oo3RZOB.js";import{s as fe}from"./index-B2sbBbSL.js";import{u as N}from"./use-createProcessnumber-BgRBRE__.js";import{u as C}from"./accountsStore-DC5JpqCv.js";import{u as M}from"./permitapp-BkQtAMqr.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as ve}from"./FileSaver-DilR7Cmj.js";import"./index-B7ysvvDG.js";import"./index-CSIYB6FM.js";import"./useAxios-DnBqunHC.js";import"./index-CAbWHwFS.js";import"./index-BcBfagWn.js";import"./index-DRrmE4oC.js";import"./index-4VtN0xnI.js";import"./index-gYXj8e2w.js";import"./processStore-Dx7Eq4BU.js";function Y(){const{resNum:s,lastNum:t}=x(),n=se();ae(n);const u=e(""),f=e(new Date().getFullYear()),v=e(6),a=e("me"),p=Array.from({length:10**v.value},(P,b)=>`${a.value}${f.value}${String(b).padStart(v.value,"0")}`),m=x();return console.log(m),u.value=p[0]+1,t.value!==0||(u.value=t.value+1),{pNum:u,lastNum:t,resNum:s,test:m}}e(1);e("");const ge=T(),z=e(!1);N();const{accountUsers:g}=C();console.log(g._value[0]);e("me");M();F({address:"",muni:"",license:"",folio:"",contractor:"",permit:"",processNumber:"",date:new Date});const he=e(""),be=e(""),G=e(""),ye=e(""),$e=e("");$(()=>{U.init({duration:800,easing:"ease-in-out",once:!0})});A(()=>{if(g._value[0].name==="")return ge.push("/");z.value=!0,he.value=g._value[0].name,be.value=g._value[0].email,G.value=g._value[0].phone,ye.value=g._value[0].secondary_status,$e.value=g._value[0].dba,console.log(g._value[0].phone)});e(!1);Y();x();G.value=g._value[0].phone;e(null);e("");e("");$(()=>{z.value=!0});e();e([{name:"Roofing Permit",code:"RP"},{name:"Doors Permit",code:"DP"},{name:"Windows Permit",code:"WP"}]);le(async()=>{});const we={},h=s=>(q("data-v-b7c3e20d"),s=s(),O(),s),Pe={id:"permitapp",ref:"permitapp",class:"flex flex-col md:flex-row gap-2",style:{"margin-left":"220px","background-color":"#eae7e2"}},Ve={class:"md:w-3/4"},ke={class:"row",style:{"background-color":"#eae7e2"}},Se={class:"card flex flex-col gap-1",style:{"background-color":"#eae7e2"}},xe=h(()=>o("div",{class:"font-semibold text-xl"},"Permit Application",-1)),De={class:"card flex justify-center",style:{"background-color":"#eae7e2"}},Ie={class:"flex flex-col mt-3 grow basis-0 gap-3",style:{"max-width":"300px"}},Ue=h(()=>o("label",{for:"license"},"License Status",-1)),Ae={class:"card flex flex-col gap-2",style:{"background-color":"#eae7e2"}},Ne={class:"flex flex-col grow basis-0 gap-2"},Ce=h(()=>o("label",{for:"addr"},"Property Address",-1)),Me={key:1,class:"pi pi-spin pi-spinner",style:{"font-size":"2rem"}},Re={class:"flex flex-col mt-3 grow basis-0 gap-3"},Be=h(()=>o("label",{for:"dba"},"DBA ",-1)),Ee={class:"flex flex-col mt-3 grow basis-0 gap-3"},Le=h(()=>o("label",{for:"contractor"},"Contractor Name",-1)),Te={class:"flex flex-col mt-3 grow basis-0 gap-3"},Fe=h(()=>o("label",{for:"phone"},"Cell Phone Number",-1)),We={class:"flex flex-col mt-3 grow basis-0 gap-3"},qe=h(()=>o("label",{for:"Email"},"Email",-1)),Oe={key:0},je=h(()=>o("br",null,null,-1)),He=h(()=>o("br",null,null,-1));function Ye(s,t,n,u,f,v){const a=fe,p=H,m=j,P=_e,b=me,V=ce;return d(),_("div",Pe,[o("div",Ve,[o("form",null,[o("div",ke,[o("div",Se,[xe,o("div",De,[r(a,{modelValue:s.selectedApplication,"onUpdate:modelValue":t[0]||(t[0]=l=>s.selectedApplication=l),options:s.type,showClear:"",optionLabel:"name",placeholder:"Select a permit type",class:"w-full md:w-56"},null,8,["modelValue","options"])]),o("div",Ie,[Ue,r(p,{id:"license",modelValue:s.licenseStatus,"onUpdate:modelValue":t[1]||(t[1]=l=>s.licenseStatus=l),type:"text",placeholder:"name"},null,8,["modelValue"])]),o("div",Ae,[o("form",{class:"w-3/4",onSubmit:t[7]||(t[7]=(...l)=>s.onSubmit&&s.onSubmit(...l))},[o("div",Ne,[Ce,ne(r(p,{id:"addr",type:"text",modelValue:s.address,"onUpdate:modelValue":t[2]||(t[2]=l=>s.address=l),placeholder:"address"},null,8,["modelValue"]),[[V,"Make sure that either street or avenue is spelled out, direction could be shorten (sw)",void 0,{top:!0}]]),s.loading?(d(),_("i",Me)):(d(),I(m,{key:0,id:"search",type:"button",label:"Search",class:"w-1/3",style:{"background-color":"#a4b5b9"},raised:"",icon:"pi pi-search-plus",loading:s.loading,onClick:s.load,onInput:s.createHtml},null,8,["loading","onClick","onInput"]))]),o("div",Re,[Be,r(p,{id:"dba",modelValue:s.dba,"onUpdate:modelValue":t[3]||(t[3]=l=>s.dba=l),type:"text",placeholder:"name"},null,8,["modelValue"])]),o("div",Ee,[Le,r(p,{id:"contractor",modelValue:s.contractor,"onUpdate:modelValue":t[4]||(t[4]=l=>s.contractor=l),type:"text",placeholder:"name"},null,8,["modelValue"])]),o("div",Te,[Fe,r(P,{modelValue:s.phone,"onUpdate:modelValue":t[5]||(t[5]=l=>s.phone=l),mask:"(999) 999-9999",placeholder:"(999) 999-9999",invalid:s.phone===""},null,8,["modelValue","invalid"])]),o("div",We,[qe,r(p,{modelValue:s.email,"onUpdate:modelValue":t[6]||(t[6]=l=>s.email=l),invalid:s.email===null,error:s.emailError},null,8,["modelValue","invalid","error"]),s.invalid?(d(),I(b,{key:0,severity:"error"},{default:re(()=>[ie("Email is required")]),_:1})):k("",!0)]),s.responseMessage?(d(),_("p",Oe,W(s.responseMessage),1)):k("",!0),je],32),He])])])])])],512)}const ze=D(we,[["render",Ye],["__scopeId","data-v-b7c3e20d"]]),Ge={key:0,class:"loading-indicator"},Ke={__name:"ScrollFunction",setup(s){const t=[{content:"This is content from Page 1"}],n=e([t[0]]),u=e(!1),f=e(0),v=()=>{f.value<t.length-1&&(u.value=!0,setTimeout(()=>{f.value++,n.value.push(t[f.value]),u.value=!1},1e3))},a=e(null),{stop:p}=L(a,([{isIntersecting:m}])=>{m&&v(),console.log(a)},{threshold:1});return console.log(L()),$(()=>{de(()=>{f.value===t.length-1&&p()})}),(m,P)=>(d(),_("div",{ref_key:"scrollContainer",ref:a,class:"infinite-container"},[(d(!0),_(ue,null,pe(n.value,(b,V)=>(d(),_("div",{key:V,class:"page-content"},[o("div",null,[r(ze)])]))),128)),u.value?(d(),_("div",Ge,"Loading more content...")):k("",!0)],512))}},Je=D(Ke,[["__scopeId","data-v-685d1615"]]),w=s=>(q("data-v-6bb23867"),s=s(),O(),s),Qe={class:"md:w-3/4"},Xe={class:"container"},Ze={"data-aos":"fade-up-left","data-aos-delay":"500"},eo={class:"row",style:{"background-color":"#eae7e2"}},oo={class:"card flex flex-col gap-1",style:{"background-color":"#eae7e2"}},so={class:"card flex flex-col gap-2",style:{"background-color":"#eae7e2"}},to={class:"flex flex-col mt-3 grow basis-0 gap-3"},ao=w(()=>o("label",{for:"muni"},"Municipality",-1)),lo={class:"flex flex-col mt-3 grow basis-0 gap-3"},no=w(()=>o("label",{for:"folio"},"Folio",-1)),ro={class:"flex flex-col mt-3 grow basis-0 gap-3"},io=w(()=>o("label",{for:"permit"},"Master Permit",-1)),co={class:"flex flex-col mt-3 grow basis-0 gap-3"},uo=w(()=>o("label",{for:"processnum"},"mEProcess Number",-1)),po={key:0},mo=w(()=>o("br",null,null,-1)),_o=w(()=>o("br",null,null,-1)),fo={"data-aos":"fade-up-right","data-aos-delay":"500"},vo={__name:"PermitApp2",setup(s){e(1);const t=e(""),n=T(),u=e(!1);e(),e(),e();const{procData:f,procReceive:v}=N(),{accountUsers:a,getUser:p,addUser:m}=C();console.log(a._value[0]),e("me");const P=M(),b=F({address:"",muni:"",license:"",folio:"",contractor:"",permit:"",processNumber:"",date:new Date}),V=e(""),l=e(""),R=e(""),K=e(""),J=e("");$(()=>{U.init({duration:800,easing:"ease-in-out",once:!0})}),A(()=>{if(a._value[0].name==="")return n.push("/");u.value=!0,V.value=a._value[0].name,l.value=a._value[0].email,R.value=a._value[0].phone,K.value=a._value[0].secondary_status,J.value=a._value[0].dba,console.log(a._value[0].phone)}),e(!1),Y(),x(),R.value=a._value[0].phone;const Q=e(null),B=e("");e(""),$(()=>{u.value=!0});const X=async()=>{v(b)},E=e();e([{name:"Roofing Permit",code:"RP"},{name:"Doors Permit",code:"DP"},{name:"Windows Permit",code:"WP"}]);function Z(i,c){i=b,c=E.value,i.length!==0&&(P.addSystem(i,c,B.value),console.log(i,c,B.value,"System added"))}return(i,c)=>{const S=H,ee=j,oe=ve;return d(),_("div",{id:"permitapp",ref_key:"permitapp",ref:Q,class:"flex flex-col md:flex-row gap-2",style:{"margin-left":"220px","background-color":"#eae7e2"}},[o("div",Qe,[o("div",Xe,[o("div",Ze,[o("form",null,[o("div",eo,[o("div",oo,[o("div",so,[o("form",{class:"w-3/4",onSubmit:X},[o("div",to,[ao,r(S,{id:"muni",modelValue:i.muni,"onUpdate:modelValue":c[0]||(c[0]=y=>i.muni=y),type:"text",placeholder:"municipality"},null,8,["modelValue"])]),o("div",lo,[no,r(S,{id:"folio",modelValue:i.folio,"onUpdate:modelValue":c[1]||(c[1]=y=>i.folio=y),type:"text",placeholder:"folio",onInput:i.updatemEProcess},null,8,["modelValue","onInput"])]),o("div",ro,[io,r(S,{id:"permit",modelValue:i.permit,"onUpdate:modelValue":c[2]||(c[2]=y=>i.permit=y),type:"text",placeholder:"20000000"},null,8,["modelValue"])]),o("div",co,[uo,r(S,{id:"processnum",modelValue:i.processNumber,"onUpdate:modelValue":c[3]||(c[3]=y=>i.processNumber=y),type:"text",placeholder:"process number"},null,8,["modelValue"])]),t.value?(d(),_("p",po,W(t.value),1)):k("",!0),mo,r(ee,{id:"submit",type:"submit",label:"Submit",class:"w-1/3",style:{"background-color":"#a4b5b9"},raised:"",as:"router-link",to:"/roofsystem",onClick:c[4]||(c[4]=y=>Z(b,E.value)),onChange:i.generatePdf},null,8,["onChange"])],32),_o,o("div",fo,[r(oe)])])])])])])])])],512)}}},go=D(vo,[["__scopeId","data-v-6bb23867"]]),ho={id:"permitapp",ref:"permitapp",class:"flex flex-col md:flex-row gap-2",style:{"margin-left":"220px","background-color":"#eae7e2"}},bo={class:"md:w-3/4"},yo={class:"container"},$o={__name:"PermitApplication",setup(s){e(1);const t=e(!1);N();const{accountUsers:n,getUser:u,addUser:f}=C();console.log(n._value[0]);const v=useaccountStore();return storeToRefs(v),M(),$(()=>{U.init({duration:800,easing:"ease-in-out",once:!1})}),A(()=>{if(n._value[0].name==="")return router.push("/");t.value=!0,contractor.value=n._value[0].name,email.value=n._value[0].email,phone.value=n._value[0].phone,licenseStatus.value=n._value[0].secondary_status,dba.value=n._value[0].dba,console.log(n._value[0].phone)}),$(()=>{t.value=!0}),e(),e([{name:"Roofing Permit",code:"RP"},{name:"Doors Permit",code:"DP"},{name:"Windows Permit",code:"WP"}]),(a,p)=>{const m=te;return d(),_("div",ho,[t.value?(d(),I(m,{key:0})):k("",!0),o("div",bo,[o("div",yo,[r(Je),r(go)])])],512)}}},Oo=D($o,[["__scopeId","data-v-405f0ded"]]);export{Oo as default};
