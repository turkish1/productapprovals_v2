import{E as Kl,P as Ql,b as ya,c as _a,D as Ll,r as l,a as Bl,a8 as Qa,as as sl,at as il,s as yl,e as Qe,o as _l,ao as eo,d as Ce,h as ol,f as cl,ap as pl,j as ul,F as to,a2 as ao,a1 as lo,am as Fl,t as Xl,V as oo,p as so,i as io}from"./index-CAQJexAo.js";import{s as no}from"./index-BSlGRxid.js";import{s as co}from"./index-BLm6sF23.js";import{s as po}from"./index-B9cLfB3r.js";import{u as uo}from"./pdfsignStore-DRtF9KH_.js";import{u as ho}from"./useAxios-COfx_Ge8.js";import{u as nl}from"./accountsStore-_oSZDxBr.js";import{u as Il}from"./generalpageStore-DYmJqeKe.js";import{u as dl}from"./permitapp-DJQmQbnd.js";import{u as La}from"./roofList-BgrT6wxA.js";import{T as vo}from"./Terminal-DlB4w_w3.js";import{E as hl}from"./jspdf.es.min-Dwo-Pjpt.js";import{a as Rl,u as xo}from"./dripEdgeStore-CIavr7sf.js";import{b as go,a as mo,c as To,u as ro}from"./systemfStore-BenyUhO7.js";import{b as Wo,a as fo,u as $o}from"./tilevalueStore-BjONr9u5.js";import{u as Ul,a as Yl}from"./tilesysfStore-Dy09kW_H.js";import{u as So,a as Vo}from"./dripEdgeMechTileStore-Dlpfbzyy.js";import{_ as bo}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-DzoDy9Z7.js";import"./reset-store-CwiU9XeE.js";var Do=function(N){var m=N.dt;return`
.p-skeleton {
    overflow: hidden;
    background: `.concat(m("skeleton.background"),`;
    border-radius: `).concat(m("skeleton.border.radius"),`;
}

.p-skeleton::after {
    content: "";
    animation: p-skeleton-animation 1.2s infinite;
    height: 100%;
    left: 0;
    position: absolute;
    right: 0;
    top: 0;
    transform: translateX(-100%);
    z-index: 1;
    background: linear-gradient( 90deg, rgba(255, 255, 255, 0), `).concat(m("skeleton.animation.background"),`, rgba(255, 255, 255, 0) );
}

.p-skeleton-circle {
    border-radius: 50%;
}

.p-skeleton-animation-none::after {
    animation: none;
}

@keyframes p-skeleton-animation {
    from {
        transform: translateX(-100%);
    }
    to {
        transform: translateX(100%);
    }
}
`)},Ao={root:{position:"relative"}},Mo={root:function(N){var m=N.props;return["p-skeleton p-component",{"p-skeleton-circle":m.shape==="circle","p-skeleton-animation-none":m.animation==="none"}]}},Fo=Kl.extend({name:"skeleton",theme:Do,classes:Mo,inlineStyles:Ao}),Xo={name:"BaseSkeleton",extends:Ql,props:{shape:{type:String,default:"rectangle"},size:{type:String,default:null},width:{type:String,default:"100%"},height:{type:String,default:"1rem"},borderRadius:{type:String,default:null},animation:{type:String,default:"wave"}},style:Fo,provide:function(){return{$pcSkeleton:this,$parentInstance:this}}},Gl={name:"Skeleton",extends:Xo,inheritAttrs:!1,computed:{containerStyle:function(){return this.size?{width:this.size,height:this.size,borderRadius:this.borderRadius}:{width:this.width,height:this.height,borderRadius:this.borderRadius}}}};function zo(de,N,m,B,r,v){return ya(),_a("div",Ll({class:de.cx("root"),style:[de.sx("root"),v.containerStyle],"aria-hidden":"true"},de.ptmi("root")),null,16)}Gl.render=zo;function Eo(de){const N=l(),m=l(de),B=l(""),r=Bl({status:"",message:"",isFinished:"",isLoading:""}),v=l(),x=l("");let F="https://681byz7j80.execute-api.us-east-1.amazonaws.com/sendmenumber/sendmenumber";const{execute:X,then:k,data:Le}=ho(F,{method:"GET"},{immediate:!1});function ye(e){console.log(e),N.value=e,console.log(m.value),B.value=N.value+"/",h()}const{confirmResponse:b,addResponse:C}=uo(),h=async()=>{try{const e=await X({params:{processnumber:B.value}}).then(s=>{v.value=Le.value,r.status=s.response.value.status,r.message=s.data.value,r.isFinished=s.isFinished,r.isLoading=s.isLoading,console.log(r.status)});return C(r),r}catch(e){console.log("Error, fectching data",e)}};return{error:x,getNumbers:ye,procNum:v,sentInput:m,fetchData:h,confirmResponse:b,results:r}}const wo={__name:"Generalpagepdf",setup(de){var C,h,e,s,Re,Ve,he;const{getUser:N}=nl();let m=l(!1);const B=dl();La();const r=Il(),v=l(((h=(C=B.$state.permitapp[0])==null?void 0:C.formdt)==null?void 0:h.address)||""),x=l(((s=(e=B.$state.permitapp[0])==null?void 0:e.formdt)==null?void 0:s.permit)||""),F=l(((Ve=(Re=B.$state.permitapp[0])==null?void 0:Re.formdt)==null?void 0:Ve.processNumber)||""),X=l(((he=N.value[0])==null?void 0:he.dba)||""),k=l(""),Le=l(r.$state.generalpdfinput);function ye(){Le.value.length!==1&&(m.value=!0)}Qa(()=>{ye(),b()}),sl(async()=>{await il(m).toBe(!0),b()});const b=()=>{var A,ve,R,E,u,Q,j,_e;if(r.$state.generalpdfinput.length===0)console.log("lenghth is   zero");else{const n=new hl({orientation:"portrait",unit:"mm",format:"a4",compress:!0});n.setGState(new n.GState({opacity:.9}));const et="Approved";n.setFontSize(24),n.setTextColor("black"),n.setFont("helvetica"),n.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const tt=new Image,at=new Image,lt=new Image;tt.src="/demo/images/officepaper.jpeg",at.src="/demo/images/logo.jpeg",lt.src="/demo/images/DragAndDrop.jpeg";const Dt=725,ot=n.getPageInfo(1),At=ot.pageContext.mediaBox.topRightX,Mt=ot.pageContext.mediaBox.topRightY;console.log(At);const g=l(0),st=l(0);var I=595.28-585.28,T=Mt-Dt;g.value=I,st.value=T,console.log(g.value,st.value),n.addImage(at,"JPEG",10,10,50,30),n.addImage(tt,"JPEG",0,0,210,297),n.setFontSize(12),n.setTextColor("green");var be=new Date,De=be.toLocaleDateString();n.text(et,10,270,{align:"left"});const Ft=n.getTextWidth(et);n.text("on: "+De,Ft+15,270),n.text(`${F.value}`,10,258,{align:"left"}),n.getTextWidth(`${F.value}`),console.log(v,x,F,X);const it=l(!1),Xt=l(!1),nt=l(!1),Ae=l(!1),Kt=l(!1);n.setFontSize(12);const Qt=()=>{n.setFontSize(10),n.setTextColor(0),n.text("2023 HVHZ  mEPermit General Information Page",70,20,{maxWidth:"170"}),n.line(10,41,195,41)};n.setTextColor(0),n.circle(185,38,2,"FD"),n.text("I agree",165,39),Qt(),n.setFontSize(12),n.setFontSize(10);const zt=[{category:"DBA",value:`${X.value}`},{category:"Job Address",value:`${v.value}`},{category:"meProcess Number",value:`${F.value}`},{category:"Master Permit",value:`${x.value}`}];let Et=10,wt=60,i=50;n.setFontSize(10),zt.forEach((J,ht)=>{const Fe=i+ht*10;n.text(J.category,Et,Fe),n.text(J.value,wt,Fe),n.getTextWidth(J.category);const fe=n.getTextWidth(J.value)*2;n.line(wt,Fe+2,wt+fe,Fe+2)}),n.setTextColor("black"),n.setFontSize(10);const D=100,Be=l(!1),Nt=l(!1);console.log(r.$state.generalpdfinput[0].generalpdfData.roofCheck[0]),r.$state.generalpdfinput[0].generalpdfData.roofCheck[0]==="reroof"?(Be.value=!0,console.log(Be.value)):Nt.value=!0,g.value=I+70,T=D-15,console.log(T),n.text("Re-Roof: ",g.value,T);const dt=T-3,Lt=Be.value===!0?n.rect(g.value+20,dt,4,4,"FD"):n.rect(g.value+20,dt,4,4);g.value=I+120,T=D-15,console.log(T),n.text("New Roof: ",g.value,T);const W=Nt.value===!0?n.rect(g.value+20,dt,4,4,"FD"):n.rect(g.value+20,dt,4,4);console.log(Lt,W);const yt="Total: ",ha="Low Slope: ",kt="Steep Slope: ";(ve=(A=B.$state.permitapp[0])==null?void 0:A.formdt)!=null&&ve.muni;const va=l(((E=(R=r.$state.generalpdfinput[0])==null?void 0:R.generalpdfData)==null?void 0:E.totalData)||""),Me=l(((Q=(u=r.$state.generalpdfinput[0])==null?void 0:u.generalpdfData)==null?void 0:Q.slopeData)||""),U=l(((_e=(j=r.$state.generalpdfinput[0])==null?void 0:j.generalpdfData)==null?void 0:_e.steepData)||"");console.log(r.$state.generalpdfinput[0].generalpdfData),g.value=I+25;const ct=n.getTextWidth(ha),Pt=n.getTextWidth(`${Me.value}`),xa=g.value+2;n.text(ha,xa,D);const f=ct+xa;n.text(`${Me.value}`,f,D),n.line(f,D,f+Pt,D),g.value=f+Pt;const Ct=n.getTextWidth(kt),_t=n.getTextWidth(`${U.value}`),Rt=g.value+2;n.text(kt,Rt,D);const Ie=Ct+Rt;n.text(`${U.value}`,Ie,D),n.line(Ie,D,Ie+_t,D),console.log(D,T),T=D+10,g.value=Ie+_t,console.log(g.value);const a=n.getTextWidth(yt),t=n.getTextWidth(`${va.value}`),Ue=g.value+2;n.text(yt,Ue,D);const ce=a+Ue;n.text(`${va.value}`,ce,D),n.line(ce,D,ce+t,D),g.value=ce+t,console.log(r.$state.generalpdfinput[0]),r.$state.generalpdfinput[0].generalpdfData.slopeChk===!0&&(Kt.value=!0,console.log("Slope Checked")),r.$state.generalpdfinput[0].generalpdfData.adtileChk===!0&&(it.value=!0),r.$state.generalpdfinput[0].generalpdfData.metalChk===!0&&(Xt.value=!0),r.$state.generalpdfinput[0].generalpdfData.mtileChk===!0&&(nt.value=!0),r.$state.generalpdfinput[0].generalpdfData.shingleChk===!0&&(Ae.value=!0,console.log("Shingle Checked")),g.value=I,console.log(g.value),n.text("Low Slope: ",I,T);const M=T-3,ea=Kt.value===!0?n.rect(g.value+20,M,4,4,"FD"):n.rect(g.value+20,M,4,4);console.log(Lt,W,ea),g.value=g.value+10,console.log(g.value);const Ye=g.value+18;console.log(g.value),n.text("Adhesive Set Tile: ",Ye,T);const L=it.value===!0?n.rect(Ye+30,M,4,4,"FD"):n.rect(Ye+30,M,4,4);console.log(Lt,W,L),console.log(g.value);const d=Ye+40;console.log(g.value),n.text("Metal Panel: ",d,T);const ga=Xt.value===!0?n.rect(d+25,M,4,4,"FD"):n.rect(d+25,M,4,4);g.value=d+10;const We=g.value+25;console.log(g.value),n.text("Shingle: ",We,T);const c=Ae.value===!0?n.rect(We+15,M,4,4,"FD"):n.rect(We+15,M,4,4);g.value=We;const y=We+35;console.log(g.value),n.text("Mechanical Fastened Tile: ",y,T);const Y=nt.value===!0?n.rect(y+45,M,4,4,"FD"):n.rect(y+45,M,4,4);console.log(Y,c,ga),T=T+10,n.addImage(lt,"JPEG",I+40,T,120,120);const pt="GeneralPage.pdf",Bt=n.output("blob");(async(J,ht)=>{const Fe=J,fe=Fe;console.log(fe);const vt=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${F.value}/${fe}`;try{const Xe=await fetch(vt,{method:"PUT",headers:{"Content-Type":Fe.type},body:ht});Xe.ok?(k.value=vt,alert("File uploaded successfully!")):alert(`Failed to upload file. Status: ${Xe.status}`)}catch(Xe){console.error("Error uploading file:",Xe),alert("An error occurred while uploading the file.")}})(pt,Bt)}};return(I,T)=>(ya(),_a("div"))}},No={__name:"LowSlopepdf",setup(de){var Ve,he,I,T,be,De,A,ve;const{getUser:N}=nl(),m=dl(),B=La(),r=Rl(),v=l(((Ve=B.$state.roofList[0])==null?void 0:Ve.dim2)||""),x=l(((I=(he=m.$state.permitapp[0])==null?void 0:he.formdt)==null?void 0:I.address)||""),F=l(((be=(T=m.$state.permitapp[0])==null?void 0:T.formdt)==null?void 0:be.muni)||""),X=l(((A=(De=m.$state.permitapp[0])==null?void 0:De.formdt)==null?void 0:A.processNumber)||""),k=xo(),{dripedgeStore:Le,dripinput:ye}=yl(k),b=l(((ve=N.value[0])==null?void 0:ve.dba)||""),C=l(r.$state.burpdfinput);let h=l(!1);const e=l("");function s(){C.value.length!==1&&(h.value=!0,Re())}Qa(()=>{s()}),sl(async()=>{await il(h).toBe(!0)});const Re=()=>{var _e,n,et,tt,at,lt,Dt,ot,At,Mt,g,st,Ft,it,Xt,nt,Ae,Kt;const R=Rl();if(R.$state.burpdfinput.length===0)console.log("lenghth is zero");else{const Qt=l((n=(_e=R.$state.burpdfinput[0])==null?void 0:_e.burpdfData)==null?void 0:n.height),zt=l((tt=(et=R.$state.burpdfinput[0])==null?void 0:et.burpdfData)==null?void 0:tt.slope),Et=l((lt=(at=R.$state.burpdfinput[0])==null?void 0:at.burpdfData)==null?void 0:lt.per),wt=l((ot=(Dt=R.$state.burpdfinput[0])==null?void 0:Dt.burpdfData)==null?void 0:ot.deckType),i=new hl({orientation:"portrait",unit:"mm",format:"a4",compress:!0});i.setGState(new i.GState({opacity:.9}));const o="Approved";i.setFontSize(24),i.setTextColor("black"),i.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const D=new Image,Be=new Image;D.src="/demo/images/officepaper.jpeg",Be.src="/demo/images/logo.jpeg";const Nt=725,dt=i.getPageInfo(1);dt.pageContext.mediaBox.topRightX;const Lt=dt.pageContext.mediaBox.topRightY,W=l(0),yt=l(0);var E=595.28-585.28,u=Lt-Nt;W.value=E,yt.value=u,console.log(W.value,yt.value),i.addImage(Be,"JPEG",10,2,50,30),i.addImage(D,"JPEG",0,0,210,297),i.setFontSize(14),i.setTextColor("green");var Q=new Date,j=Q.toLocaleDateString();i.text(o,10,270,{align:"left"});const ha=i.getTextWidth(o);i.text("on: "+j,ha+15,270),i.text(`${X.value}`,10,280,{align:"left"});const kt=i.getTextWidth(`${X.value}`);i.text(`${F.value}`,kt+15,280),i.setFontSize(12);const va=()=>{i.setFontSize(10),i.setTextColor(0),i.text('The low slope Built Up Roof (BUR) Assembly shall be installed in compliance with the HVHZ portions of Chapter 15 found in the 2023 Florida Building Code and the HVHZ Roofing Application Standards (RAS), RAS-111, RAS-117 and RAS-128. This roof assembly shall also comply with the listed requirements for a Class "A" fire rating including roof slope (incline), components and a fire barrier when required. The mePermit applicant agrees to comply with these installation requirements when obtaining this permit.',10,25,{maxWidth:"170"}),i.line(10,45,195,45)};i.setTextColor("black"),i.circle(185,40,2,"FD"),i.text("I agree",165,41),va(),i.setFontSize(12),i.setFontSize(10);const Me=[{category:"DBA",value:`${b.value}`},{category:"Municipality",value:`${F.value}`},{category:"Job Address",value:`${x.value}`},{category:"meProcess Number",value:`${X.value}`}];let U=10,ct=60,Pt=50;i.setFontSize(10),Me.forEach((Tt,na)=>{const S=Pt+na*10;i.text(Tt.category,U,S),i.text(Tt.value,ct,S),i.getTextWidth(Tt.category);const P=i.getTextWidth(Tt.value)*2;i.line(ct,S+2,ct+P,S+2)}),i.setFontSize(10);const f=100,Ct="Roof Area: ",_t="Decktype: ",Rt="Mean Roof Height: ",Ie="Roof Slope: ",a="Roof Perimeter: ",t="Type of Low Slope BUR Material: ",Ue="Type of Low Slope BUR System: ",ce="Attach P(1') Prime using P(1) Field Prescriptive Basesheet: ",M="Attach P(2) Perimeter using P(3) Corner Prescriptive: ",ea=l(((Mt=(At=R.$state.burpdfinput[1])==null?void 0:At.burpdfData)==null?void 0:Mt.burMaterial)||""),Ye=l(((st=(g=R.$state.burpdfinput[1])==null?void 0:g.burpdfData)==null?void 0:st.burSystem)||""),L=l(((it=(Ft=R.$state.burpdfinput[1])==null?void 0:Ft.burpdfData)==null?void 0:it.p1)||""),d=l(((nt=(Xt=R.$state.burpdfinput[1])==null?void 0:Xt.burpdfData)==null?void 0:nt.p3)||"");W.value=E;const ga=i.getTextWidth(Ct),We=i.getTextWidth(`${v.value}`),c=W.value;i.text(Ct,c,f);const y=ga+c;i.text(`${v.value}`,y,f),i.line(y,f,y+We,f),W.value=y+We;const Y=i.getTextWidth(Rt),pt=i.getTextWidth(`${Qt.value}`),Bt=W.value+2;i.text(Rt,Bt,f);const ut=Y+Bt;i.text(`${Qt.value}`,ut,f),i.line(ut,f,ut+pt,f),W.value=ut+pt;const J=i.getTextWidth(Ie),ht=i.getTextWidth(`${zt.value}`),Fe=W.value+2;i.text(Ie,Fe,f);const fe=J+Fe;i.text(`${zt.value}`,fe,f),i.line(fe,f,fe+ht,f),W.value=fe+ht;const vt=i.getTextWidth(a),Xe=i.getTextWidth(`${Et.value}`),Xa=W.value+2;i.text(a,Xa,f);const Ge=vt+Xa;i.text(`${Et.value}`,Ge,f),i.line(Ge,f,Ge+Xe,f),console.log(f,u),u=f+10,W.value=Ge+Xe;const ta=i.getTextWidth(_t),za=i.getTextWidth(`${wt.value}`),Ua=E;i.text(_t,Ua,u);const It=ta+Ua;i.text(`${wt.value}`,It,u),i.line(It,u,It+za,u),u=u+10,W.value=E;const ma="DripEdge Material: ",Ea="DripEdge Size: ";console.log(k,ye);const z=l(((Ae=k.$state.dripinput[0])==null?void 0:Ae.dripMaterial)||""),aa=l(((Kt=k.$state.dripinput[2])==null?void 0:Kt.dripMaterial)||"");console.log(z,aa);const Ta=i.getTextWidth(ma),xt=i.getTextWidth(`${z.value}`),wa=E;i.text(ma,wa,u);const Ut=Ta+wa;i.text(`${z.value}`,Ut,u),i.line(Ut,u,Ut+xt,u),u=u+10;const Na=i.getTextWidth(Ea),p=i.getTextWidth(`${aa.value}`),ra=E;i.text(Ea,ra,u);const gt=Na+ra;i.text(`${aa.value}`,gt,u),i.line(gt,u,gt+p,u),u=u+10;const Wa=i.getTextWidth(t),fa=i.getTextWidth(`${ea.value}`),Ya=W.value;i.text(t,Ya,u);const Oe=Wa+12;i.text(`${ea.value}`,Oe,u),i.line(Oe,u,Oe+fa,u),W.value=Oe+fa,u=u+10,W.value=E,i.setFontSize(9),i.getTextWidth(ce);const $a=i.getTextWidth(`${Ye.value}`),Sa=W.value;i.text(Ue,Sa,u),u=u+10,W.value=E;const la=W.value;i.text(`${Ye.value}`,la,u),i.line(la,u,la+$a,u),u=u+10,i.setFontSize(10),i.getTextWidth(ce);const Va=i.getTextWidth(`${L.value}`),ka=E;i.text(ce,ka,u),u=u+7;const mt=E;i.text(`${L.value}`,mt,u),i.line(mt,u,mt+Va+70,u),u=u+10,W.value=E;const ba=i.getTextWidth(`${d.value}`),oa=W.value;i.text(M,oa,u),u=u+7,W.value=E;const Yt=W.value;i.text(`${d.value}`,Yt,u),i.line(Yt,u,Yt+ba+70,u),u=u+10;const sa="LowSlope.pdf",ia=i.output("blob");(async(Tt,na)=>{const S=Tt,P=S;console.log(P);const $=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${X.value}/${P}`;try{const V=await fetch($,{method:"PUT",headers:{"Content-Type":S.type},body:na});V.ok?(e.value=$,alert("File uploaded successfully!")):alert(`Failed to upload file. Status: ${V.status}`)}catch(V){console.error("Error uploading file:",V),alert("An error occurred while uploading the file.")}})(sa,ia)}};return(R,E)=>(ya(),_a("div"))}},ko={__name:"Shingle",setup(de){const{getUser:N}=nl(),m=go(),B=dl(),r=La(),v=mo(),x=To(),F=La(),X=ro(),k=l(F.$state.roofList);let Le=l(!1);const ye=Qa(()=>{if(console.log(k),k.value.length===0)return"";for(let C=0;C<k.value.length;C++)k.value[C].item==="Asphalt Shingle"&&(console.log(k.value[C].item),Le.value=!0,b())});sl(async()=>{await il(ye).toBe(!0),console.log(ye)});const b=()=>{var Re,Ve,he,I,T,be,De,A,ve,R,E,u,Q,j,_e,n,et,tt,at,lt,Dt,ot,At,Mt,g,st;if(v.$state.inputshingle.length===0)console.log("lenghth is zero");else{console.log(m,x);let Ft=l(!1),it=l(!1);m.$state.systeminput.length!==0&&(it=!0,console.log(it)),x.$state.polyinput.length!==0&&(Ft=!0,console.log(Ft));const Xt=l(B.$state.permitapp[0].formdt.address),nt=l(B.$state.permitapp[0].formdt.muni),Ae=l(((Ve=(Re=B.$state.permitapp[0])==null?void 0:Re.formdt)==null?void 0:Ve.processNumber)||""),Kt=l(N.value[0].dba),Qt=l(((I=(he=v.$state.inputshingle[0])==null?void 0:he.shingleData)==null?void 0:I.height)||""),zt=l(((be=(T=v.$state.inputshingle[0])==null?void 0:T.shingleData)==null?void 0:be.slope)||""),Et=l(((A=(De=v.$state.inputshingle[0])==null?void 0:De.shingleData)==null?void 0:A.deckType)||""),wt=l(r.$state.roofList[0].dim1),i=l(""),o=new hl({orientation:"portrait",unit:"mm",format:"a4",compress:!0});o.setGState(new o.GState({opacity:.8}));const D="Approved";o.setFontSize(24),o.setTextColor(150,150,150),o.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const Be=new Image,Nt=new Image;Be.src="/demo/images/officepaper.jpeg",Nt.src="/demo/images/logo.jpeg",o.addImage(Nt,"JPEG",10,0,50,30),o.addImage(Be,"JPEG",0,0,210,297),o.setFontSize(20),o.setTextColor(190,190,190);var C=new Date,h=C.toLocaleDateString();o.text(D,10,270,{align:"left"});const dt=o.getTextWidth(D);o.text("on: "+h,dt+15,270),o.text(`${Ae.value}`,10,280,{align:"left"});const Lt=o.getTextWidth(`${Ae.value}`);o.text(`${nt.value}`,Lt+15,280),o.setFontSize(12);const W=()=>{o.setFontSize(12),o.setTextColor(0),o.text("The Shingle roof system and its components shall be installed in strict compliance  with the HVHZportions of Chapter 15 FBC, the HVHZ Roof Application Standards(RAS) 111 & 115, and the submitted MDC(NOA) Notice of Acceptance(s).The mePermit applicant agrees to comply with these installation requirements when obtaining this permit.",10,25,{maxWidth:"200"}),o.line(10,41,195,41)};o.setTextColor(0),o.circle(185,38,2,"FD"),o.text("I agree",165,39),W(),o.setFontSize(12),o.setFontSize(14);const yt=[{category:"DBA",value:`${Kt.value}`},{category:"Municipality",value:`${nt.value}`},{category:"Job Address",value:`${Xt.value}`},{category:"meProcess Number",value:`${Ae.value}`}];let ha=10,kt=60,va=50;o.setFontSize(12),yt.forEach((S,P)=>{const $=va+P*10;o.text(S.category,ha,$),o.text(S.value,kt,$),o.getTextWidth(S.category);const V=o.getTextWidth(S.value)*2;o.line(kt,$+2,kt+V,$+2)}),o.setFontSize(12);const Me=2,U=100;o.text("Roof Area:",10,U),o.text(`${wt.value}`,35,U),o.line(35,U+Me,45,U+Me),o.text("Mean Roof Height:",50,U);const ct=o.getTextWidth("Mean Roof Height:");o.text(`${Qt.value}`,U,U),o.line(90,U+Me,70+ct,U+Me),o.text("Roof Slope:",80+ct,U);const Pt=105+ct;o.text(`${zt.value}`,Pt,U);const xa=o.getTextWidth(`${zt.value}`)*2;o.line(Pt,U+Me,Pt+xa,U+Me);const f=108;o.text("Decktype:",10,f);const Ct=30+xa;o.text(`${Et.value}`,Ct,f);const _t=o.getTextWidth(`${Et.value}`)*2;o.line(Ct,f,Ct+_t,f);const Rt="Shingle NOA Number: ",Ie="Shingle Applicant: ",a="Shingle Material: ",t="Shingle Description: ",Ue="Fastened (UDL)NOA: ",ce="UDL NOA Applicant: ",M="Fastened UDL Material: ",ea="UDL Description: ",Ye="Perscriptive: ",L=179,d=725,ga=o.getPageInfo(1);console.log(ga),ga.pageContext.mediaBox.topRightX;const We=ga.pageContext.mediaBox.topRightY,c=l(0),y=l(0);var e=595.28-585.28,s=We-d;c.value=e,y.value=s,console.log(v.$state.inputshingle[0]);const Y=l(((R=(ve=v.$state.inputshingle[0])==null?void 0:ve.shingleData)==null?void 0:R.noa)||""),pt=l((u=(E=v.$state.inputshingle[0])==null?void 0:E.shingleData)==null?void 0:u.applicant),Bt=l((j=(Q=v.$state.inputshingle[0])==null?void 0:Q.shingleData)==null?void 0:j.material),ut=l((n=(_e=v.$state.inputshingle[0])==null?void 0:_e.shingleData)==null?void 0:n.description),J=l((tt=(et=v.$state.inputshingle[0])==null?void 0:et.shingleData)==null?void 0:tt.prescriptiveSelection),ht=o.getTextWidth(Ye),Fe=o.getTextWidth(`${J.value}`),fe=e;o.text(Ye,fe,s);const vt=ht+10;o.text(`${J.value}`,vt,s),o.line(vt,s,vt+Fe,s),s=s+10;const Xe="DripEdge Material: ",Xa="DripEdge Size: ";console.log(X);const Ge=l(((at=X.$state.dripinputshin[1])==null?void 0:at.dripShinMaterial)||""),ta=l(((lt=X.$state.dripinputshin[3])==null?void 0:lt.dripShinMaterial)||"");console.log(Ge,ta);const za=o.getTextWidth(Xe),Ua=o.getTextWidth(`${Ge.value}`),It=e;o.text(Xe,It,s);const ma=za+It;o.text(`${Ge.value}`,ma,s),o.line(ma,s,ma+Ua,s),s=s+10;const Ea=o.getTextWidth(Xa),z=o.getTextWidth(`${ta.value}`),aa=e;o.text(Xa,aa,s);const Ta=Ea+aa;o.text(`${ta.value}`,Ta,s),o.line(Ta,s,Ta+z,s),s=s+10;const xt=o.getTextWidth(Ie),wa=o.getTextWidth(`${pt.value}`),Ut=e;o.text(Ie,Ut,s);const Na=Ut+xt;o.text(`${pt.value}`,Na,s),o.line(Na,s,Na+wa,s),c.value=Na+wa;const p=o.getTextWidth(Rt),ra=o.getTextWidth(`${Y.value}`),gt=c.value+3;o.text(Rt,gt,s);const Wa=p+gt;o.text(`${Y.value}`,Wa,s),o.line(Wa,s,Wa+ra,s),c.value=Wa+ra,s=s+10;const fa=e,Ya=o.getTextWidth(a),Oe=o.getTextWidth(`${Bt.value}`);o.text(a,fa,s);const $a=fa+Ya;o.text(`${Bt.value}`,$a,s),o.line($a,s,$a+Oe,s),c.value=$a+Oe,c.value>L&&(s=s+10),console.log(c.value,L);const Sa=l(!1),la=o.getTextWidth(`${ut.value}`),Va=o.getTextWidth(t);c.value=$a+Oe+la+Va,c.value>L&&(s=s+10),Sa.value=!0,console.log(c.value,L);const ka=Sa.value===!0?e:c.value+2;o.text(t,ka,s);const mt=ka+Va;if(o.text(`${ut.value}`,mt,s),o.line(mt,s,mt+la,s),c.value=mt+la,s=s+10,console.log(x.$state.polyinput.length),x.$state.polyinput.length===0){const S="n/a",P="n/a",$="n/a",V="n/a",_=o.getTextWidth(Ue),pe=o.getTextWidth(S),ue=e;o.text(Ue,ue,s);const ee=ue+_;o.text(S,ee,s),o.line(ee,s,ee+pe,s),c.value=ee+pe,console.log(c.value);const O=o.getTextWidth(ce),Gt=o.getTextWidth(P),te=c.value+2;o.text(ce,te,s);const Z=te+O;o.text(P,Z,s),o.line(Z,s,Z+Gt,s),c.value=Z+Gt,console.log(c.value),c.value>L&&(s=s+10);const H=c.value+2,xe=o.getTextWidth(M),ae=o.getTextWidth($);o.text(M,H,s);const q=H+xe;o.text($,q,s),o.line(q,s,q+ae,s),c.value=q+ae,console.log(c.value),s=s+10,console.log(c.value);const le=o.getTextWidth(ea),$e=o.getTextWidth(V),ge=e,oe=ge+$e;console.log(oe),o.text(ea,ge,s),oe>L&&print(oe);const Se=ge+le;o.text(V,Se,s),o.line(Se,s,Se+$e,s),c.value=Se+$e,s=s+10}else{const S=l(x.$state.polyinput[0].polyData.noa),P=l(x.$state.polyinput[0].polyData.applicant),$=l(x.$state.polyinput[0].polyData.material),V=l(x.$state.polyinput[0].polyData.description);o.getTextWidth(Ue);const _=o.getTextWidth(`${S.value}`),pe=e;o.text(Ue,pe,s);const ue=ka-23;o.text(`${S.value}`,ue,s),o.line(ue,s,ue+_,s),c.value=ue+_;const ee=o.getTextWidth(ce),O=o.getTextWidth(`${P.value}`),Gt=c.value+2;o.text(ce,Gt,s);const te=Gt+ee;o.text(`${P.value}`,te,s),o.line(te,s,te+O,s),c.value=te+O,c.value>L&&(s=s+10);const Z=e,H=o.getTextWidth(M),xe=o.getTextWidth(`${$.value}`);o.text(M,Z,s);const ae=Z+H;o.text(`${$.value}`,ae,s),o.line(ae,s,ae+xe,s),c.value=ae+xe,c.value>L&&(s=s+10),console.log(c.value);const q=o.getTextWidth(ea),le=o.getTextWidth(`${V.value}`),$e=c.value+2,ge=$e+le;console.log(ge),o.text("UDL Description:",$e,s),ge>L&&print(ge);const oe=$e+q;o.text(`${V.value}`,oe,s),o.line(oe,s,oe+le,s),c.value=oe+le,console.log(c.value),s=s+10}const ba="Self Adhered NOA: ",oa="S/A NOA Applicant: ",Yt="S/A System F: ",sa="S/A Material: ",ia="S/A Description: ";if(console.log(m.$state.systeminput.length),m.$state.systeminput.length===0){const S="n/a",P="n/a",$="n/a",V="n/a",_="n/a",pe=o.getTextWidth(ba),ue=o.getTextWidth(S),ee=e;o.text(ba,ee,s);const O=ee+pe;o.text(S,O,s),o.line(O,s,O+ue,s),c.value=O+ue,console.log(c.value);const Gt=o.getTextWidth(oa),te=o.getTextWidth(P),Z=c.value+3;o.text(oa,Z,s);const H=Z+Gt;o.text(P,H,s),o.line(H,s,H+te,s),c.value=H+te,console.log(c.value);const xe=o.getTextWidth(Yt),ae=c.value+3;o.text(Yt,ae,s);const q=ae+xe;o.text($,q,s),o.line(q,s,q+xe,s),c.value=q+xe,console.log(c.value),s=s+10;const le=o.getTextWidth(sa),$e=o.getTextWidth(V),ge=e;o.text(sa,ge,s);const oe=ge+le;o.text(V,oe,s),o.line(oe,s,oe+$e,s),c.value=oe+$e,console.log(c.value);const Se=o.getTextWidth(ia),Pa=o.getTextWidth(_),Ga=c.value+3;o.text(ia,Ga,s);const Ca=Ga+Se;o.text(_,Ca,s),o.line(Ca,s,Ca+Pa,s),c.value=Ca+Pa,console.log(c.value)}else{console.log("Entered sbs line 509",m.$state);const S=l((ot=(Dt=m.$state.systeminput[0])==null?void 0:Dt.systemData)==null?void 0:ot.noa),P=l((Mt=(At=m.$state.systeminput[0])==null?void 0:At.systemData)==null?void 0:Mt.manufacturer),$=l(m.$state.systeminput.pdfSystemValue),V=l((st=(g=m.$state.systeminput[0])==null?void 0:g.systemData)==null?void 0:st.material),_=l(m.$state.systeminput.description),pe=o.getTextWidth(ba),ue=o.getTextWidth(`${S.value}`),ee=e;o.text(ba,ee,s);const O=ee+pe;o.text(`${S.value}`,O,s),o.line(O,s,O+ue,s),c.value=O+ue;const Gt=o.getTextWidth(oa),te=o.getTextWidth(`${P.value}`),Z=c.value+3;o.text(oa,Z,s);const H=Z+Gt;o.text(`${P.value}`,H,s),o.line(H,s,H+te,s),c.value=H+te,console.log(c.value);const xe=o.getTextWidth(Yt),ae=o.getTextWidth(`${$.value}`),q=c.value+3;o.text(Yt,q,s);const le=q+xe;o.text(`${$.value}`,le,s),o.line(le,s,le+ae,s),c.value=le+ae,s=s+10,console.log(c.value);const $e=o.getTextWidth(sa),ge=o.getTextWidth(`${V.value}`),oe=e;o.text(sa,oe,s);const Se=oe+$e;o.text(`${V.value}`,Se,s),o.line(Se,s,Se+ge,s),c.value=Se+ge,c.value>L&&(s=s+10),console.log(c.value);const Pa=o.getTextWidth(ia),Ga=o.getTextWidth(`${_.value}`),Ca=c.value+3;o.text(ia,Ca,s);const w=Ca+Pa;o.text(`${_.value}`,w,s),o.line(w,s,w+Ga,s),c.value=w+Ga,c.value>=L&&(s=s+10),console.log(c.value)}const Oa="Shingle.pdf",Tt=o.output("blob");(async(S,P)=>{const $=S;console.log($);const V=$;console.log(V);const _=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${Ae.value}/${V}`;try{const pe=await fetch(_,{method:"PUT",headers:{"Content-Type":$.type},body:P});pe.ok?(i.value=_,alert("File uploaded successfully!")):alert(`Failed to upload file. Status: ${pe.status}`)}catch(pe){console.error("Error uploading file:",pe),alert("An error occurred while uploading the file.")}})(Oa,Tt)}};return(C,h)=>(ya(),_a("div"))}},Po=Qe("h1",null,"Generate PDF with Columns and Underlined Text",-1),Co={__name:"TileAdhesive",setup(de){const N=Ul(),m=Yl(),{getUser:B}=nl(),{addSystemvalue:r,tileInputvalues:v,tileValues:x}=Wo(),F=dl(),X=La(),k=l(X.$state.roofList);fo();const Le=$o();let ye=l(!1);const b=Qa(()=>{if(k.value.length===0)return"";for(let h=0;h<k.value.length;h++)k.value[h].item==="Adhesive Set Tile"&&(console.log(k.value[h].item),ye.value=!0,C())});sl(async()=>{await il(b).toBe(!0)});const C=()=>{var Ve,he,I,T,be,De,A,ve,R,E,u,Q,j,_e,n,et,tt,at,lt,Dt,ot,At,Mt,g,st,Ft,it,Xt,nt,Ae,Kt,Qt,zt,Et,wt,i,o,D,Be,Nt,dt,Lt,W,yt,ha,kt,va,Me,U,ct,Pt,xa,f,Ct,_t,Rt,Ie,a;if(console.log(v[0].tileValues),v[0].length===0)console.log("lenghth is zero");else{const t=new hl({orientation:"portrait",unit:"mm",format:"a4",compress:!0});let Ue=l(!1),ce=l(!1);m.$state.tilesysEinput.length!==0&&(Ue=!0,console.log(Ue)),N.$state.tilefinput.length!==0&&(ce=!0,console.log(ce));const M=179,ea=725,Ye=t.getPageInfo(1);Ye.pageContext.mediaBox.topRightX;const L=Ye.pageContext.mediaBox.topRightY,d=l(0),ga=l(0);var h=595.28-585.28,e=L-ea;d.value=h,ga.value=e;const We=l(((he=(Ve=v[0])==null?void 0:Ve.tileValues)==null?void 0:he.height)||""),c=l(((T=(I=v[0])==null?void 0:I.tileValues)==null?void 0:T.slope)||""),y=l(((De=(be=v[0])==null?void 0:be.tileValues)==null?void 0:De.area)||""),Y=l(((ve=(A=v[0])==null?void 0:A.tileValues)==null?void 0:ve.Decktype)||""),pt=l(((E=(R=v[0])==null?void 0:R.tileValues)==null?void 0:E.perimeter)||""),Bt=l(((Q=(u=F.$state.permitapp[0])==null?void 0:u.formdt)==null?void 0:Q.address)||""),ut=l(((_e=(j=F.$state.permitapp[0])==null?void 0:j.formdt)==null?void 0:_e.muni)||""),J=l(((et=(n=F.$state.permitapp[0])==null?void 0:n.formdt)==null?void 0:et.processNumber)||""),ht=l(""),Fe=l(((tt=B.value[0])==null?void 0:tt.dba)||"");t.setGState(new t.GState({opacity:.8}));const fe="Approved";t.setFontSize(24),t.setTextColor(150,150,150),t.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const vt=new Image,Xe=new Image;vt.src="/demo/images/officepaper.jpeg",Xe.src="/demo/images/logo.jpeg",t.addImage(Xe,"JPEG",5,5,50,30),t.addImage(vt,"JPEG",0,0,210,297),t.setFontSize(18),t.setTextColor("green");var s=new Date,Re=s.toLocaleDateString();t.text(fe,10,270,{align:"left"});const Xa=t.getTextWidth(fe);t.text("on: "+Re,Xa+15,270),t.text(`${J.value}`,10,280,{align:"left"});const Ge=t.getTextWidth(`${J.value}`);t.text(`${ut.value}`,Ge+15,280),t.setFontSize(12);const ta=()=>{t.setFontSize(12),t.setTextColor(0),t.text("The tile roof system and its components shall be installed in strict compliance with the FBC 2023 HVHZ portions of Chapter 15, the HVHZ Tile Application Standards: RAS-119, RAS-120 & RAS-127 and the submitted MDC Notice of Acceptance(s). The mePermit applicant agrees to comply with these installation requirements when obtaining this permit.",10,20,{maxWidth:"200"}),t.line(10,41,195,41)};t.setTextColor(0),t.circle(185,38,2,"FD"),t.text("I agree",165,39),ta(),t.setFontSize(12),t.setFontSize(14);const za=[{category:"DBA",value:`${Fe.value}`},{category:"Municipality",value:`${ut.value}`},{category:"Job Address",value:`${Bt.value}`},{category:"meProcess Number",value:`${J.value}`}];let Ua=10,It=60,ma=50;t.setFontSize(12),za.forEach((ne,re)=>{const K=ma+re*10;t.text(ne.category,Ua,K),t.text(ne.value,It,K),t.getTextWidth(ne.category);const ke=t.getTextWidth(ne.value)*2;t.line(It,K+2,It+ke,K+2)}),t.setFontSize(12);const z=90,aa="Roof Area: ",Ta="DeckType: ",xt="Mean Roof Height: ",wa="Roof Slope: ",Ut="Roof Perimeter: ";d.value=h;const Na=t.getTextWidth(aa),p=t.getTextWidth(`${y.value}`),ra=d.value;t.text(aa,ra,z);const gt=Na+ra;t.text(`${y.value}`,gt,z),t.line(gt,z,gt+p,z),d.value=gt+p,console.log(e,z);const Wa=t.getTextWidth(xt),fa=t.getTextWidth(`${We.value}`),Ya=d.value+2;t.text(xt,Ya,z);const Oe=Wa+Ya;t.text(`${We.value}`,Oe,z),t.line(Oe,z,Oe+fa,z),d.value=Oe+fa;const $a=t.getTextWidth(wa),Sa=t.getTextWidth(`${c.value}`),la=d.value+2;t.text(wa,la,z);const Va=$a+la;t.text(`${c.value}`,Va,z),t.line(Va,z,Va+Sa,z),d.value=Va+Sa;const ka=t.getTextWidth(Ut),mt=t.getTextWidth(`${pt.value}`),ba=d.value+2;t.text(Ut,ba,z);const oa=ka+ba;t.text(`${pt.value}`,oa,z),t.line(oa,z,oa+mt,z),console.log(z,e),e=z+10;const Yt=t.getTextWidth(Ta),sa=t.getTextWidth(`${Y.value}`),ia=h;t.text(Ta,ia,e);const Oa=Yt+ia;t.text(`${Y.value}`,Oa,e),t.line(Oa,e,Oa+sa,e),e=e+10;const Tt="Tile NOA Number: ",na="Tile Applicant: ",S="Tile Material: ",P="Tile Description: ",$="Fastened Underlayment(UDL)NOA: ",V="UDL NOA Applicant: ",_="Fastened UDL Material: ",pe="Select System E: ",ue="Design psf: ",ee="Anchor Base Sheet: ",O="UDL Description: ",Gt="Prescriptive: ",te="DripEdge Material: ",Z="DripEdge Size: ",H=l(((at=Le.$state.dripinputadt[4])==null?void 0:at.dripTileMaterial)||""),xe=l(((lt=Le.$state.dripinputadt[6])==null?void 0:lt.dripTileMaterial)||""),ae=t.getTextWidth(te),q=t.getTextWidth(`${H.value}`),le=h;t.text(te,le,e);const $e=ae+le;t.text(`${H.value}`,$e,e),t.line($e,e,$e+q,e),e=e+10;const ge=t.getTextWidth(Z),oe=t.getTextWidth(`${xe.value}`),Se=h;t.text(Z,Se,e);const Pa=ge+Se;t.text(`${xe.value}`,Pa,e),t.line(Pa,e,Pa+oe,e),e=e+10;const Ga=l(((Dt=v[0])==null?void 0:Dt.tileValues.zoneone.mf1)||""),Ca=l(((At=(ot=v[0])==null?void 0:ot.tileValues)==null?void 0:At.zoneone.lambda1)||""),w=l(((g=(Mt=v[0])==null?void 0:Mt.tileValues)==null?void 0:g.zoneone.mg1)||""),se=l(((Ft=(st=v[0])==null?void 0:st.tileValues)==null?void 0:Ft.zoneone.mr1)||""),G=l(((Xt=(it=v[0])==null?void 0:it.tileValues)==null?void 0:Xt.zoneone.zone1)||""),me=l(((Ae=(nt=v[0])==null?void 0:nt.tileValues)==null?void 0:Ae.zonetwo.mf2)||""),He=l(((Qt=(Kt=v[0])==null?void 0:Kt.tilevalues)==null?void 0:Qt.zonetwo.lambda2)||""),ze=l(((Et=(zt=v[0])==null?void 0:zt.tileValues)==null?void 0:Et.zonetwo.mg2)||""),Ot=l(((i=(wt=v[0])==null?void 0:wt.tileValues)==null?void 0:i.zonetwo.mr2)||""),rt=l(((D=(o=v[0])==null?void 0:o.tileValues)==null?void 0:D.zonetwo.zone2)||""),Ee=l(((Nt=(Be=v[0])==null?void 0:Be.tileValues)==null?void 0:Nt.zonethree.mf3)||""),Ra=l(((Lt=(dt=v[0])==null?void 0:dt.tileValues)==null?void 0:Lt.zonethree.lambda3)||""),je=l(((yt=(W=v[0])==null?void 0:W.tileValues)==null?void 0:yt.zonethree.mg3)||""),Wt=l((kt=(ha=v[0])==null?void 0:ha.tileValues)==null?void 0:kt.zonethree.mr3),we=l(((Me=(va=v[0])==null?void 0:va.tileValues)==null?void 0:Me.zonethree.zone3)||""),Ht=l((ct=(U=v[0])==null?void 0:U.tileValues)==null?void 0:ct.prescriptiveSelection.selectedBasesheet),Je=t.getTextWidth(`${Ht.value.selectedBasesheet}`),Ne=h;t.text(Gt,Ne,e);const Ze=h;e=e+10,t.text(`${Ht.value}`,Ze,e),t.line(Ze,e,Ze+Je,e),e=e+10;const jt=l((xa=(Pt=v[0])==null?void 0:Pt.tileValues)==null?void 0:xa.noa),qe=l((Ct=(f=v[0])==null?void 0:f.tileValues)==null?void 0:Ct.applicant),ie=l((Rt=(_t=v[0])==null?void 0:_t.tileValues)==null?void 0:Rt.material),Te=l((a=(Ie=v[0])==null?void 0:Ie.tileValues)==null?void 0:a.description),Ha=t.getTextWidth(na),Da=t.getTextWidth(`${qe.value}`),Ke=h;t.text(na,Ke,e);const Aa=Ke+Ha;t.text(`${qe.value}`,Aa,e),t.line(Aa,e,Aa+Da,e),d.value=Aa+Da;const vl=t.getTextWidth(Tt),xl=t.getTextWidth(`${jt.value}`),Za=d.value+3;t.text(Tt,Za,e);const el=vl+Za;t.text(`${jt.value}`,el,e),t.line(el,e,el+xl,e),e=e+10,t.getTextWidth(`${ie.value}`);const gl=h,tl=t.getTextWidth(S),Al=t.getTextWidth(`${ie.value}`);t.text(S,gl,e);const qa=gl+tl;t.text(`${ie.value}`,qa,e),t.line(qa,e,qa+Al,e);const ml=t.getTextWidth(`${Te.value}`);d.value=qa+ml,d.value>M&&(e=e+10),console.log(d.value,M),e=e+10;const Ka=t.getTextWidth(`${Te.value}`),Ol=t.getTextWidth(P),Ml=h;t.text(P,Ml,e);const Tl=Ml+Ol;if(t.text(`${Te.value}`,Tl,e),t.line(Tl,e,Tl+Ka,e),d.value=Tl+Ka,console.log(m),e=e+10,m.$state.tilesysEinput.length===0){const ne="n/a",re="n/a",K="n/a",ke="n/a",Jt=t.getTextWidth($),ft=t.getTextWidth(ne),Ma=h;t.text($,Ma,e);const da=Ma+Jt;t.text(ne,da,e),t.line(da,e,da+ft,e),d.value=da+ft,console.log(d.value);const $t=t.getTextWidth(V),ja=t.getTextWidth(re),Zt=d.value+2;t.text(V,Zt,e);const ca=Zt+$t;t.text(re,ca,e),t.line(ca,e,ca+ja,e),d.value=ca+ja,console.log(d.value),d.value>M&&(e=e+10);const St=d.value+2,Ba=t.getTextWidth(_),qt=t.getTextWidth(K);t.text(_,St,e);const Vt=St+Ba;t.text(K,Vt,e),t.line(Vt,e,Vt+qt,e),d.value=Vt+qt,console.log(d.value),d.value>M&&(e=e+10),console.log(d.value);const Fa=t.getTextWidth(O),Ia=t.getTextWidth(ke),pa=h,Pe=pa+Ia;console.log(Pe),t.text(O,pa,e),Pe>M&&print(Pe);const bt=pa+Fa;t.text(ke,bt,e),t.line(bt,e,bt+Ia,e),d.value=bt+Ia,e=e+10}else{const ne=l(m.$state.tilesysEinput[0].systemDataE.noa),re=l(m.$state.tilesysEinput[0].systemDataE.manufacturer),K=l(m.$state.tilesysEinput[0].systemDataE.material),ke=l(m.$state.tilesysEinput[0].systemDataE.systemSelected),Jt=l(m.$state.tilesysEinput[0].systemDataE.dP),ft=l(m.$state.tilesysEinput[0].systemDataE.Anchor_Base),Ma=l(m.$state.tilesysEinput[0].systemDataE.tileCap),da=t.getTextWidth($),$t=t.getTextWidth(`${ne.value}`),ja=h;t.text($,ja,e);const Zt=Ml+da;t.text(`${ne.value}`,Zt,e),t.line(Zt,e,Zt+$t,e),d.value=Zt+$t;const ca=t.getTextWidth(V),St=t.getTextWidth(`${re.value}`),Ba=d.value+2;t.text(V,Ba,e);const qt=Ba+ca;t.text(`${re.value}`,qt,e),t.line(qt,e,qt+St,e);const Vt=t.getTextWidth(`${K.value}`);d.value=qt+Vt,e=e+10;const Fa=h,Ia=t.getTextWidth(_),pa=t.getTextWidth(`${K.value}`);t.text(_,Fa,e);const Pe=Fa+Ia;t.text(`${K.value}`,Pe,e),t.line(Pe,e,Pe+pa,e),d.value=Pe+pa,d.value>M&&(e=e+10);const bt=d.value+5,al=t.getTextWidth(pe),Ja=t.getTextWidth(`${ke.value}`);t.text(pe,bt,e);const ua=bt+al;t.text(`${ke.value}`,ua,e),t.line(ua,e,ua+Ja,e),d.value=ua+Ja,d.value>M&&(e=e+10);const ll=t.getTextWidth(ue),wl=t.getTextWidth(`${Jt.value}`),Nl=d.value+3;t.text(ue,Nl,e);const Vl=Nl+ll;t.text(`${Jt.value}`,Vl,e),t.line(Vl,e,Vl+wl,e),d.value=Vl+wl,console.log(d.value),e=e+10,t.getTextWidth(ee);const kl=t.getTextWidth(`${ft.value}`),Zl=h;t.text(ee,Zl,e),e=e+10;const bl=h;t.text(`${ft.value}`,bl,e),t.line(bl,e,bl+kl,e),d.value=bl+kl,e=e+10;const ql=t.getTextWidth(O),Pl=t.getTextWidth(`${Ma.value}`),Cl=h;t.text(O,Cl,e);const Dl=Cl+ql;t.text(`${Ma.value}`,Dl,e),t.line(Dl,e,Dl+Pl,e),d.value=Dl+Pl,console.log(d.value),e=e+10}const rl="Self Adhered NOA: ",Wl="S/A NOA Applicant: ",fl="S/A System F: ",$l="S/A Material: ",Sl="S/A Description: ";if(N.$state.tilefinput.length===0){const ne="n/a",re="n/a",K="n/a",ke="n/a",Jt="n/a",ft=t.getTextWidth(rl),Ma=t.getTextWidth(ne),da=h;t.text(rl,da,e);const $t=da+ft;t.text(ne,$t,e),t.line($t,e,$t+Ma,e),d.value=$t+Ma,console.log(d.value);const ja=t.getTextWidth(Wl),Zt=t.getTextWidth(re),ca=d.value+3;t.text(Wl,ca,e);const St=ca+ja;t.text(re,St,e),t.line(St,e,St+Zt,e),d.value=St+Zt,console.log(d.value);const Ba=t.getTextWidth(fl),qt=d.value+3;t.text(fl,qt,e);const Vt=qt+Ba;t.text(K,Vt,e),t.line(Vt,e,Vt+Ba,e),d.value=Vt+Ba,console.log(d.value),e=e+10;const Fa=t.getTextWidth($l),Ia=t.getTextWidth(ke),pa=h;t.text($l,pa,e);const Pe=pa+Fa;t.text(ke,Pe,e),t.line(Pe,e,Pe+Ia,e),d.value=Pe+Ia,console.log(d.value);const bt=t.getTextWidth(Sl),al=t.getTextWidth(Jt),Ja=d.value+3;t.text(Sl,Ja,e);const ua=Ja+bt;t.text(Jt,ua,e),t.line(ua,e,ua+al,e),d.value=ua+al,console.log(d.value)}else{console.log("Entered sbs line 455",N.$state);const ne=l(N.$state.tilefinput[0].systemData.noa),re=l(N.$state.tilefinput[0].systemData.manufacturer),K=l(N.$state.tilefinput[0].systemData.pressure),ke=l(N.$state.tilefinput[0].systemData.material),Jt=l(N.$state.tilefinput[0].systemData.description),ft=t.getTextWidth(rl),Ma=t.getTextWidth(`${ne.value}`),da=h;t.text(rl,da,e);const $t=da+ft;t.text(`${ne.value}`,$t,e),t.line($t,e,$t+Ma,e),d.value=$t+Ma;const ja=t.getTextWidth(Wl),Zt=t.getTextWidth(`${re.value}`),ca=d.value+3;t.text(Wl,ca,e);const St=ca+ja;t.text(`${re.value}`,St,e),t.line(St,e,St+Zt,e),d.value=St+Zt,console.log(d.value);const Ba=t.getTextWidth(fl),qt=t.getTextWidth(`${K.value}`),Vt=d.value+3;t.text(fl,Vt,e);const Fa=Vt+Ba;t.text(`${K.value}`,Fa,e),t.line(Fa,e,Fa+qt,e),d.value=Fa+qt,e=e+10;const Ia=t.getTextWidth($l),pa=t.getTextWidth(`${ke.value}`),Pe=h;t.text($l,Pe,e);const bt=Pe+Ia;t.text(`${ke.value}`,bt,e),t.line(bt,e,bt+pa,e),d.value=bt+pa,d.value>M&&(e=e+10);const al=t.getTextWidth(Sl),Ja=t.getTextWidth(`${Jt.value}`),ua=d.value+3;t.text(Sl,ua,e);const ll=ua+al;t.text(`${Jt.value}`,ll,e),t.line(ll,e,ll+Ja,e),d.value=ll+Ja,d.value>=M&&(e=e+10),console.log(d.value),e=e+10}e=e+10,t.setFont("times","normal");const zl=[["Zone 1:",`${G.value}`,"x λ",`${Ca.value}`,"- Mg:",`${w.value}`,"= Mr1:",`${se.value}`,"NOA Mf:",`${Ga.value}`],["Zone 2:",`${rt.value}`,"x λ",`${He.value}`,"- Mg:",`${ze.value}`,"= Mr2:",`${Ot.value}`,"NOA Mf:",`${me.value}`],["Zone 3:",`${we.value}`,"x λ",`${Ra.value}`,"- Mg:",`${je.value}`,"= Mr2:",`${Wt.value}`,"NOA Mf:",`${Ee.value}`]];console.log(zl);let Hl=h-5,El=e;zl.forEach(ne=>{let re=Hl;ne.forEach(K=>{t.text(String(K),re,El),re+=18}),El+=5});const jl="TileAdhesive.pdf",Jl=t.output("blob");(async(ne,re)=>{const K=ne,ke=K;console.log(ke);const Jt=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${J.value}/${ke}`;try{const ft=await fetch(Jt,{method:"PUT",headers:{"Content-Type":K.type},body:re});ft.ok?(ht.value=Jt,alert("File uploaded successfully!")):alert(`Failed to upload file. Status: ${ft.status}`)}catch(ft){console.error("Error uploading file:",ft),alert("An error occurred while uploading the file.")}})(jl,Jl)}};return(h,e)=>(ya(),_a("div",null,[Po,Qe("button",{onClick:C},"Download PDF")]))}},Ro={__name:"TileMechanical",setup(de){const{getUser:N}=nl();let m=l(!1);const B=dl(),r=La(),v=l(r.$state.roofList),{mechStore:x}=So(),F=Ul(),X=Yl(),k=Vo(),Le=Qa(()=>{if(v.value.length===0)return"";for(let b=0;b<v.value.length;b++)v.value[b].item==="Mechanical Fastened Tile"&&(console.log(v.value[b].item),m.value=!0,ye())});sl(async()=>{await il(Le).toBe(!0),console.log(Le)});const ye=()=>{var s,Re,Ve,he,I,T,be,De,A,ve,R,E,u,Q,j,_e,n,et,tt,at,lt,Dt,ot,At,Mt,g,st,Ft,it,Xt;if(x.tilemech.value.length===0)console.log("lenghth is   zero");else{let nt=l(!1),Ae=l(!1);X.$state.tilesysEinput.length!==0&&(nt=!0,console.log(nt)),F.$state.tilefinput.length!==0&&(Ae=!0,console.log(Ae)),console.log(x.tilemech.value[0]);const Kt=l(((s=x.tilemech.value[0])==null?void 0:s.height)||""),Qt=l(((Re=x.tilemech.value[0])==null?void 0:Re.slope)||""),zt=l(((Ve=x.tilemech.value[0])==null?void 0:Ve.deckType)||"");l(((he=x.tilemech.value[0])==null?void 0:he.perimeter)||"");const Et=l(((T=(I=x.tilemech.value[0])==null?void 0:I.prescriptiveSelection)==null?void 0:T.selectedBasesheet)||""),wt=l(((be=x.tilemech.value[0])==null?void 0:be.area)||""),i=l(((A=(De=B.$state.permitapp[0])==null?void 0:De.formdt)==null?void 0:A.address)||""),o=l(((R=(ve=B.$state.permitapp[0])==null?void 0:ve.formdt)==null?void 0:R.muni)||""),D=l(((u=(E=B.$state.permitapp[0])==null?void 0:E.formdt)==null?void 0:u.processNumber)||"");console.log(k.$state);const Be=l(((Q=k.$state.dripinputmecht[5])==null?void 0:Q.dripMTileMaterial)||""),Nt=l(((j=k.$state.dripinputmecht[7])==null?void 0:j.dripMTileMaterial)||"");console.log(x.tilemech),e=e+10;const dt=l(((_e=x.tilemech.value[0])==null?void 0:_e.mf1)||""),Lt=l(((n=x.tilemech.value[0])==null?void 0:n.lambda1)||""),W=l(((et=x.tilemech.value[0])==null?void 0:et.mg1)||""),yt=l(((tt=x.tilemech.value[0])==null?void 0:tt.mr1)||""),ha=l(((at=x.tilemech.value[0])==null?void 0:at.zoneone)||""),kt=l(((lt=x.tilemech.value[0])==null?void 0:lt.mf2)||""),va=l(((Dt=x.tilemech.value[0])==null?void 0:Dt.lambda2)||""),Me=l(((ot=x.tilemech.value[0])==null?void 0:ot.mg2)||""),U=l(((At=x.tilemech.value[0])==null?void 0:At.mr2)||""),ct=l(((Mt=x.tilemech.value[0])==null?void 0:Mt.zonetwo)||""),Pt=l(((g=x.tilemech.value[0])==null?void 0:g.mf3)||""),xa=l(((st=x.tilemech.value[0])==null?void 0:st.lambda3)||""),f=l(((Ft=x.tilemech.value[0])==null?void 0:Ft.mg3)||""),Ct=l((it=x.tilemech.value[0])==null?void 0:it.mr3),_t=l(((Xt=x.tilemech.value[0])==null?void 0:Xt.zonethree)||""),Rt=l(""),Ie=l(N.value[0].dba),a=new hl({orientation:"portrait",unit:"mm",format:"a4",compress:!0});a.setGState(new a.GState({opacity:.8}));const t="Approved";a.setFontSize(24),a.setTextColor(150,150,150),a.text("mEPermits",25,250,{angle:45,align:"left",baseline:"bottom",renderingMode:"fill"});const Ue=new Image,ce=new Image,M=new Image;Ue.src="/demo/images/officepaper.jpeg",ce.src="/demo/images/logo.jpeg",M.src="/demo/images/lambda.jpeg",a.addImage(ce,"JPEG",10,0,50,30),a.addImage(Ue,"JPEG",0,0,210,297),a.setFontSize(20),a.setTextColor(190,190,190);var b=new Date,C=b.toLocaleDateString();a.text(t,10,270,{align:"left"});const ea=a.getTextWidth(t);a.text("on: "+C,ea+15,270),a.text(`${D.value}`,10,280,{align:"left"});const Ye=a.getTextWidth(`${D.value}`);a.text(`${o.value}`,Ye+15,280),a.setFontSize(12);const L=()=>{a.setFontSize(12),a.setTextColor(0),a.text("The tile roof system and its components shall be installed in strict compliance with the FBC 2023 HVHZ portions of Chapter 15, the HVHZ Tile Application Standards: RAS-119, RAS-120 & RAS-127 and the submitted MDC Notice of Acceptance(s).",10,29,{maxWidth:"200"}),a.line(10,41,195,41)};a.setTextColor(0),a.circle(185,38,2,"FD"),a.text("I agree",165,39),L(),a.setFontSize(12),a.setFontSize(14);const d=[{category:"DBA",value:`${Ie.value}`},{category:"Municipality",value:`${o.value}`},{category:"Job Address",value:`${i.value}`},{category:"meProcess Number",value:`${D.value}`}];let ga=10,We=60,c=50;a.setFontSize(12),d.forEach((w,se)=>{const G=c+se*10;a.text(w.category,ga,G),a.text(w.value,We,G),a.getTextWidth(w.category);const me=a.getTextWidth(w.value)*2;a.line(We,G+2,We+me,G+2)}),a.setFontSize(12);const y=1,Y=100;a.text("Roof Area:",10,Y),a.text(`${wt.value}`,35,Y),a.line(35,Y+y,45,Y+y),a.text("Mean Roof Height:",50,Y);const pt=a.getTextWidth("Mean Roof Height:");a.text(`${Kt.value}`,Y,Y),a.line(90,Y+y,70+pt,Y+y),a.text("Roof Slope:",80+pt,Y);const Bt=105+pt;a.text(`${Qt.value}`,Bt,Y);const ut=a.getTextWidth(`${Qt.value}`)*2;a.line(Bt,Y+y,Bt+ut,Y+y);const J=108;a.text("Decktype:",10,J);const ht=30+ut;a.text(`${zt.value}`,ht,J);const Fe=a.getTextWidth(`${zt.value}`)*2;a.line(ht,J,ht+Fe,J);const fe="Tile NOA Number: ",vt="Tile Applicant: ",Xe="Tile Material: ",Xa="Tile Description: ",Ge="Fastened (UDL) NOA: ",ta="(UDL) NOA Applicant: ",za="Fastened (UDL) Material: ",Ua="Select System E: ",It="Design psf: ",ma="Anchor Base Sheet: ",Ea="(UDL) Description: ",z="Prescriptive: ",aa="DripEdge Material: ",Ta="DripEdge Size: ",xt=179,wa=725,Ut=a.getPageInfo(1);console.log(Ut),Ut.pageContext.mediaBox.topRightX;const Na=Ut.pageContext.mediaBox.topRightY,p=l(0),ra=l(0);var h=595.28-585.28,e=Na-wa;p.value=h,ra.value=e,console.log(p.value,ra.value);const gt=l(x.tilemech.value[0].noa),Wa=l(x.tilemech.value[0].manufacturer),fa=l(x.tilemech.value[0].material),Ya=l(x.tilemech.value[0].description);a.getTextWidth(z);const Oe=a.getTextWidth(`${Et.value}`),$a=h;a.text(z,$a,e);const Sa=h;e=e+10,a.text(`${Et.value}`,Sa,e),a.line(Sa,e,Sa+Oe,e),e=e+10;const la=a.getTextWidth(aa),Va=a.getTextWidth(`${Be.value}`),ka=h;a.text(aa,ka,e);const mt=la+ka;a.text(`${Be.value}`,mt,e),a.line(mt,e,mt+Va,e),e=e+10;const ba=a.getTextWidth(Ta),oa=a.getTextWidth(`${Nt.value}`),Yt=h;a.text(Ta,Yt,e);const sa=ba+Yt;a.text(`${Nt.value}`,sa,e),a.line(sa,e,sa+oa,e),e=e+10;const ia=a.getTextWidth(`${Wa.value}`),Oa=a.getTextWidth(vt),Tt=h;a.text(vt,Tt,e);const na=Tt+Oa;a.text(`${Wa.value}`,na,e),a.line(na,e,na+ia,e),p.value=na+ia;const S=a.getTextWidth(fe),P=a.getTextWidth(`${gt.value}`),$=p.value+S;a.text(fe,p.value+2,e),a.text(`${gt.value}`,$+2,e),a.line($,e,$+P,e),p.value=$+P;const V=e,_=a.getTextWidth(Xe),pe=a.getTextWidth(`${fa.value}`),ue=p.value+5;a.text(Xe,ue,V);const ee=ue+_;a.text(`${fa.value}`,ee,V),a.line(ee,V,ee+pe,V),p.value=ee+pe,e=e+10;const O=a.getTextWidth(`${Ya.value}`),Gt=a.getTextWidth(Xa),te=h;a.text(Xa,te,e);const Z=te+Gt;if(a.text(`${Ya.value}`,Z,e),a.line(Z,e,Z+O,e),p.value=Z+O,e=e+10,X.$state.tilesysEinput.length===0){const w="n/a",se="n/a",G="n/a",me="n/a",He=a.getTextWidth(Ge),ze=a.getTextWidth(w),Ot=h;a.text(Ge,Ot,e);const rt=Ot+He;a.text(w,rt,e),a.line(rt,e,rt+ze,e),p.value=rt+ze,console.log(p.value);const Ee=a.getTextWidth(ta),Ra=a.getTextWidth(se),je=p.value+2;a.text(ta,je,e);const Wt=je+Ee;a.text(se,Wt,e),a.line(Wt,e,Wt+Ra,e),p.value=Wt+Ra,console.log(p.value),p.value>xt&&(e=e+10);const we=p.value+2,Ht=a.getTextWidth(za),Je=a.getTextWidth(G);a.text(za,we,e);const Ne=we+Ht;a.text(G,Ne,e),a.line(Ne,e,Ne+Je,e),p.value=Ne+Je,console.log(p.value),p.value>xt&&(e=e+10),e=e+10;const Ze=a.getTextWidth(Ea),jt=a.getTextWidth(me),qe=h,ie=qe+jt;console.log(ie),a.text(Ea,qe,e),ie>xt&&print(ie);const Te=qe+Ze;a.text(me,Te,e),a.line(Te,e,Te+jt,e),p.value=Te+jt,e=e+10}else{const w=l(X.$state.tilesysEinput[0].systemDataE.noa),se=l(X.$state.tilesysEinput[0].systemDataE.manufacturer),G=l(X.$state.tilesysEinput[0].systemDataE.material),me=l(X.$state.tilesysEinput[0].systemDataE.systemSelected),He=l(X.$state.tilesysEinput[0].systemDataE.dP),ze=l(X.$state.tilesysEinput[0].systemDataE.Anchor_Base),Ot=l(X.$state.tilesysEinput[0].systemDataE.tileCap),rt=a.getTextWidth(Ge),Ee=a.getTextWidth(`${w.value}`),Ra=h;a.text(Ge,Ra,e);const je=te+rt;a.text(`${w.value}`,je,e),a.line(je,e,je+Ee,e),p.value=je+Ee;const Wt=a.getTextWidth(ta),we=a.getTextWidth(`${se.value}`),Ht=p.value+2;a.text(ta,Ht,e);const Je=Ht+Wt;a.text(`${se.value}`,Je,e),a.line(Je,e,Je+we,e);const Ne=a.getTextWidth(`${G.value}`);p.value=Je+Ne,e=e+10;const Ze=h,jt=a.getTextWidth(za),qe=a.getTextWidth(`${G.value}`);a.text(za,Ze,e);const ie=Ze+jt;a.text(`${G.value}`,ie,e),a.line(ie,e,ie+qe,e),p.value=ie+qe,p.value>xt&&(e=e+10);const Te=p.value+5,Ha=a.getTextWidth(Ua),Da=a.getTextWidth(`${me.value}`);a.text(Ua,Te,e);const Ke=Te+Ha;a.text(`${me.value}`,Ke,e),a.line(Ke,e,Ke+Da,e),p.value=Ke+Da,p.value>xt&&(e=e+10);const Aa=a.getTextWidth(It),vl=a.getTextWidth(`${He.value}`),xl=p.value+3;a.text(It,xl,e);const Za=xl+Aa;a.text(`${He.value}`,Za,e),a.line(Za,e,Za+vl,e),p.value=Za+vl,console.log(p.value),e=e+10,a.getTextWidth(ma);const el=a.getTextWidth(`${ze.value}`),gl=h;a.text(ma,gl,e),e=e+10;const tl=h;a.text(`${ze.value}`,tl,e),a.line(tl,e,tl+el,e),p.value=tl+el,e=e+10;const Al=a.getTextWidth(Ea),qa=a.getTextWidth(`${Ot.value}`),ml=h;a.text(Ea,ml,e);const Ka=ml+Al;a.text(`${Ot.value}`,Ka,e),a.line(Ka,e,Ka+qa,e),p.value=Ka+qa,console.log(p.value),e=e+10}const H="Self Adhered NOA: ",xe="S/A NOA Applicant: ",ae="S/A System F: ",q="S/A Material: ",le="S/A Description: ";if(F.$state.tilefinput.length===0){const w="n/a",se="n/a",G="n/a",me="n/a",He="n/a",ze=a.getTextWidth(H),Ot=a.getTextWidth(w),rt=h;a.text(H,rt,e);const Ee=rt+ze;a.text(w,Ee,e),a.line(Ee,e,Ee+Ot,e),p.value=Ee+Ot,console.log(p.value);const Ra=a.getTextWidth(xe),je=a.getTextWidth(se),Wt=p.value+3;a.text(xe,Wt,e);const we=Wt+Ra;a.text(se,we,e),a.line(we,e,we+je,e),p.value=we+je,console.log(p.value);const Ht=a.getTextWidth(ae),Je=p.value+3;a.text(ae,Je,e);const Ne=Je+Ht;a.text(G,Ne,e),a.line(Ne,e,Ne+Ht,e),p.value=Ne+Ht,console.log(p.value),e=e+10;const Ze=a.getTextWidth(q),jt=a.getTextWidth(me),qe=h;a.text(q,qe,e);const ie=qe+Ze;a.text(me,ie,e),a.line(ie,e,ie+jt,e),p.value=ie+jt,console.log(p.value);const Te=a.getTextWidth(le),Ha=a.getTextWidth(He),Da=p.value+3;a.text(le,Da,e);const Ke=Da+Te;a.text(He,Ke,e),a.line(Ke,e,Ke+Ha,e),p.value=Ke+Ha,console.log(p.value)}else{console.log("Entered sbs line 455",F.$state);const w=l(F.$state.tilefinput[0].systemData.noa),se=l(F.$state.tilefinput[0].systemData.manufacturer),G=l(F.$state.tilefinput[0].systemData.pressure),me=l(F.$state.tilefinput[0].systemData.material),He=l(F.$state.tilefinput[0].systemData.description),ze=a.getTextWidth(H),Ot=a.getTextWidth(`${w.value}`),rt=h;a.text(H,rt,e);const Ee=rt+ze;a.text(`${w.value}`,Ee,e),a.line(Ee,e,Ee+Ot,e),p.value=Ee+Ot;const Ra=a.getTextWidth(xe),je=a.getTextWidth(`${se.value}`),Wt=p.value+3;a.text(xe,Wt,e);const we=Wt+Ra;a.text(`${se.value}`,we,e),a.line(we,e,we+je,e),p.value=we+je,console.log(p.value);const Ht=a.getTextWidth(ae),Je=a.getTextWidth(`${G.value}`),Ne=p.value+3;a.text(ae,Ne,e);const Ze=Ne+Ht;a.text(`${G.value}`,Ze,e),a.line(Ze,e,Ze+Je,e),p.value=Ze+Je,e=e+10;const jt=a.getTextWidth(q),qe=a.getTextWidth(`${me.value}`),ie=h;a.text(q,ie,e);const Te=ie+jt;a.text(`${me.value}`,Te,e),a.line(Te,e,Te+qe,e),p.value=Te+qe,p.value>xt&&(e=e+10);const Ha=a.getTextWidth(le),Da=a.getTextWidth(`${He.value}`),Ke=p.value+3;a.text(le,Ke,e);const Aa=Ke+Ha;a.text(`${He.value}`,Aa,e),a.line(Aa,e,Aa+Da,e),p.value=Aa+Da,p.value>=xt&&(e=e+10),console.log(p.value)}e=e+10,a.addFileToVFS("./GreekSymbol.ttf","AAEAAA..."),a.addFont("GreekSymbol.ttf","GreekSymbol","normal");const ge=[["Zone 1:",`${ha.value}`,"x λ",`${Lt.value}`,"- Mg:",`${W.value}`,"= Mr1:",`${yt.value}`,"NOA Mf:",`${dt.value}`],["Zone 2:",`${ct.value}`,"x λ",`${va.value}`,"- Mg:",`${Me.value}`,"= Mr2:",`${U.value}`,"NOA Mf:",`${kt.value}`],["Zone 3:",`${_t.value}`,"x λ",`${xa.value}`,"- Mg:",`${f.value}`,"= Mr2:",`${Ct.value}`,"NOA Mf:",`${Pt.value}`]];console.log(ge);let oe=h-5,Se=e;ge.forEach(w=>{let se=oe;w.forEach(G=>{a.text(String(G),se,Se),se+=18}),Se+=5}),e=e+20,console.log(a.getFontList()),a.setFont("GreekSymbol"),a.text("αβγδεζηθλ   - Greek sample",10,e);const Pa="MechanicalTile.pdf",Ga=a.output("blob");(async(w,se)=>{const G=w,me=G;console.log(me);const He=`https://dsr-pdfupload.s3.us-east-1.amazonaws.com/${D.value}/${me}`;try{const ze=await fetch(He,{method:"PUT",headers:{"Content-Type":G.type},body:se});ze.ok?(Rt.value=He,alert("File uploaded successfully!")):alert(`Failed to upload file. Status: ${ze.status}`)}catch(ze){console.error("Error uploading file:",ze),alert("An error occurred while uploading the file.")}})(Pa,Ga)}};return(b,C)=>(ya(),_a("div"))}},Bo=de=>(so("data-v-d1f935d2"),de=de(),io(),de),Io={class:"card"},Uo=Bo(()=>Qe("p",null,"The roof systems you selected",-1)),Yo={class:"rounded border border-surface-200 dark:border-surface-700 p-6 bg-surface-0 dark:bg-surface-900"},Go={class:"flex mb-4",style:{"background-color":"#eae7e2"}},Oo={class:"flex justify-between mt-4"},Ho={__name:"Summarys",setup(de){var be,De;const{accountUsers:N}=nl(),m=l(!1),B=l(!1);let r=l(!1),v=l(!1),x=l(!1),F=l(!1),X=l(!1);const k=l("");l(""),l(""),l("");const Le=dl(),ye=La(),b=l(ye.$state.roofList),C=l(((De=(be=Le.$state.permitapp[0])==null?void 0:be.formdt)==null?void 0:De.processNumber)||""),h=Il(),e=l(h.$state.generalpdfinput),{getNumbers:s}=Eo(C.value);function Re(){N.value.forEach((A,ve)=>{k.value=A.dba})}const Ve=Qa(()=>{s(C.value),B.value=!0,setTimeout(()=>{B.value=!0},2e3),console.log(C.value)}),he=Bl({dim:"",item:""}),I=Qa(()=>{if(b.value.length===0)return"";for(let A=0;A<b.value.length;A++)b.value[A].item==="Asphalt Shingle"?(F.value=!0,he.dim=b.value[A].dim1,he.item=b.value[A].item):b.value[A].item==="Low Slope"?X.value=!0:b.value[A].item==="Adhesive Set Tile"?(console.log(b.value[A].item),v.value=!0):b.value[A].item==="Mechanical Fastened Tile"?(console.log(b.value[A].item),x.value=!0):e.value.length!==1&&(r.value=!0),console.log(b.value)});_l(()=>{Re()}),eo(Re,I,Ve);const T=l([{status:"RoofSystems",date:"15/10/2020 10:30",icon:"pi pi-cog",color:"#9C27B0",image:"/src/assets/img/roofing_tile.jpg"},{status:"Processing",date:"15/10/2020 14:00",icon:"pi pi-cog",color:"#673AB7"},{status:he.item,date:"15/10/2020 14:00",icon:"pi pi-cog",color:"#673AB7"}]);return sl(async()=>{await il(I).toBe(!0)}),(A,ve)=>{const R=po,E=co,u=no,Q=Gl;return ya(),_a(to,null,[Qe("div",Io,[Ce(u,{value:T.value,align:"alternate",class:"customized-timeline"},{marker:ol(j=>[Qe("span",{class:"flex w-8 h-8 items-center justify-center text-white rounded-full z-10 shadow-sm",style:ao({backgroundColor:j.item.color})},[Qe("i",{class:lo(j.item.icon)},null,2)],4)]),content:ol(j=>[Ce(E,{class:"mt-4"},{title:ol(()=>[Fl(Xl(j.item.status),1)]),subtitle:ol(()=>[Fl(Xl(j.item.date),1)]),content:ol(()=>[Uo,Ce(R,{label:"Read more",text:""})]),_:2},1024)]),_:1},8,["value"])]),cl(Ce(ul(oo),{color:"#784EA7",size:"100px",style:{"margin-top":"400px","margin-left":"850px"}},null,512),[[pl,m.value]]),Qe("div",Yo,[Qe("div",Go,[Qe("div",null,[Ce(Q,{width:"10rem",class:"mb-2"}),Ce(Q,{width:"5rem",class:"mb-2"}),Ce(Q,{height:"2rem",width:"30rem",modelValue:k.value,"onUpdate:modelValue":ve[0]||(ve[0]=j=>k.value=j)},{default:ol(()=>[Fl(Xl(A.db),1)]),_:1},8,["modelValue"])]),Ce(vo,{style:{"margin-left":"650px"}})]),Ce(Q,{width:"100%",height:"150px"}),Qe("div",Oo,[Ce(Q,{width:"4rem",height:"2rem"}),Ce(Q,{width:"4rem",height:"2rem"})]),cl(Qe("div",null,[Ce(ko)],512),[[pl,ul(F)]]),cl(Qe("div",null,[Ce(Co)],512),[[pl,ul(v)]]),cl(Qe("div",null,[Ce(Ro)],512),[[pl,ul(x)]]),cl(Qe("div",null,[Ce(No)],512),[[pl,ul(X)]]),Qe("div",null,[Ce(wo)])])],64)}}},hs=bo(Ho,[["__scopeId","data-v-d1f935d2"]]);export{hs as default};
