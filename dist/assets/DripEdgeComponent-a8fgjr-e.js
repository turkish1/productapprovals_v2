import{n as te,d as ae,e as V,f as ne,g as L,b as oe,h as Y,j as le,k as se,l as q}from"./index-DeAE8sWK.js";import{r as l,w as j,aq as W,a7 as re,ar as K,ac as ie,ab as ue,c as ce,d as de,e as Q,f as Z}from"./index-CGWU0e4R.js";import{s as pe}from"./index-CHrHoCY0.js";import{u as fe}from"./useAxios-BCFLjzd6.js";function ve(n){var e;const o=V(n);return(e=o==null?void 0:o.$el)!=null?e:o}const R=Y?window:void 0,me=Y?window.document:void 0;function he(...n){let e,o,r,i;if(typeof n[0]=="string"||Array.isArray(n[0])?([o,r,i]=n,e=R):[e,o,r,i]=n,!e)return te;Array.isArray(o)||(o=[o]),Array.isArray(r)||(r=[r]);const t=[],a=()=>{t.forEach(c=>c()),t.length=0},f=(c,u,d,v)=>(c.addEventListener(u,d,v),()=>c.removeEventListener(u,d,v)),h=j(()=>[ve(e),V(i)],([c,u])=>{if(a(),!c)return;const d=ae(u)?{...u}:u;t.push(...o.flatMap(v=>r.map(E=>f(c,v,E,d))))},{immediate:!0,flush:"post"}),y=()=>{h(),a()};return le(y),y}function xe(n={}){const{document:e=me}=n;if(!e)return l("visible");const o=l(e.visibilityState);return he(e,"visibilitychange",()=>{o.value=e.visibilityState}),o}const ye={json:"application/json",text:"text/plain"};function X(n){return n&&se(n,"immediate","refetch","initialData","timeout","beforeFetch","afterFetch","onFetchError","fetch","updateDataOnError")}function I(n){return typeof Headers<"u"&&n instanceof Headers?Object.fromEntries(n.entries()):n}function Oe(n,...e){var o;const r=typeof AbortController=="function";let i={},t={immediate:!0,refetch:!1,timeout:0,updateDataOnError:!1};const a={method:"GET",type:"text",payload:void 0};e.length>0&&(X(e[0])?t={...t,...e[0]}:i=e[0]),e.length>1&&X(e[1])&&(t={...t,...e[1]});const{fetch:f=(o=R)==null?void 0:o.fetch,initialData:h,timeout:y}=t,c=q(),u=q(),d=q(),v=l(!1),E=l(!1),k=l(!1),M=l(null),P=W(null),B=W(null),z=W(h||null),ee=re(()=>r&&E.value);let D,_;const H=()=>{r&&(D==null||D.abort(),D=new AbortController,D.signal.onabort=()=>k.value=!0,i={...i,signal:D.signal})},G=p=>{E.value=p,v.value=!p};y&&(_=ne(H,y,{immediate:!1}));let N=0;const A=async(p=!1)=>{var m,b;H(),G(!0),B.value=null,M.value=null,k.value=!1,N+=1;const O=N,w={method:a.method,headers:{}};if(a.payload){const s=I(w.headers),g=V(a.payload);!a.payloadType&&g&&Object.getPrototypeOf(g)===Object.prototype&&!(g instanceof FormData)&&(a.payloadType="json"),a.payloadType&&(s["Content-Type"]=(m=ye[a.payloadType])!=null?m:a.payloadType),w.body=a.payloadType==="json"?JSON.stringify(g):g}let $=!1;const S={url:V(n),options:{...w,...i},cancel:()=>{$=!0}};if(t.beforeFetch&&Object.assign(S,await t.beforeFetch(S)),$||!f)return G(!1),Promise.resolve(null);let T=null;return _&&_.start(),f(S.url,{...w,...S.options,headers:{...I(w.headers),...I((b=S.options)==null?void 0:b.headers)}}).then(async s=>{if(P.value=s,M.value=s.status,T=await s.clone()[a.type](),!s.ok)throw z.value=h||null,new Error(s.statusText);return t.afterFetch&&({data:T}=await t.afterFetch({data:T,response:s})),z.value=T,c.trigger(s),s}).catch(async s=>{let g=s.message||s.name;if(t.onFetchError&&({error:g,data:T}=await t.onFetchError({data:T,error:s,response:P.value})),B.value=g,t.updateDataOnError&&(z.value=T),u.trigger(s),p)throw s;return null}).finally(()=>{O===N&&G(!1),_&&_.stop(),d.trigger(null)})},J=L(t.refetch);j([J,L(n)],([p])=>p&&A(),{deep:!0});const C={isFinished:K(v),isFetching:K(E),statusCode:M,response:P,error:B,data:z,canAbort:ee,aborted:k,abort:H,execute:A,onFetchResponse:c.on,onFetchError:u.on,onFetchFinally:d.on,get:F("GET"),put:F("PUT"),post:F("POST"),delete:F("DELETE"),patch:F("PATCH"),head:F("HEAD"),options:F("OPTIONS"),json:x("json"),text:x("text"),blob:x("blob"),arrayBuffer:x("arrayBuffer"),formData:x("formData")};function F(p){return(m,b)=>{if(!E.value)return a.method=p,a.payload=m,a.payloadType=b,ie(a.payload)&&j([J,L(a.payload)],([O])=>O&&A(),{deep:!0}),{...C,then(O,w){return U().then(O,w)}}}}function U(){return new Promise((p,m)=>{oe(v).toBe(!0).then(()=>p(C)).catch(b=>m(b))})}function x(p){return()=>{if(!E.value)return a.type=p,{...C,then(m,b){return U().then(m,b)}}}}return t.immediate&&Promise.resolve().then(()=>A()),{...C,then(p,m){return U().then(p,m)}}}function be(){const n=l([]),e=l([]),o=l([]),r=l([]),i=l(!1),t=l(null),a=l([]);i.value=!0;let f="https://us-east-1.aws.data.mongodb-api.com/app/data-aquwo/endpoint/dripmaterials";const{execute:h,then:y,data:c}=fe(f,{method:"GET"},{immediate:!1});return o.value=h().then(u=>{e.value=c.value.result,n.value=c.value.result.Drip_Edge_Material_Type;for(let d=0;d<n.value.length;d++)a.value.push(n.value[d]);return r.value.push(e.value.size1,e.value.size2,e.value.size3,e.value.size4),n.value}),i.value=!1,{type:a,error:t,loading:i,hold:n,results:o,typeSize:r,holdSize:e}}const ge={class:"flex flex-col w-96 mb-4 gap-3",style:{"margin-left":"20px"}},Ee=Z("label",null,"Drip Edge Material",-1),Fe=Z("label",null,"Drip Edge Size",-1),Se={__name:"DripEdgeComponent",setup(n){const{type:e,holdSize:o}=be(),r=l(),i=l(),t=l(null),a=l(),f=l();function h(){a.value=e.value}j(a,f,e);function y(){t.value?(console.log(t.value),t.value.label==="Galvanized Steel Metal ¹"&&(f.value=o.value.size1),t.value.label==="Stainless Steel Metal ²"&&(f.value=o.value.size2),t.value.label==="Aluminum Metal ³"&&(f.value=o.value.size3),t.value.label==="Copper Metal ⁴"&&(f.value=o.value.size4)):console.log("The element not mounted yet")}return ue(h,y),(c,u)=>{const d=pe;return ce(),de("div",ge,[Ee,Q(d,{ref_key:"selectedValue",ref:t,modelValue:r.value,"onUpdate:modelValue":u[0]||(u[0]=v=>r.value=v),options:a.value,placeholder:"make selection",onClick:h},null,8,["modelValue","options"]),Fe,Q(d,{modelValue:i.value,"onUpdate:modelValue":u[1]||(u[1]=v=>i.value=v),options:f.value,placeholder:"make selection",onClick:y},null,8,["modelValue","options"])])}}};export{Se as _,xe as a,Oe as u};
