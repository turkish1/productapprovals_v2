import{s as Y}from"./index-O5cjT70t.js";import{r as s,o as U,c as k,d as z,f as u,t as y,y as J,p as W,j as Z,s as Q,a8 as $,ao as q,g as M,ap as C,e as I,k as ee,V as oe}from"./index-DLVljIbQ.js";import{u as ne,a as re}from"./use-downloadpdf-B6ipm6gK.js";import{u as se}from"./pdfsignStore-D2weheYt.js";import{u as ae}from"./permitapp-BQIlMC79.js";import{_ as te}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-B4upEKrT.js";import"./useAxios-1H-MRzil.js";var B="https://js.stripe.com/v3",ie=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,G="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",le=function(){for(var e=document.querySelectorAll('script[src^="'.concat(B,'"]')),o=0;o<e.length;o++){var r=e[o];if(ie.test(r.src))return r}return null},j=function(e){var o="",r=document.createElement("script");r.src="".concat(B).concat(o);var n=document.head||document.body;if(!n)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return n.appendChild(r),r},de=function(e,o){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"5.5.0",startTime:o})},_=null,f=null,b=null,ce=function(e){return function(){e(new Error("Failed to load Stripe.js"))}},ue=function(e,o){return function(){window.Stripe?e(window.Stripe):o(new Error("Stripe.js not available"))}},pe=function(e){return _!==null?_:(_=new Promise(function(o,r){if(typeof window>"u"||typeof document>"u"){o(null);return}if(window.Stripe&&e&&console.warn(G),window.Stripe){o(window.Stripe);return}try{var n=le();if(n&&e)console.warn(G);else if(!n)n=j(e);else if(n&&b!==null&&f!==null){var t;n.removeEventListener("load",b),n.removeEventListener("error",f),(t=n.parentNode)===null||t===void 0||t.removeChild(n),n=j(e)}b=ue(o,r),f=ce(r),n.addEventListener("load",b),n.addEventListener("error",f)}catch(p){r(p);return}}),_.catch(function(o){return _=null,Promise.reject(o)}))},me=function(e,o,r){if(e===null)return null;var n=e.apply(void 0,o);return de(n,r),n},v,V=!1,H=function(){return v||(v=pe(null).catch(function(e){return v=null,Promise.reject(e)}),v)};Promise.resolve().then(function(){return H()}).catch(function(a){V||console.warn(a)});var _e=function(){for(var e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];V=!0;var n=Date.now();return H().then(function(t){return me(t,o,n)})},ve={NVM_INC:"/home/dev-user/.nvm/versions/node/v16.20.2/include/node",NVM_RC_VERSION:"",XDG_SESSION_ID:"c2",SSH_AGENT_PID:"3449",HOSTNAME:"linux-server01",TERM_PROGRAM:"vscode",NODE:"/home/dev-user/.nvm/versions/node/v16.20.2/bin/node",IMSETTINGS_INTEGRATE_DESKTOP:"yes",XRDP_SOCKET_PATH:"/run/xrdp",INIT_CWD:"/home/dev-user/code/data/BorisProject/macbook-code/productapprovals_v2",NVM_CD_FLAGS:"",XDG_MENU_PREFIX:"gnome-",SHELL:"/bin/bash",TERM:"xterm-256color",VTE_VERSION:"5204",HISTSIZE:"2000",npm_config_metrics_registry:"https://registry.npmjs.org/",npm_config_global_prefix:"/home/dev-user/.nvm/versions/node/v16.20.2",GNOME_TERMINAL_SCREEN:"/org/gnome/Terminal/screen/03f270e9_8d18_465a_bb52_efcb305e340d",GJS_DEBUG_OUTPUT:"stderr",TERM_PROGRAM_VERSION:"1.85.2",ORIGINAL_XDG_CURRENT_DESKTOP:"GNOME",COLOR:"1",GJS_DEBUG_TOPICS:"JS ERROR;JS LOG",npm_config_noproxy:"",npm_config_local_prefix:"/home/dev-user/code/data/BorisProject/macbook-code/productapprovals_v2",IMSETTINGS_MODULE:"none",NVM_DIR:"/home/dev-user/.nvm",USER:"dev-user",LS_COLORS:"rs=0:di=38;5;27:ln=38;5;51:mh=44;38;5;15:pi=40;38;5;11:so=38;5;13:do=38;5;5:bd=48;5;232;38;5;11:cd=48;5;232;38;5;3:or=48;5;232;38;5;9:mi=05;48;5;232;38;5;15:su=48;5;196;38;5;15:sg=48;5;11;38;5;16:ca=48;5;196;38;5;226:tw=48;5;10;38;5;16:ow=48;5;10;38;5;21:st=48;5;21;38;5;15:ex=38;5;34:*.tar=38;5;9:*.tgz=38;5;9:*.arc=38;5;9:*.arj=38;5;9:*.taz=38;5;9:*.lha=38;5;9:*.lz4=38;5;9:*.lzh=38;5;9:*.lzma=38;5;9:*.tlz=38;5;9:*.txz=38;5;9:*.tzo=38;5;9:*.t7z=38;5;9:*.zip=38;5;9:*.z=38;5;9:*.Z=38;5;9:*.dz=38;5;9:*.gz=38;5;9:*.lrz=38;5;9:*.lz=38;5;9:*.lzo=38;5;9:*.xz=38;5;9:*.bz2=38;5;9:*.bz=38;5;9:*.tbz=38;5;9:*.tbz2=38;5;9:*.tz=38;5;9:*.deb=38;5;9:*.rpm=38;5;9:*.jar=38;5;9:*.war=38;5;9:*.ear=38;5;9:*.sar=38;5;9:*.rar=38;5;9:*.alz=38;5;9:*.ace=38;5;9:*.zoo=38;5;9:*.cpio=38;5;9:*.7z=38;5;9:*.rz=38;5;9:*.cab=38;5;9:*.jpg=38;5;13:*.jpeg=38;5;13:*.gif=38;5;13:*.bmp=38;5;13:*.pbm=38;5;13:*.pgm=38;5;13:*.ppm=38;5;13:*.tga=38;5;13:*.xbm=38;5;13:*.xpm=38;5;13:*.tif=38;5;13:*.tiff=38;5;13:*.png=38;5;13:*.svg=38;5;13:*.svgz=38;5;13:*.mng=38;5;13:*.pcx=38;5;13:*.mov=38;5;13:*.mpg=38;5;13:*.mpeg=38;5;13:*.m2v=38;5;13:*.mkv=38;5;13:*.webm=38;5;13:*.ogm=38;5;13:*.mp4=38;5;13:*.m4v=38;5;13:*.mp4v=38;5;13:*.vob=38;5;13:*.qt=38;5;13:*.nuv=38;5;13:*.wmv=38;5;13:*.asf=38;5;13:*.rm=38;5;13:*.rmvb=38;5;13:*.flc=38;5;13:*.avi=38;5;13:*.fli=38;5;13:*.flv=38;5;13:*.gl=38;5;13:*.dl=38;5;13:*.xcf=38;5;13:*.xwd=38;5;13:*.yuv=38;5;13:*.cgm=38;5;13:*.emf=38;5;13:*.axv=38;5;13:*.anx=38;5;13:*.ogv=38;5;13:*.ogx=38;5;13:*.aac=38;5;45:*.au=38;5;45:*.flac=38;5;45:*.mid=38;5;45:*.midi=38;5;45:*.mka=38;5;45:*.mp3=38;5;45:*.mpc=38;5;45:*.ogg=38;5;45:*.ra=38;5;45:*.wav=38;5;45:*.axa=38;5;45:*.oga=38;5;45:*.spx=38;5;45:*.xspf=38;5;45:",LD_LIBRARY_PATH:"/usr/local/openssl/lib:/opt/glibc:/usr/local/openssl/lib",GNOME_TERMINAL_SERVICE:":1.109",npm_config_globalconfig:"/home/dev-user/.nvm/versions/node/v16.20.2/etc/npmrc",SSH_AUTH_SOCK:"/run/user/1000/keyring/ssh",npm_execpath:"/home/dev-user/.nvm/versions/node/v16.20.2/lib/node_modules/npm/bin/npm-cli.js",SESSION_MANAGER:"local/unix:@/tmp/.ICE-unix/2539,unix/unix:/tmp/.ICE-unix/2539",XRDP_PULSE_SINK_SOCKET:"xrdp_chansrv_audio_out_socket_10",PULSE_SCRIPT:"/etc/xrdp/pulse/default.pa",GNOME_SHELL_SESSION_MODE:"classic",MAIL:"/var/spool/mail/dev-user",PATH:"/home/dev-user/code/data/BorisProject/macbook-code/productapprovals_v2/node_modules/.bin:/home/dev-user/code/data/BorisProject/macbook-code/node_modules/.bin:/home/dev-user/code/data/BorisProject/node_modules/.bin:/home/dev-user/code/data/node_modules/.bin:/home/dev-user/code/node_modules/.bin:/home/dev-user/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/home/dev-user/.nvm/versions/node/v16.20.2/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/dev-user/.cargo/bin:/opt/gcc-7.3/bin:/usr/local/openssl/bin:/opt/gcc-7.3/bin:/usr/local/openssl/bin:/opt/gcc-7.3/bin:/usr/local/openssl/bin:/opt/gcc-7.3/bin:/usr/local/openssl/bin:/opt/gcc-7.3/bin:/usr/local/openssl/bin:/usr/local/openssl/bin:/usr/local/openssl/bin:/home/dev-user/.nvm/versions/node/v16.20.2/bin:/usr/local/openssl/bin:/sbin:/bin:/usr/bin:/usr/local/bin:/usr/local/sbin:/usr/sbin:/var/lib/snapd/snap/bin:/usr/local/bin/npm:/home/dev-user/.local/bin:/home/dev-user/bin:/usr/local/bin/npm:/home/dev-user/.local/bin:/home/dev-user/bin:/usr/local/bin/npm:/home/dev-user/.local/bin:/home/dev-user/bin:/usr/local/bin/npm:/usr/local/bin/npm:/usr/local/bin/npm:/usr/local/bin/npm:/usr/local/bin/npm",npm_package_json:"/home/dev-user/code/data/BorisProject/macbook-code/productapprovals_v2/package.json",_:"/home/dev-user/code/data/BorisProject/macbook-code/productapprovals_v2/node_modules/.bin/vite",QT_IM_MODULE:"ibus",npm_config_userconfig:"/home/dev-user/.npmrc",npm_config_init_module:"/home/dev-user/.npm-init.js",npm_command:"run-script",PWD:"/home/dev-user/code/data/BorisProject/macbook-code/productapprovals_v2",XMODIFIERS:"@im=ibus",npm_lifecycle_event:"build",EDITOR:"vi",XRDP_SESSION:"1",npm_package_name:"vue",LANG:"en_US.UTF-8",XRDP_PULSE_SOURCE_SOCKET:"xrdp_chansrv_audio_in_socket_10",GDK_BACKEND:"x11",CHROME_DESKTOP:"code-url-handler.desktop",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"--ms-enable-electron-run-as-node",npm_config_node_gyp:"/home/dev-user/.nvm/versions/node/v16.20.2/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",npm_package_version:"4.1.0",HISTCONTROL:"ignoredups",SHLVL:"5",HOME:"/home/dev-user",VSCODE_GIT_ASKPASS_MAIN:"/usr/share/code/resources/app/extensions/git/dist/askpass-main.js",GNOME_DESKTOP_SESSION_ID:"this-is-deprecated",npm_config_cache:"/home/dev-user/.npm",LOGNAME:"dev-user",npm_lifecycle_script:"vite build",DBUS_SESSION_BUS_ADDRESS:"unix:abstract=/tmp/dbus-FFmFZlLA6F,guid=70638cdb235800d25581f001676d3d69",XDG_DATA_DIRS:"/home/dev-user/.local/share/flatpak/exports/share:/var/lib/flatpak/exports/share:/usr/local/share:/usr/share:/var/lib/snapd/desktop",VSCODE_GIT_IPC_HANDLE:"/run/user/1000/vscode-git-dc5f77c664.sock",UID:"1000",NVM_BIN:"/home/dev-user/.nvm/versions/node/v16.20.2/bin",LESSOPEN:"||/usr/bin/lesspipe.sh %s",npm_config_user_agent:"npm/8.19.4 node/v16.20.2 linux x64 workspaces/false",GIT_ASKPASS:"/usr/share/code/resources/app/extensions/git/dist/askpass.sh",VSCODE_GIT_ASKPASS_NODE:"/usr/share/code/code",DISPLAY:":10.0",XDG_RUNTIME_DIR:"/run/user/1000",XDG_CURRENT_DESKTOP:"GNOME",NO_AT_BRIDGE:"1",npm_node_execpath:"/home/dev-user/.nvm/versions/node/v16.20.2/bin/node",npm_config_prefix:"/home/dev-user/.nvm/versions/node/v16.20.2",COLORTERM:"truecolor",NODE_ENV:"production",VITE_MAPBOX_ACCESS_TOKEN:"pk.eyJ1IjoiYmxhbmNvaDIiLCJhIjoiY20wNm15dXFqMHZveDJucHc2Y3BmdXlmOCJ9.cLC8VvgPON2mC-UhdKSx-Q",STRIPE_PUBLISHABLE_KEY:"pk_test_51PDPFeE9FsYF7D6YfBrV7kYvnDYIAR5QQfaR8ba5TGnoQAbEQgSeY7DLwhOZafrl8ZXJOPsbZN9tYl5HMLlhkxB100cmCtoWo7",STRIPE_ACCOUNT:"acct_1PDPFeE9FsYF7D6Y",apiVersion:"2024-12-18.acacia",LOCALE:"United States",LAUNCH_EDITOR:"code"};const K=a=>(W("data-v-3b0a62ae"),a=a(),Z(),a),Se=K(()=>u("h1",null,"Pay with Stripe",-1)),fe=K(()=>u("div",{id:"card-element"},null,-1)),be=["disabled"],Ee={id:"card-errors",role:"alert"},he={__name:"Stripes",setup(a){const e=s(null),o=s(null),r=s(null),n=s(""),t=s(!1),p=ve.STRIPE_PUBLISHABLE_KEY;U(async()=>{e.value=await _e(p),o.value=e.value.elements();const c={base:{fontSize:"16px",color:"#32325d"}};r.value=o.value.create("card",{style:c}),r.value.mount("#card-element")});const E=async()=>{if(!e.value||!o.value)return;t.value=!0,n.value="";const{error:c,paymentMethod:l}=await e.value.createPaymentMethod({type:"card",card:r.value});if(c)n.value=c.message,t.value=!1;else{const m=await(await fetch("/payment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({paymentMethodId:l.id})})).json();console.log(m),m.error?n.value=m.error:alert("Payment successful!"),t.value=!1}};return(c,l)=>(k(),z("div",null,[Se,u("form",{id:"payment-form",onSubmit:J(E,["prevent"])},[fe,u("button",{type:"submit",disabled:t.value},y(t.value?"Processing...":"Pay Now"),9,be),u("div",Ee,y(n.value),1)],32)]))}},ge=te(he,[["__scopeId","data-v-3b0a62ae"]]),Ie={class:"card"},Oe={class:"flex flex-col w-1/3 gap-2 shadow-lg shadow-cyan-800",style:{"margin-left":"550px","margin-top":"440px"}},Ae={__name:"Paymentgateway",setup(a){var O,w,D,P;const e=ae(),o=s(((w=(O=e.$state.permitapp[0])==null?void 0:O.formdt)==null?void 0:w.processNumber)||"");s(null),s(null);const r=s(!1),n=s(!1);s(!1);const t=s(!1),p=s(!1),E=s(!1);s(!1),s(null),s({cardholderName:"",cardNumber:"",expiryDate:"",cvv:""}),s(!1),s(!1);const{getNumber:c}=ne(o.value),l=re();Q(l.$state),console.log((P=(D=l.$state.downloadinput[0])==null?void 0:D.downloadData)==null?void 0:P.download_url);const{resp:h}=se();U(()=>{var i,d;((d=(i=h.value)==null?void 0:i.status)==null?void 0:d.status)===200&&(p.value=!0,console.log(h.value.status.status))});const m=$(()=>{var i,d;c(),setTimeout(()=>{E.value=!0},1e3),console.log(o.value),console.log((d=(i=l.downloadinput[0])==null?void 0:i.downloadData)==null?void 0:d.message)});q(m,()=>{});const X=async()=>{var N,T,R,x,L,A;console.log((T=(N=l.downloadinput[0])==null?void 0:N.downloadData)==null?void 0:T.download_url);const i=(x=(R=l.downloadinput[0])==null?void 0:R.downloadData)==null?void 0:x.download_url;if(console.log(i),!i||i.length===0)return;console.log(i);const d=(A=(L=l.downloadinput[0])==null?void 0:L.downloadData)==null?void 0:A.download_url;if(!d)return;r.value=!0;const g=d,F="processnumber.zip",S=document.createElement("a");S.href=g,S.download=F,S.click(),S.remove(),t.value=!0};return(i,d)=>{const g=Y;return k(),z("div",Ie,[M(I(ee(oe),{color:"#784EA7",size:"100px",style:{"margin-top":"500px","margin-left":"850px"}},null,512),[[C,n.value]]),u("div",Oe,[M(I(g,{icon:"pi pi-arrow-circle-down",severity:"info","aria-label":"User",onClick:X},null,512),[[C,t.value]]),I(ge)])])}}};export{Ae as default};
