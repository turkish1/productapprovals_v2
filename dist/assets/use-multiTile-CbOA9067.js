import{s as U}from"./index-Bgj64u1s.js";import{E as y,e as o,f as _,Y as A,h as B,w as F,g as H,ad as G,ae as R,o as P,c as Y,j as N,k,aj as V,i as x,al as J,I as K,ak as Q,D as W}from"./index-BXVQQAID.js";import{u as q,a as X}from"./useAxios-DoinjYPw.js";import{u as Z}from"./useDripedge-BFnVCmOu.js";import{u as O}from"./roofList-By4QvNWG.js";import{a as ee}from"./use-tileMechanical-9G14Nm1_.js";const L=y("dripinputmecht",{state:()=>({dripinputmecht:[],dripMTileMaterial:[],selectDripEdges:"",selectDripEdgeSizes:"",id:2}),actions:{addMTileDrip(t){this.dripinputmecht.push({dripMTileData:t,completed:!1})},insertDripAtIndex(t,e){this.dripinputmecht.splice(t,0,{dripMTileMaterial:e,completed:!1})},resetState(){this.$reset(),this.dripMTileMaterial=[]}}});function le(){const t=o([]),e=o([]),a=o([]),l=o([]),r=o(!1),u=o(null),s=o([]);r.value=!0;const n=L();let i="https://us-east-1.aws.data.mongodb-api.com/app/data-aquwo/endpoint/dripmaterials";const{execute:c,then:g,data:m}=q(i,{method:"GET"},{immediate:!1});return a.value=c().then(M=>{e.value=m.value.result,t.value=m.value.result.Drip_Edge_Material_Type;for(let h=0;h<t.value.length;h++)s.value.push(t.value[h]);return l.value.push(e.value.size1,e.value.size2,e.value.size3,e.value.size4),n.addMTileDrip(e),n.addMTileDrip(l),t.value}),r.value=!1,{dtype:s,error:u,loading:r,hold:t,results:a,typeSize:l,holdSized:e}}const te="https://myfawca4fj3ewpg5usmepe6toi0wuvlw.lambda-url.us-east-1.on.aws/";function ae(){const t=o(null),e=o(!1);var a=o(null),l=o(null);o(null);var r=o(null),u=o(null);const{data:s,error:n,isFetching:i,execute:c}=q(te,{method:"POST",headers:{"Content-Type":"application/json"}},X,{immediate:!1});return{data:s,errors:t,isFetching:i,loading:e,postMech:async p=>{r.value=p,console.log(r.value),e.value=!0,n.value=null;try{return await c({data:r.value})}catch(d){n.value=d.massage,console.error("Lambda post failed:",d)}finally{e.value=!1}},postUDLMech:async p=>{a.value=p,console.log(a.value),e.value=!0,n.value=null;try{return await c({data:a.value})}catch(d){n.value=d.massage,console.error("Lambda post failed:",d)}finally{e.value=!1}},postSAMech:async p=>{l.value=p,console.log(l.value),e.value=!0,n.value=null;try{return await c({data:l.value})}catch(d){n.value=d.massage,console.error("Lambda post failed:",d)}finally{e.value=!1}},dripEdge:async p=>{u.value=p,e.value=!0,n.value=null;try{return await c({data:u.value})}catch(d){n.value=d.massage,console.error("Lambda post failed:",d)}finally{e.value=!1}}}}const se={class:"flex flex-col w-96 mb-4 gap-3",style:{"margin-left":"20px"}},oe=x("label",{style:{color:"#122620"}},"Drip Edge Material",-1),ne=x("label",{style:{color:"#122620"}},"Drip Edge Size",-1),fe={__name:"DripEdMechTile",emits:["update-valuesize"],setup(t,{emit:e}){const{selectDripEdge:a,selectDripEdgeSize:l,holdSize:r,type:u}=Z(),{dripEdge:s}=ae(),n=O(),i=o(n.$state.roofList),c=o();le();const g=o(null),m=L();console.log(m);const M=e;let h=o(!1);const p=o(),d=_({DripEdgeMaterial:"",DripEdgeSize:""}),$=A(()=>{if(console.log(i.value),i.value.length===0)return"";for(let v=0;v<i.value.length;v++)i.value[v].item==="Mechanical Fastened Tile"&&(console.log(i.value[v].item),h.value=!0,c.value=u.value);S()}),f=_({DripEdgeMaterial:"",DripEdgeSize:""}),j=()=>{M("update-valuesize",l.value),f.DripEdgeSize=l.value,console.log(l.value),z()};B(()=>{console.log("Select element:",g.value),D()});function S(){for(let v=0;v<i.value.length;v++)i.value[v].item==="Mechanical Fastened Tile"&&(console.log(i.value[v].item),I())}function D(v){c.value=u.value,console.log(c.value,v)}function z(){console.log(a.value),a.value?(a.value==="Galvanized Steel Metal ¹"&&(p.value=r.value.size1,S()),a.value==="Stainless Steel Metal ²"&&(p.value=r.value.size2,S()),a.value==="Aluminum Metal ³"&&(p.value=r.value.size3,S()),a.value==="Copper Metal ⁴"&&(p.value=r.value.size4,S())):console.log("The element not mounted yet"),d.DripEdgeMaterial=a.value,d.DripEdgeSize=l.value,C(),S()}function I(){console.log(a.value),f.DripEdgeMaterial=a.value,console.log(f.DripEdgeMaterial),E()}const E=async v=>{console.log(f.DripEdgeSize),h.value===!0&&(f.DripEdgeSize=l.value,console.log(f.DripEdgeSize),m.insertDripAtIndex(5,f.DripEdgeMaterial),m.insertDripAtIndex(7,f.DripEdgeSize),console.log(m))},C=async()=>{await s(d)};return F(c,p,u),H(D,z),G(async()=>{await R($).toBe(!0)}),(v,b)=>{const w=U;return P(),Y("div",se,[oe,N(w,{modelValue:k(a),"onUpdate:modelValue":[b[0]||(b[0]=T=>V(a)?a.value=T:null),D],options:c.value,placeholder:"make selection"},null,8,["modelValue","options"]),ne,N(w,{ref_key:"selectSizeRef",ref:g,modelValue:k(l),"onUpdate:modelValue":b[1]||(b[1]=T=>V(l)?l.value=T:null),options:p.value,onClick:z,onChange:j,onUpdateValuesize:E,placeholder:"make selection"},null,8,["modelValue","options"])])}}};function ge({min:t=null,max:e=null,required:a=!1}){const l=o(null);return{errorHeightMessage:l,validateTileHeight:u=>{const s=u;return t!==null&&s<t?(l.value=`Number must be greater than or equal to ${t}`,console.log("min",s,t),!1):e!==null&&s>=t&&s>=e?(l.value=`Number must be less than or equal to ${e}`,console.log("max",s),!1):a&&(u==null||u==="")?(l.value="This field is required",console.log("required"),!1):(l.value=null,!0)}}}function he({min:t=null,max:e=null,required:a=!1}){const l=o(null);return{errorMessage:l,validateNumber:u=>{const s=u;return t!==null&&s<t?(l.value=`Number must be greater than or equal to ${t}`,!1):e!==null&&s>=t&&s>=e?(l.value=`Number must be less than or equal to ${e}`,console.log("max",s),!1):a&&(u==null||u==="")?(l.value="This field is required",console.log("required"),!1):(l.value=null,!0)}}}function Me(){const t=_({}),e=o(!1),a=o(!1);function l(s){return Array.isArray(s==null?void 0:s.value)?s.value:s}function r(s,n){Object.keys(s).forEach(i=>delete s[i]),Object.assign(s,n||{})}return{mechTilenoa:t,isThiscomplextile:e,isCompTileValid:a,useNoaTick:async s=>{var M;await J();const n=l(s),i=n==null?void 0:n[0];if(!i)return;const c=((M=i==null?void 0:i.Table2)==null?void 0:M.content)==="multiple";e.value=!!c,a.value=!0;const g={noa:i.noa,manufacturer:i.manufacturer??i.applicant??"",material:i.material??""},m=c?{select_tile:i.select_tile??""}:{description:i.description??""};console.log(g,m),r(t,{...g,...m})}}}const ie=y("tileMechInput",{state:()=>({tileMechInput:[],id:0}),actions:{addSystem(t){this.tileMechInput.push({tileMechNumber:t,completed:!1})},reset(){this.$reset()}},getters:{tileMechNumber:t=>t.tileMechNumber}});function Se(){let t=o([]);const e=ie(),a=o(""),l=_({noa:[]});function r(){n()}const u=K(()=>"https://h3gd9z0q32.execute-api.us-east-1.amazonaws.com/mechanicaltileNumberstaging"),{data:s}=Q(u).get().json(),n=async()=>{l.noa=s,e.addSystem(l),console.log("System added")};return{tileMechNumber:l,fetchData:n,callNumber:r,errors:a,results:t,...W(l),mechanicalStore:e}}const ue=y("multiinput",{state:()=>({multiinput:[],id:0}),actions:{addData(t){this.multiinput.push({multiData:t,completed:!1})},reset(){this.$reset()}}});function _e(){const t=o([]),e=o([]),a=_({select_tile:[],tile_map:[],table2_map:[],table2:"",noa:"",manufacturer:"",material:"",description:"",Table2:[],Table3:[],expiration_date:"",resistance:[],selection:"",select_tile:[],tile_map:[],tileType:"",table2_map:[],two_ten_d_RS_Nails:null,one_number_eight_screw:null,two_number_eight_screw:null,savedfastener:"",fastenerValues:[],height:null,area:null,slope:null,perimeter:null,decktype:null}),l=ee(),r=ue();function u(s,n){e.value=s.value,t.value=n,console.log(s,n),console.log(l),console.log(e.value[0].Table2.content),a.table2=e.value[0].Table2.content,a.select_tile=e.value[0].select_tile,a.table2_map=e.value[0].table2_map,a.tile_map=e.value[0].tile_map,console.log(a),r.addData(a)}return{multiTiles:a,workoutData:u,multiStore:r,getmechStore:l}}export{fe as _,Se as a,ae as b,Me as c,he as d,ge as e,_e as u};
