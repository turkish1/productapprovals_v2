import{s as T}from"./index-FWdwJlxm.js";import{_ as y,x as w,r as f,o as _,c as v,e as s,d as c,h as A,R as m,f as C,S as B,p as D,i as U,l as z,V as E,t as S,z as N,F as j}from"./index-ClVCVApH.js";import{u as V}from"./permitapp-C3kU0YhX.js";import{u as I}from"./roofList-BkCHVLib.js";import{h as G,E as H}from"./jspdf.es.min-CRqcVXh4.js";import{s as M}from"./index-CDx9OiwC.js";import{s as $}from"./index-Da053VO0.js";import{a as O,i as W,u as q}from"./index-0MgxSHwE.js";import"./index-CYlbM-ND.js";import"./index-B8Y698i-.js";import"./index-CDLTVU5E.js";const R=p=>(D("data-v-9c2fa69b"),p=p(),U(),p),J={id:"roofselect",class:"card flex justify-center"},K={class:"refresh"},Q={class:"card flex flex-col gap-4"},X=R(()=>s("h1",{class:"h1"},"Select System",-1)),Y={class:"card flex flex-col gap-4"},Z=R(()=>s("h1",{class:"h1"},"Select System",-1)),ee={class:"add"},te={class:"grid grid-cols-1 gap-2 place-content-end h42 .."},oe={__name:"RoofSystemForm",setup(p){const l=I(),u=V(),{permitapp:h}=w(u);console.log(h._object);const a=f(""),i=f(""),r=f([{name:" "},{name:"Low Slope"},{name:"Asphalt Shingle"},{name:"Mechanical Fastened Tile"},{name:"Mortar/Adhesive Tile"},{name:"Metal Panel"}]),x=f([{name:" "},{name:"Low Slope"},{name:"Mechanical Fastened Tile"},{name:"Mortar/Adhesive Tile"},{name:"Metal Panel"}]);O(V,()=>{console.log(h)});function k(){l.$reset()}const b=()=>{const e=document.getElementById("roofselect");console.log(e),G(e).then(n=>{const o=n.toDataURL("image/png"),d=new H;d.addImage(o,"PNG",10,10,190,0);const g=d.output("blob");t(g)});const t=async n=>{try{const d=await(await window.showSaveFilePicker({suggestedName:"generated.pdf",types:[{description:"PDF file",accept:{"application/pdf":[".pdf"]}}]})).createWritable();await d.write(n),await d.close(),console.log("PDF saved successfully without popping download dialog!")}catch(o){console.error("Error saving file:",o)}}},F=f(!1);function L(e,t,n,o,d,g){e=i.value.name,e.length!==0&&(e==="Asphalt Shingle"&&(t=a.value,l.addSystemShingle(e,t)),e==="Low Slope"&&(n=a.value,l.addSystemBur(e,n)),e==="Mechanical Fastened Tile"&&(o=a.value,l.addSystemMTile(e,o)),e==="Mortar/Adhesive Tile"&&(d=a.value,l.addSystemATile(e,d)),e==="Metal Panel"&&(g=a.value,l.addSystemMetal(e,g)),P(),console.log(e,t,"System added"))}function P(){a.value="",i.value=""}return W(async()=>{await q(pdfcleared).changed(),b(),alert("Generated, PDF!")}),(e,t)=>{const n=T;return _(),v("div",J,[s("div",K,[c(m(M),{plain:"",text:""},{default:A(()=>[s("i",{class:"pi pi-refresh",style:{"font-size":"2rem",color:"grey","margin-left":"10px","margin-top":"90px"},onClick:k})]),_:1})]),s("form",null,[s("div",Q,[X,c(m($),{modelValue:i.value,"onUpdate:modelValue":t[0]||(t[0]=o=>i.value=o),options:r.value,optionLabel:"name",placeholder:"Select roof system",class:"w-full md:w-56"},null,8,["modelValue","options"]),c(n,{type:"text",modelValue:a.value,"onUpdate:modelValue":t[1]||(t[1]=o=>a.value=o)},null,8,["modelValue"])]),C(s("div",Y,[Z,c(m($),{modelValue:i.value,"onUpdate:modelValue":t[2]||(t[2]=o=>i.value=o),options:x.value,optionLabel:"name",placeholder:"Select roof system",class:"w-full md:w-56"},null,8,["modelValue","options"]),c(n,{type:"text",modelValue:a.value,"onUpdate:modelValue":t[3]||(t[3]=o=>a.value=o)},null,8,["modelValue"])],512),[[B,F.value]])]),s("div",ee,[s("i",{class:"pi pi-plus-circle",style:{"font-size":"2rem",color:"gray","margin-left":"1px","margin-top":"150px"},onClick:t[4]||(t[4]=o=>L(i.value,a.value))})]),s("div",te,[s("div",null,[c(m(M),{class:"button",label:"Submit",severity:"contrast",style:{"margin-left":"5px","margin-top":"100px"},as:"router-link",to:"/generalpage",onClick:b})])])])}}},se=y(oe,[["__scopeId","data-v-9c2fa69b"]]),ae={class:"content"},le=["onClick"],ne={__name:"RoofSystemList",setup(p){const l=I(),{roofList:u}=w(l),{toggleCompleted:h}=w(l);return(a,i)=>(_(!0),v(j,null,z(m(u),r=>(_(),v("div",{key:r.id,class:"item"},[s("div",ae,[s("span",{class:E({completed:r.completed})},S(r.item)+" : "+S(r.dim1)+" : "+S(r.dim2),3),s("span",{onClick:N(x=>m(h)(r.id),["stop"])},"âœ”",8,le)])]))),128))}},ce=y(ne,[["__scopeId","data-v-a1be5467"]]),ie={class:"container"},re={class:"roof-app"},de={__name:"RoofSystemApp",setup(p){return(l,u)=>(_(),v("div",ie,[s("div",re,[c(se),c(ce)])]))}},pe=y(de,[["__scopeId","data-v-ddfbf9b8"]]),me={class:"row"},ue={class:"card flex flex-col gap-4"},fe={__name:"RoofSystem",setup(p){return(l,u)=>(_(),v("div",me,[s("div",ue,[c(pe)])]))}},$e=y(fe,[["__scopeId","data-v-b011261b"]]);export{$e as default};
