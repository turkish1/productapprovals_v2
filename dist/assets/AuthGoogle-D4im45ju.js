import{s as C}from"./index-DYYjDgrc.js";import{u as w}from"./useGoogleAuth-BtE26UsU.js";import{u as A}from"./accountsStore-DC5JpqCv.js";import{u as B}from"./auth-QDOWtkMr.js";import{e as s,u as N,f as S,w as G,g as j,o as c,c as l,i as n,j as I,p as u,k as o,a as V,d as p,t as E,q as h}from"./index-DSTqCLlX.js";import{_ as U}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-CAbWHwFS.js";import"./useAxios-DnBqunHC.js";const z={class:"relative w-full h-screen overflow-hidden"},D={class:"relative z-10 flex items-center justify-center h-full bg-black/50"},R={style:{"border-radius":"20px",padding:"0.5rem"}},T={class:"container w-full py-15 px-8 sm:px-2"},q={key:0},O={__name:"AuthGoogle",setup(P){const{accessToken:a,idPayload:r,signIn:d,signOut:m,localData:f,acctUser:$}=w();s(!1);const g=N();s(!1);const _=s([]);B(),s([]);let v=S({dba:"",email:"",cphone:"",bphone:"",expiration_date:"",name:"",projects:[],secondary_status:"",license:"",phone:""});const{getUser:k}=A(),i=()=>{console.log(k),f.value.forEach((e,y)=>{for(let t=0;t<e.length;t++)a.value&&(_.value.push(e[t]),v.phone=e[t].bphone,x())})};function x(){b()}function b(){g.push("/permitapp")}return G(i,()=>{}),j(()=>{a.value&&fetch("https://gmail.googleapis.com/gmail/v1/users/me/messages?maxResults=4",{headers:{Authorization:`Bearer ${a.value}`}}).then(e=>e.json()).then(console.log)}),(e,y)=>{const t=C;return c(),l("div",z,[n("div",D,[n("div",R,[n("div",T,[n("div",null,[I(t,{id:"googleSignin",class:"p-button hover:bg-grey text-black",onClick:o(d),onChange:i,severity:"Contrast",raised:"",onInput:e.email},{default:u(()=>[h("Sign in with Google")]),_:1},8,["onClick","onInput"]),o(a)?(c(),V(t,{key:0,onClick:o(m)},{default:u(()=>[h("SignÂ out")]),_:1},8,["onClick"])):p("",!0)])]),o(r)?(c(),l("pre",q,E(o(r)),1)):p("",!0)])])])}}},X=U(O,[["__scopeId","data-v-b2111a04"]]);export{X as default};
